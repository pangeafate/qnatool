var M0=Object.defineProperty;var I0=(e,t,n)=>t in e?M0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var gi=(e,t,n)=>I0(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Qd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yd={exports:{}},Hs={},Kd={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ui=Symbol.for("react.element"),z0=Symbol.for("react.portal"),A0=Symbol.for("react.fragment"),R0=Symbol.for("react.strict_mode"),D0=Symbol.for("react.profiler"),L0=Symbol.for("react.provider"),O0=Symbol.for("react.context"),b0=Symbol.for("react.forward_ref"),F0=Symbol.for("react.suspense"),j0=Symbol.for("react.memo"),H0=Symbol.for("react.lazy"),bc=Symbol.iterator;function V0(e){return e===null||typeof e!="object"?null:(e=bc&&e[bc]||e["@@iterator"],typeof e=="function"?e:null)}var Xd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qd=Object.assign,Gd={};function Gr(e,t,n){this.props=e,this.context=t,this.refs=Gd,this.updater=n||Xd}Gr.prototype.isReactComponent={};Gr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zd(){}Zd.prototype=Gr.prototype;function Sa(e,t,n){this.props=e,this.context=t,this.refs=Gd,this.updater=n||Xd}var Ea=Sa.prototype=new Zd;Ea.constructor=Sa;qd(Ea,Gr.prototype);Ea.isPureReactComponent=!0;var Fc=Array.isArray,Jd=Object.prototype.hasOwnProperty,_a={current:null},ep={key:!0,ref:!0,__self:!0,__source:!0};function tp(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Jd.call(t,r)&&!ep.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var u=Array(l),a=0;a<l;a++)u[a]=arguments[a+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:ui,type:e,key:i,ref:s,props:o,_owner:_a.current}}function B0(e,t){return{$$typeof:ui,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Na(e){return typeof e=="object"&&e!==null&&e.$$typeof===ui}function U0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jc=/\/+/g;function wl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?U0(""+e.key):t.toString(36)}function Bi(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ui:case z0:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+wl(s,0):r,Fc(o)?(n="",e!=null&&(n=e.replace(jc,"$&/")+"/"),Bi(o,t,n,"",function(a){return a})):o!=null&&(Na(o)&&(o=B0(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(jc,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Fc(e))for(var l=0;l<e.length;l++){i=e[l];var u=r+wl(i,l);s+=Bi(i,t,n,u,o)}else if(u=V0(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=r+wl(i,l++),s+=Bi(i,t,n,u,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function yi(e,t,n){if(e==null)return e;var r=[],o=0;return Bi(e,r,"","",function(i){return t.call(n,i,o++)}),r}function W0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},Ui={transition:null},Q0={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:Ui,ReactCurrentOwner:_a};function np(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:yi,forEach:function(e,t,n){yi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return yi(e,function(){t++}),t},toArray:function(e){return yi(e,function(t){return t})||[]},only:function(e){if(!Na(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Gr;Z.Fragment=A0;Z.Profiler=D0;Z.PureComponent=Sa;Z.StrictMode=R0;Z.Suspense=F0;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q0;Z.act=np;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=qd({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=_a.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Jd.call(t,u)&&!ep.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var a=0;a<u;a++)l[a]=arguments[a+2];r.children=l}return{$$typeof:ui,type:e.type,key:o,ref:i,props:r,_owner:s}};Z.createContext=function(e){return e={$$typeof:O0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:L0,_context:e},e.Consumer=e};Z.createElement=tp;Z.createFactory=function(e){var t=tp.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:b0,render:e}};Z.isValidElement=Na;Z.lazy=function(e){return{$$typeof:H0,_payload:{_status:-1,_result:e},_init:W0}};Z.memo=function(e,t){return{$$typeof:j0,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Ui.transition;Ui.transition={};try{e()}finally{Ui.transition=t}};Z.unstable_act=np;Z.useCallback=function(e,t){return He.current.useCallback(e,t)};Z.useContext=function(e){return He.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return He.current.useDeferredValue(e)};Z.useEffect=function(e,t){return He.current.useEffect(e,t)};Z.useId=function(){return He.current.useId()};Z.useImperativeHandle=function(e,t,n){return He.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return He.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return He.current.useReducer(e,t,n)};Z.useRef=function(e){return He.current.useRef(e)};Z.useState=function(e){return He.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return He.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return He.current.useTransition()};Z.version="18.3.1";Kd.exports=Z;var I=Kd.exports;const D=Qd(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0=I,K0=Symbol.for("react.element"),X0=Symbol.for("react.fragment"),q0=Object.prototype.hasOwnProperty,G0=Y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z0={key:!0,ref:!0,__self:!0,__source:!0};function rp(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)q0.call(t,r)&&!Z0.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:K0,type:e,key:i,ref:s,props:o,_owner:G0.current}}Hs.Fragment=X0;Hs.jsx=rp;Hs.jsxs=rp;Yd.exports=Hs;var L=Yd.exports,su={},op={exports:{}},rt={},ip={exports:{}},sp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,E){var A=$.length;$.push(E);e:for(;0<A;){var F=A-1>>>1,R=$[F];if(0<o(R,E))$[F]=E,$[A]=R,A=F;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var E=$[0],A=$.pop();if(A!==E){$[0]=A;e:for(var F=0,R=$.length,B=R>>>1;F<B;){var U=2*(F+1)-1,Q=$[U],K=U+1,q=$[K];if(0>o(Q,A))K<R&&0>o(q,Q)?($[F]=q,$[K]=A,F=K):($[F]=Q,$[U]=A,F=U);else if(K<R&&0>o(q,A))$[F]=q,$[K]=A,F=K;else break e}}return E}function o($,E){var A=$.sortIndex-E.sortIndex;return A!==0?A:$.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],a=[],c=1,f=null,d=3,g=!1,x=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y($){for(var E=n(a);E!==null;){if(E.callback===null)r(a);else if(E.startTime<=$)r(a),E.sortIndex=E.expirationTime,t(u,E);else break;E=n(a)}}function h($){if(v=!1,y($),!x)if(n(u)!==null)x=!0,P(S);else{var E=n(a);E!==null&&b(h,E.startTime-$)}}function S($,E){x=!1,v&&(v=!1,p(C),C=-1),g=!0;var A=d;try{for(y(E),f=n(u);f!==null&&(!(f.expirationTime>E)||$&&!H());){var F=f.callback;if(typeof F=="function"){f.callback=null,d=f.priorityLevel;var R=F(f.expirationTime<=E);E=e.unstable_now(),typeof R=="function"?f.callback=R:f===n(u)&&r(u),y(E)}else r(u);f=n(u)}if(f!==null)var B=!0;else{var U=n(a);U!==null&&b(h,U.startTime-E),B=!1}return B}finally{f=null,d=A,g=!1}}var k=!1,N=null,C=-1,T=5,z=-1;function H(){return!(e.unstable_now()-z<T)}function j(){if(N!==null){var $=e.unstable_now();z=$;var E=!0;try{E=N(!0,$)}finally{E?O():(k=!1,N=null)}}else k=!1}var O;if(typeof m=="function")O=function(){m(j)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,M=w.port2;w.port1.onmessage=j,O=function(){M.postMessage(null)}}else O=function(){_(j,0)};function P($){N=$,k||(k=!0,O())}function b($,E){C=_(function(){$(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,P(S))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function($){switch(d){case 1:case 2:case 3:var E=3;break;default:E=d}var A=d;d=E;try{return $()}finally{d=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,E){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var A=d;d=$;try{return E()}finally{d=A}},e.unstable_scheduleCallback=function($,E,A){var F=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?F+A:F):A=F,$){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=A+R,$={id:c++,callback:E,priorityLevel:$,startTime:A,expirationTime:R,sortIndex:-1},A>F?($.sortIndex=A,t(a,$),n(u)===null&&$===n(a)&&(v?(p(C),C=-1):v=!0,b(h,A-F))):($.sortIndex=R,t(u,$),x||g||(x=!0,P(S))),$},e.unstable_shouldYield=H,e.unstable_wrapCallback=function($){var E=d;return function(){var A=d;d=E;try{return $.apply(this,arguments)}finally{d=A}}}})(sp);ip.exports=sp;var J0=ip.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey=I,Je=J0;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lp=new Set,Do={};function or(e,t){br(e,t),br(e+"Capture",t)}function br(e,t){for(Do[e]=t,e=0;e<t.length;e++)lp.add(t[e])}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lu=Object.prototype.hasOwnProperty,ty=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hc={},Vc={};function ny(e){return lu.call(Vc,e)?!0:lu.call(Hc,e)?!1:ty.test(e)?Vc[e]=!0:(Hc[e]=!0,!1)}function ry(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oy(e,t,n,r){if(t===null||typeof t>"u"||ry(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ve(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new Ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new Ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new Ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new Ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new Ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new Ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new Ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new Ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new Ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var ka=/[\-:]([a-z])/g;function Ca(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ka,Ca);$e[t]=new Ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ka,Ca);$e[t]=new Ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ka,Ca);$e[t]=new Ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new Ve(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new Ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pa(e,t,n,r){var o=$e.hasOwnProperty(t)?$e[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oy(t,n,o,r)&&(n=null),r||o===null?ny(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tn=ey.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vi=Symbol.for("react.element"),gr=Symbol.for("react.portal"),yr=Symbol.for("react.fragment"),Ta=Symbol.for("react.strict_mode"),uu=Symbol.for("react.profiler"),up=Symbol.for("react.provider"),ap=Symbol.for("react.context"),$a=Symbol.for("react.forward_ref"),au=Symbol.for("react.suspense"),cu=Symbol.for("react.suspense_list"),Ma=Symbol.for("react.memo"),on=Symbol.for("react.lazy"),cp=Symbol.for("react.offscreen"),Bc=Symbol.iterator;function oo(e){return e===null||typeof e!="object"?null:(e=Bc&&e[Bc]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,xl;function wo(e){if(xl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xl=t&&t[1]||""}return`
`+xl+e}var Sl=!1;function El(e,t){if(!e||Sl)return"";Sl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(a){var r=a}Reflect.construct(e,[],t)}else{try{t.call()}catch(a){r=a}e.call(t.prototype)}else{try{throw Error()}catch(a){r=a}e()}}catch(a){if(a&&r&&typeof a.stack=="string"){for(var o=a.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var u=`
`+o[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=l);break}}}finally{Sl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wo(e):""}function iy(e){switch(e.tag){case 5:return wo(e.type);case 16:return wo("Lazy");case 13:return wo("Suspense");case 19:return wo("SuspenseList");case 0:case 2:case 15:return e=El(e.type,!1),e;case 11:return e=El(e.type.render,!1),e;case 1:return e=El(e.type,!0),e;default:return""}}function fu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yr:return"Fragment";case gr:return"Portal";case uu:return"Profiler";case Ta:return"StrictMode";case au:return"Suspense";case cu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ap:return(e.displayName||"Context")+".Consumer";case up:return(e._context.displayName||"Context")+".Provider";case $a:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ma:return t=e.displayName||null,t!==null?t:fu(e.type)||"Memo";case on:t=e._payload,e=e._init;try{return fu(e(t))}catch{}}return null}function sy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fu(t);case 8:return t===Ta?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ly(e){var t=fp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wi(e){e._valueTracker||(e._valueTracker=ly(e))}function dp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function is(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function du(e,t){var n=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Uc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Nn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pp(e,t){t=t.checked,t!=null&&Pa(e,"checked",t,!1)}function pu(e,t){pp(e,t);var n=Nn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hu(e,t.type,n):t.hasOwnProperty("defaultValue")&&hu(e,t.type,Nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hu(e,t,n){(t!=="number"||is(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xo=Array.isArray;function $r(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Nn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function mu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(xo(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nn(n)}}function hp(e,t){var n=Nn(t.value),r=Nn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Yc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xi,gp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xi=xi||document.createElement("div"),xi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uy=["Webkit","ms","Moz","O"];Object.keys(Co).forEach(function(e){uy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Co[t]=Co[e]})});function yp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Co.hasOwnProperty(e)&&Co[e]?(""+t).trim():t+"px"}function vp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=yp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var ay=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yu(e,t){if(t){if(ay[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function vu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=null;function Ia(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xu=null,Mr=null,Ir=null;function Kc(e){if(e=fi(e)){if(typeof xu!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Qs(t),xu(e.stateNode,e.type,t))}}function wp(e){Mr?Ir?Ir.push(e):Ir=[e]:Mr=e}function xp(){if(Mr){var e=Mr,t=Ir;if(Ir=Mr=null,Kc(e),t)for(e=0;e<t.length;e++)Kc(t[e])}}function Sp(e,t){return e(t)}function Ep(){}var _l=!1;function _p(e,t,n){if(_l)return e(t,n);_l=!0;try{return Sp(e,t,n)}finally{_l=!1,(Mr!==null||Ir!==null)&&(Ep(),xp())}}function Oo(e,t){var n=e.stateNode;if(n===null)return null;var r=Qs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Su=!1;if(Xt)try{var io={};Object.defineProperty(io,"passive",{get:function(){Su=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Su=!1}function cy(e,t,n,r,o,i,s,l,u){var a=Array.prototype.slice.call(arguments,3);try{t.apply(n,a)}catch(c){this.onError(c)}}var Po=!1,ss=null,ls=!1,Eu=null,fy={onError:function(e){Po=!0,ss=e}};function dy(e,t,n,r,o,i,s,l,u){Po=!1,ss=null,cy.apply(fy,arguments)}function py(e,t,n,r,o,i,s,l,u){if(dy.apply(this,arguments),Po){if(Po){var a=ss;Po=!1,ss=null}else throw Error(V(198));ls||(ls=!0,Eu=a)}}function ir(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Np(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xc(e){if(ir(e)!==e)throw Error(V(188))}function hy(e){var t=e.alternate;if(!t){if(t=ir(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Xc(o),e;if(i===r)return Xc(o),t;i=i.sibling}throw Error(V(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function kp(e){return e=hy(e),e!==null?Cp(e):null}function Cp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cp(e);if(t!==null)return t;e=e.sibling}return null}var Pp=Je.unstable_scheduleCallback,qc=Je.unstable_cancelCallback,my=Je.unstable_shouldYield,gy=Je.unstable_requestPaint,ye=Je.unstable_now,yy=Je.unstable_getCurrentPriorityLevel,za=Je.unstable_ImmediatePriority,Tp=Je.unstable_UserBlockingPriority,us=Je.unstable_NormalPriority,vy=Je.unstable_LowPriority,$p=Je.unstable_IdlePriority,Vs=null,zt=null;function wy(e){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Vs,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Ey,xy=Math.log,Sy=Math.LN2;function Ey(e){return e>>>=0,e===0?32:31-(xy(e)/Sy|0)|0}var Si=64,Ei=4194304;function So(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function as(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=So(l):(i&=s,i!==0&&(r=So(i)))}else s=n&~o,s!==0?r=So(s):i!==0&&(r=So(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_t(t),o=1<<n,r|=e[n],t&=~o;return r}function _y(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ny(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-_t(i),l=1<<s,u=o[s];u===-1?(!(l&n)||l&r)&&(o[s]=_y(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function _u(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mp(){var e=Si;return Si<<=1,!(Si&4194240)&&(Si=64),e}function Nl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ai(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function ky(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-_t(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Aa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_t(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var re=0;function Ip(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zp,Ra,Ap,Rp,Dp,Nu=!1,_i=[],hn=null,mn=null,gn=null,bo=new Map,Fo=new Map,an=[],Cy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gc(e,t){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":bo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(t.pointerId)}}function so(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=fi(t),t!==null&&Ra(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Py(e,t,n,r,o){switch(t){case"focusin":return hn=so(hn,e,t,n,r,o),!0;case"dragenter":return mn=so(mn,e,t,n,r,o),!0;case"mouseover":return gn=so(gn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return bo.set(i,so(bo.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Fo.set(i,so(Fo.get(i)||null,e,t,n,r,o)),!0}return!1}function Lp(e){var t=Hn(e.target);if(t!==null){var n=ir(t);if(n!==null){if(t=n.tag,t===13){if(t=Np(n),t!==null){e.blockedOn=t,Dp(e.priority,function(){Ap(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ku(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);wu=r,n.target.dispatchEvent(r),wu=null}else return t=fi(n),t!==null&&Ra(t),e.blockedOn=n,!1;t.shift()}return!0}function Zc(e,t,n){Wi(e)&&n.delete(t)}function Ty(){Nu=!1,hn!==null&&Wi(hn)&&(hn=null),mn!==null&&Wi(mn)&&(mn=null),gn!==null&&Wi(gn)&&(gn=null),bo.forEach(Zc),Fo.forEach(Zc)}function lo(e,t){e.blockedOn===t&&(e.blockedOn=null,Nu||(Nu=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,Ty)))}function jo(e){function t(o){return lo(o,e)}if(0<_i.length){lo(_i[0],e);for(var n=1;n<_i.length;n++){var r=_i[n];r.blockedOn===e&&(r.blockedOn=null)}}for(hn!==null&&lo(hn,e),mn!==null&&lo(mn,e),gn!==null&&lo(gn,e),bo.forEach(t),Fo.forEach(t),n=0;n<an.length;n++)r=an[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<an.length&&(n=an[0],n.blockedOn===null);)Lp(n),n.blockedOn===null&&an.shift()}var zr=tn.ReactCurrentBatchConfig,cs=!0;function $y(e,t,n,r){var o=re,i=zr.transition;zr.transition=null;try{re=1,Da(e,t,n,r)}finally{re=o,zr.transition=i}}function My(e,t,n,r){var o=re,i=zr.transition;zr.transition=null;try{re=4,Da(e,t,n,r)}finally{re=o,zr.transition=i}}function Da(e,t,n,r){if(cs){var o=ku(e,t,n,r);if(o===null)Rl(e,t,r,fs,n),Gc(e,r);else if(Py(o,e,t,n,r))r.stopPropagation();else if(Gc(e,r),t&4&&-1<Cy.indexOf(e)){for(;o!==null;){var i=fi(o);if(i!==null&&zp(i),i=ku(e,t,n,r),i===null&&Rl(e,t,r,fs,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Rl(e,t,r,null,n)}}var fs=null;function ku(e,t,n,r){if(fs=null,e=Ia(r),e=Hn(e),e!==null)if(t=ir(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Np(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fs=e,null}function Op(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yy()){case za:return 1;case Tp:return 4;case us:case vy:return 16;case $p:return 536870912;default:return 16}default:return 16}}var dn=null,La=null,Qi=null;function bp(){if(Qi)return Qi;var e,t=La,n=t.length,r,o="value"in dn?dn.value:dn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Qi=o.slice(e,1<r?1-r:void 0)}function Yi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function Jc(){return!1}function ot(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ni:Jc,this.isPropagationStopped=Jc,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),t}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=ot(Zr),ci=de({},Zr,{view:0,detail:0}),Iy=ot(ci),kl,Cl,uo,Bs=de({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ba,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uo&&(uo&&e.type==="mousemove"?(kl=e.screenX-uo.screenX,Cl=e.screenY-uo.screenY):Cl=kl=0,uo=e),kl)},movementY:function(e){return"movementY"in e?e.movementY:Cl}}),ef=ot(Bs),zy=de({},Bs,{dataTransfer:0}),Ay=ot(zy),Ry=de({},ci,{relatedTarget:0}),Pl=ot(Ry),Dy=de({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ly=ot(Dy),Oy=de({},Zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),by=ot(Oy),Fy=de({},Zr,{data:0}),tf=ot(Fy),jy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function By(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vy[e])?!!t[e]:!1}function ba(){return By}var Uy=de({},ci,{key:function(e){if(e.key){var t=jy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ba,charCode:function(e){return e.type==="keypress"?Yi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wy=ot(Uy),Qy=de({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nf=ot(Qy),Yy=de({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ba}),Ky=ot(Yy),Xy=de({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qy=ot(Xy),Gy=de({},Bs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zy=ot(Gy),Jy=[9,13,27,32],Fa=Xt&&"CompositionEvent"in window,To=null;Xt&&"documentMode"in document&&(To=document.documentMode);var ev=Xt&&"TextEvent"in window&&!To,Fp=Xt&&(!Fa||To&&8<To&&11>=To),rf=" ",of=!1;function jp(e,t){switch(e){case"keyup":return Jy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vr=!1;function tv(e,t){switch(e){case"compositionend":return Hp(t);case"keypress":return t.which!==32?null:(of=!0,rf);case"textInput":return e=t.data,e===rf&&of?null:e;default:return null}}function nv(e,t){if(vr)return e==="compositionend"||!Fa&&jp(e,t)?(e=bp(),Qi=La=dn=null,vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fp&&t.locale!=="ko"?null:t.data;default:return null}}var rv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rv[e.type]:t==="textarea"}function Vp(e,t,n,r){wp(r),t=ds(t,"onChange"),0<t.length&&(n=new Oa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $o=null,Ho=null;function ov(e){Jp(e,0)}function Us(e){var t=Sr(e);if(dp(t))return e}function iv(e,t){if(e==="change")return t}var Bp=!1;if(Xt){var Tl;if(Xt){var $l="oninput"in document;if(!$l){var lf=document.createElement("div");lf.setAttribute("oninput","return;"),$l=typeof lf.oninput=="function"}Tl=$l}else Tl=!1;Bp=Tl&&(!document.documentMode||9<document.documentMode)}function uf(){$o&&($o.detachEvent("onpropertychange",Up),Ho=$o=null)}function Up(e){if(e.propertyName==="value"&&Us(Ho)){var t=[];Vp(t,Ho,e,Ia(e)),_p(ov,t)}}function sv(e,t,n){e==="focusin"?(uf(),$o=t,Ho=n,$o.attachEvent("onpropertychange",Up)):e==="focusout"&&uf()}function lv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Us(Ho)}function uv(e,t){if(e==="click")return Us(t)}function av(e,t){if(e==="input"||e==="change")return Us(t)}function cv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:cv;function Vo(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!lu.call(t,o)||!kt(e[o],t[o]))return!1}return!0}function af(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cf(e,t){var n=af(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=af(n)}}function Wp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qp(){for(var e=window,t=is();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=is(e.document)}return t}function ja(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fv(e){var t=Qp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wp(n.ownerDocument.documentElement,n)){if(r!==null&&ja(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=cf(n,i);var s=cf(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dv=Xt&&"documentMode"in document&&11>=document.documentMode,wr=null,Cu=null,Mo=null,Pu=!1;function ff(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pu||wr==null||wr!==is(r)||(r=wr,"selectionStart"in r&&ja(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mo&&Vo(Mo,r)||(Mo=r,r=ds(Cu,"onSelect"),0<r.length&&(t=new Oa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wr)))}function ki(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionend:ki("Transition","TransitionEnd")},Ml={},Yp={};Xt&&(Yp=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function Ws(e){if(Ml[e])return Ml[e];if(!xr[e])return e;var t=xr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Yp)return Ml[e]=t[n];return e}var Kp=Ws("animationend"),Xp=Ws("animationiteration"),qp=Ws("animationstart"),Gp=Ws("transitionend"),Zp=new Map,df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){Zp.set(e,t),or(t,[e])}for(var Il=0;Il<df.length;Il++){var zl=df[Il],pv=zl.toLowerCase(),hv=zl[0].toUpperCase()+zl.slice(1);Pn(pv,"on"+hv)}Pn(Kp,"onAnimationEnd");Pn(Xp,"onAnimationIteration");Pn(qp,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(Gp,"onTransitionEnd");br("onMouseEnter",["mouseout","mouseover"]);br("onMouseLeave",["mouseout","mouseover"]);br("onPointerEnter",["pointerout","pointerover"]);br("onPointerLeave",["pointerout","pointerover"]);or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));or("onBeforeInput",["compositionend","keypress","textInput","paste"]);or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function pf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,py(r,t,void 0,e),e.currentTarget=null}function Jp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,a=l.currentTarget;if(l=l.listener,u!==i&&o.isPropagationStopped())break e;pf(o,l,a),i=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,a=l.currentTarget,l=l.listener,u!==i&&o.isPropagationStopped())break e;pf(o,l,a),i=u}}}if(ls)throw e=Eu,ls=!1,Eu=null,e}function le(e,t){var n=t[zu];n===void 0&&(n=t[zu]=new Set);var r=e+"__bubble";n.has(r)||(eh(t,e,2,!1),n.add(r))}function Al(e,t,n){var r=0;t&&(r|=4),eh(n,e,r,t)}var Ci="_reactListening"+Math.random().toString(36).slice(2);function Bo(e){if(!e[Ci]){e[Ci]=!0,lp.forEach(function(n){n!=="selectionchange"&&(mv.has(n)||Al(n,!1,e),Al(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ci]||(t[Ci]=!0,Al("selectionchange",!1,t))}}function eh(e,t,n,r){switch(Op(t)){case 1:var o=$y;break;case 4:o=My;break;default:o=Da}n=o.bind(null,t,n,e),o=void 0,!Su||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Rl(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;s=s.return}for(;l!==null;){if(s=Hn(l),s===null)return;if(u=s.tag,u===5||u===6){r=i=s;continue e}l=l.parentNode}}r=r.return}_p(function(){var a=i,c=Ia(n),f=[];e:{var d=Zp.get(e);if(d!==void 0){var g=Oa,x=e;switch(e){case"keypress":if(Yi(n)===0)break e;case"keydown":case"keyup":g=Wy;break;case"focusin":x="focus",g=Pl;break;case"focusout":x="blur",g=Pl;break;case"beforeblur":case"afterblur":g=Pl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Ay;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Ky;break;case Kp:case Xp:case qp:g=Ly;break;case Gp:g=qy;break;case"scroll":g=Iy;break;case"wheel":g=Zy;break;case"copy":case"cut":case"paste":g=by;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=nf}var v=(t&4)!==0,_=!v&&e==="scroll",p=v?d!==null?d+"Capture":null:d;v=[];for(var m=a,y;m!==null;){y=m;var h=y.stateNode;if(y.tag===5&&h!==null&&(y=h,p!==null&&(h=Oo(m,p),h!=null&&v.push(Uo(m,h,y)))),_)break;m=m.return}0<v.length&&(d=new g(d,x,null,n,c),f.push({event:d,listeners:v}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&n!==wu&&(x=n.relatedTarget||n.fromElement)&&(Hn(x)||x[qt]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=a,x=x?Hn(x):null,x!==null&&(_=ir(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=a),g!==x)){if(v=ef,h="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=nf,h="onPointerLeave",p="onPointerEnter",m="pointer"),_=g==null?d:Sr(g),y=x==null?d:Sr(x),d=new v(h,m+"leave",g,n,c),d.target=_,d.relatedTarget=y,h=null,Hn(c)===a&&(v=new v(p,m+"enter",x,n,c),v.target=y,v.relatedTarget=_,h=v),_=h,g&&x)t:{for(v=g,p=x,m=0,y=v;y;y=fr(y))m++;for(y=0,h=p;h;h=fr(h))y++;for(;0<m-y;)v=fr(v),m--;for(;0<y-m;)p=fr(p),y--;for(;m--;){if(v===p||p!==null&&v===p.alternate)break t;v=fr(v),p=fr(p)}v=null}else v=null;g!==null&&hf(f,d,g,v,!1),x!==null&&_!==null&&hf(f,_,x,v,!0)}}e:{if(d=a?Sr(a):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var S=iv;else if(sf(d))if(Bp)S=av;else{S=lv;var k=sv}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=uv);if(S&&(S=S(e,a))){Vp(f,S,n,c);break e}k&&k(e,d,a),e==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&hu(d,"number",d.value)}switch(k=a?Sr(a):window,e){case"focusin":(sf(k)||k.contentEditable==="true")&&(wr=k,Cu=a,Mo=null);break;case"focusout":Mo=Cu=wr=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,ff(f,n,c);break;case"selectionchange":if(dv)break;case"keydown":case"keyup":ff(f,n,c)}var N;if(Fa)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else vr?jp(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Fp&&n.locale!=="ko"&&(vr||C!=="onCompositionStart"?C==="onCompositionEnd"&&vr&&(N=bp()):(dn=c,La="value"in dn?dn.value:dn.textContent,vr=!0)),k=ds(a,C),0<k.length&&(C=new tf(C,e,null,n,c),f.push({event:C,listeners:k}),N?C.data=N:(N=Hp(n),N!==null&&(C.data=N)))),(N=ev?tv(e,n):nv(e,n))&&(a=ds(a,"onBeforeInput"),0<a.length&&(c=new tf("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:a}),c.data=N))}Jp(f,t)})}function Uo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ds(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Oo(e,n),i!=null&&r.unshift(Uo(e,i,o)),i=Oo(e,t),i!=null&&r.push(Uo(e,i,o))),e=e.return}return r}function fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hf(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,a=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&a!==null&&(l=a,o?(u=Oo(n,i),u!=null&&s.unshift(Uo(n,u,l))):o||(u=Oo(n,i),u!=null&&s.push(Uo(n,u,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var gv=/\r\n?/g,yv=/\u0000|\uFFFD/g;function mf(e){return(typeof e=="string"?e:""+e).replace(gv,`
`).replace(yv,"")}function Pi(e,t,n){if(t=mf(t),mf(e)!==t&&n)throw Error(V(425))}function ps(){}var Tu=null,$u=null;function Mu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Iu=typeof setTimeout=="function"?setTimeout:void 0,vv=typeof clearTimeout=="function"?clearTimeout:void 0,gf=typeof Promise=="function"?Promise:void 0,wv=typeof queueMicrotask=="function"?queueMicrotask:typeof gf<"u"?function(e){return gf.resolve(null).then(e).catch(xv)}:Iu;function xv(e){setTimeout(function(){throw e})}function Dl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),jo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);jo(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Jr=Math.random().toString(36).slice(2),It="__reactFiber$"+Jr,Wo="__reactProps$"+Jr,qt="__reactContainer$"+Jr,zu="__reactEvents$"+Jr,Sv="__reactListeners$"+Jr,Ev="__reactHandles$"+Jr;function Hn(e){var t=e[It];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qt]||n[It]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=yf(e);e!==null;){if(n=e[It])return n;e=yf(e)}return t}e=n,n=e.parentNode}return null}function fi(e){return e=e[It]||e[qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Qs(e){return e[Wo]||null}var Au=[],Er=-1;function Tn(e){return{current:e}}function ue(e){0>Er||(e.current=Au[Er],Au[Er]=null,Er--)}function ie(e,t){Er++,Au[Er]=e.current,e.current=t}var kn={},Le=Tn(kn),Qe=Tn(!1),qn=kn;function Fr(e,t){var n=e.type.contextTypes;if(!n)return kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ye(e){return e=e.childContextTypes,e!=null}function hs(){ue(Qe),ue(Le)}function vf(e,t,n){if(Le.current!==kn)throw Error(V(168));ie(Le,t),ie(Qe,n)}function th(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(V(108,sy(e)||"Unknown",o));return de({},n,r)}function ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,qn=Le.current,ie(Le,e),ie(Qe,Qe.current),!0}function wf(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=th(e,t,qn),r.__reactInternalMemoizedMergedChildContext=e,ue(Qe),ue(Le),ie(Le,e)):ue(Qe),ie(Qe,n)}var Vt=null,Ys=!1,Ll=!1;function nh(e){Vt===null?Vt=[e]:Vt.push(e)}function _v(e){Ys=!0,nh(e)}function $n(){if(!Ll&&Vt!==null){Ll=!0;var e=0,t=re;try{var n=Vt;for(re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vt=null,Ys=!1}catch(o){throw Vt!==null&&(Vt=Vt.slice(e+1)),Pp(za,$n),o}finally{re=t,Ll=!1}}return null}var _r=[],Nr=0,gs=null,ys=0,it=[],st=0,Gn=null,Bt=1,Ut="";function Ln(e,t){_r[Nr++]=ys,_r[Nr++]=gs,gs=e,ys=t}function rh(e,t,n){it[st++]=Bt,it[st++]=Ut,it[st++]=Gn,Gn=e;var r=Bt;e=Ut;var o=32-_t(r)-1;r&=~(1<<o),n+=1;var i=32-_t(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Bt=1<<32-_t(t)+o|n<<o|r,Ut=i+e}else Bt=1<<i|n<<o|r,Ut=e}function Ha(e){e.return!==null&&(Ln(e,1),rh(e,1,0))}function Va(e){for(;e===gs;)gs=_r[--Nr],_r[Nr]=null,ys=_r[--Nr],_r[Nr]=null;for(;e===Gn;)Gn=it[--st],it[st]=null,Ut=it[--st],it[st]=null,Bt=it[--st],it[st]=null}var Ze=null,Ge=null,ae=!1,xt=null;function oh(e,t){var n=at(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ze=e,Ge=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ze=e,Ge=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gn!==null?{id:Bt,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=at(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ze=e,Ge=null,!0):!1;default:return!1}}function Ru(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Du(e){if(ae){var t=Ge;if(t){var n=t;if(!xf(e,t)){if(Ru(e))throw Error(V(418));t=yn(n.nextSibling);var r=Ze;t&&xf(e,t)?oh(r,n):(e.flags=e.flags&-4097|2,ae=!1,Ze=e)}}else{if(Ru(e))throw Error(V(418));e.flags=e.flags&-4097|2,ae=!1,Ze=e}}}function Sf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ze=e}function Ti(e){if(e!==Ze)return!1;if(!ae)return Sf(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mu(e.type,e.memoizedProps)),t&&(t=Ge)){if(Ru(e))throw ih(),Error(V(418));for(;t;)oh(e,t),t=yn(t.nextSibling)}if(Sf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ge=yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ge=null}}else Ge=Ze?yn(e.stateNode.nextSibling):null;return!0}function ih(){for(var e=Ge;e;)e=yn(e.nextSibling)}function jr(){Ge=Ze=null,ae=!1}function Ba(e){xt===null?xt=[e]:xt.push(e)}var Nv=tn.ReactCurrentBatchConfig;function ao(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function $i(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ef(e){var t=e._init;return t(e._payload)}function sh(e){function t(p,m){if(e){var y=p.deletions;y===null?(p.deletions=[m],p.flags|=16):y.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function o(p,m){return p=Sn(p,m),p.index=0,p.sibling=null,p}function i(p,m,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags|=2,m):y):(p.flags|=2,m)):(p.flags|=1048576,m)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,m,y,h){return m===null||m.tag!==6?(m=Bl(y,p.mode,h),m.return=p,m):(m=o(m,y),m.return=p,m)}function u(p,m,y,h){var S=y.type;return S===yr?c(p,m,y.props.children,h,y.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===on&&Ef(S)===m.type)?(h=o(m,y.props),h.ref=ao(p,m,y),h.return=p,h):(h=es(y.type,y.key,y.props,null,p.mode,h),h.ref=ao(p,m,y),h.return=p,h)}function a(p,m,y,h){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Ul(y,p.mode,h),m.return=p,m):(m=o(m,y.children||[]),m.return=p,m)}function c(p,m,y,h,S){return m===null||m.tag!==7?(m=Yn(y,p.mode,h,S),m.return=p,m):(m=o(m,y),m.return=p,m)}function f(p,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Bl(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case vi:return y=es(m.type,m.key,m.props,null,p.mode,y),y.ref=ao(p,null,m),y.return=p,y;case gr:return m=Ul(m,p.mode,y),m.return=p,m;case on:var h=m._init;return f(p,h(m._payload),y)}if(xo(m)||oo(m))return m=Yn(m,p.mode,y,null),m.return=p,m;$i(p,m)}return null}function d(p,m,y,h){var S=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(p,m,""+y,h);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case vi:return y.key===S?u(p,m,y,h):null;case gr:return y.key===S?a(p,m,y,h):null;case on:return S=y._init,d(p,m,S(y._payload),h)}if(xo(y)||oo(y))return S!==null?null:c(p,m,y,h,null);$i(p,y)}return null}function g(p,m,y,h,S){if(typeof h=="string"&&h!==""||typeof h=="number")return p=p.get(y)||null,l(m,p,""+h,S);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case vi:return p=p.get(h.key===null?y:h.key)||null,u(m,p,h,S);case gr:return p=p.get(h.key===null?y:h.key)||null,a(m,p,h,S);case on:var k=h._init;return g(p,m,y,k(h._payload),S)}if(xo(h)||oo(h))return p=p.get(y)||null,c(m,p,h,S,null);$i(m,h)}return null}function x(p,m,y,h){for(var S=null,k=null,N=m,C=m=0,T=null;N!==null&&C<y.length;C++){N.index>C?(T=N,N=null):T=N.sibling;var z=d(p,N,y[C],h);if(z===null){N===null&&(N=T);break}e&&N&&z.alternate===null&&t(p,N),m=i(z,m,C),k===null?S=z:k.sibling=z,k=z,N=T}if(C===y.length)return n(p,N),ae&&Ln(p,C),S;if(N===null){for(;C<y.length;C++)N=f(p,y[C],h),N!==null&&(m=i(N,m,C),k===null?S=N:k.sibling=N,k=N);return ae&&Ln(p,C),S}for(N=r(p,N);C<y.length;C++)T=g(N,p,C,y[C],h),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?C:T.key),m=i(T,m,C),k===null?S=T:k.sibling=T,k=T);return e&&N.forEach(function(H){return t(p,H)}),ae&&Ln(p,C),S}function v(p,m,y,h){var S=oo(y);if(typeof S!="function")throw Error(V(150));if(y=S.call(y),y==null)throw Error(V(151));for(var k=S=null,N=m,C=m=0,T=null,z=y.next();N!==null&&!z.done;C++,z=y.next()){N.index>C?(T=N,N=null):T=N.sibling;var H=d(p,N,z.value,h);if(H===null){N===null&&(N=T);break}e&&N&&H.alternate===null&&t(p,N),m=i(H,m,C),k===null?S=H:k.sibling=H,k=H,N=T}if(z.done)return n(p,N),ae&&Ln(p,C),S;if(N===null){for(;!z.done;C++,z=y.next())z=f(p,z.value,h),z!==null&&(m=i(z,m,C),k===null?S=z:k.sibling=z,k=z);return ae&&Ln(p,C),S}for(N=r(p,N);!z.done;C++,z=y.next())z=g(N,p,C,z.value,h),z!==null&&(e&&z.alternate!==null&&N.delete(z.key===null?C:z.key),m=i(z,m,C),k===null?S=z:k.sibling=z,k=z);return e&&N.forEach(function(j){return t(p,j)}),ae&&Ln(p,C),S}function _(p,m,y,h){if(typeof y=="object"&&y!==null&&y.type===yr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case vi:e:{for(var S=y.key,k=m;k!==null;){if(k.key===S){if(S=y.type,S===yr){if(k.tag===7){n(p,k.sibling),m=o(k,y.props.children),m.return=p,p=m;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===on&&Ef(S)===k.type){n(p,k.sibling),m=o(k,y.props),m.ref=ao(p,k,y),m.return=p,p=m;break e}n(p,k);break}else t(p,k);k=k.sibling}y.type===yr?(m=Yn(y.props.children,p.mode,h,y.key),m.return=p,p=m):(h=es(y.type,y.key,y.props,null,p.mode,h),h.ref=ao(p,m,y),h.return=p,p=h)}return s(p);case gr:e:{for(k=y.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(p,m.sibling),m=o(m,y.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=Ul(y,p.mode,h),m.return=p,p=m}return s(p);case on:return k=y._init,_(p,m,k(y._payload),h)}if(xo(y))return x(p,m,y,h);if(oo(y))return v(p,m,y,h);$i(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(p,m.sibling),m=o(m,y),m.return=p,p=m):(n(p,m),m=Bl(y,p.mode,h),m.return=p,p=m),s(p)):n(p,m)}return _}var Hr=sh(!0),lh=sh(!1),vs=Tn(null),ws=null,kr=null,Ua=null;function Wa(){Ua=kr=ws=null}function Qa(e){var t=vs.current;ue(vs),e._currentValue=t}function Lu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ar(e,t){ws=e,Ua=kr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ue=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(Ua!==e)if(e={context:e,memoizedValue:t,next:null},kr===null){if(ws===null)throw Error(V(308));kr=e,ws.dependencies={lanes:0,firstContext:e}}else kr=kr.next=e;return t}var Vn=null;function Ya(e){Vn===null?Vn=[e]:Vn.push(e)}function uh(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Ya(t)):(n.next=o.next,o.next=n),t.interleaved=n,Gt(e,r)}function Gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sn=!1;function Ka(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ah(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Gt(e,n)}return o=r.interleaved,o===null?(t.next=t,Ya(r)):(t.next=o.next,o.next=t),r.interleaved=t,Gt(e,n)}function Ki(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Aa(e,n)}}function _f(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xs(e,t,n,r){var o=e.updateQueue;sn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var u=l,a=u.next;u.next=null,s===null?i=a:s.next=a,s=u;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=a:l.next=a,c.lastBaseUpdate=u))}if(i!==null){var f=o.baseState;s=0,c=a=u=null,l=i;do{var d=l.lane,g=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(d=t,g=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(g,f,d);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,d=typeof x=="function"?x.call(g,f,d):x,d==null)break e;f=de({},f,d);break e;case 2:sn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[l]:d.push(l))}else g={eventTime:g,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(a=c=g,u=f):c=c.next=g,s|=d;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;d=l,l=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(c===null&&(u=f),o.baseState=u,o.firstBaseUpdate=a,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Jn|=s,e.lanes=s,e.memoizedState=f}}function Nf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(V(191,o));o.call(r)}}}var di={},At=Tn(di),Qo=Tn(di),Yo=Tn(di);function Bn(e){if(e===di)throw Error(V(174));return e}function Xa(e,t){switch(ie(Yo,t),ie(Qo,e),ie(At,di),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gu(t,e)}ue(At),ie(At,t)}function Vr(){ue(At),ue(Qo),ue(Yo)}function ch(e){Bn(Yo.current);var t=Bn(At.current),n=gu(t,e.type);t!==n&&(ie(Qo,e),ie(At,n))}function qa(e){Qo.current===e&&(ue(At),ue(Qo))}var ce=Tn(0);function Ss(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ol=[];function Ga(){for(var e=0;e<Ol.length;e++)Ol[e]._workInProgressVersionPrimary=null;Ol.length=0}var Xi=tn.ReactCurrentDispatcher,bl=tn.ReactCurrentBatchConfig,Zn=0,fe=null,xe=null,_e=null,Es=!1,Io=!1,Ko=0,kv=0;function Ae(){throw Error(V(321))}function Za(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function Ja(e,t,n,r,o,i){if(Zn=i,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xi.current=e===null||e.memoizedState===null?$v:Mv,e=n(r,o),Io){i=0;do{if(Io=!1,Ko=0,25<=i)throw Error(V(301));i+=1,_e=xe=null,t.updateQueue=null,Xi.current=Iv,e=n(r,o)}while(Io)}if(Xi.current=_s,t=xe!==null&&xe.next!==null,Zn=0,_e=xe=fe=null,Es=!1,t)throw Error(V(300));return e}function ec(){var e=Ko!==0;return Ko=0,e}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?fe.memoizedState=_e=e:_e=_e.next=e,_e}function ht(){if(xe===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=_e===null?fe.memoizedState:_e.next;if(t!==null)_e=t,xe=e;else{if(e===null)throw Error(V(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},_e===null?fe.memoizedState=_e=e:_e=_e.next=e}return _e}function Xo(e,t){return typeof t=="function"?t(e):t}function Fl(e){var t=ht(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=xe,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,u=null,a=i;do{var c=a.lane;if((Zn&c)===c)u!==null&&(u=u.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),r=a.hasEagerState?a.eagerState:e(r,a.action);else{var f={lane:c,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};u===null?(l=u=f,s=r):u=u.next=f,fe.lanes|=c,Jn|=c}a=a.next}while(a!==null&&a!==i);u===null?s=r:u.next=l,kt(r,t.memoizedState)||(Ue=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,fe.lanes|=i,Jn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jl(e){var t=ht(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);kt(i,t.memoizedState)||(Ue=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function fh(){}function dh(e,t){var n=fe,r=ht(),o=t(),i=!kt(r.memoizedState,o);if(i&&(r.memoizedState=o,Ue=!0),r=r.queue,tc(mh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,qo(9,hh.bind(null,n,r,o,t),void 0,null),ke===null)throw Error(V(349));Zn&30||ph(n,t,o)}return o}function ph(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hh(e,t,n,r){t.value=n,t.getSnapshot=r,gh(t)&&yh(e)}function mh(e,t,n){return n(function(){gh(t)&&yh(e)})}function gh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function yh(e){var t=Gt(e,1);t!==null&&Nt(t,e,1,-1)}function kf(e){var t=Mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Tv.bind(null,fe,e),[t.memoizedState,e]}function qo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function vh(){return ht().memoizedState}function qi(e,t,n,r){var o=Mt();fe.flags|=e,o.memoizedState=qo(1|t,n,void 0,r===void 0?null:r)}function Ks(e,t,n,r){var o=ht();r=r===void 0?null:r;var i=void 0;if(xe!==null){var s=xe.memoizedState;if(i=s.destroy,r!==null&&Za(r,s.deps)){o.memoizedState=qo(t,n,i,r);return}}fe.flags|=e,o.memoizedState=qo(1|t,n,i,r)}function Cf(e,t){return qi(8390656,8,e,t)}function tc(e,t){return Ks(2048,8,e,t)}function wh(e,t){return Ks(4,2,e,t)}function xh(e,t){return Ks(4,4,e,t)}function Sh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Eh(e,t,n){return n=n!=null?n.concat([e]):null,Ks(4,4,Sh.bind(null,t,e),n)}function nc(){}function _h(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Za(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Nh(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Za(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function kh(e,t,n){return Zn&21?(kt(n,t)||(n=Mp(),fe.lanes|=n,Jn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ue=!0),e.memoizedState=n)}function Cv(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var r=bl.transition;bl.transition={};try{e(!1),t()}finally{re=n,bl.transition=r}}function Ch(){return ht().memoizedState}function Pv(e,t,n){var r=xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ph(e))Th(t,n);else if(n=uh(e,t,n,r),n!==null){var o=je();Nt(n,e,r,o),$h(n,t,r)}}function Tv(e,t,n){var r=xn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ph(e))Th(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,kt(l,s)){var u=t.interleaved;u===null?(o.next=o,Ya(t)):(o.next=u.next,u.next=o),t.interleaved=o;return}}catch{}finally{}n=uh(e,t,o,r),n!==null&&(o=je(),Nt(n,e,r,o),$h(n,t,r))}}function Ph(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Th(e,t){Io=Es=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $h(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Aa(e,n)}}var _s={readContext:pt,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},$v={readContext:pt,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:Cf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qi(4194308,4,Sh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qi(4194308,4,e,t)},useInsertionEffect:function(e,t){return qi(4,2,e,t)},useMemo:function(e,t){var n=Mt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Mt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Pv.bind(null,fe,e),[r.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:kf,useDebugValue:nc,useDeferredValue:function(e){return Mt().memoizedState=e},useTransition:function(){var e=kf(!1),t=e[0];return e=Cv.bind(null,e[1]),Mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fe,o=Mt();if(ae){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),ke===null)throw Error(V(349));Zn&30||ph(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Cf(mh.bind(null,r,i,e),[e]),r.flags|=2048,qo(9,hh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Mt(),t=ke.identifierPrefix;if(ae){var n=Ut,r=Bt;n=(r&~(1<<32-_t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ko++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=kv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mv={readContext:pt,useCallback:_h,useContext:pt,useEffect:tc,useImperativeHandle:Eh,useInsertionEffect:wh,useLayoutEffect:xh,useMemo:Nh,useReducer:Fl,useRef:vh,useState:function(){return Fl(Xo)},useDebugValue:nc,useDeferredValue:function(e){var t=ht();return kh(t,xe.memoizedState,e)},useTransition:function(){var e=Fl(Xo)[0],t=ht().memoizedState;return[e,t]},useMutableSource:fh,useSyncExternalStore:dh,useId:Ch,unstable_isNewReconciler:!1},Iv={readContext:pt,useCallback:_h,useContext:pt,useEffect:tc,useImperativeHandle:Eh,useInsertionEffect:wh,useLayoutEffect:xh,useMemo:Nh,useReducer:jl,useRef:vh,useState:function(){return jl(Xo)},useDebugValue:nc,useDeferredValue:function(e){var t=ht();return xe===null?t.memoizedState=e:kh(t,xe.memoizedState,e)},useTransition:function(){var e=jl(Xo)[0],t=ht().memoizedState;return[e,t]},useMutableSource:fh,useSyncExternalStore:dh,useId:Ch,unstable_isNewReconciler:!1};function yt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ou(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xs={isMounted:function(e){return(e=e._reactInternals)?ir(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=je(),o=xn(e),i=Yt(r,o);i.payload=t,n!=null&&(i.callback=n),t=vn(e,i,o),t!==null&&(Nt(t,e,o,r),Ki(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=je(),o=xn(e),i=Yt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=vn(e,i,o),t!==null&&(Nt(t,e,o,r),Ki(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=je(),r=xn(e),o=Yt(n,r);o.tag=2,t!=null&&(o.callback=t),t=vn(e,o,r),t!==null&&(Nt(t,e,r,n),Ki(t,e,r))}};function Pf(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Vo(n,r)||!Vo(o,i):!0}function Mh(e,t,n){var r=!1,o=kn,i=t.contextType;return typeof i=="object"&&i!==null?i=pt(i):(o=Ye(t)?qn:Le.current,r=t.contextTypes,i=(r=r!=null)?Fr(e,o):kn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Tf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xs.enqueueReplaceState(t,t.state,null)}function bu(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ka(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=pt(i):(i=Ye(t)?qn:Le.current,o.context=Fr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ou(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Xs.enqueueReplaceState(o,o.state,null),xs(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Br(e,t){try{var n="",r=t;do n+=iy(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Hl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zv=typeof WeakMap=="function"?WeakMap:Map;function Ih(e,t,n){n=Yt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ks||(ks=!0,Xu=r),Fu(e,t)},n}function zh(e,t,n){n=Yt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Fu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Fu(e,t),typeof r!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function $f(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new zv;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Qv.bind(null,e,t,n),t.then(e,e))}function Mf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function If(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yt(-1,1),t.tag=2,vn(n,t,1))),n.lanes|=1),e)}var Av=tn.ReactCurrentOwner,Ue=!1;function Fe(e,t,n,r){t.child=e===null?lh(t,null,n,r):Hr(t,e.child,n,r)}function zf(e,t,n,r,o){n=n.render;var i=t.ref;return Ar(t,o),r=Ja(e,t,n,r,i,o),n=ec(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(ae&&n&&Ha(t),t.flags|=1,Fe(e,t,r,o),t.child)}function Af(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!cc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Ah(e,t,i,r,o)):(e=es(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Vo,n(s,r)&&e.ref===t.ref)return Zt(e,t,o)}return t.flags|=1,e=Sn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Ah(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Vo(i,r)&&e.ref===t.ref)if(Ue=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Ue=!0);else return t.lanes=e.lanes,Zt(e,t,o)}return ju(e,t,n,r,o)}function Rh(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Pr,qe),qe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(Pr,qe),qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ie(Pr,qe),qe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ie(Pr,qe),qe|=r;return Fe(e,t,o,n),t.child}function Dh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ju(e,t,n,r,o){var i=Ye(n)?qn:Le.current;return i=Fr(t,i),Ar(t,o),n=Ja(e,t,n,r,i,o),r=ec(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(ae&&r&&Ha(t),t.flags|=1,Fe(e,t,n,o),t.child)}function Rf(e,t,n,r,o){if(Ye(n)){var i=!0;ms(t)}else i=!1;if(Ar(t,o),t.stateNode===null)Gi(e,t),Mh(t,n,r),bu(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var u=s.context,a=n.contextType;typeof a=="object"&&a!==null?a=pt(a):(a=Ye(n)?qn:Le.current,a=Fr(t,a));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==a)&&Tf(t,s,r,a),sn=!1;var d=t.memoizedState;s.state=d,xs(t,r,s,o),u=t.memoizedState,l!==r||d!==u||Qe.current||sn?(typeof c=="function"&&(Ou(t,n,c,r),u=t.memoizedState),(l=sn||Pf(t,n,l,r,d,u,a))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=a,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ah(e,t),l=t.memoizedProps,a=t.type===t.elementType?l:yt(t.type,l),s.props=a,f=t.pendingProps,d=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=pt(u):(u=Ye(n)?qn:Le.current,u=Fr(t,u));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||d!==u)&&Tf(t,s,r,u),sn=!1,d=t.memoizedState,s.state=d,xs(t,r,s,o);var x=t.memoizedState;l!==f||d!==x||Qe.current||sn?(typeof g=="function"&&(Ou(t,n,g,r),x=t.memoizedState),(a=sn||Pf(t,n,a,r,d,x,u)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),s.props=r,s.state=x,s.context=u,r=a):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Hu(e,t,n,r,i,o)}function Hu(e,t,n,r,o,i){Dh(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&wf(t,n,!1),Zt(e,t,i);r=t.stateNode,Av.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Hr(t,e.child,null,i),t.child=Hr(t,null,l,i)):Fe(e,t,l,i),t.memoizedState=r.state,o&&wf(t,n,!0),t.child}function Lh(e){var t=e.stateNode;t.pendingContext?vf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vf(e,t.context,!1),Xa(e,t.containerInfo)}function Df(e,t,n,r,o){return jr(),Ba(o),t.flags|=256,Fe(e,t,n,r),t.child}var Vu={dehydrated:null,treeContext:null,retryLane:0};function Bu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oh(e,t,n){var r=t.pendingProps,o=ce.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ie(ce,o&1),e===null)return Du(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Zs(s,r,0,null),e=Yn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Bu(n),t.memoizedState=Vu,e):rc(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Rv(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Sn(o,u),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=Sn(l,i):(i=Yn(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Bu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Vu,r}return i=e.child,e=i.sibling,r=Sn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function rc(e,t){return t=Zs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Mi(e,t,n,r){return r!==null&&Ba(r),Hr(t,e.child,null,n),e=rc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rv(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Hl(Error(V(422))),Mi(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Zs({mode:"visible",children:r.children},o,0,null),i=Yn(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Hr(t,e.child,null,s),t.child.memoizedState=Bu(s),t.memoizedState=Vu,i);if(!(t.mode&1))return Mi(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(V(419)),r=Hl(i,r,void 0),Mi(e,t,s,r)}if(l=(s&e.childLanes)!==0,Ue||l){if(r=ke,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Gt(e,o),Nt(r,e,o,-1))}return ac(),r=Hl(Error(V(421))),Mi(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Yv.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Ge=yn(o.nextSibling),Ze=t,ae=!0,xt=null,e!==null&&(it[st++]=Bt,it[st++]=Ut,it[st++]=Gn,Bt=e.id,Ut=e.overflow,Gn=t),t=rc(t,r.children),t.flags|=4096,t)}function Lf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Lu(e.return,t,n)}function Vl(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function bh(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Fe(e,t,r.children,n),r=ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lf(e,n,t);else if(e.tag===19)Lf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ie(ce,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ss(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Vl(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ss(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Vl(t,!0,n,null,i);break;case"together":Vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=Sn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Sn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Dv(e,t,n){switch(t.tag){case 3:Lh(t),jr();break;case 5:ch(t);break;case 1:Ye(t.type)&&ms(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ie(vs,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ie(ce,ce.current&1),t.flags|=128,null):n&t.child.childLanes?Oh(e,t,n):(ie(ce,ce.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);ie(ce,ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return bh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ie(ce,ce.current),r)break;return null;case 22:case 23:return t.lanes=0,Rh(e,t,n)}return Zt(e,t,n)}var Fh,Uu,jh,Hh;Fh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Uu=function(){};jh=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Bn(At.current);var i=null;switch(n){case"input":o=du(e,o),r=du(e,r),i=[];break;case"select":o=de({},o,{value:void 0}),r=de({},r,{value:void 0}),i=[];break;case"textarea":o=mu(e,o),r=mu(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ps)}yu(n,r);var s;n=null;for(a in o)if(!r.hasOwnProperty(a)&&o.hasOwnProperty(a)&&o[a]!=null)if(a==="style"){var l=o[a];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Do.hasOwnProperty(a)?i||(i=[]):(i=i||[]).push(a,null));for(a in r){var u=r[a];if(l=o!=null?o[a]:void 0,r.hasOwnProperty(a)&&u!==l&&(u!=null||l!=null))if(a==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(i||(i=[]),i.push(a,n)),n=u;else a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(a,u)):a==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(a,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(Do.hasOwnProperty(a)?(u!=null&&a==="onScroll"&&le("scroll",e),i||l===u||(i=[])):(i=i||[]).push(a,u))}n&&(i=i||[]).push("style",n);var a=i;(t.updateQueue=a)&&(t.flags|=4)}};Hh=function(e,t,n,r){n!==r&&(t.flags|=4)};function co(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Lv(e,t,n){var r=t.pendingProps;switch(Va(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Ye(t.type)&&hs(),Re(t),null;case 3:return r=t.stateNode,Vr(),ue(Qe),ue(Le),Ga(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ti(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xt!==null&&(Zu(xt),xt=null))),Uu(e,t),Re(t),null;case 5:qa(t);var o=Bn(Yo.current);if(n=t.type,e!==null&&t.stateNode!=null)jh(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return Re(t),null}if(e=Bn(At.current),Ti(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[It]=t,r[Wo]=i,e=(t.mode&1)!==0,n){case"dialog":le("cancel",r),le("close",r);break;case"iframe":case"object":case"embed":le("load",r);break;case"video":case"audio":for(o=0;o<Eo.length;o++)le(Eo[o],r);break;case"source":le("error",r);break;case"img":case"image":case"link":le("error",r),le("load",r);break;case"details":le("toggle",r);break;case"input":Uc(r,i),le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},le("invalid",r);break;case"textarea":Qc(r,i),le("invalid",r)}yu(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Pi(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Pi(r.textContent,l,e),o=["children",""+l]):Do.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&le("scroll",r)}switch(n){case"input":wi(r),Wc(r,i,!0);break;case"textarea":wi(r),Yc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ps)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[It]=t,e[Wo]=r,Fh(e,t,!1,!1),t.stateNode=e;e:{switch(s=vu(n,r),n){case"dialog":le("cancel",e),le("close",e),o=r;break;case"iframe":case"object":case"embed":le("load",e),o=r;break;case"video":case"audio":for(o=0;o<Eo.length;o++)le(Eo[o],e);o=r;break;case"source":le("error",e),o=r;break;case"img":case"image":case"link":le("error",e),le("load",e),o=r;break;case"details":le("toggle",e),o=r;break;case"input":Uc(e,r),o=du(e,r),le("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=de({},r,{value:void 0}),le("invalid",e);break;case"textarea":Qc(e,r),o=mu(e,r),le("invalid",e);break;default:o=r}yu(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?vp(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&gp(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Lo(e,u):typeof u=="number"&&Lo(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Do.hasOwnProperty(i)?u!=null&&i==="onScroll"&&le("scroll",e):u!=null&&Pa(e,i,u,s))}switch(n){case"input":wi(e),Wc(e,r,!1);break;case"textarea":wi(e),Yc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Nn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?$r(e,!!r.multiple,i,!1):r.defaultValue!=null&&$r(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ps)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(e&&t.stateNode!=null)Hh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=Bn(Yo.current),Bn(At.current),Ti(t)){if(r=t.stateNode,n=t.memoizedProps,r[It]=t,(i=r.nodeValue!==n)&&(e=Ze,e!==null))switch(e.tag){case 3:Pi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[It]=t,t.stateNode=r}return Re(t),null;case 13:if(ue(ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&Ge!==null&&t.mode&1&&!(t.flags&128))ih(),jr(),t.flags|=98560,i=!1;else if(i=Ti(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(V(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(V(317));i[It]=t}else jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),i=!1}else xt!==null&&(Zu(xt),xt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ce.current&1?Se===0&&(Se=3):ac())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return Vr(),Uu(e,t),e===null&&Bo(t.stateNode.containerInfo),Re(t),null;case 10:return Qa(t.type._context),Re(t),null;case 17:return Ye(t.type)&&hs(),Re(t),null;case 19:if(ue(ce),i=t.memoizedState,i===null)return Re(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)co(i,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ss(e),s!==null){for(t.flags|=128,co(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(ce,ce.current&1|2),t.child}e=e.sibling}i.tail!==null&&ye()>Ur&&(t.flags|=128,r=!0,co(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ss(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),co(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ae)return Re(t),null}else 2*ye()-i.renderingStartTime>Ur&&n!==1073741824&&(t.flags|=128,r=!0,co(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ye(),t.sibling=null,n=ce.current,ie(ce,r?n&1|2:n&1),t):(Re(t),null);case 22:case 23:return uc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qe&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function Ov(e,t){switch(Va(t),t.tag){case 1:return Ye(t.type)&&hs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vr(),ue(Qe),ue(Le),Ga(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qa(t),null;case 13:if(ue(ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(ce),null;case 4:return Vr(),null;case 10:return Qa(t.type._context),null;case 22:case 23:return uc(),null;case 24:return null;default:return null}}var Ii=!1,De=!1,bv=typeof WeakSet=="function"?WeakSet:Set,W=null;function Cr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pe(e,t,r)}else n.current=null}function Wu(e,t,n){try{n()}catch(r){pe(e,t,r)}}var Of=!1;function Fv(e,t){if(Tu=cs,e=Qp(),ja(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,a=0,c=0,f=e,d=null;t:for(;;){for(var g;f!==n||o!==0&&f.nodeType!==3||(l=s+o),f!==i||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)d=f,f=g;for(;;){if(f===e)break t;if(d===n&&++a===o&&(l=s),d===i&&++c===r&&(u=s),(g=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=g}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for($u={focusedElem:e,selectionRange:n},cs=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,_=x.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:yt(t.type,v),_);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(h){pe(t,t.return,h)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return x=Of,Of=!1,x}function zo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Wu(t,n,i)}o=o.next}while(o!==r)}}function qs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Qu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Vh(e){var t=e.alternate;t!==null&&(e.alternate=null,Vh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[Wo],delete t[zu],delete t[Sv],delete t[Ev])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bh(e){return e.tag===5||e.tag===3||e.tag===4}function bf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ps));else if(r!==4&&(e=e.child,e!==null))for(Yu(e,t,n),e=e.sibling;e!==null;)Yu(e,t,n),e=e.sibling}function Ku(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ku(e,t,n),e=e.sibling;e!==null;)Ku(e,t,n),e=e.sibling}var Pe=null,vt=!1;function nn(e,t,n){for(n=n.child;n!==null;)Uh(e,t,n),n=n.sibling}function Uh(e,t,n){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Vs,n)}catch{}switch(n.tag){case 5:De||Cr(n,t);case 6:var r=Pe,o=vt;Pe=null,nn(e,t,n),Pe=r,vt=o,Pe!==null&&(vt?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(vt?(e=Pe,n=n.stateNode,e.nodeType===8?Dl(e.parentNode,n):e.nodeType===1&&Dl(e,n),jo(e)):Dl(Pe,n.stateNode));break;case 4:r=Pe,o=vt,Pe=n.stateNode.containerInfo,vt=!0,nn(e,t,n),Pe=r,vt=o;break;case 0:case 11:case 14:case 15:if(!De&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Wu(n,t,s),o=o.next}while(o!==r)}nn(e,t,n);break;case 1:if(!De&&(Cr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pe(n,t,l)}nn(e,t,n);break;case 21:nn(e,t,n);break;case 22:n.mode&1?(De=(r=De)||n.memoizedState!==null,nn(e,t,n),De=r):nn(e,t,n);break;default:nn(e,t,n)}}function Ff(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new bv),t.forEach(function(r){var o=Kv.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function gt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Pe=l.stateNode,vt=!1;break e;case 3:Pe=l.stateNode.containerInfo,vt=!0;break e;case 4:Pe=l.stateNode.containerInfo,vt=!0;break e}l=l.return}if(Pe===null)throw Error(V(160));Uh(i,s,o),Pe=null,vt=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(a){pe(o,t,a)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wh(t,e),t=t.sibling}function Wh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gt(t,e),$t(e),r&4){try{zo(3,e,e.return),qs(3,e)}catch(v){pe(e,e.return,v)}try{zo(5,e,e.return)}catch(v){pe(e,e.return,v)}}break;case 1:gt(t,e),$t(e),r&512&&n!==null&&Cr(n,n.return);break;case 5:if(gt(t,e),$t(e),r&512&&n!==null&&Cr(n,n.return),e.flags&32){var o=e.stateNode;try{Lo(o,"")}catch(v){pe(e,e.return,v)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&pp(o,i),vu(l,s);var a=vu(l,i);for(s=0;s<u.length;s+=2){var c=u[s],f=u[s+1];c==="style"?vp(o,f):c==="dangerouslySetInnerHTML"?gp(o,f):c==="children"?Lo(o,f):Pa(o,c,f,a)}switch(l){case"input":pu(o,i);break;case"textarea":hp(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?$r(o,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?$r(o,!!i.multiple,i.defaultValue,!0):$r(o,!!i.multiple,i.multiple?[]:"",!1))}o[Wo]=i}catch(v){pe(e,e.return,v)}}break;case 6:if(gt(t,e),$t(e),r&4){if(e.stateNode===null)throw Error(V(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(v){pe(e,e.return,v)}}break;case 3:if(gt(t,e),$t(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jo(t.containerInfo)}catch(v){pe(e,e.return,v)}break;case 4:gt(t,e),$t(e);break;case 13:gt(t,e),$t(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(sc=ye())),r&4&&Ff(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(De=(a=De)||c,gt(t,e),De=a):gt(t,e),$t(e),r&8192){if(a=e.memoizedState!==null,(e.stateNode.isHidden=a)&&!c&&e.mode&1)for(W=e,c=e.child;c!==null;){for(f=W=c;W!==null;){switch(d=W,g=d.child,d.tag){case 0:case 11:case 14:case 15:zo(4,d,d.return);break;case 1:Cr(d,d.return);var x=d.stateNode;if(typeof x.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){pe(r,n,v)}}break;case 5:Cr(d,d.return);break;case 22:if(d.memoizedState!==null){Hf(f);continue}}g!==null?(g.return=d,W=g):Hf(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{o=f.stateNode,a?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=yp("display",s))}catch(v){pe(e,e.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=a?"":f.memoizedProps}catch(v){pe(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gt(t,e),$t(e),r&4&&Ff(e);break;case 21:break;default:gt(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Bh(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Lo(o,""),r.flags&=-33);var i=bf(e);Ku(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=bf(e);Yu(e,l,s);break;default:throw Error(V(161))}}catch(u){pe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jv(e,t,n){W=e,Qh(e)}function Qh(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var o=W,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Ii;if(!s){var l=o.alternate,u=l!==null&&l.memoizedState!==null||De;l=Ii;var a=De;if(Ii=s,(De=u)&&!a)for(W=o;W!==null;)s=W,u=s.child,s.tag===22&&s.memoizedState!==null?Vf(o):u!==null?(u.return=s,W=u):Vf(o);for(;i!==null;)W=i,Qh(i),i=i.sibling;W=o,Ii=l,De=a}jf(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,W=i):jf(e)}}function jf(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||qs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!De)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:yt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Nf(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Nf(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var a=t.alternate;if(a!==null){var c=a.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&jo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}De||t.flags&512&&Qu(t)}catch(d){pe(t,t.return,d)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Hf(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function Vf(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qs(4,t)}catch(u){pe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(u){pe(t,o,u)}}var i=t.return;try{Qu(t)}catch(u){pe(t,i,u)}break;case 5:var s=t.return;try{Qu(t)}catch(u){pe(t,s,u)}}}catch(u){pe(t,t.return,u)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var Hv=Math.ceil,Ns=tn.ReactCurrentDispatcher,oc=tn.ReactCurrentOwner,ft=tn.ReactCurrentBatchConfig,ne=0,ke=null,ve=null,Te=0,qe=0,Pr=Tn(0),Se=0,Go=null,Jn=0,Gs=0,ic=0,Ao=null,Be=null,sc=0,Ur=1/0,Ht=null,ks=!1,Xu=null,wn=null,zi=!1,pn=null,Cs=0,Ro=0,qu=null,Zi=-1,Ji=0;function je(){return ne&6?ye():Zi!==-1?Zi:Zi=ye()}function xn(e){return e.mode&1?ne&2&&Te!==0?Te&-Te:Nv.transition!==null?(Ji===0&&(Ji=Mp()),Ji):(e=re,e!==0||(e=window.event,e=e===void 0?16:Op(e.type)),e):1}function Nt(e,t,n,r){if(50<Ro)throw Ro=0,qu=null,Error(V(185));ai(e,n,r),(!(ne&2)||e!==ke)&&(e===ke&&(!(ne&2)&&(Gs|=n),Se===4&&cn(e,Te)),Ke(e,r),n===1&&ne===0&&!(t.mode&1)&&(Ur=ye()+500,Ys&&$n()))}function Ke(e,t){var n=e.callbackNode;Ny(e,t);var r=as(e,e===ke?Te:0);if(r===0)n!==null&&qc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qc(n),t===1)e.tag===0?_v(Bf.bind(null,e)):nh(Bf.bind(null,e)),wv(function(){!(ne&6)&&$n()}),n=null;else{switch(Ip(r)){case 1:n=za;break;case 4:n=Tp;break;case 16:n=us;break;case 536870912:n=$p;break;default:n=us}n=em(n,Yh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Yh(e,t){if(Zi=-1,Ji=0,ne&6)throw Error(V(327));var n=e.callbackNode;if(Rr()&&e.callbackNode!==n)return null;var r=as(e,e===ke?Te:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ps(e,r);else{t=r;var o=ne;ne|=2;var i=Xh();(ke!==e||Te!==t)&&(Ht=null,Ur=ye()+500,Qn(e,t));do try{Uv();break}catch(l){Kh(e,l)}while(!0);Wa(),Ns.current=i,ne=o,ve!==null?t=0:(ke=null,Te=0,t=Se)}if(t!==0){if(t===2&&(o=_u(e),o!==0&&(r=o,t=Gu(e,o))),t===1)throw n=Go,Qn(e,0),cn(e,r),Ke(e,ye()),n;if(t===6)cn(e,r);else{if(o=e.current.alternate,!(r&30)&&!Vv(o)&&(t=Ps(e,r),t===2&&(i=_u(e),i!==0&&(r=i,t=Gu(e,i))),t===1))throw n=Go,Qn(e,0),cn(e,r),Ke(e,ye()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:On(e,Be,Ht);break;case 3:if(cn(e,r),(r&130023424)===r&&(t=sc+500-ye(),10<t)){if(as(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){je(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Iu(On.bind(null,e,Be,Ht),t);break}On(e,Be,Ht);break;case 4:if(cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-_t(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hv(r/1960))-r,10<r){e.timeoutHandle=Iu(On.bind(null,e,Be,Ht),r);break}On(e,Be,Ht);break;case 5:On(e,Be,Ht);break;default:throw Error(V(329))}}}return Ke(e,ye()),e.callbackNode===n?Yh.bind(null,e):null}function Gu(e,t){var n=Ao;return e.current.memoizedState.isDehydrated&&(Qn(e,t).flags|=256),e=Ps(e,t),e!==2&&(t=Be,Be=n,t!==null&&Zu(t)),e}function Zu(e){Be===null?Be=e:Be.push.apply(Be,e)}function Vv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!kt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~ic,t&=~Gs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),r=1<<n;e[n]=-1,t&=~r}}function Bf(e){if(ne&6)throw Error(V(327));Rr();var t=as(e,0);if(!(t&1))return Ke(e,ye()),null;var n=Ps(e,t);if(e.tag!==0&&n===2){var r=_u(e);r!==0&&(t=r,n=Gu(e,r))}if(n===1)throw n=Go,Qn(e,0),cn(e,t),Ke(e,ye()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,On(e,Be,Ht),Ke(e,ye()),null}function lc(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(Ur=ye()+500,Ys&&$n())}}function er(e){pn!==null&&pn.tag===0&&!(ne&6)&&Rr();var t=ne;ne|=1;var n=ft.transition,r=re;try{if(ft.transition=null,re=1,e)return e()}finally{re=r,ft.transition=n,ne=t,!(ne&6)&&$n()}}function uc(){qe=Pr.current,ue(Pr)}function Qn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vv(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(Va(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hs();break;case 3:Vr(),ue(Qe),ue(Le),Ga();break;case 5:qa(r);break;case 4:Vr();break;case 13:ue(ce);break;case 19:ue(ce);break;case 10:Qa(r.type._context);break;case 22:case 23:uc()}n=n.return}if(ke=e,ve=e=Sn(e.current,null),Te=qe=t,Se=0,Go=null,ic=Gs=Jn=0,Be=Ao=null,Vn!==null){for(t=0;t<Vn.length;t++)if(n=Vn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Vn=null}return e}function Kh(e,t){do{var n=ve;try{if(Wa(),Xi.current=_s,Es){for(var r=fe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Es=!1}if(Zn=0,_e=xe=fe=null,Io=!1,Ko=0,oc.current=null,n===null||n.return===null){Se=1,Go=t,ve=null;break}e:{var i=e,s=n.return,l=n,u=t;if(t=Te,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var a=u,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Mf(s);if(g!==null){g.flags&=-257,If(g,s,l,i,t),g.mode&1&&$f(i,a,t),t=g,u=a;var x=t.updateQueue;if(x===null){var v=new Set;v.add(u),t.updateQueue=v}else x.add(u);break e}else{if(!(t&1)){$f(i,a,t),ac();break e}u=Error(V(426))}}else if(ae&&l.mode&1){var _=Mf(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),If(_,s,l,i,t),Ba(Br(u,l));break e}}i=u=Br(u,l),Se!==4&&(Se=2),Ao===null?Ao=[i]:Ao.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Ih(i,u,t);_f(i,p);break e;case 1:l=u;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(wn===null||!wn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var h=zh(i,l,t);_f(i,h);break e}}i=i.return}while(i!==null)}Gh(n)}catch(S){t=S,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function Xh(){var e=Ns.current;return Ns.current=_s,e===null?_s:e}function ac(){(Se===0||Se===3||Se===2)&&(Se=4),ke===null||!(Jn&268435455)&&!(Gs&268435455)||cn(ke,Te)}function Ps(e,t){var n=ne;ne|=2;var r=Xh();(ke!==e||Te!==t)&&(Ht=null,Qn(e,t));do try{Bv();break}catch(o){Kh(e,o)}while(!0);if(Wa(),ne=n,Ns.current=r,ve!==null)throw Error(V(261));return ke=null,Te=0,Se}function Bv(){for(;ve!==null;)qh(ve)}function Uv(){for(;ve!==null&&!my();)qh(ve)}function qh(e){var t=Jh(e.alternate,e,qe);e.memoizedProps=e.pendingProps,t===null?Gh(e):ve=t,oc.current=null}function Gh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ov(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,ve=null;return}}else if(n=Lv(n,t,qe),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);Se===0&&(Se=5)}function On(e,t,n){var r=re,o=ft.transition;try{ft.transition=null,re=1,Wv(e,t,n,r)}finally{ft.transition=o,re=r}return null}function Wv(e,t,n,r){do Rr();while(pn!==null);if(ne&6)throw Error(V(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(ky(e,i),e===ke&&(ve=ke=null,Te=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zi||(zi=!0,em(us,function(){return Rr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ft.transition,ft.transition=null;var s=re;re=1;var l=ne;ne|=4,oc.current=null,Fv(e,n),Wh(n,e),fv($u),cs=!!Tu,$u=Tu=null,e.current=n,jv(n),gy(),ne=l,re=s,ft.transition=i}else e.current=n;if(zi&&(zi=!1,pn=e,Cs=o),i=e.pendingLanes,i===0&&(wn=null),wy(n.stateNode),Ke(e,ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ks)throw ks=!1,e=Xu,Xu=null,e;return Cs&1&&e.tag!==0&&Rr(),i=e.pendingLanes,i&1?e===qu?Ro++:(Ro=0,qu=e):Ro=0,$n(),null}function Rr(){if(pn!==null){var e=Ip(Cs),t=ft.transition,n=re;try{if(ft.transition=null,re=16>e?16:e,pn===null)var r=!1;else{if(e=pn,pn=null,Cs=0,ne&6)throw Error(V(331));var o=ne;for(ne|=4,W=e.current;W!==null;){var i=W,s=i.child;if(W.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var a=l[u];for(W=a;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:zo(8,c,i)}var f=c.child;if(f!==null)f.return=c,W=f;else for(;W!==null;){c=W;var d=c.sibling,g=c.return;if(Vh(c),c===a){W=null;break}if(d!==null){d.return=g,W=d;break}W=g}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}W=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,W=s;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zo(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,W=p;break e}W=i.return}}var m=e.current;for(W=m;W!==null;){s=W;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,W=y;else e:for(s=m;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qs(9,l)}}catch(S){pe(l,l.return,S)}if(l===s){W=null;break e}var h=l.sibling;if(h!==null){h.return=l.return,W=h;break e}W=l.return}}if(ne=o,$n(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Vs,e)}catch{}r=!0}return r}finally{re=n,ft.transition=t}}return!1}function Uf(e,t,n){t=Br(n,t),t=Ih(e,t,1),e=vn(e,t,1),t=je(),e!==null&&(ai(e,1,t),Ke(e,t))}function pe(e,t,n){if(e.tag===3)Uf(e,e,n);else for(;t!==null;){if(t.tag===3){Uf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wn===null||!wn.has(r))){e=Br(n,e),e=zh(t,e,1),t=vn(t,e,1),e=je(),t!==null&&(ai(t,1,e),Ke(t,e));break}}t=t.return}}function Qv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=je(),e.pingedLanes|=e.suspendedLanes&n,ke===e&&(Te&n)===n&&(Se===4||Se===3&&(Te&130023424)===Te&&500>ye()-sc?Qn(e,0):ic|=n),Ke(e,t)}function Zh(e,t){t===0&&(e.mode&1?(t=Ei,Ei<<=1,!(Ei&130023424)&&(Ei=4194304)):t=1);var n=je();e=Gt(e,t),e!==null&&(ai(e,t,n),Ke(e,n))}function Yv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zh(e,n)}function Kv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),Zh(e,n)}var Jh;Jh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Ue=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ue=!1,Dv(e,t,n);Ue=!!(e.flags&131072)}else Ue=!1,ae&&t.flags&1048576&&rh(t,ys,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gi(e,t),e=t.pendingProps;var o=Fr(t,Le.current);Ar(t,n),o=Ja(null,t,r,e,o,n);var i=ec();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(r)?(i=!0,ms(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ka(t),o.updater=Xs,t.stateNode=o,o._reactInternals=t,bu(t,r,e,n),t=Hu(null,t,r,!0,i,n)):(t.tag=0,ae&&i&&Ha(t),Fe(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gi(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=qv(r),e=yt(r,e),o){case 0:t=ju(null,t,r,e,n);break e;case 1:t=Rf(null,t,r,e,n);break e;case 11:t=zf(null,t,r,e,n);break e;case 14:t=Af(null,t,r,yt(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yt(r,o),ju(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yt(r,o),Rf(e,t,r,o,n);case 3:e:{if(Lh(t),e===null)throw Error(V(387));r=t.pendingProps,i=t.memoizedState,o=i.element,ah(e,t),xs(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Br(Error(V(423)),t),t=Df(e,t,r,n,o);break e}else if(r!==o){o=Br(Error(V(424)),t),t=Df(e,t,r,n,o);break e}else for(Ge=yn(t.stateNode.containerInfo.firstChild),Ze=t,ae=!0,xt=null,n=lh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jr(),r===o){t=Zt(e,t,n);break e}Fe(e,t,r,n)}t=t.child}return t;case 5:return ch(t),e===null&&Du(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Mu(r,o)?s=null:i!==null&&Mu(r,i)&&(t.flags|=32),Dh(e,t),Fe(e,t,s,n),t.child;case 6:return e===null&&Du(t),null;case 13:return Oh(e,t,n);case 4:return Xa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hr(t,null,r,n):Fe(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yt(r,o),zf(e,t,r,o,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,ie(vs,r._currentValue),r._currentValue=s,i!==null)if(kt(i.value,s)){if(i.children===o.children&&!Qe.current){t=Zt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Yt(-1,n&-n),u.tag=2;var a=i.updateQueue;if(a!==null){a=a.shared;var c=a.pending;c===null?u.next=u:(u.next=c.next,c.next=u),a.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Lu(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(V(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Lu(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Fe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ar(t,n),o=pt(o),r=r(o),t.flags|=1,Fe(e,t,r,n),t.child;case 14:return r=t.type,o=yt(r,t.pendingProps),o=yt(r.type,o),Af(e,t,r,o,n);case 15:return Ah(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yt(r,o),Gi(e,t),t.tag=1,Ye(r)?(e=!0,ms(t)):e=!1,Ar(t,n),Mh(t,r,o),bu(t,r,o,n),Hu(null,t,r,!0,e,n);case 19:return bh(e,t,n);case 22:return Rh(e,t,n)}throw Error(V(156,t.tag))};function em(e,t){return Pp(e,t)}function Xv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(e,t,n,r){return new Xv(e,t,n,r)}function cc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qv(e){if(typeof e=="function")return cc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$a)return 11;if(e===Ma)return 14}return 2}function Sn(e,t){var n=e.alternate;return n===null?(n=at(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function es(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")cc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case yr:return Yn(n.children,o,i,t);case Ta:s=8,o|=8;break;case uu:return e=at(12,n,t,o|2),e.elementType=uu,e.lanes=i,e;case au:return e=at(13,n,t,o),e.elementType=au,e.lanes=i,e;case cu:return e=at(19,n,t,o),e.elementType=cu,e.lanes=i,e;case cp:return Zs(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case up:s=10;break e;case ap:s=9;break e;case $a:s=11;break e;case Ma:s=14;break e;case on:s=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=at(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Yn(e,t,n,r){return e=at(7,e,r,t),e.lanes=n,e}function Zs(e,t,n,r){return e=at(22,e,r,t),e.elementType=cp,e.lanes=n,e.stateNode={isHidden:!1},e}function Bl(e,t,n){return e=at(6,e,null,t),e.lanes=n,e}function Ul(e,t,n){return t=at(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gv(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nl(0),this.expirationTimes=Nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function fc(e,t,n,r,o,i,s,l,u){return e=new Gv(e,t,n,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=at(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ka(i),e}function Zv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function tm(e){if(!e)return kn;e=e._reactInternals;e:{if(ir(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(Ye(n))return th(e,n,t)}return t}function nm(e,t,n,r,o,i,s,l,u){return e=fc(n,r,!0,e,o,i,s,l,u),e.context=tm(null),n=e.current,r=je(),o=xn(n),i=Yt(r,o),i.callback=t??null,vn(n,i,o),e.current.lanes=o,ai(e,o,r),Ke(e,r),e}function Js(e,t,n,r){var o=t.current,i=je(),s=xn(o);return n=tm(n),t.context===null?t.context=n:t.pendingContext=n,t=Yt(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=vn(o,t,s),e!==null&&(Nt(e,o,s,i),Ki(e,o,s)),s}function Ts(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dc(e,t){Wf(e,t),(e=e.alternate)&&Wf(e,t)}function Jv(){return null}var rm=typeof reportError=="function"?reportError:function(e){console.error(e)};function pc(e){this._internalRoot=e}el.prototype.render=pc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));Js(e,t,null,null)};el.prototype.unmount=pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;er(function(){Js(null,e,null,null)}),t[qt]=null}};function el(e){this._internalRoot=e}el.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<an.length&&t!==0&&t<an[n].priority;n++);an.splice(n,0,e),n===0&&Lp(e)}};function hc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qf(){}function e1(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var a=Ts(s);i.call(a)}}var s=nm(t,r,e,0,null,!1,!1,"",Qf);return e._reactRootContainer=s,e[qt]=s.current,Bo(e.nodeType===8?e.parentNode:e),er(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var a=Ts(u);l.call(a)}}var u=fc(e,0,!1,null,null,!1,!1,"",Qf);return e._reactRootContainer=u,e[qt]=u.current,Bo(e.nodeType===8?e.parentNode:e),er(function(){Js(t,u,n,r)}),u}function nl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var u=Ts(s);l.call(u)}}Js(t,s,e,o)}else s=e1(n,t,e,o,r);return Ts(s)}zp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=So(t.pendingLanes);n!==0&&(Aa(t,n|1),Ke(t,ye()),!(ne&6)&&(Ur=ye()+500,$n()))}break;case 13:er(function(){var r=Gt(e,1);if(r!==null){var o=je();Nt(r,e,1,o)}}),dc(e,1)}};Ra=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var n=je();Nt(t,e,134217728,n)}dc(e,134217728)}};Ap=function(e){if(e.tag===13){var t=xn(e),n=Gt(e,t);if(n!==null){var r=je();Nt(n,e,t,r)}dc(e,t)}};Rp=function(){return re};Dp=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};xu=function(e,t,n){switch(t){case"input":if(pu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Qs(r);if(!o)throw Error(V(90));dp(r),pu(r,o)}}}break;case"textarea":hp(e,n);break;case"select":t=n.value,t!=null&&$r(e,!!n.multiple,t,!1)}};Sp=lc;Ep=er;var t1={usingClientEntryPoint:!1,Events:[fi,Sr,Qs,wp,xp,lc]},fo={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},n1={bundleType:fo.bundleType,version:fo.version,rendererPackageName:fo.rendererPackageName,rendererConfig:fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kp(e),e===null?null:e.stateNode},findFiberByHostInstance:fo.findFiberByHostInstance||Jv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ai=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ai.isDisabled&&Ai.supportsFiber)try{Vs=Ai.inject(n1),zt=Ai}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t1;rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hc(t))throw Error(V(200));return Zv(e,t,null,n)};rt.createRoot=function(e,t){if(!hc(e))throw Error(V(299));var n=!1,r="",o=rm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=fc(e,1,!1,null,null,n,!1,r,o),e[qt]=t.current,Bo(e.nodeType===8?e.parentNode:e),new pc(t)};rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=kp(t),e=e===null?null:e.stateNode,e};rt.flushSync=function(e){return er(e)};rt.hydrate=function(e,t,n){if(!tl(t))throw Error(V(200));return nl(null,e,t,!0,n)};rt.hydrateRoot=function(e,t,n){if(!hc(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=rm;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=nm(t,null,e,1,n??null,o,!1,i,s),e[qt]=t.current,Bo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new el(t)};rt.render=function(e,t,n){if(!tl(t))throw Error(V(200));return nl(null,e,t,!1,n)};rt.unmountComponentAtNode=function(e){if(!tl(e))throw Error(V(40));return e._reactRootContainer?(er(function(){nl(null,null,e,!1,function(){e._reactRootContainer=null,e[qt]=null})}),!0):!1};rt.unstable_batchedUpdates=lc;rt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tl(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return nl(e,t,n,!1,r)};rt.version="18.3.1-next-f1338f8080-20240426";function om(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(om)}catch(e){console.error(e)}}om(),op.exports=rt;var r1=op.exports,Yf=r1;su.createRoot=Yf.createRoot,su.hydrateRoot=Yf.hydrateRoot;function Me(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Me(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var im={exports:{}},sm={},lm={exports:{}},um={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wr=I;function o1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var i1=typeof Object.is=="function"?Object.is:o1,s1=Wr.useState,l1=Wr.useEffect,u1=Wr.useLayoutEffect,a1=Wr.useDebugValue;function c1(e,t){var n=t(),r=s1({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return u1(function(){o.value=n,o.getSnapshot=t,Wl(o)&&i({inst:o})},[e,n,t]),l1(function(){return Wl(o)&&i({inst:o}),e(function(){Wl(o)&&i({inst:o})})},[e]),a1(n),n}function Wl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i1(e,n)}catch{return!0}}function f1(e,t){return t()}var d1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f1:c1;um.useSyncExternalStore=Wr.useSyncExternalStore!==void 0?Wr.useSyncExternalStore:d1;lm.exports=um;var p1=lm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rl=I,h1=p1;function m1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var g1=typeof Object.is=="function"?Object.is:m1,y1=h1.useSyncExternalStore,v1=rl.useRef,w1=rl.useEffect,x1=rl.useMemo,S1=rl.useDebugValue;sm.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=v1(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=x1(function(){function u(g){if(!a){if(a=!0,c=g,g=r(g),o!==void 0&&s.hasValue){var x=s.value;if(o(x,g))return f=x}return f=g}if(x=f,g1(c,g))return x;var v=r(g);return o!==void 0&&o(x,v)?(c=g,x):(c=g,f=v)}var a=!1,c,f,d=n===void 0?null:n;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,n,r,o]);var l=y1(e,i[0],i[1]);return w1(function(){s.hasValue=!0,s.value=l},[l]),S1(l),l};im.exports=sm;var E1=im.exports;const am=Qd(E1),_1={},Kf=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const g=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(x=>x(t,g))}},o=()=>t,u={setState:r,getState:o,getInitialState:()=>a,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(_1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,o,u);return u},cm=e=>e?Kf(e):Kf,{useDebugValue:N1}=D,{useSyncExternalStoreWithSelector:k1}=am,C1=e=>e;function fm(e,t=C1,n){const r=k1(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return N1(r),r}const Xf=(e,t)=>{const n=cm(e),r=(o,i=t)=>fm(n,o,i);return Object.assign(r,n),r},P1=(e,t)=>e?Xf(e,t):Xf;function Ce(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var T1={value:()=>{}};function ol(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ts(n)}function ts(e){this._=e}function $1(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ts.prototype=ol.prototype={constructor:ts,on:function(e,t){var n=this._,r=$1(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=M1(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=qf(n[o],e.name,t);else if(t==null)for(o in n)n[o]=qf(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ts(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function M1(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function qf(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=T1,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ju="http://www.w3.org/1999/xhtml";const Gf={svg:"http://www.w3.org/2000/svg",xhtml:Ju,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function il(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Gf.hasOwnProperty(t)?{space:Gf[t],local:e}:e}function I1(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ju&&t.documentElement.namespaceURI===Ju?t.createElement(e):t.createElementNS(n,e)}}function z1(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function dm(e){var t=il(e);return(t.local?z1:I1)(t)}function A1(){}function mc(e){return e==null?A1:function(){return this.querySelector(e)}}function R1(e){typeof e!="function"&&(e=mc(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=new Array(s),u,a,c=0;c<s;++c)(u=i[c])&&(a=e.call(u,u.__data__,c,i))&&("__data__"in u&&(a.__data__=u.__data__),l[c]=a);return new et(r,this._parents)}function D1(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function L1(){return[]}function pm(e){return e==null?L1:function(){return this.querySelectorAll(e)}}function O1(e){return function(){return D1(e.apply(this,arguments))}}function b1(e){typeof e=="function"?e=O1(e):e=pm(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],l=s.length,u,a=0;a<l;++a)(u=s[a])&&(r.push(e.call(u,u.__data__,a,s)),o.push(u));return new et(r,o)}function hm(e){return function(){return this.matches(e)}}function mm(e){return function(t){return t.matches(e)}}var F1=Array.prototype.find;function j1(e){return function(){return F1.call(this.children,e)}}function H1(){return this.firstElementChild}function V1(e){return this.select(e==null?H1:j1(typeof e=="function"?e:mm(e)))}var B1=Array.prototype.filter;function U1(){return Array.from(this.children)}function W1(e){return function(){return B1.call(this.children,e)}}function Q1(e){return this.selectAll(e==null?U1:W1(typeof e=="function"?e:mm(e)))}function Y1(e){typeof e!="function"&&(e=hm(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],u,a=0;a<s;++a)(u=i[a])&&e.call(u,u.__data__,a,i)&&l.push(u);return new et(r,this._parents)}function gm(e){return new Array(e.length)}function K1(){return new et(this._enter||this._groups.map(gm),this._parents)}function $s(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}$s.prototype={constructor:$s,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function X1(e){return function(){return e}}function q1(e,t,n,r,o,i){for(var s=0,l,u=t.length,a=i.length;s<a;++s)(l=t[s])?(l.__data__=i[s],r[s]=l):n[s]=new $s(e,i[s]);for(;s<u;++s)(l=t[s])&&(o[s]=l)}function G1(e,t,n,r,o,i,s){var l,u,a=new Map,c=t.length,f=i.length,d=new Array(c),g;for(l=0;l<c;++l)(u=t[l])&&(d[l]=g=s.call(u,u.__data__,l,t)+"",a.has(g)?o[l]=u:a.set(g,u));for(l=0;l<f;++l)g=s.call(e,i[l],l,i)+"",(u=a.get(g))?(r[l]=u,u.__data__=i[l],a.delete(g)):n[l]=new $s(e,i[l]);for(l=0;l<c;++l)(u=t[l])&&a.get(d[l])===u&&(o[l]=u)}function Z1(e){return e.__data__}function J1(e,t){if(!arguments.length)return Array.from(this,Z1);var n=t?G1:q1,r=this._parents,o=this._groups;typeof e!="function"&&(e=X1(e));for(var i=o.length,s=new Array(i),l=new Array(i),u=new Array(i),a=0;a<i;++a){var c=r[a],f=o[a],d=f.length,g=ew(e.call(c,c&&c.__data__,a,r)),x=g.length,v=l[a]=new Array(x),_=s[a]=new Array(x),p=u[a]=new Array(d);n(c,f,v,_,p,g,t);for(var m=0,y=0,h,S;m<x;++m)if(h=v[m]){for(m>=y&&(y=m+1);!(S=_[y])&&++y<x;);h._next=S||null}}return s=new et(s,r),s._enter=l,s._exit=u,s}function ew(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tw(){return new et(this._exit||this._groups.map(gm),this._parents)}function nw(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function rw(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),l=new Array(o),u=0;u<s;++u)for(var a=n[u],c=r[u],f=a.length,d=l[u]=new Array(f),g,x=0;x<f;++x)(g=a[x]||c[x])&&(d[x]=g);for(;u<o;++u)l[u]=n[u];return new et(l,this._parents)}function ow(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function iw(e){e||(e=sw);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],l=s.length,u=o[i]=new Array(l),a,c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(t)}return new et(o,this._parents).order()}function sw(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function lw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function uw(){return Array.from(this)}function aw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function cw(){let e=0;for(const t of this)++e;return e}function fw(){return!this.node()}function dw(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,l;i<s;++i)(l=o[i])&&e.call(l,l.__data__,i,o);return this}function pw(e){return function(){this.removeAttribute(e)}}function hw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mw(e,t){return function(){this.setAttribute(e,t)}}function gw(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function yw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function vw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ww(e,t){var n=il(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?hw:pw:typeof t=="function"?n.local?vw:yw:n.local?gw:mw)(n,t))}function ym(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function xw(e){return function(){this.style.removeProperty(e)}}function Sw(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ew(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function _w(e,t,n){return arguments.length>1?this.each((t==null?xw:typeof t=="function"?Ew:Sw)(e,t,n??"")):Qr(this.node(),e)}function Qr(e,t){return e.style.getPropertyValue(t)||ym(e).getComputedStyle(e,null).getPropertyValue(t)}function Nw(e){return function(){delete this[e]}}function kw(e,t){return function(){this[e]=t}}function Cw(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Pw(e,t){return arguments.length>1?this.each((t==null?Nw:typeof t=="function"?Cw:kw)(e,t)):this.node()[e]}function vm(e){return e.trim().split(/^|\s+/)}function gc(e){return e.classList||new wm(e)}function wm(e){this._node=e,this._names=vm(e.getAttribute("class")||"")}wm.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function xm(e,t){for(var n=gc(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Sm(e,t){for(var n=gc(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Tw(e){return function(){xm(this,e)}}function $w(e){return function(){Sm(this,e)}}function Mw(e,t){return function(){(t.apply(this,arguments)?xm:Sm)(this,e)}}function Iw(e,t){var n=vm(e+"");if(arguments.length<2){for(var r=gc(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Mw:t?Tw:$w)(n,t))}function zw(){this.textContent=""}function Aw(e){return function(){this.textContent=e}}function Rw(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Dw(e){return arguments.length?this.each(e==null?zw:(typeof e=="function"?Rw:Aw)(e)):this.node().textContent}function Lw(){this.innerHTML=""}function Ow(e){return function(){this.innerHTML=e}}function bw(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Fw(e){return arguments.length?this.each(e==null?Lw:(typeof e=="function"?bw:Ow)(e)):this.node().innerHTML}function jw(){this.nextSibling&&this.parentNode.appendChild(this)}function Hw(){return this.each(jw)}function Vw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Bw(){return this.each(Vw)}function Uw(e){var t=typeof e=="function"?e:dm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ww(){return null}function Qw(e,t){var n=typeof e=="function"?e:dm(e),r=t==null?Ww:typeof t=="function"?t:mc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Yw(){var e=this.parentNode;e&&e.removeChild(this)}function Kw(){return this.each(Yw)}function Xw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Gw(e){return this.select(e?qw:Xw)}function Zw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Jw(e){return function(t){e.call(this,t,this.__data__)}}function ex(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function tx(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function nx(e,t,n){return function(){var r=this.__on,o,i=Jw(t);if(r){for(var s=0,l=r.length;s<l;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function rx(e,t,n){var r=ex(e+""),o,i=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,a=l.length,c;u<a;++u)for(o=0,c=l[u];o<i;++o)if((s=r[o]).type===c.type&&s.name===c.name)return c.value}return}for(l=t?nx:tx,o=0;o<i;++o)this.each(l(r[o],t,n));return this}function Em(e,t,n){var r=ym(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function ox(e,t){return function(){return Em(this,e,t)}}function ix(e,t){return function(){return Em(this,e,t.apply(this,arguments))}}function sx(e,t){return this.each((typeof t=="function"?ix:ox)(e,t))}function*lx(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var _m=[null];function et(e,t){this._groups=e,this._parents=t}function pi(){return new et([[document.documentElement]],_m)}function ux(){return this}et.prototype=pi.prototype={constructor:et,select:R1,selectAll:b1,selectChild:V1,selectChildren:Q1,filter:Y1,data:J1,enter:K1,exit:tw,join:nw,merge:rw,selection:ux,order:ow,sort:iw,call:lw,nodes:uw,node:aw,size:cw,empty:fw,each:dw,attr:ww,style:_w,property:Pw,classed:Iw,text:Dw,html:Fw,raise:Hw,lower:Bw,append:Uw,insert:Qw,remove:Kw,clone:Gw,datum:Zw,on:rx,dispatch:sx,[Symbol.iterator]:lx};function lt(e){return typeof e=="string"?new et([[document.querySelector(e)]],[document.documentElement]):new et([[e]],_m)}function ax(e){let t;for(;t=e.sourceEvent;)e=t;return e}function wt(e,t){if(e=ax(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const cx={passive:!1},Zo={capture:!0,passive:!1};function Ql(e){e.stopImmediatePropagation()}function Dr(e){e.preventDefault(),e.stopImmediatePropagation()}function Nm(e){var t=e.document.documentElement,n=lt(e).on("dragstart.drag",Dr,Zo);"onselectstart"in t?n.on("selectstart.drag",Dr,Zo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function km(e,t){var n=e.document.documentElement,r=lt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Dr,Zo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ri=e=>()=>e;function ea(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:l,dx:u,dy:a,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:a,enumerable:!0,configurable:!0},_:{value:c}})}ea.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function fx(e){return!e.ctrlKey&&!e.button}function dx(){return this.parentNode}function px(e,t){return t??{x:e.x,y:e.y}}function hx(){return navigator.maxTouchPoints||"ontouchstart"in this}function mx(){var e=fx,t=dx,n=px,r=hx,o={},i=ol("start","drag","end"),s=0,l,u,a,c,f=0;function d(h){h.on("mousedown.drag",g).filter(r).on("touchstart.drag",_).on("touchmove.drag",p,cx).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(h,S){if(!(c||!e.call(this,h,S))){var k=y(this,t.call(this,h,S),h,S,"mouse");k&&(lt(h.view).on("mousemove.drag",x,Zo).on("mouseup.drag",v,Zo),Nm(h.view),Ql(h),a=!1,l=h.clientX,u=h.clientY,k("start",h))}}function x(h){if(Dr(h),!a){var S=h.clientX-l,k=h.clientY-u;a=S*S+k*k>f}o.mouse("drag",h)}function v(h){lt(h.view).on("mousemove.drag mouseup.drag",null),km(h.view,a),Dr(h),o.mouse("end",h)}function _(h,S){if(e.call(this,h,S)){var k=h.changedTouches,N=t.call(this,h,S),C=k.length,T,z;for(T=0;T<C;++T)(z=y(this,N,h,S,k[T].identifier,k[T]))&&(Ql(h),z("start",h,k[T]))}}function p(h){var S=h.changedTouches,k=S.length,N,C;for(N=0;N<k;++N)(C=o[S[N].identifier])&&(Dr(h),C("drag",h,S[N]))}function m(h){var S=h.changedTouches,k=S.length,N,C;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),N=0;N<k;++N)(C=o[S[N].identifier])&&(Ql(h),C("end",h,S[N]))}function y(h,S,k,N,C,T){var z=i.copy(),H=wt(T||k,S),j,O,w;if((w=n.call(h,new ea("beforestart",{sourceEvent:k,target:d,identifier:C,active:s,x:H[0],y:H[1],dx:0,dy:0,dispatch:z}),N))!=null)return j=w.x-H[0]||0,O=w.y-H[1]||0,function M(P,b,$){var E=H,A;switch(P){case"start":o[C]=M,A=s++;break;case"end":delete o[C],--s;case"drag":H=wt($||b,S),A=s;break}z.call(P,h,new ea(P,{sourceEvent:b,subject:w,target:d,identifier:C,active:A,x:H[0]+j,y:H[1]+O,dx:H[0]-E[0],dy:H[1]-E[1],dispatch:z}),N)}}return d.filter=function(h){return arguments.length?(e=typeof h=="function"?h:Ri(!!h),d):e},d.container=function(h){return arguments.length?(t=typeof h=="function"?h:Ri(h),d):t},d.subject=function(h){return arguments.length?(n=typeof h=="function"?h:Ri(h),d):n},d.touchable=function(h){return arguments.length?(r=typeof h=="function"?h:Ri(!!h),d):r},d.on=function(){var h=i.on.apply(i,arguments);return h===i?d:h},d.clickDistance=function(h){return arguments.length?(f=(h=+h)*h,d):Math.sqrt(f)},d}function yc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Cm(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function hi(){}var Jo=.7,Ms=1/Jo,Lr="\\s*([+-]?\\d+)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gx=/^#([0-9a-f]{3,8})$/,yx=new RegExp(`^rgb\\(${Lr},${Lr},${Lr}\\)$`),vx=new RegExp(`^rgb\\(${Rt},${Rt},${Rt}\\)$`),wx=new RegExp(`^rgba\\(${Lr},${Lr},${Lr},${ei}\\)$`),xx=new RegExp(`^rgba\\(${Rt},${Rt},${Rt},${ei}\\)$`),Sx=new RegExp(`^hsl\\(${ei},${Rt},${Rt}\\)$`),Ex=new RegExp(`^hsla\\(${ei},${Rt},${Rt},${ei}\\)$`),Zf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yc(hi,ti,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jf,formatHex:Jf,formatHex8:_x,formatHsl:Nx,formatRgb:ed,toString:ed});function Jf(){return this.rgb().formatHex()}function _x(){return this.rgb().formatHex8()}function Nx(){return Pm(this).formatHsl()}function ed(){return this.rgb().formatRgb()}function ti(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=gx.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?td(t):n===3?new We(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Di(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Di(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yx.exec(e))?new We(t[1],t[2],t[3],1):(t=vx.exec(e))?new We(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=wx.exec(e))?Di(t[1],t[2],t[3],t[4]):(t=xx.exec(e))?Di(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Sx.exec(e))?od(t[1],t[2]/100,t[3]/100,1):(t=Ex.exec(e))?od(t[1],t[2]/100,t[3]/100,t[4]):Zf.hasOwnProperty(e)?td(Zf[e]):e==="transparent"?new We(NaN,NaN,NaN,0):null}function td(e){return new We(e>>16&255,e>>8&255,e&255,1)}function Di(e,t,n,r){return r<=0&&(e=t=n=NaN),new We(e,t,n,r)}function kx(e){return e instanceof hi||(e=ti(e)),e?(e=e.rgb(),new We(e.r,e.g,e.b,e.opacity)):new We}function ta(e,t,n,r){return arguments.length===1?kx(e):new We(e,t,n,r??1)}function We(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}yc(We,ta,Cm(hi,{brighter(e){return e=e==null?Ms:Math.pow(Ms,e),new We(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Jo:Math.pow(Jo,e),new We(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new We(Kn(this.r),Kn(this.g),Kn(this.b),Is(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nd,formatHex:nd,formatHex8:Cx,formatRgb:rd,toString:rd}));function nd(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}`}function Cx(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}${Un((isNaN(this.opacity)?1:this.opacity)*255)}`}function rd(){const e=Is(this.opacity);return`${e===1?"rgb(":"rgba("}${Kn(this.r)}, ${Kn(this.g)}, ${Kn(this.b)}${e===1?")":`, ${e})`}`}function Is(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Un(e){return e=Kn(e),(e<16?"0":"")+e.toString(16)}function od(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new St(e,t,n,r)}function Pm(e){if(e instanceof St)return new St(e.h,e.s,e.l,e.opacity);if(e instanceof hi||(e=ti(e)),!e)return new St;if(e instanceof St)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,l=i-o,u=(i+o)/2;return l?(t===i?s=(n-r)/l+(n<r)*6:n===i?s=(r-t)/l+2:s=(t-n)/l+4,l/=u<.5?i+o:2-i-o,s*=60):l=u>0&&u<1?0:s,new St(s,l,u,e.opacity)}function Px(e,t,n,r){return arguments.length===1?Pm(e):new St(e,t,n,r??1)}function St(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}yc(St,Px,Cm(hi,{brighter(e){return e=e==null?Ms:Math.pow(Ms,e),new St(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jo:Math.pow(Jo,e),new St(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new We(Yl(e>=240?e-240:e+120,o,r),Yl(e,o,r),Yl(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new St(id(this.h),Li(this.s),Li(this.l),Is(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Is(this.opacity);return`${e===1?"hsl(":"hsla("}${id(this.h)}, ${Li(this.s)*100}%, ${Li(this.l)*100}%${e===1?")":`, ${e})`}`}}));function id(e){return e=(e||0)%360,e<0?e+360:e}function Li(e){return Math.max(0,Math.min(1,e||0))}function Yl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Tm=e=>()=>e;function Tx(e,t){return function(n){return e+n*t}}function $x(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Mx(e){return(e=+e)==1?$m:function(t,n){return n-t?$x(t,n,e):Tm(isNaN(t)?n:t)}}function $m(e,t){var n=t-e;return n?Tx(e,n):Tm(isNaN(e)?t:e)}const sd=function e(t){var n=Mx(t);function r(o,i){var s=n((o=ta(o)).r,(i=ta(i)).r),l=n(o.g,i.g),u=n(o.b,i.b),a=$m(o.opacity,i.opacity);return function(c){return o.r=s(c),o.g=l(c),o.b=u(c),o.opacity=a(c),o+""}}return r.gamma=e,r}(1);function ln(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var na=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kl=new RegExp(na.source,"g");function Ix(e){return function(){return e}}function zx(e){return function(t){return e(t)+""}}function Ax(e,t){var n=na.lastIndex=Kl.lastIndex=0,r,o,i,s=-1,l=[],u=[];for(e=e+"",t=t+"";(r=na.exec(e))&&(o=Kl.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[s]?l[s]+=i:l[++s]=i),(r=r[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,u.push({i:s,x:ln(r,o)})),n=Kl.lastIndex;return n<t.length&&(i=t.slice(n),l[s]?l[s]+=i:l[++s]=i),l.length<2?u[0]?zx(u[0].x):Ix(t):(t=u.length,function(a){for(var c=0,f;c<t;++c)l[(f=u[c]).i]=f.x(a);return l.join("")})}var ld=180/Math.PI,ra={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mm(e,t,n,r,o,i){var s,l,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),e*r<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*ld,skewX:Math.atan(u)*ld,scaleX:s,scaleY:l}}var Oi;function Rx(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ra:Mm(t.a,t.b,t.c,t.d,t.e,t.f)}function Dx(e){return e==null||(Oi||(Oi=document.createElementNS("http://www.w3.org/2000/svg","g")),Oi.setAttribute("transform",e),!(e=Oi.transform.baseVal.consolidate()))?ra:(e=e.matrix,Mm(e.a,e.b,e.c,e.d,e.e,e.f))}function Im(e,t,n,r){function o(a){return a.length?a.pop()+" ":""}function i(a,c,f,d,g,x){if(a!==f||c!==d){var v=g.push("translate(",null,t,null,n);x.push({i:v-4,x:ln(a,f)},{i:v-2,x:ln(c,d)})}else(f||d)&&g.push("translate("+f+t+d+n)}function s(a,c,f,d){a!==c?(a-c>180?c+=360:c-a>180&&(a+=360),d.push({i:f.push(o(f)+"rotate(",null,r)-2,x:ln(a,c)})):c&&f.push(o(f)+"rotate("+c+r)}function l(a,c,f,d){a!==c?d.push({i:f.push(o(f)+"skewX(",null,r)-2,x:ln(a,c)}):c&&f.push(o(f)+"skewX("+c+r)}function u(a,c,f,d,g,x){if(a!==f||c!==d){var v=g.push(o(g)+"scale(",null,",",null,")");x.push({i:v-4,x:ln(a,f)},{i:v-2,x:ln(c,d)})}else(f!==1||d!==1)&&g.push(o(g)+"scale("+f+","+d+")")}return function(a,c){var f=[],d=[];return a=e(a),c=e(c),i(a.translateX,a.translateY,c.translateX,c.translateY,f,d),s(a.rotate,c.rotate,f,d),l(a.skewX,c.skewX,f,d),u(a.scaleX,a.scaleY,c.scaleX,c.scaleY,f,d),a=c=null,function(g){for(var x=-1,v=d.length,_;++x<v;)f[(_=d[x]).i]=_.x(g);return f.join("")}}}var Lx=Im(Rx,"px, ","px)","deg)"),Ox=Im(Dx,", ",")",")"),bx=1e-12;function ud(e){return((e=Math.exp(e))+1/e)/2}function Fx(e){return((e=Math.exp(e))-1/e)/2}function jx(e){return((e=Math.exp(2*e))-1)/(e+1)}const Hx=function e(t,n,r){function o(i,s){var l=i[0],u=i[1],a=i[2],c=s[0],f=s[1],d=s[2],g=c-l,x=f-u,v=g*g+x*x,_,p;if(v<bx)p=Math.log(d/a)/t,_=function(N){return[l+N*g,u+N*x,a*Math.exp(t*N*p)]};else{var m=Math.sqrt(v),y=(d*d-a*a+r*v)/(2*a*n*m),h=(d*d-a*a-r*v)/(2*d*n*m),S=Math.log(Math.sqrt(y*y+1)-y),k=Math.log(Math.sqrt(h*h+1)-h);p=(k-S)/t,_=function(N){var C=N*p,T=ud(S),z=a/(n*m)*(T*jx(t*C+S)-Fx(S));return[l+z*g,u+z*x,a*T/ud(t*C+S)]}}return _.duration=p*1e3*t/Math.SQRT2,_}return o.rho=function(i){var s=Math.max(.001,+i),l=s*s,u=l*l;return e(s,l,u)},o}(Math.SQRT2,2,4);var Yr=0,_o=0,po=0,zm=1e3,zs,No,As=0,tr=0,sl=0,ni=typeof performance=="object"&&performance.now?performance:Date,Am=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function vc(){return tr||(Am(Vx),tr=ni.now()+sl)}function Vx(){tr=0}function Rs(){this._call=this._time=this._next=null}Rs.prototype=Rm.prototype={constructor:Rs,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?vc():+n)+(t==null?0:+t),!this._next&&No!==this&&(No?No._next=this:zs=this,No=this),this._call=e,this._time=n,oa()},stop:function(){this._call&&(this._call=null,this._time=1/0,oa())}};function Rm(e,t,n){var r=new Rs;return r.restart(e,t,n),r}function Bx(){vc(),++Yr;for(var e=zs,t;e;)(t=tr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Yr}function ad(){tr=(As=ni.now())+sl,Yr=_o=0;try{Bx()}finally{Yr=0,Wx(),tr=0}}function Ux(){var e=ni.now(),t=e-As;t>zm&&(sl-=t,As=e)}function Wx(){for(var e,t=zs,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:zs=n);No=e,oa(r)}function oa(e){if(!Yr){_o&&(_o=clearTimeout(_o));var t=e-tr;t>24?(e<1/0&&(_o=setTimeout(ad,e-ni.now()-sl)),po&&(po=clearInterval(po))):(po||(As=ni.now(),po=setInterval(Ux,zm)),Yr=1,Am(ad))}}function cd(e,t,n){var r=new Rs;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var Qx=ol("start","end","cancel","interrupt"),Yx=[],Dm=0,fd=1,ia=2,ns=3,dd=4,sa=5,rs=6;function ll(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Kx(e,n,{name:t,index:r,group:o,on:Qx,tween:Yx,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Dm})}function wc(e,t){var n=Ct(e,t);if(n.state>Dm)throw new Error("too late; already scheduled");return n}function Lt(e,t){var n=Ct(e,t);if(n.state>ns)throw new Error("too late; already running");return n}function Ct(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Kx(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Rm(i,0,n.time);function i(a){n.state=fd,n.timer.restart(s,n.delay,n.time),n.delay<=a&&s(a-n.delay)}function s(a){var c,f,d,g;if(n.state!==fd)return u();for(c in r)if(g=r[c],g.name===n.name){if(g.state===ns)return cd(s);g.state===dd?(g.state=rs,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[c]):+c<t&&(g.state=rs,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[c])}if(cd(function(){n.state===ns&&(n.state=dd,n.timer.restart(l,n.delay,n.time),l(a))}),n.state=ia,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ia){for(n.state=ns,o=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(g=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++f]=g);o.length=f+1}}function l(a){for(var c=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=sa,1),f=-1,d=o.length;++f<d;)o[f].call(e,c);n.state===sa&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=rs,n.timer.stop(),delete r[t];for(var a in r)return;delete e.__transition}}function os(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>ia&&r.state<sa,r.state=rs,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function Xx(e){return this.each(function(){os(this,e)})}function qx(e,t){var n,r;return function(){var o=Lt(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function Gx(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Lt(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var l={name:t,value:n},u=0,a=o.length;u<a;++u)if(o[u].name===t){o[u]=l;break}u===a&&o.push(l)}i.tween=o}}function Zx(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ct(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?qx:Gx)(n,e,t))}function xc(e,t,n){var r=e._id;return e.each(function(){var o=Lt(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Ct(o,r).value[t]}}function Lm(e,t){var n;return(typeof t=="number"?ln:t instanceof ti?sd:(n=ti(t))?(t=n,sd):Ax)(e,t)}function Jx(e){return function(){this.removeAttribute(e)}}function eS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function tS(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function nS(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function rS(e,t,n){var r,o,i;return function(){var s,l=n(this),u;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=l+"",s===u?null:s===r&&u===o?i:(o=u,i=t(r=s,l)))}}function oS(e,t,n){var r,o,i;return function(){var s,l=n(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=l+"",s===u?null:s===r&&u===o?i:(o=u,i=t(r=s,l)))}}function iS(e,t){var n=il(e),r=n==="transform"?Ox:Lm;return this.attrTween(e,typeof t=="function"?(n.local?oS:rS)(n,r,xc(this,"attr."+e,t)):t==null?(n.local?eS:Jx)(n):(n.local?nS:tS)(n,r,t))}function sS(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function lS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function uS(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&lS(e,i)),n}return o._value=t,o}function aS(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&sS(e,i)),n}return o._value=t,o}function cS(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=il(e);return this.tween(n,(r.local?uS:aS)(r,t))}function fS(e,t){return function(){wc(this,e).delay=+t.apply(this,arguments)}}function dS(e,t){return t=+t,function(){wc(this,e).delay=t}}function pS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?fS:dS)(t,e)):Ct(this.node(),t).delay}function hS(e,t){return function(){Lt(this,e).duration=+t.apply(this,arguments)}}function mS(e,t){return t=+t,function(){Lt(this,e).duration=t}}function gS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?hS:mS)(t,e)):Ct(this.node(),t).duration}function yS(e,t){if(typeof t!="function")throw new Error;return function(){Lt(this,e).ease=t}}function vS(e){var t=this._id;return arguments.length?this.each(yS(t,e)):Ct(this.node(),t).ease}function wS(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Lt(this,e).ease=n}}function xS(e){if(typeof e!="function")throw new Error;return this.each(wS(this._id,e))}function SS(e){typeof e!="function"&&(e=hm(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],u,a=0;a<s;++a)(u=i[a])&&e.call(u,u.__data__,a,i)&&l.push(u);return new Jt(r,this._parents,this._name,this._id)}function ES(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),l=0;l<i;++l)for(var u=t[l],a=n[l],c=u.length,f=s[l]=new Array(c),d,g=0;g<c;++g)(d=u[g]||a[g])&&(f[g]=d);for(;l<r;++l)s[l]=t[l];return new Jt(s,this._parents,this._name,this._id)}function _S(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function NS(e,t,n){var r,o,i=_S(t)?wc:Lt;return function(){var s=i(this,e),l=s.on;l!==r&&(o=(r=l).copy()).on(t,n),s.on=o}}function kS(e,t){var n=this._id;return arguments.length<2?Ct(this.node(),n).on.on(e):this.each(NS(n,e,t))}function CS(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function PS(){return this.on("end.remove",CS(this._id))}function TS(e){var t=this._name,n=this._id;typeof e!="function"&&(e=mc(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var l=r[s],u=l.length,a=i[s]=new Array(u),c,f,d=0;d<u;++d)(c=l[d])&&(f=e.call(c,c.__data__,d,l))&&("__data__"in c&&(f.__data__=c.__data__),a[d]=f,ll(a[d],t,n,d,a,Ct(c,n)));return new Jt(i,this._parents,t,n)}function $S(e){var t=this._name,n=this._id;typeof e!="function"&&(e=pm(e));for(var r=this._groups,o=r.length,i=[],s=[],l=0;l<o;++l)for(var u=r[l],a=u.length,c,f=0;f<a;++f)if(c=u[f]){for(var d=e.call(c,c.__data__,f,u),g,x=Ct(c,n),v=0,_=d.length;v<_;++v)(g=d[v])&&ll(g,t,n,v,d,x);i.push(d),s.push(c)}return new Jt(i,s,t,n)}var MS=pi.prototype.constructor;function IS(){return new MS(this._groups,this._parents)}function zS(e,t){var n,r,o;return function(){var i=Qr(this,e),s=(this.style.removeProperty(e),Qr(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function Om(e){return function(){this.style.removeProperty(e)}}function AS(e,t,n){var r,o=n+"",i;return function(){var s=Qr(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function RS(e,t,n){var r,o,i;return function(){var s=Qr(this,e),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),Qr(this,e))),s===u?null:s===r&&u===o?i:(o=u,i=t(r=s,l))}}function DS(e,t){var n,r,o,i="style."+t,s="end."+i,l;return function(){var u=Lt(this,e),a=u.on,c=u.value[i]==null?l||(l=Om(t)):void 0;(a!==n||o!==c)&&(r=(n=a).copy()).on(s,o=c),u.on=r}}function LS(e,t,n){var r=(e+="")=="transform"?Lx:Lm;return t==null?this.styleTween(e,zS(e,r)).on("end.style."+e,Om(e)):typeof t=="function"?this.styleTween(e,RS(e,r,xc(this,"style."+e,t))).each(DS(this._id,e)):this.styleTween(e,AS(e,r,t),n).on("end.style."+e,null)}function OS(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function bS(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&OS(e,s,n)),r}return i._value=t,i}function FS(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,bS(e,t,n??""))}function jS(e){return function(){this.textContent=e}}function HS(e){return function(){var t=e(this);this.textContent=t??""}}function VS(e){return this.tween("text",typeof e=="function"?HS(xc(this,"text",e)):jS(e==null?"":e+""))}function BS(e){return function(t){this.textContent=e.call(this,t)}}function US(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&BS(o)),t}return r._value=e,r}function WS(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,US(e))}function QS(){for(var e=this._name,t=this._id,n=bm(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,u,a=0;a<l;++a)if(u=s[a]){var c=Ct(u,t);ll(u,e,n,a,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Jt(r,this._parents,e,n)}function YS(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var l={value:s},u={value:function(){--o===0&&i()}};n.each(function(){var a=Lt(this,r),c=a.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),a.on=t}),o===0&&i()})}var KS=0;function Jt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function bm(){return++KS}var jt=pi.prototype;Jt.prototype={constructor:Jt,select:TS,selectAll:$S,selectChild:jt.selectChild,selectChildren:jt.selectChildren,filter:SS,merge:ES,selection:IS,transition:QS,call:jt.call,nodes:jt.nodes,node:jt.node,size:jt.size,empty:jt.empty,each:jt.each,on:kS,attr:iS,attrTween:cS,style:LS,styleTween:FS,text:VS,textTween:WS,remove:PS,tween:Zx,delay:pS,duration:gS,ease:vS,easeVarying:xS,end:YS,[Symbol.iterator]:jt[Symbol.iterator]};function XS(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var qS={time:null,delay:0,duration:250,ease:XS};function GS(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function ZS(e){var t,n;e instanceof Jt?(t=e._id,e=e._name):(t=bm(),(n=qS).time=vc(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,u,a=0;a<l;++a)(u=s[a])&&ll(u,e,t,a,s,n||GS(u,t));return new Jt(r,this._parents,e,t)}pi.prototype.interrupt=Xx;pi.prototype.transition=ZS;const bi=e=>()=>e;function JS(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Wt(e,t,n){this.k=e,this.x=t,this.y=n}Wt.prototype={constructor:Wt,scale:function(e){return e===1?this:new Wt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Wt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Kt=new Wt(1,0,0);Wt.prototype;function Xl(e){e.stopImmediatePropagation()}function ho(e){e.preventDefault(),e.stopImmediatePropagation()}function e2(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function t2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function pd(){return this.__zoom||Kt}function n2(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function r2(){return navigator.maxTouchPoints||"ontouchstart"in this}function o2(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function Fm(){var e=e2,t=t2,n=o2,r=n2,o=r2,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,u=Hx,a=ol("start","zoom","end"),c,f,d,g=500,x=150,v=0,_=10;function p(w){w.property("__zoom",pd).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",z).filter(o).on("touchstart.zoom",H).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(w,M,P,b){var $=w.selection?w.selection():w;$.property("__zoom",pd),w!==$?S(w,M,P,b):$.interrupt().each(function(){k(this,arguments).event(b).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},p.scaleBy=function(w,M,P,b){p.scaleTo(w,function(){var $=this.__zoom.k,E=typeof M=="function"?M.apply(this,arguments):M;return $*E},P,b)},p.scaleTo=function(w,M,P,b){p.transform(w,function(){var $=t.apply(this,arguments),E=this.__zoom,A=P==null?h($):typeof P=="function"?P.apply(this,arguments):P,F=E.invert(A),R=typeof M=="function"?M.apply(this,arguments):M;return n(y(m(E,R),A,F),$,s)},P,b)},p.translateBy=function(w,M,P,b){p.transform(w,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof P=="function"?P.apply(this,arguments):P),t.apply(this,arguments),s)},null,b)},p.translateTo=function(w,M,P,b,$){p.transform(w,function(){var E=t.apply(this,arguments),A=this.__zoom,F=b==null?h(E):typeof b=="function"?b.apply(this,arguments):b;return n(Kt.translate(F[0],F[1]).scale(A.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof P=="function"?-P.apply(this,arguments):-P),E,s)},b,$)};function m(w,M){return M=Math.max(i[0],Math.min(i[1],M)),M===w.k?w:new Wt(M,w.x,w.y)}function y(w,M,P){var b=M[0]-P[0]*w.k,$=M[1]-P[1]*w.k;return b===w.x&&$===w.y?w:new Wt(w.k,b,$)}function h(w){return[(+w[0][0]+ +w[1][0])/2,(+w[0][1]+ +w[1][1])/2]}function S(w,M,P,b){w.on("start.zoom",function(){k(this,arguments).event(b).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(b).end()}).tween("zoom",function(){var $=this,E=arguments,A=k($,E).event(b),F=t.apply($,E),R=P==null?h(F):typeof P=="function"?P.apply($,E):P,B=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),U=$.__zoom,Q=typeof M=="function"?M.apply($,E):M,K=u(U.invert(R).concat(B/U.k),Q.invert(R).concat(B/Q.k));return function(q){if(q===1)q=Q;else{var J=K(q),ee=B/J[2];q=new Wt(ee,R[0]-J[0]*ee,R[1]-J[1]*ee)}A.zoom(null,q)}})}function k(w,M,P){return!P&&w.__zooming||new N(w,M)}function N(w,M){this.that=w,this.args=M,this.active=0,this.sourceEvent=null,this.extent=t.apply(w,M),this.taps=0}N.prototype={event:function(w){return w&&(this.sourceEvent=w),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(w,M){return this.mouse&&w!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&w!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&w!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(w){var M=lt(this.that).datum();a.call(w,this.that,new JS(w,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:a}),M)}};function C(w,...M){if(!e.apply(this,arguments))return;var P=k(this,M).event(w),b=this.__zoom,$=Math.max(i[0],Math.min(i[1],b.k*Math.pow(2,r.apply(this,arguments)))),E=wt(w);if(P.wheel)(P.mouse[0][0]!==E[0]||P.mouse[0][1]!==E[1])&&(P.mouse[1]=b.invert(P.mouse[0]=E)),clearTimeout(P.wheel);else{if(b.k===$)return;P.mouse=[E,b.invert(E)],os(this),P.start()}ho(w),P.wheel=setTimeout(A,x),P.zoom("mouse",n(y(m(b,$),P.mouse[0],P.mouse[1]),P.extent,s));function A(){P.wheel=null,P.end()}}function T(w,...M){if(d||!e.apply(this,arguments))return;var P=w.currentTarget,b=k(this,M,!0).event(w),$=lt(w.view).on("mousemove.zoom",R,!0).on("mouseup.zoom",B,!0),E=wt(w,P),A=w.clientX,F=w.clientY;Nm(w.view),Xl(w),b.mouse=[E,this.__zoom.invert(E)],os(this),b.start();function R(U){if(ho(U),!b.moved){var Q=U.clientX-A,K=U.clientY-F;b.moved=Q*Q+K*K>v}b.event(U).zoom("mouse",n(y(b.that.__zoom,b.mouse[0]=wt(U,P),b.mouse[1]),b.extent,s))}function B(U){$.on("mousemove.zoom mouseup.zoom",null),km(U.view,b.moved),ho(U),b.event(U).end()}}function z(w,...M){if(e.apply(this,arguments)){var P=this.__zoom,b=wt(w.changedTouches?w.changedTouches[0]:w,this),$=P.invert(b),E=P.k*(w.shiftKey?.5:2),A=n(y(m(P,E),b,$),t.apply(this,M),s);ho(w),l>0?lt(this).transition().duration(l).call(S,A,b,w):lt(this).call(p.transform,A,b,w)}}function H(w,...M){if(e.apply(this,arguments)){var P=w.touches,b=P.length,$=k(this,M,w.changedTouches.length===b).event(w),E,A,F,R;for(Xl(w),A=0;A<b;++A)F=P[A],R=wt(F,this),R=[R,this.__zoom.invert(R),F.identifier],$.touch0?!$.touch1&&$.touch0[2]!==R[2]&&($.touch1=R,$.taps=0):($.touch0=R,E=!0,$.taps=1+!!c);c&&(c=clearTimeout(c)),E&&($.taps<2&&(f=R[0],c=setTimeout(function(){c=null},g)),os(this),$.start())}}function j(w,...M){if(this.__zooming){var P=k(this,M).event(w),b=w.changedTouches,$=b.length,E,A,F,R;for(ho(w),E=0;E<$;++E)A=b[E],F=wt(A,this),P.touch0&&P.touch0[2]===A.identifier?P.touch0[0]=F:P.touch1&&P.touch1[2]===A.identifier&&(P.touch1[0]=F);if(A=P.that.__zoom,P.touch1){var B=P.touch0[0],U=P.touch0[1],Q=P.touch1[0],K=P.touch1[1],q=(q=Q[0]-B[0])*q+(q=Q[1]-B[1])*q,J=(J=K[0]-U[0])*J+(J=K[1]-U[1])*J;A=m(A,Math.sqrt(q/J)),F=[(B[0]+Q[0])/2,(B[1]+Q[1])/2],R=[(U[0]+K[0])/2,(U[1]+K[1])/2]}else if(P.touch0)F=P.touch0[0],R=P.touch0[1];else return;P.zoom("touch",n(y(A,F,R),P.extent,s))}}function O(w,...M){if(this.__zooming){var P=k(this,M).event(w),b=w.changedTouches,$=b.length,E,A;for(Xl(w),d&&clearTimeout(d),d=setTimeout(function(){d=null},g),E=0;E<$;++E)A=b[E],P.touch0&&P.touch0[2]===A.identifier?delete P.touch0:P.touch1&&P.touch1[2]===A.identifier&&delete P.touch1;if(P.touch1&&!P.touch0&&(P.touch0=P.touch1,delete P.touch1),P.touch0)P.touch0[1]=this.__zoom.invert(P.touch0[0]);else if(P.end(),P.taps===2&&(A=wt(A,this),Math.hypot(f[0]-A[0],f[1]-A[1])<_)){var F=lt(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return p.wheelDelta=function(w){return arguments.length?(r=typeof w=="function"?w:bi(+w),p):r},p.filter=function(w){return arguments.length?(e=typeof w=="function"?w:bi(!!w),p):e},p.touchable=function(w){return arguments.length?(o=typeof w=="function"?w:bi(!!w),p):o},p.extent=function(w){return arguments.length?(t=typeof w=="function"?w:bi([[+w[0][0],+w[0][1]],[+w[1][0],+w[1][1]]]),p):t},p.scaleExtent=function(w){return arguments.length?(i[0]=+w[0],i[1]=+w[1],p):[i[0],i[1]]},p.translateExtent=function(w){return arguments.length?(s[0][0]=+w[0][0],s[1][0]=+w[1][0],s[0][1]=+w[0][1],s[1][1]=+w[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(w){return arguments.length?(n=w,p):n},p.duration=function(w){return arguments.length?(l=+w,p):l},p.interpolate=function(w){return arguments.length?(u=w,p):u},p.on=function(){var w=a.on.apply(a,arguments);return w===a?p:w},p.clickDistance=function(w){return arguments.length?(v=(w=+w)*w,p):Math.sqrt(v)},p.tapDistance=function(w){return arguments.length?(_=+w,p):_},p}const ul=I.createContext(null),i2=ul.Provider,en={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},jm=en.error001();function se(e,t){const n=I.useContext(ul);if(n===null)throw new Error(jm);return fm(n,e,t)}const Ee=()=>{const e=I.useContext(ul);if(e===null)throw new Error(jm);return I.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},s2=e=>e.userSelectionActive?"none":"all";function al({position:e,children:t,className:n,style:r,...o}){const i=se(s2),s=`${e}`.split("-");return D.createElement("div",{className:Me(["react-flow__panel",n,...s]),style:{...r,pointerEvents:i},...o},t)}function l2({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:D.createElement(al,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},D.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const u2=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:i={},labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:u,className:a,...c})=>{const f=I.useRef(null),[d,g]=I.useState({x:0,y:0,width:0,height:0}),x=Me(["react-flow__edge-textwrapper",a]);return I.useEffect(()=>{if(f.current){const v=f.current.getBBox();g({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:D.createElement("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:x,visibility:d.width?"visible":"hidden",...c},o&&D.createElement("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),D.createElement("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:f,style:r},n),u)};var a2=I.memo(u2);const Sc=e=>({width:e.offsetWidth,height:e.offsetHeight}),Kr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Ec=(e={x:0,y:0},t)=>({x:Kr(e.x,t[0][0],t[1][0]),y:Kr(e.y,t[0][1],t[1][1])}),hd=(e,t,n)=>e<t?Kr(Math.abs(e-t),1,50)/50:e>n?-Kr(Math.abs(e-n),1,50)/50:0,Hm=(e,t)=>{const n=hd(e.x,35,t.width-35)*20,r=hd(e.y,35,t.height-35)*20;return[n,r]},Vm=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Bm=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ri=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Um=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),md=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),c2=(e,t)=>Um(Bm(ri(e),ri(t))),la=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},f2=e=>ct(e.width)&&ct(e.height)&&ct(e.x)&&ct(e.y),ct=e=>!isNaN(e)&&isFinite(e),he=Symbol.for("internals"),Wm=["Enter"," ","Escape"],d2=(e,t)=>{},p2=e=>"nativeEvent"in e;function ua(e){var o,i;const t=p2(e)?e.nativeEvent:e,n=((i=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Qm=e=>"clientX"in e,En=(e,t)=>{var i,s;const n=Qm(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Ds=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},mi=({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:a,style:c,markerEnd:f,markerStart:d,interactionWidth:g=20})=>D.createElement(D.Fragment,null,D.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:d}),g&&D.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),o&&ct(n)&&ct(r)?D.createElement(a2,{x:n,y:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:a}):null);mi.displayName="BaseEdge";function mo(e,t,n){return n===void 0?n:r=>{const o=t().edges.find(i=>i.id===e);o&&n(r,{...o})}}function Ym({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[i,l,o,s]}function Km({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:l}){const u=e*.125+o*.375+s*.375+n*.125,a=t*.125+i*.375+l*.375+r*.125,c=Math.abs(u-e),f=Math.abs(a-t);return[u,a,c,f]}var Cn;(function(e){e.Strict="strict",e.Loose="loose"})(Cn||(Cn={}));var Wn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Wn||(Wn={}));var oi;(function(e){e.Partial="partial",e.Full="full"})(oi||(oi={}));var fn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(fn||(fn={}));var Ls;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ls||(Ls={}));var Y;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Y||(Y={}));function gd({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Y.Left||e===Y.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function Xm({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top}){const[s,l]=gd({pos:n,x1:e,y1:t,x2:r,y2:o}),[u,a]=gd({pos:i,x1:r,y1:o,x2:e,y2:t}),[c,f,d,g]=Km({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:u,targetControlY:a});return[`M${e},${t} C${s},${l} ${u},${a} ${r},${o}`,c,f,d,g]}const _c=I.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=Y.Bottom,targetPosition:i=Y.Top,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:g,markerStart:x,interactionWidth:v})=>{const[_,p,m]=Xm({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i});return D.createElement(mi,{path:_,labelX:p,labelY:m,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:g,markerStart:x,interactionWidth:v})});_c.displayName="SimpleBezierEdge";const yd={[Y.Left]:{x:-1,y:0},[Y.Right]:{x:1,y:0},[Y.Top]:{x:0,y:-1},[Y.Bottom]:{x:0,y:1}},h2=({source:e,sourcePosition:t=Y.Bottom,target:n})=>t===Y.Left||t===Y.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},vd=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function m2({source:e,sourcePosition:t=Y.Bottom,target:n,targetPosition:r=Y.Top,center:o,offset:i}){const s=yd[t],l=yd[r],u={x:e.x+s.x*i,y:e.y+s.y*i},a={x:n.x+l.x*i,y:n.y+l.y*i},c=h2({source:u,sourcePosition:t,target:a}),f=c.x!==0?"x":"y",d=c[f];let g=[],x,v;const _={x:0,y:0},p={x:0,y:0},[m,y,h,S]=Ym({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*l[f]===-1){x=o.x??m,v=o.y??y;const N=[{x,y:u.y},{x,y:a.y}],C=[{x:u.x,y:v},{x:a.x,y:v}];s[f]===d?g=f==="x"?N:C:g=f==="x"?C:N}else{const N=[{x:u.x,y:a.y}],C=[{x:a.x,y:u.y}];if(f==="x"?g=s.x===d?C:N:g=s.y===d?N:C,t===r){const O=Math.abs(e[f]-n[f]);if(O<=i){const w=Math.min(i-1,i-O);s[f]===d?_[f]=(u[f]>e[f]?-1:1)*w:p[f]=(a[f]>n[f]?-1:1)*w}}if(t!==r){const O=f==="x"?"y":"x",w=s[f]===l[O],M=u[O]>a[O],P=u[O]<a[O];(s[f]===1&&(!w&&M||w&&P)||s[f]!==1&&(!w&&P||w&&M))&&(g=f==="x"?N:C)}const T={x:u.x+_.x,y:u.y+_.y},z={x:a.x+p.x,y:a.y+p.y},H=Math.max(Math.abs(T.x-g[0].x),Math.abs(z.x-g[0].x)),j=Math.max(Math.abs(T.y-g[0].y),Math.abs(z.y-g[0].y));H>=j?(x=(T.x+z.x)/2,v=g[0].y):(x=g[0].x,v=(T.y+z.y)/2)}return[[e,{x:u.x+_.x,y:u.y+_.y},...g,{x:a.x+p.x,y:a.y+p.y},n],x,v,h,S]}function g2(e,t,n,r){const o=Math.min(vd(e,t)/2,vd(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const a=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${i+o*a},${s}Q ${i},${s} ${i},${s+o*c}`}const l=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${i},${s+o*u}Q ${i},${s} ${i+o*l},${s}`}function aa({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top,borderRadius:s=5,centerX:l,centerY:u,offset:a=20}){const[c,f,d,g,x]=m2({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:l,y:u},offset:a});return[c.reduce((_,p,m)=>{let y="";return m>0&&m<c.length-1?y=g2(c[m-1],p,c[m+1],s):y=`${m===0?"M":"L"}${p.x} ${p.y}`,_+=y,_},""),f,d,g,x]}const cl=I.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:a,style:c,sourcePosition:f=Y.Bottom,targetPosition:d=Y.Top,markerEnd:g,markerStart:x,pathOptions:v,interactionWidth:_})=>{const[p,m,y]=aa({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:d,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return D.createElement(mi,{path:p,labelX:m,labelY:y,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:a,style:c,markerEnd:g,markerStart:x,interactionWidth:_})});cl.displayName="SmoothStepEdge";const Nc=I.memo(e=>{var t;return D.createElement(cl,{...e,pathOptions:I.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Nc.displayName="StepEdge";function y2({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,l]=Ym({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,l]}const kc=I.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:a,style:c,markerEnd:f,markerStart:d,interactionWidth:g})=>{const[x,v,_]=y2({sourceX:e,sourceY:t,targetX:n,targetY:r});return D.createElement(mi,{path:x,labelX:v,labelY:_,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:a,style:c,markerEnd:f,markerStart:d,interactionWidth:g})});kc.displayName="StraightEdge";function Fi(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function wd({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case Y.Left:return[t-Fi(t-r,i),n];case Y.Right:return[t+Fi(r-t,i),n];case Y.Top:return[t,n-Fi(n-o,i)];case Y.Bottom:return[t,n+Fi(o-n,i)]}}function qm({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top,curvature:s=.25}){const[l,u]=wd({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[a,c]=wd({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[f,d,g,x]=Km({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:u,targetControlX:a,targetControlY:c});return[`M${e},${t} C${l},${u} ${a},${c} ${r},${o}`,f,d,g,x]}const Os=I.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=Y.Bottom,targetPosition:i=Y.Top,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:g,markerStart:x,pathOptions:v,interactionWidth:_})=>{const[p,m,y]=qm({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i,curvature:v==null?void 0:v.curvature});return D.createElement(mi,{path:p,labelX:m,labelY:y,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:g,markerStart:x,interactionWidth:_})});Os.displayName="BezierEdge";const Cc=I.createContext(null),v2=Cc.Provider;Cc.Consumer;const w2=()=>I.useContext(Cc),x2=e=>"id"in e&&"source"in e&&"target"in e,S2=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,ca=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,E2=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),_2=(e,t)=>{if(!e.source||!e.target)return t;let n;return x2(e)?n={...e}:n={...e,id:S2(e)},E2(n,t)?t:t.concat(n)},fa=({x:e,y:t},[n,r,o],i,[s,l])=>{const u={x:(e-n)/o,y:(t-r)/o};return i?{x:s*Math.round(u.x/s),y:l*Math.round(u.y/l)}:u},Gm=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),Xn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},fl=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const{x:i,y:s}=Xn(o,t).positionAbsolute;return Bm(r,ri({x:i,y:s,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Um(n)},Zm=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1,l=[0,0])=>{const u={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},a=[];return e.forEach(c=>{const{width:f,height:d,selectable:g=!0,hidden:x=!1}=c;if(s&&!g||x)return!1;const{positionAbsolute:v}=Xn(c,l),_={x:v.x,y:v.y,width:f||0,height:d||0},p=la(u,_),m=typeof f>"u"||typeof d>"u"||f===null||d===null,y=i&&p>0,h=(f||0)*(d||0);(m||y||p>=h||c.dragging)&&a.push(c)}),a},Jm=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},eg=(e,t,n,r,o,i=.1)=>{const s=t/(e.width*(1+i)),l=n/(e.height*(1+i)),u=Math.min(s,l),a=Kr(u,r,o),c=e.x+e.width/2,f=e.y+e.height/2,d=t/2-c*a,g=n/2-f*a;return{x:d,y:g,zoom:a}},bn=(e,t=0)=>e.transition().duration(t);function xd(e,t,n,r){return(t[n]||[]).reduce((o,i)=>{var s,l;return`${e.id}-${i.id}-${n}`!==r&&o.push({id:i.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+i.x+i.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+i.y+i.height/2}),o},[])}function N2(e,t,n,r,o,i){const{x:s,y:l}=En(e),a=t.elementsFromPoint(s,l).find(x=>x.classList.contains("react-flow__handle"));if(a){const x=a.getAttribute("data-nodeid");if(x){const v=Pc(void 0,a),_=a.getAttribute("data-handleid"),p=i({nodeId:x,id:_,type:v});if(p){const m=o.find(y=>y.nodeId===x&&y.type===v&&y.id===_);return{handle:{id:_,type:v,nodeId:x,x:(m==null?void 0:m.x)||n.x,y:(m==null?void 0:m.y)||n.y},validHandleResult:p}}}}let c=[],f=1/0;if(o.forEach(x=>{const v=Math.sqrt((x.x-n.x)**2+(x.y-n.y)**2);if(v<=r){const _=i(x);v<=f&&(v<f?c=[{handle:x,validHandleResult:_}]:v===f&&c.push({handle:x,validHandleResult:_}),f=v)}}),!c.length)return{handle:null,validHandleResult:tg()};if(c.length===1)return c[0];const d=c.some(({validHandleResult:x})=>x.isValid),g=c.some(({handle:x})=>x.type==="target");return c.find(({handle:x,validHandleResult:v})=>g?x.type==="target":d?v.isValid:!0)||c[0]}const k2={source:null,target:null,sourceHandle:null,targetHandle:null},tg=()=>({handleDomNode:null,isValid:!1,connection:k2,endHandle:null});function ng(e,t,n,r,o,i,s){const l=o==="target",u=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),a={...tg(),handleDomNode:u};if(u){const c=Pc(void 0,u),f=u.getAttribute("data-nodeid"),d=u.getAttribute("data-handleid"),g=u.classList.contains("connectable"),x=u.classList.contains("connectableend"),v={source:l?f:n,sourceHandle:l?d:r,target:l?n:f,targetHandle:l?r:d};a.connection=v,g&&x&&(t===Cn.Strict?l&&c==="source"||!l&&c==="target":f!==n||d!==r)&&(a.endHandle={nodeId:f,handleId:d,type:c},a.isValid=i(v))}return a}function C2({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((o,i)=>{if(i[he]){const{handleBounds:s}=i[he];let l=[],u=[];s&&(l=xd(i,s,"source",`${t}-${n}-${r}`),u=xd(i,s,"target",`${t}-${n}-${r}`)),o.push(...l,...u)}return o},[])}function Pc(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function ql(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function P2(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function rg({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:i,setState:s,isValidConnection:l,edgeUpdaterType:u,onReconnectEnd:a}){const c=Vm(e.target),{connectionMode:f,domNode:d,autoPanOnConnect:g,connectionRadius:x,onConnectStart:v,panBy:_,getNodes:p,cancelConnection:m}=i();let y=0,h;const{x:S,y:k}=En(e),N=c==null?void 0:c.elementFromPoint(S,k),C=Pc(u,N),T=d==null?void 0:d.getBoundingClientRect();if(!T||!C)return;let z,H=En(e,T),j=!1,O=null,w=!1,M=null;const P=C2({nodes:p(),nodeId:n,handleId:t,handleType:C}),b=()=>{if(!g)return;const[A,F]=Hm(H,T);_({x:A,y:F}),y=requestAnimationFrame(b)};s({connectionPosition:H,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:C,connectionStartHandle:{nodeId:n,handleId:t,type:C},connectionEndHandle:null}),v==null||v(e,{nodeId:n,handleId:t,handleType:C});function $(A){const{transform:F}=i();H=En(A,T);const{handle:R,validHandleResult:B}=N2(A,c,fa(H,F,!1,[1,1]),x,P,U=>ng(U,f,n,t,o?"target":"source",l,c));if(h=R,j||(b(),j=!0),M=B.handleDomNode,O=B.connection,w=B.isValid,s({connectionPosition:h&&w?Gm({x:h.x,y:h.y},F):H,connectionStatus:P2(!!h,w),connectionEndHandle:B.endHandle}),!h&&!w&&!M)return ql(z);O.source!==O.target&&M&&(ql(z),z=M,M.classList.add("connecting","react-flow__handle-connecting"),M.classList.toggle("valid",w),M.classList.toggle("react-flow__handle-valid",w))}function E(A){var F,R;(h||M)&&O&&w&&(r==null||r(O)),(R=(F=i()).onConnectEnd)==null||R.call(F,A),u&&(a==null||a(A)),ql(z),m(),cancelAnimationFrame(y),j=!1,w=!1,O=null,M=null,c.removeEventListener("mousemove",$),c.removeEventListener("mouseup",E),c.removeEventListener("touchmove",$),c.removeEventListener("touchend",E)}c.addEventListener("mousemove",$),c.addEventListener("mouseup",E),c.addEventListener("touchmove",$),c.addEventListener("touchend",E)}const Sd=()=>!0,T2=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),$2=(e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:i,connectionClickStartHandle:s}=r;return{connecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},og=I.forwardRef(({type:e="source",position:t=Y.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:l,children:u,className:a,onMouseDown:c,onTouchStart:f,...d},g)=>{var T,z;const x=s||null,v=e==="target",_=Ee(),p=w2(),{connectOnClick:m,noPanClassName:y}=se(T2,Ce),{connecting:h,clickConnecting:S}=se($2(p,x,e),Ce);p||(z=(T=_.getState()).onError)==null||z.call(T,"010",en.error010());const k=H=>{const{defaultEdgeOptions:j,onConnect:O,hasDefaultEdges:w}=_.getState(),M={...j,...H};if(w){const{edges:P,setEdges:b}=_.getState();b(_2(M,P))}O==null||O(M),l==null||l(M)},N=H=>{if(!p)return;const j=Qm(H);o&&(j&&H.button===0||!j)&&rg({event:H,handleId:x,nodeId:p,onConnect:k,isTarget:v,getState:_.getState,setState:_.setState,isValidConnection:n||_.getState().isValidConnection||Sd}),j?c==null||c(H):f==null||f(H)},C=H=>{const{onClickConnectStart:j,onClickConnectEnd:O,connectionClickStartHandle:w,connectionMode:M,isValidConnection:P}=_.getState();if(!p||!w&&!o)return;if(!w){j==null||j(H,{nodeId:p,handleId:x,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:p,type:e,handleId:x}});return}const b=Vm(H.target),$=n||P||Sd,{connection:E,isValid:A}=ng({nodeId:p,id:x,type:e},M,w.nodeId,w.handleId||null,w.type,$,b);A&&k(E),O==null||O(H),_.setState({connectionClickStartHandle:null})};return D.createElement("div",{"data-handleid":x,"data-nodeid":p,"data-handlepos":t,"data-id":`${p}-${x}-${e}`,className:Me(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,a,{source:!v,target:v,connectable:r,connectablestart:o,connectableend:i,connecting:S,connectionindicator:r&&(o&&!h||i&&h)}]),onMouseDown:N,onTouchStart:N,onClick:m?C:void 0,ref:g,...d},u)});og.displayName="Handle";var Dt=I.memo(og);const ig=({data:e,isConnectable:t,targetPosition:n=Y.Top,sourcePosition:r=Y.Bottom})=>D.createElement(D.Fragment,null,D.createElement(Dt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,D.createElement(Dt,{type:"source",position:r,isConnectable:t}));ig.displayName="DefaultNode";var da=I.memo(ig);const sg=({data:e,isConnectable:t,sourcePosition:n=Y.Bottom})=>D.createElement(D.Fragment,null,e==null?void 0:e.label,D.createElement(Dt,{type:"source",position:n,isConnectable:t}));sg.displayName="InputNode";var lg=I.memo(sg);const ug=({data:e,isConnectable:t,targetPosition:n=Y.Top})=>D.createElement(D.Fragment,null,D.createElement(Dt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);ug.displayName="OutputNode";var ag=I.memo(ug);const Tc=()=>null;Tc.displayName="GroupNode";const M2=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),ji=e=>e.id;function I2(e,t){return Ce(e.selectedNodes.map(ji),t.selectedNodes.map(ji))&&Ce(e.selectedEdges.map(ji),t.selectedEdges.map(ji))}const cg=I.memo(({onSelectionChange:e})=>{const t=Ee(),{selectedNodes:n,selectedEdges:r}=se(M2,I2);return I.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChange.forEach(i=>i(o))},[n,r,e]),null});cg.displayName="SelectionListener";const z2=e=>!!e.onSelectionChange;function A2({onSelectionChange:e}){const t=se(z2);return e||t?D.createElement(cg,{onSelectionChange:e}):null}const R2=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function dr(e,t){I.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function G(e,t,n){I.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const D2=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:i,onConnectEnd:s,onClickConnectStart:l,onClickConnectEnd:u,nodesDraggable:a,nodesConnectable:c,nodesFocusable:f,edgesFocusable:d,edgesUpdatable:g,elevateNodesOnSelect:x,minZoom:v,maxZoom:_,nodeExtent:p,onNodesChange:m,onEdgesChange:y,elementsSelectable:h,connectionMode:S,snapGrid:k,snapToGrid:N,translateExtent:C,connectOnClick:T,defaultEdgeOptions:z,fitView:H,fitViewOptions:j,onNodesDelete:O,onEdgesDelete:w,onNodeDrag:M,onNodeDragStart:P,onNodeDragStop:b,onSelectionDrag:$,onSelectionDragStart:E,onSelectionDragStop:A,noPanClassName:F,nodeOrigin:R,rfId:B,autoPanOnConnect:U,autoPanOnNodeDrag:Q,onError:K,connectionRadius:q,isValidConnection:J,nodeDragThreshold:ee})=>{const{setNodes:te,setEdges:me,setDefaultNodesAndEdges:we,setMinZoom:Oe,setMaxZoom:Ie,setTranslateExtent:ge,setNodeExtent:Xe,reset:oe}=se(R2,Ce),X=Ee();return I.useEffect(()=>{const be=r==null?void 0:r.map(Ot=>({...Ot,...z}));return we(n,be),()=>{oe()}},[]),G("defaultEdgeOptions",z,X.setState),G("connectionMode",S,X.setState),G("onConnect",o,X.setState),G("onConnectStart",i,X.setState),G("onConnectEnd",s,X.setState),G("onClickConnectStart",l,X.setState),G("onClickConnectEnd",u,X.setState),G("nodesDraggable",a,X.setState),G("nodesConnectable",c,X.setState),G("nodesFocusable",f,X.setState),G("edgesFocusable",d,X.setState),G("edgesUpdatable",g,X.setState),G("elementsSelectable",h,X.setState),G("elevateNodesOnSelect",x,X.setState),G("snapToGrid",N,X.setState),G("snapGrid",k,X.setState),G("onNodesChange",m,X.setState),G("onEdgesChange",y,X.setState),G("connectOnClick",T,X.setState),G("fitViewOnInit",H,X.setState),G("fitViewOnInitOptions",j,X.setState),G("onNodesDelete",O,X.setState),G("onEdgesDelete",w,X.setState),G("onNodeDrag",M,X.setState),G("onNodeDragStart",P,X.setState),G("onNodeDragStop",b,X.setState),G("onSelectionDrag",$,X.setState),G("onSelectionDragStart",E,X.setState),G("onSelectionDragStop",A,X.setState),G("noPanClassName",F,X.setState),G("nodeOrigin",R,X.setState),G("rfId",B,X.setState),G("autoPanOnConnect",U,X.setState),G("autoPanOnNodeDrag",Q,X.setState),G("onError",K,X.setState),G("connectionRadius",q,X.setState),G("isValidConnection",J,X.setState),G("nodeDragThreshold",ee,X.setState),dr(e,te),dr(t,me),dr(v,Oe),dr(_,Ie),dr(C,ge),dr(p,Xe),null},Ed={display:"none"},L2={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},fg="react-flow__node-desc",dg="react-flow__edge-desc",O2="react-flow__aria-live",b2=e=>e.ariaLiveMessage;function F2({rfId:e}){const t=se(b2);return D.createElement("div",{id:`${O2}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:L2},t)}function j2({rfId:e,disableKeyboardA11y:t}){return D.createElement(D.Fragment,null,D.createElement("div",{id:`${fg}-${e}`,style:Ed},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),D.createElement("div",{id:`${dg}-${e}`,style:Ed},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&D.createElement(F2,{rfId:e}))}var ii=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=I.useState(!1),o=I.useRef(!1),i=I.useRef(new Set([])),[s,l]=I.useMemo(()=>{if(e!==null){const a=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),c=a.reduce((f,d)=>f.concat(...d),[]);return[a,c]}return[[],[]]},[e]);return I.useEffect(()=>{const u=typeof document<"u"?document:null,a=(t==null?void 0:t.target)||u;if(e!==null){const c=g=>{if(o.current=g.ctrlKey||g.metaKey||g.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&ua(g))return!1;const v=Nd(g.code,l);i.current.add(g[v]),_d(s,i.current,!1)&&(g.preventDefault(),r(!0))},f=g=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&ua(g))return!1;const v=Nd(g.code,l);_d(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(g[v]),g.key==="Meta"&&i.current.clear(),o.current=!1},d=()=>{i.current.clear(),r(!1)};return a==null||a.addEventListener("keydown",c),a==null||a.addEventListener("keyup",f),window.addEventListener("blur",d),()=>{a==null||a.removeEventListener("keydown",c),a==null||a.removeEventListener("keyup",f),window.removeEventListener("blur",d)}}},[e,r]),n};function _d(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function Nd(e,t){return t.includes(e)?"code":"key"}function pg(e,t,n,r){var l,u;const o=e.parentNode||e.parentId;if(!o)return n;const i=t.get(o),s=Xn(i,r);return pg(i,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((l=i[he])==null?void 0:l.z)??0)>(n.z??0)?((u=i[he])==null?void 0:u.z)??0:n.z??0},r)}function hg(e,t,n){e.forEach(r=>{var i;const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n!=null&&n[r.id]){const{x:s,y:l,z:u}=pg(r,e,{...r.position,z:((i=r[he])==null?void 0:i.z)??0},t);r.positionAbsolute={x:s,y:l},r[he].z=u,n!=null&&n[r.id]&&(r[he].isParent=!0)}})}function Gl(e,t,n,r){const o=new Map,i={},s=r?1e3:0;return e.forEach(l=>{var g;const u=(ct(l.zIndex)?l.zIndex:0)+(l.selected?s:0),a=t.get(l.id),c={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},f=l.parentNode||l.parentId;f&&(i[f]=!0);const d=(a==null?void 0:a.type)&&(a==null?void 0:a.type)!==l.type;Object.defineProperty(c,he,{enumerable:!1,value:{handleBounds:d||(g=a==null?void 0:a[he])==null?void 0:g.handleBounds,z:u}}),o.set(l.id,c)}),hg(o,n,i),o}function mg(e,t={}){const{getNodes:n,width:r,height:o,minZoom:i,maxZoom:s,d3Zoom:l,d3Selection:u,fitViewOnInitDone:a,fitViewOnInit:c,nodeOrigin:f}=e(),d=t.initial&&!a&&c;if(l&&u&&(d||!t.initial)){const x=n().filter(_=>{var m;const p=t.includeHiddenNodes?_.width&&_.height:!_.hidden;return(m=t.nodes)!=null&&m.length?p&&t.nodes.some(y=>y.id===_.id):p}),v=x.every(_=>_.width&&_.height);if(x.length>0&&v){const _=fl(x,f),{x:p,y:m,zoom:y}=eg(_,r,o,t.minZoom??i,t.maxZoom??s,t.padding??.1),h=Kt.translate(p,m).scale(y);return typeof t.duration=="number"&&t.duration>0?l.transform(bn(u,t.duration),h):l.transform(u,h),!0}}return!1}function H2(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[he]:r[he],selected:n.selected})}),new Map(t)}function V2(e,t){return t.map(n=>{const r=e.find(o=>o.id===n.id);return r&&(n.selected=r.selected),n})}function Hi({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:i,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:u,hasDefaultEdges:a}=n();e!=null&&e.length&&(u&&r({nodeInternals:H2(e,o)}),s==null||s(e)),t!=null&&t.length&&(a&&r({edges:V2(t,i)}),l==null||l(t))}const pr=()=>{},B2={zoomIn:pr,zoomOut:pr,zoomTo:pr,getZoom:()=>1,setViewport:pr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:pr,fitBounds:pr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},U2=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),W2=()=>{const e=Ee(),{d3Zoom:t,d3Selection:n}=se(U2,Ce);return I.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(bn(n,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(bn(n,o==null?void 0:o.duration),1/1.2),zoomTo:(o,i)=>t.scaleTo(bn(n,i==null?void 0:i.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,i)=>{const[s,l,u]=e.getState().transform,a=Kt.translate(o.x??s,o.y??l).scale(o.zoom??u);t.transform(bn(n,i==null?void 0:i.duration),a)},getViewport:()=>{const[o,i,s]=e.getState().transform;return{x:o,y:i,zoom:s}},fitView:o=>mg(e.getState,o),setCenter:(o,i,s)=>{const{width:l,height:u,maxZoom:a}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:a,f=l/2-o*c,d=u/2-i*c,g=Kt.translate(f,d).scale(c);t.transform(bn(n,s==null?void 0:s.duration),g)},fitBounds:(o,i)=>{const{width:s,height:l,minZoom:u,maxZoom:a}=e.getState(),{x:c,y:f,zoom:d}=eg(o,s,l,u,a,(i==null?void 0:i.padding)??.1),g=Kt.translate(c,f).scale(d);t.transform(bn(n,i==null?void 0:i.duration),g)},project:o=>{const{transform:i,snapToGrid:s,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),fa(o,i,s,l)},screenToFlowPosition:o=>{const{transform:i,snapToGrid:s,snapGrid:l,domNode:u}=e.getState();if(!u)return o;const{x:a,y:c}=u.getBoundingClientRect(),f={x:o.x-a,y:o.y-c};return fa(f,i,s,l)},flowToScreenPosition:o=>{const{transform:i,domNode:s}=e.getState();if(!s)return o;const{x:l,y:u}=s.getBoundingClientRect(),a=Gm(o,i);return{x:a.x+l,y:a.y+u}},viewportInitialized:!0}:B2,[t,n])};function $c(){const e=W2(),t=Ee(),n=I.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),r=I.useCallback(v=>t.getState().nodeInternals.get(v),[]),o=I.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(_=>({..._}))},[]),i=I.useCallback(v=>{const{edges:_=[]}=t.getState();return _.find(p=>p.id===v)},[]),s=I.useCallback(v=>{const{getNodes:_,setNodes:p,hasDefaultNodes:m,onNodesChange:y}=t.getState(),h=_(),S=typeof v=="function"?v(h):v;if(m)p(S);else if(y){const k=S.length===0?h.map(N=>({type:"remove",id:N.id})):S.map(N=>({item:N,type:"reset"}));y(k)}},[]),l=I.useCallback(v=>{const{edges:_=[],setEdges:p,hasDefaultEdges:m,onEdgesChange:y}=t.getState(),h=typeof v=="function"?v(_):v;if(m)p(h);else if(y){const S=h.length===0?_.map(k=>({type:"remove",id:k.id})):h.map(k=>({item:k,type:"reset"}));y(S)}},[]),u=I.useCallback(v=>{const _=Array.isArray(v)?v:[v],{getNodes:p,setNodes:m,hasDefaultNodes:y,onNodesChange:h}=t.getState();if(y){const k=[...p(),..._];m(k)}else if(h){const S=_.map(k=>({item:k,type:"add"}));h(S)}},[]),a=I.useCallback(v=>{const _=Array.isArray(v)?v:[v],{edges:p=[],setEdges:m,hasDefaultEdges:y,onEdgesChange:h}=t.getState();if(y)m([...p,..._]);else if(h){const S=_.map(k=>({item:k,type:"add"}));h(S)}},[]),c=I.useCallback(()=>{const{getNodes:v,edges:_=[],transform:p}=t.getState(),[m,y,h]=p;return{nodes:v().map(S=>({...S})),edges:_.map(S=>({...S})),viewport:{x:m,y,zoom:h}}},[]),f=I.useCallback(({nodes:v,edges:_})=>{const{nodeInternals:p,getNodes:m,edges:y,hasDefaultNodes:h,hasDefaultEdges:S,onNodesDelete:k,onEdgesDelete:N,onNodesChange:C,onEdgesChange:T}=t.getState(),z=(v||[]).map(M=>M.id),H=(_||[]).map(M=>M.id),j=m().reduce((M,P)=>{const b=P.parentNode||P.parentId,$=!z.includes(P.id)&&b&&M.find(A=>A.id===b);return(typeof P.deletable=="boolean"?P.deletable:!0)&&(z.includes(P.id)||$)&&M.push(P),M},[]),O=y.filter(M=>typeof M.deletable=="boolean"?M.deletable:!0),w=O.filter(M=>H.includes(M.id));if(j||w){const M=Jm(j,O),P=[...w,...M],b=P.reduce(($,E)=>($.includes(E.id)||$.push(E.id),$),[]);if((S||h)&&(S&&t.setState({edges:y.filter($=>!b.includes($.id))}),h&&(j.forEach($=>{p.delete($.id)}),t.setState({nodeInternals:new Map(p)}))),b.length>0&&(N==null||N(P),T&&T(b.map($=>({id:$,type:"remove"})))),j.length>0&&(k==null||k(j),C)){const $=j.map(E=>({id:E.id,type:"remove"}));C($)}}},[]),d=I.useCallback(v=>{const _=f2(v),p=_?null:t.getState().nodeInternals.get(v.id);return!_&&!p?[null,null,_]:[_?v:md(p),p,_]},[]),g=I.useCallback((v,_=!0,p)=>{const[m,y,h]=d(v);return m?(p||t.getState().getNodes()).filter(S=>{if(!h&&(S.id===y.id||!S.positionAbsolute))return!1;const k=md(S),N=la(k,m);return _&&N>0||N>=m.width*m.height}):[]},[]),x=I.useCallback((v,_,p=!0)=>{const[m]=d(v);if(!m)return!1;const y=la(m,_);return p&&y>0||y>=m.width*m.height},[]);return I.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:o,getEdge:i,setNodes:s,setEdges:l,addNodes:u,addEdges:a,toObject:c,deleteElements:f,getIntersectingNodes:g,isNodeIntersecting:x}),[e,n,r,o,i,s,l,u,a,c,f,g,x])}const Q2={actInsideInputWithModifier:!1};var Y2=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Ee(),{deleteElements:r}=$c(),o=ii(e,Q2),i=ii(t);I.useEffect(()=>{if(o){const{edges:s,getNodes:l}=n.getState(),u=l().filter(c=>c.selected),a=s.filter(c=>c.selected);r({nodes:u,edges:a}),n.setState({nodesSelectionActive:!1})}},[o]),I.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function K2(e){const t=Ee();I.useEffect(()=>{let n;const r=()=>{var i,s;if(!e.current)return;const o=Sc(e.current);(o.height===0||o.width===0)&&((s=(i=t.getState()).onError)==null||s.call(i,"004",en.error004())),t.setState({width:o.width||500,height:o.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Mc={position:"absolute",width:"100%",height:"100%",top:0,left:0},X2=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Vi=e=>({x:e.x,y:e.y,zoom:e.k}),hr=(e,t)=>e.target.closest(`.${t}`),kd=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Cd=e=>{const t=e.ctrlKey&&Ds()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},q2=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),G2=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:o=!0,zoomOnPinch:i=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:u=Wn.Free,zoomOnDoubleClick:a=!0,elementsSelectable:c,panOnDrag:f=!0,defaultViewport:d,translateExtent:g,minZoom:x,maxZoom:v,zoomActivationKeyCode:_,preventScrolling:p=!0,children:m,noWheelClassName:y,noPanClassName:h})=>{const S=I.useRef(),k=Ee(),N=I.useRef(!1),C=I.useRef(!1),T=I.useRef(null),z=I.useRef({x:0,y:0,zoom:0}),{d3Zoom:H,d3Selection:j,d3ZoomHandler:O,userSelectionActive:w}=se(q2,Ce),M=ii(_),P=I.useRef(0),b=I.useRef(!1),$=I.useRef();return K2(T),I.useEffect(()=>{if(T.current){const E=T.current.getBoundingClientRect(),A=Fm().scaleExtent([x,v]).translateExtent(g),F=lt(T.current).call(A),R=Kt.translate(d.x,d.y).scale(Kr(d.zoom,x,v)),B=[[0,0],[E.width,E.height]],U=A.constrain()(R,B,g);A.transform(F,U),A.wheelDelta(Cd),k.setState({d3Zoom:A,d3Selection:F,d3ZoomHandler:F.on("wheel.zoom"),transform:[U.x,U.y,U.k],domNode:T.current.closest(".react-flow")})}},[]),I.useEffect(()=>{j&&H&&(s&&!M&&!w?j.on("wheel.zoom",E=>{if(hr(E,y))return!1;E.preventDefault(),E.stopImmediatePropagation();const A=j.property("__zoom").k||1;if(E.ctrlKey&&i){const J=wt(E),ee=Cd(E),te=A*Math.pow(2,ee);H.scaleTo(j,te,J,E);return}const F=E.deltaMode===1?20:1;let R=u===Wn.Vertical?0:E.deltaX*F,B=u===Wn.Horizontal?0:E.deltaY*F;!Ds()&&E.shiftKey&&u!==Wn.Vertical&&(R=E.deltaY*F,B=0),H.translateBy(j,-(R/A)*l,-(B/A)*l,{internal:!0});const U=Vi(j.property("__zoom")),{onViewportChangeStart:Q,onViewportChange:K,onViewportChangeEnd:q}=k.getState();clearTimeout($.current),b.current||(b.current=!0,t==null||t(E,U),Q==null||Q(U)),b.current&&(e==null||e(E,U),K==null||K(U),$.current=setTimeout(()=>{n==null||n(E,U),q==null||q(U),b.current=!1},150))},{passive:!1}):typeof O<"u"&&j.on("wheel.zoom",function(E,A){if(!p&&E.type==="wheel"&&!E.ctrlKey||hr(E,y))return null;E.preventDefault(),O.call(this,E,A)},{passive:!1}))},[w,s,u,j,H,O,M,i,p,y,t,e,n]),I.useEffect(()=>{H&&H.on("start",E=>{var R,B;if(!E.sourceEvent||E.sourceEvent.internal)return null;P.current=(R=E.sourceEvent)==null?void 0:R.button;const{onViewportChangeStart:A}=k.getState(),F=Vi(E.transform);N.current=!0,z.current=F,((B=E.sourceEvent)==null?void 0:B.type)==="mousedown"&&k.setState({paneDragging:!0}),A==null||A(F),t==null||t(E.sourceEvent,F)})},[H,t]),I.useEffect(()=>{H&&(w&&!N.current?H.on("zoom",null):w||H.on("zoom",E=>{var F;const{onViewportChange:A}=k.getState();if(k.setState({transform:[E.transform.x,E.transform.y,E.transform.k]}),C.current=!!(r&&kd(f,P.current??0)),(e||A)&&!((F=E.sourceEvent)!=null&&F.internal)){const R=Vi(E.transform);A==null||A(R),e==null||e(E.sourceEvent,R)}}))},[w,H,e,f,r]),I.useEffect(()=>{H&&H.on("end",E=>{if(!E.sourceEvent||E.sourceEvent.internal)return null;const{onViewportChangeEnd:A}=k.getState();if(N.current=!1,k.setState({paneDragging:!1}),r&&kd(f,P.current??0)&&!C.current&&r(E.sourceEvent),C.current=!1,(n||A)&&X2(z.current,E.transform)){const F=Vi(E.transform);z.current=F,clearTimeout(S.current),S.current=setTimeout(()=>{A==null||A(F),n==null||n(E.sourceEvent,F)},s?150:0)}})},[H,s,f,n,r]),I.useEffect(()=>{H&&H.filter(E=>{const A=M||o,F=i&&E.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&E.button===1&&E.type==="mousedown"&&(hr(E,"react-flow__node")||hr(E,"react-flow__edge")))return!0;if(!f&&!A&&!s&&!a&&!i||w||!a&&E.type==="dblclick"||hr(E,y)&&E.type==="wheel"||hr(E,h)&&(E.type!=="wheel"||s&&E.type==="wheel"&&!M)||!i&&E.ctrlKey&&E.type==="wheel"||!A&&!s&&!F&&E.type==="wheel"||!f&&(E.type==="mousedown"||E.type==="touchstart")||Array.isArray(f)&&!f.includes(E.button)&&E.type==="mousedown")return!1;const R=Array.isArray(f)&&f.includes(E.button)||!E.button||E.button<=1;return(!E.ctrlKey||E.type==="wheel")&&R})},[w,H,o,i,s,a,f,c,M]),D.createElement("div",{className:"react-flow__renderer",ref:T,style:Mc},m)},Z2=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function J2(){const{userSelectionActive:e,userSelectionRect:t}=se(Z2,Ce);return e&&t?D.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Pd(e,t){const n=t.parentNode||t.parentId,r=e.find(o=>o.id===n);if(r){const o=t.position.x+t.width-r.width,i=t.position.y+t.height-r.height;if(o>0||i>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,o>0&&(r.style.width+=o),i>0&&(r.style.height+=i),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function gg(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,o)=>{const i=e.filter(l=>l.id===o.id);if(i.length===0)return r.push(o),r;const s={...o};for(const l of i)if(l)switch(l.type){case"select":{s.selected=l.selected;break}case"position":{typeof l.position<"u"&&(s.position=l.position),typeof l.positionAbsolute<"u"&&(s.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(s.dragging=l.dragging),s.expandParent&&Pd(r,s);break}case"dimensions":{typeof l.dimensions<"u"&&(s.width=l.dimensions.width,s.height=l.dimensions.height),typeof l.updateStyle<"u"&&(s.style={...s.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(s.resizing=l.resizing),s.expandParent&&Pd(r,s);break}case"remove":return r}return r.push(s),r},n)}function yg(e,t){return gg(e,t)}function eE(e,t){return gg(e,t)}const un=(e,t)=>({id:e,type:"select",selected:t});function Tr(e,t){return e.reduce((n,r)=>{const o=t.includes(r.id);return!r.selected&&o?(r.selected=!0,n.push(un(r.id,!0))):r.selected&&!o&&(r.selected=!1,n.push(un(r.id,!1))),n},[])}const Zl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},tE=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),vg=I.memo(({isSelecting:e,selectionMode:t=oi.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:o,onPaneClick:i,onPaneContextMenu:s,onPaneScroll:l,onPaneMouseEnter:u,onPaneMouseMove:a,onPaneMouseLeave:c,children:f})=>{const d=I.useRef(null),g=Ee(),x=I.useRef(0),v=I.useRef(0),_=I.useRef(),{userSelectionActive:p,elementsSelectable:m,dragging:y}=se(tE,Ce),h=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),x.current=0,v.current=0},S=O=>{i==null||i(O),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},k=O=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){O.preventDefault();return}s==null||s(O)},N=l?O=>l(O):void 0,C=O=>{const{resetSelectedElements:w,domNode:M}=g.getState();if(_.current=M==null?void 0:M.getBoundingClientRect(),!m||!e||O.button!==0||O.target!==d.current||!_.current)return;const{x:P,y:b}=En(O,_.current);w(),g.setState({userSelectionRect:{width:0,height:0,startX:P,startY:b,x:P,y:b}}),r==null||r(O)},T=O=>{const{userSelectionRect:w,nodeInternals:M,edges:P,transform:b,onNodesChange:$,onEdgesChange:E,nodeOrigin:A,getNodes:F}=g.getState();if(!e||!_.current||!w)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});const R=En(O,_.current),B=w.startX??0,U=w.startY??0,Q={...w,x:R.x<B?R.x:B,y:R.y<U?R.y:U,width:Math.abs(R.x-B),height:Math.abs(R.y-U)},K=F(),q=Zm(M,Q,b,t===oi.Partial,!0,A),J=Jm(q,P).map(te=>te.id),ee=q.map(te=>te.id);if(x.current!==ee.length){x.current=ee.length;const te=Tr(K,ee);te.length&&($==null||$(te))}if(v.current!==J.length){v.current=J.length;const te=Tr(P,J);te.length&&(E==null||E(te))}g.setState({userSelectionRect:Q})},z=O=>{if(O.button!==0)return;const{userSelectionRect:w}=g.getState();!p&&w&&O.target===d.current&&(S==null||S(O)),g.setState({nodesSelectionActive:x.current>0}),h(),o==null||o(O)},H=O=>{p&&(g.setState({nodesSelectionActive:x.current>0}),o==null||o(O)),h()},j=m&&(e||p);return D.createElement("div",{className:Me(["react-flow__pane",{dragging:y,selection:e}]),onClick:j?void 0:Zl(S,d),onContextMenu:Zl(k,d),onWheel:Zl(N,d),onMouseEnter:j?void 0:u,onMouseDown:j?C:void 0,onMouseMove:j?T:a,onMouseUp:j?z:void 0,onMouseLeave:j?H:c,ref:d,style:Mc},f,D.createElement(J2,null))});vg.displayName="Pane";function wg(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:wg(r,t):!1}function Td(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function nE(e,t,n,r){return Array.from(e.values()).filter(o=>(o.selected||o.id===r)&&(!o.parentNode||o.parentId||!wg(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var i,s;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=o.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((s=o.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}})}function rE(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function xg(e,t,n,r,o=[0,0],i){const s=rE(e,e.extent||r);let l=s;const u=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(u&&e.width&&e.height){const f=n.get(u),{x:d,y:g}=Xn(f,o).positionAbsolute;l=f&&ct(d)&&ct(g)&&ct(f.width)&&ct(f.height)?[[d+e.width*o[0],g+e.height*o[1]],[d+f.width-e.width+e.width*o[0],g+f.height-e.height+e.height*o[1]]]:l}else i==null||i("005",en.error005()),l=s;else if(e.extent&&u&&e.extent!=="parent"){const f=n.get(u),{x:d,y:g}=Xn(f,o).positionAbsolute;l=[[e.extent[0][0]+d,e.extent[0][1]+g],[e.extent[1][0]+d,e.extent[1][1]+g]]}let a={x:0,y:0};if(u){const f=n.get(u);a=Xn(f,o).positionAbsolute}const c=l&&l!=="parent"?Ec(t,l):t;return{position:{x:c.x-a.x,y:c.y-a.y},positionAbsolute:c}}function Jl({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?r.find(o=>o.id===e):r[0],r]}const $d=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const i=Array.from(o),s=t.getBoundingClientRect(),l={x:s.width*r[0],y:s.height*r[1]};return i.map(u=>{const a=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),position:u.getAttribute("data-handlepos"),x:(a.left-s.left-l.x)/n,y:(a.top-s.top-l.y)/n,...Sc(u)}})};function go(e,t,n){return n===void 0?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function pa({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeInternals:l,onError:u}=t.getState(),a=l.get(e);if(!a){u==null||u("012",en.error012(e));return}t.setState({nodesSelectionActive:!1}),a.selected?(n||a.selected&&s)&&(i({nodes:[a],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):o([e])}function oE(){const e=Ee();return I.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:o,snapToGrid:i}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,u={x:(s-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:i?o[0]*Math.round(u.x/o[0]):u.x,ySnapped:i?o[1]*Math.round(u.y/o[1]):u.y,...u}},[])}function eu(e){return(t,n,r)=>e==null?void 0:e(t,r)}function Sg({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,selectNodesOnDrag:s}){const l=Ee(),[u,a]=I.useState(!1),c=I.useRef([]),f=I.useRef({x:null,y:null}),d=I.useRef(0),g=I.useRef(null),x=I.useRef({x:0,y:0}),v=I.useRef(null),_=I.useRef(!1),p=I.useRef(!1),m=I.useRef(!1),y=oE();return I.useEffect(()=>{if(e!=null&&e.current){const h=lt(e.current),S=({x:C,y:T})=>{const{nodeInternals:z,onNodeDrag:H,onSelectionDrag:j,updateNodePositions:O,nodeExtent:w,snapGrid:M,snapToGrid:P,nodeOrigin:b,onError:$}=l.getState();f.current={x:C,y:T};let E=!1,A={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&w){const R=fl(c.current,b);A=ri(R)}if(c.current=c.current.map(R=>{const B={x:C-R.distance.x,y:T-R.distance.y};P&&(B.x=M[0]*Math.round(B.x/M[0]),B.y=M[1]*Math.round(B.y/M[1]));const U=[[w[0][0],w[0][1]],[w[1][0],w[1][1]]];c.current.length>1&&w&&!R.extent&&(U[0][0]=R.positionAbsolute.x-A.x+w[0][0],U[1][0]=R.positionAbsolute.x+(R.width??0)-A.x2+w[1][0],U[0][1]=R.positionAbsolute.y-A.y+w[0][1],U[1][1]=R.positionAbsolute.y+(R.height??0)-A.y2+w[1][1]);const Q=xg(R,B,z,U,b,$);return E=E||R.position.x!==Q.position.x||R.position.y!==Q.position.y,R.position=Q.position,R.positionAbsolute=Q.positionAbsolute,R}),!E)return;O(c.current,!0,!0),a(!0);const F=o?H:eu(j);if(F&&v.current){const[R,B]=Jl({nodeId:o,dragItems:c.current,nodeInternals:z});F(v.current,R,B)}},k=()=>{if(!g.current)return;const[C,T]=Hm(x.current,g.current);if(C!==0||T!==0){const{transform:z,panBy:H}=l.getState();f.current.x=(f.current.x??0)-C/z[2],f.current.y=(f.current.y??0)-T/z[2],H({x:C,y:T})&&S(f.current)}d.current=requestAnimationFrame(k)},N=C=>{var b;const{nodeInternals:T,multiSelectionActive:z,nodesDraggable:H,unselectNodesAndEdges:j,onNodeDragStart:O,onSelectionDragStart:w}=l.getState();p.current=!0;const M=o?O:eu(w);(!s||!i)&&!z&&o&&((b=T.get(o))!=null&&b.selected||j()),o&&i&&s&&pa({id:o,store:l,nodeRef:e});const P=y(C);if(f.current=P,c.current=nE(T,H,P,o),M&&c.current){const[$,E]=Jl({nodeId:o,dragItems:c.current,nodeInternals:T});M(C.sourceEvent,$,E)}};if(t)h.on(".drag",null);else{const C=mx().on("start",T=>{const{domNode:z,nodeDragThreshold:H}=l.getState();H===0&&N(T),m.current=!1;const j=y(T);f.current=j,g.current=(z==null?void 0:z.getBoundingClientRect())||null,x.current=En(T.sourceEvent,g.current)}).on("drag",T=>{var O,w;const z=y(T),{autoPanOnNodeDrag:H,nodeDragThreshold:j}=l.getState();if(T.sourceEvent.type==="touchmove"&&T.sourceEvent.touches.length>1&&(m.current=!0),!m.current){if(!_.current&&p.current&&H&&(_.current=!0,k()),!p.current){const M=z.xSnapped-(((O=f==null?void 0:f.current)==null?void 0:O.x)??0),P=z.ySnapped-(((w=f==null?void 0:f.current)==null?void 0:w.y)??0);Math.sqrt(M*M+P*P)>j&&N(T)}(f.current.x!==z.xSnapped||f.current.y!==z.ySnapped)&&c.current&&p.current&&(v.current=T.sourceEvent,x.current=En(T.sourceEvent,g.current),S(z))}}).on("end",T=>{if(!(!p.current||m.current)&&(a(!1),_.current=!1,p.current=!1,cancelAnimationFrame(d.current),c.current)){const{updateNodePositions:z,nodeInternals:H,onNodeDragStop:j,onSelectionDragStop:O}=l.getState(),w=o?j:eu(O);if(z(c.current,!1,!1),w){const[M,P]=Jl({nodeId:o,dragItems:c.current,nodeInternals:H});w(T.sourceEvent,M,P)}}}).filter(T=>{const z=T.target;return!T.button&&(!n||!Td(z,`.${n}`,e))&&(!r||Td(z,r,e))});return h.call(C),()=>{h.on(".drag",null)}}}},[e,t,n,r,i,l,o,s,y]),u}function Eg(){const e=Ee();return I.useCallback(n=>{const{nodeInternals:r,nodeExtent:o,updateNodePositions:i,getNodes:s,snapToGrid:l,snapGrid:u,onError:a,nodesDraggable:c}=e.getState(),f=s().filter(m=>m.selected&&(m.draggable||c&&typeof m.draggable>"u")),d=l?u[0]:5,g=l?u[1]:5,x=n.isShiftPressed?4:1,v=n.x*d*x,_=n.y*g*x,p=f.map(m=>{if(m.positionAbsolute){const y={x:m.positionAbsolute.x+v,y:m.positionAbsolute.y+_};l&&(y.x=u[0]*Math.round(y.x/u[0]),y.y=u[1]*Math.round(y.y/u[1]));const{positionAbsolute:h,position:S}=xg(m,y,r,o,void 0,a);m.position=S,m.positionAbsolute=h}return m});i(p,!0,!1)},[])}const Or={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var yo=e=>{const t=({id:n,type:r,data:o,xPos:i,yPos:s,xPosOrigin:l,yPosOrigin:u,selected:a,onClick:c,onMouseEnter:f,onMouseMove:d,onMouseLeave:g,onContextMenu:x,onDoubleClick:v,style:_,className:p,isDraggable:m,isSelectable:y,isConnectable:h,isFocusable:S,selectNodesOnDrag:k,sourcePosition:N,targetPosition:C,hidden:T,resizeObserver:z,dragHandle:H,zIndex:j,isParent:O,noDragClassName:w,noPanClassName:M,initialized:P,disableKeyboardA11y:b,ariaLabel:$,rfId:E,hasHandleBounds:A})=>{const F=Ee(),R=I.useRef(null),B=I.useRef(null),U=I.useRef(N),Q=I.useRef(C),K=I.useRef(r),q=y||m||c||f||d||g,J=Eg(),ee=go(n,F.getState,f),te=go(n,F.getState,d),me=go(n,F.getState,g),we=go(n,F.getState,x),Oe=go(n,F.getState,v),Ie=oe=>{const{nodeDragThreshold:X}=F.getState();if(y&&(!k||!m||X>0)&&pa({id:n,store:F,nodeRef:R}),c){const be=F.getState().nodeInternals.get(n);be&&c(oe,{...be})}},ge=oe=>{if(!ua(oe)&&!b)if(Wm.includes(oe.key)&&y){const X=oe.key==="Escape";pa({id:n,store:F,unselect:X,nodeRef:R})}else m&&a&&Object.prototype.hasOwnProperty.call(Or,oe.key)&&(F.setState({ariaLiveMessage:`Moved selected node ${oe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~s}`}),J({x:Or[oe.key].x,y:Or[oe.key].y,isShiftPressed:oe.shiftKey}))};I.useEffect(()=>()=>{B.current&&(z==null||z.unobserve(B.current),B.current=null)},[]),I.useEffect(()=>{if(R.current&&!T){const oe=R.current;(!P||!A||B.current!==oe)&&(B.current&&(z==null||z.unobserve(B.current)),z==null||z.observe(oe),B.current=oe)}},[T,P,A]),I.useEffect(()=>{const oe=K.current!==r,X=U.current!==N,be=Q.current!==C;R.current&&(oe||X||be)&&(oe&&(K.current=r),X&&(U.current=N),be&&(Q.current=C),F.getState().updateNodeDimensions([{id:n,nodeElement:R.current,forceUpdate:!0}]))},[n,r,N,C]);const Xe=Sg({nodeRef:R,disabled:T||!m,noDragClassName:w,handleSelector:H,nodeId:n,isSelectable:y,selectNodesOnDrag:k});return T?null:D.createElement("div",{className:Me(["react-flow__node",`react-flow__node-${r}`,{[M]:m},p,{selected:a,selectable:y,parent:O,dragging:Xe}]),ref:R,style:{zIndex:j,transform:`translate(${l}px,${u}px)`,pointerEvents:q?"all":"none",visibility:P?"visible":"hidden",..._},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ee,onMouseMove:te,onMouseLeave:me,onContextMenu:we,onClick:Ie,onDoubleClick:Oe,onKeyDown:S?ge:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":b?void 0:`${fg}-${E}`,"aria-label":$},D.createElement(v2,{value:n},D.createElement(e,{id:n,data:o,type:r,xPos:i,yPos:s,selected:a,isConnectable:h,sourcePosition:N,targetPosition:C,dragging:Xe,dragHandle:H,zIndex:j})))};return t.displayName="NodeWrapper",I.memo(t)};const iE=e=>{const t=e.getNodes().filter(n=>n.selected);return{...fl(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function sE({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ee(),{width:o,height:i,x:s,y:l,transformString:u,userSelectionActive:a}=se(iE,Ce),c=Eg(),f=I.useRef(null);if(I.useEffect(()=>{var x;n||(x=f.current)==null||x.focus({preventScroll:!0})},[n]),Sg({nodeRef:f}),a||!o||!i)return null;const d=e?x=>{const v=r.getState().getNodes().filter(_=>_.selected);e(x,v)}:void 0,g=x=>{Object.prototype.hasOwnProperty.call(Or,x.key)&&c({x:Or[x.key].x,y:Or[x.key].y,isShiftPressed:x.shiftKey})};return D.createElement("div",{className:Me(["react-flow__nodesselection","react-flow__container",t]),style:{transform:u}},D.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:g,style:{width:o,height:i,top:l,left:s}}))}var lE=I.memo(sE);const uE=e=>e.nodesSelectionActive,_g=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,deleteKeyCode:l,onMove:u,onMoveStart:a,onMoveEnd:c,selectionKeyCode:f,selectionOnDrag:d,selectionMode:g,onSelectionStart:x,onSelectionEnd:v,multiSelectionKeyCode:_,panActivationKeyCode:p,zoomActivationKeyCode:m,elementsSelectable:y,zoomOnScroll:h,zoomOnPinch:S,panOnScroll:k,panOnScrollSpeed:N,panOnScrollMode:C,zoomOnDoubleClick:T,panOnDrag:z,defaultViewport:H,translateExtent:j,minZoom:O,maxZoom:w,preventScrolling:M,onSelectionContextMenu:P,noWheelClassName:b,noPanClassName:$,disableKeyboardA11y:E})=>{const A=se(uE),F=ii(f),R=ii(p),B=R||z,U=R||k,Q=F||d&&B!==!0;return Y2({deleteKeyCode:l,multiSelectionKeyCode:_}),D.createElement(G2,{onMove:u,onMoveStart:a,onMoveEnd:c,onPaneContextMenu:i,elementsSelectable:y,zoomOnScroll:h,zoomOnPinch:S,panOnScroll:U,panOnScrollSpeed:N,panOnScrollMode:C,zoomOnDoubleClick:T,panOnDrag:!F&&B,defaultViewport:H,translateExtent:j,minZoom:O,maxZoom:w,zoomActivationKeyCode:m,preventScrolling:M,noWheelClassName:b,noPanClassName:$},D.createElement(vg,{onSelectionStart:x,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:B,isSelecting:!!Q,selectionMode:g},e,A&&D.createElement(lE,{onSelectionContextMenu:P,noPanClassName:$,disableKeyboardA11y:E})))};_g.displayName="FlowRenderer";var aE=I.memo(_g);function cE(e){return se(I.useCallback(n=>e?Zm(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function fE(e){const t={input:yo(e.input||lg),default:yo(e.default||da),output:yo(e.output||ag),group:yo(e.group||Tc)},n={},r=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,i)=>(o[i]=yo(e[i]||da),o),n);return{...t,...r}}const dE=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},pE=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Ng=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:i,onError:s}=se(pE,Ce),l=cE(e.onlyRenderVisibleElements),u=I.useRef(),a=I.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(f=>{const d=f.map(g=>({id:g.target.getAttribute("data-id"),nodeElement:g.target,forceUpdate:!0}));i(d)});return u.current=c,c},[]);return I.useEffect(()=>()=>{var c;(c=u==null?void 0:u.current)==null||c.disconnect()},[]),D.createElement("div",{className:"react-flow__nodes",style:Mc},l.map(c=>{var S,k,N;let f=c.type||"default";e.nodeTypes[f]||(s==null||s("003",en.error003(f)),f="default");const d=e.nodeTypes[f]||e.nodeTypes.default,g=!!(c.draggable||t&&typeof c.draggable>"u"),x=!!(c.selectable||o&&typeof c.selectable>"u"),v=!!(c.connectable||n&&typeof c.connectable>"u"),_=!!(c.focusable||r&&typeof c.focusable>"u"),p=e.nodeExtent?Ec(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,m=(p==null?void 0:p.x)??0,y=(p==null?void 0:p.y)??0,h=dE({x:m,y,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return D.createElement(d,{key:c.id,id:c.id,className:c.className,style:c.style,type:f,data:c.data,sourcePosition:c.sourcePosition||Y.Bottom,targetPosition:c.targetPosition||Y.Top,hidden:c.hidden,xPos:m,yPos:y,xPosOrigin:h.x,yPosOrigin:h.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:g,isSelectable:x,isConnectable:v,isFocusable:_,resizeObserver:a,dragHandle:c.dragHandle,zIndex:((S=c[he])==null?void 0:S.z)??0,isParent:!!((k=c[he])!=null&&k.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((N=c[he])!=null&&N.handleBounds)})}))};Ng.displayName="NodeRenderer";var hE=I.memo(Ng);const mE=(e,t,n)=>n===Y.Left?e-t:n===Y.Right?e+t:e,gE=(e,t,n)=>n===Y.Top?e-t:n===Y.Bottom?e+t:e,Md="react-flow__edgeupdater",Id=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:l})=>D.createElement("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:Me([Md,`${Md}-${l}`]),cx:mE(t,r,e),cy:gE(n,r,e),r,stroke:"transparent",fill:"transparent"}),yE=()=>!0;var mr=e=>{const t=({id:n,className:r,type:o,data:i,onClick:s,onEdgeDoubleClick:l,selected:u,animated:a,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:g,labelBgPadding:x,labelBgBorderRadius:v,style:_,source:p,target:m,sourceX:y,sourceY:h,targetX:S,targetY:k,sourcePosition:N,targetPosition:C,elementsSelectable:T,hidden:z,sourceHandleId:H,targetHandleId:j,onContextMenu:O,onMouseEnter:w,onMouseMove:M,onMouseLeave:P,reconnectRadius:b,onReconnect:$,onReconnectStart:E,onReconnectEnd:A,markerEnd:F,markerStart:R,rfId:B,ariaLabel:U,isFocusable:Q,isReconnectable:K,pathOptions:q,interactionWidth:J,disableKeyboardA11y:ee})=>{const te=I.useRef(null),[me,we]=I.useState(!1),[Oe,Ie]=I.useState(!1),ge=Ee(),Xe=I.useMemo(()=>`url('#${ca(R,B)}')`,[R,B]),oe=I.useMemo(()=>`url('#${ca(F,B)}')`,[F,B]);if(z)return null;const X=ze=>{var Tt;const{edges:mt,addSelectedEdges:zn,unselectNodesAndEdges:An,multiSelectionActive:Rn}=ge.getState(),Ft=mt.find(no=>no.id===n);Ft&&(T&&(ge.setState({nodesSelectionActive:!1}),Ft.selected&&Rn?(An({nodes:[],edges:[Ft]}),(Tt=te.current)==null||Tt.blur()):zn([n])),s&&s(ze,Ft))},be=mo(n,ge.getState,l),Ot=mo(n,ge.getState,O),eo=mo(n,ge.getState,w),sr=mo(n,ge.getState,M),lr=mo(n,ge.getState,P),bt=(ze,mt)=>{if(ze.button!==0)return;const{edges:zn,isValidConnection:An}=ge.getState(),Rn=mt?m:p,Ft=(mt?j:H)||null,Tt=mt?"target":"source",no=An||yE,gl=mt,ro=zn.find(Dn=>Dn.id===n);Ie(!0),E==null||E(ze,ro,Tt);const yl=Dn=>{Ie(!1),A==null||A(Dn,ro,Tt)};rg({event:ze,handleId:Ft,nodeId:Rn,onConnect:Dn=>$==null?void 0:$(ro,Dn),isTarget:gl,getState:ge.getState,setState:ge.setState,isValidConnection:no,edgeUpdaterType:Tt,onReconnectEnd:yl})},ur=ze=>bt(ze,!0),Mn=ze=>bt(ze,!1),In=()=>we(!0),ar=()=>we(!1),cr=!T&&!s,to=ze=>{var mt;if(!ee&&Wm.includes(ze.key)&&T){const{unselectNodesAndEdges:zn,addSelectedEdges:An,edges:Rn}=ge.getState();ze.key==="Escape"?((mt=te.current)==null||mt.blur(),zn({edges:[Rn.find(Tt=>Tt.id===n)]})):An([n])}};return D.createElement("g",{className:Me(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:u,animated:a,inactive:cr,updating:me}]),onClick:X,onDoubleClick:be,onContextMenu:Ot,onMouseEnter:eo,onMouseMove:sr,onMouseLeave:lr,onKeyDown:Q?to:void 0,tabIndex:Q?0:void 0,role:Q?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":U===null?void 0:U||`Edge from ${p} to ${m}`,"aria-describedby":Q?`${dg}-${B}`:void 0,ref:te},!Oe&&D.createElement(e,{id:n,source:p,target:m,selected:u,animated:a,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:g,labelBgPadding:x,labelBgBorderRadius:v,data:i,style:_,sourceX:y,sourceY:h,targetX:S,targetY:k,sourcePosition:N,targetPosition:C,sourceHandleId:H,targetHandleId:j,markerStart:Xe,markerEnd:oe,pathOptions:q,interactionWidth:J}),K&&D.createElement(D.Fragment,null,(K==="source"||K===!0)&&D.createElement(Id,{position:N,centerX:y,centerY:h,radius:b,onMouseDown:ur,onMouseEnter:In,onMouseOut:ar,type:"source"}),(K==="target"||K===!0)&&D.createElement(Id,{position:C,centerX:S,centerY:k,radius:b,onMouseDown:Mn,onMouseEnter:In,onMouseOut:ar,type:"target"})))};return t.displayName="EdgeWrapper",I.memo(t)};function vE(e){const t={default:mr(e.default||Os),straight:mr(e.bezier||kc),step:mr(e.step||Nc),smoothstep:mr(e.step||cl),simplebezier:mr(e.simplebezier||_c)},n={},r=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,i)=>(o[i]=mr(e[i]||Os),o),n);return{...t,...r}}function zd(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case Y.Top:return{x:r+i/2,y:o};case Y.Right:return{x:r+i,y:o+s/2};case Y.Bottom:return{x:r+i/2,y:o+s};case Y.Left:return{x:r,y:o+s/2}}}function Ad(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const wE=(e,t,n,r,o,i)=>{const s=zd(n,e,t),l=zd(i,r,o);return{sourceX:s.x,sourceY:s.y,targetX:l.x,targetY:l.y}};function xE({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:i,width:s,height:l,transform:u}){const a={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+i)};a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1);const c=ri({x:(0-u[0])/u[2],y:(0-u[1])/u[2],width:s/u[2],height:l/u[2]}),f=Math.max(0,Math.min(c.x2,a.x2)-Math.max(c.x,a.x)),d=Math.max(0,Math.min(c.y2,a.y2)-Math.max(c.y,a.y));return Math.ceil(f*d)>0}function Rd(e){var r,o,i,s,l;const t=((r=e==null?void 0:e[he])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const SE=[{level:0,isMaxLevel:!0,edges:[]}];function EE(e,t,n=!1){let r=-1;const o=e.reduce((s,l)=>{var c,f;const u=ct(l.zIndex);let a=u?l.zIndex:0;if(n){const d=t.get(l.target),g=t.get(l.source),x=l.selected||(d==null?void 0:d.selected)||(g==null?void 0:g.selected),v=Math.max(((c=g==null?void 0:g[he])==null?void 0:c.z)||0,((f=d==null?void 0:d[he])==null?void 0:f.z)||0,1e3);a=(u?l.zIndex:0)+(x?v:0)}return s[a]?s[a].push(l):s[a]=[l],r=a>r?a:r,s},{}),i=Object.entries(o).map(([s,l])=>{const u=+s;return{edges:l,level:u,isMaxLevel:u===r}});return i.length===0?SE:i}function _E(e,t,n){const r=se(I.useCallback(o=>e?o.edges.filter(i=>{const s=t.get(i.source),l=t.get(i.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&xE({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:l.width,targetHeight:l.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return EE(r,t,n)}const NE=({color:e="none",strokeWidth:t=1})=>D.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),kE=({color:e="none",strokeWidth:t=1})=>D.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Dd={[Ls.Arrow]:NE,[Ls.ArrowClosed]:kE};function CE(e){const t=Ee();return I.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(Dd,e)?Dd[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",en.error009(e)),null)},[e])}const PE=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const u=CE(t);return u?D.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0"},D.createElement(u,{color:n,strokeWidth:s})):null},TE=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((o,i)=>([i.markerStart,i.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const l=ca(s,t);r.includes(l)||(o.push({id:l,color:s.color||e,...s}),r.push(l))}}),o),[]).sort((o,i)=>o.id.localeCompare(i.id))},kg=({defaultColor:e,rfId:t})=>{const n=se(I.useCallback(TE({defaultColor:e,rfId:t}),[e,t]),(r,o)=>!(r.length!==o.length||r.some((i,s)=>i.id!==o[s].id)));return D.createElement("defs",null,n.map(r=>D.createElement(PE,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};kg.displayName="MarkerDefinitions";var $E=I.memo(kg);const ME=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Cg=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:o,noPanClassName:i,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:u,onEdgeMouseLeave:a,onEdgeClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:g,onReconnectEnd:x,reconnectRadius:v,children:_,disableKeyboardA11y:p})=>{const{edgesFocusable:m,edgesUpdatable:y,elementsSelectable:h,width:S,height:k,connectionMode:N,nodeInternals:C,onError:T}=se(ME,Ce),z=_E(t,C,n);return S?D.createElement(D.Fragment,null,z.map(({level:H,edges:j,isMaxLevel:O})=>D.createElement("svg",{key:H,style:{zIndex:H},width:S,height:k,className:"react-flow__edges react-flow__container"},O&&D.createElement($E,{defaultColor:e,rfId:r}),D.createElement("g",null,j.map(w=>{const[M,P,b]=Rd(C.get(w.source)),[$,E,A]=Rd(C.get(w.target));if(!b||!A)return null;let F=w.type||"default";o[F]||(T==null||T("011",en.error011(F)),F="default");const R=o[F]||o.default,B=N===Cn.Strict?E.target:(E.target??[]).concat(E.source??[]),U=Ad(P.source,w.sourceHandle),Q=Ad(B,w.targetHandle),K=(U==null?void 0:U.position)||Y.Bottom,q=(Q==null?void 0:Q.position)||Y.Top,J=!!(w.focusable||m&&typeof w.focusable>"u"),ee=w.reconnectable||w.updatable,te=typeof d<"u"&&(ee||y&&typeof ee>"u");if(!U||!Q)return T==null||T("008",en.error008(U,w)),null;const{sourceX:me,sourceY:we,targetX:Oe,targetY:Ie}=wE(M,U,K,$,Q,q);return D.createElement(R,{key:w.id,id:w.id,className:Me([w.className,i]),type:F,data:w.data,selected:!!w.selected,animated:!!w.animated,hidden:!!w.hidden,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,style:w.style,source:w.source,target:w.target,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerEnd:w.markerEnd,markerStart:w.markerStart,sourceX:me,sourceY:we,targetX:Oe,targetY:Ie,sourcePosition:K,targetPosition:q,elementsSelectable:h,onContextMenu:s,onMouseEnter:l,onMouseMove:u,onMouseLeave:a,onClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:g,onReconnectEnd:x,reconnectRadius:v,rfId:r,ariaLabel:w.ariaLabel,isFocusable:J,isReconnectable:te,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth,disableKeyboardA11y:p})})))),_):null};Cg.displayName="EdgeRenderer";var IE=I.memo(Cg);const zE=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function AE({children:e}){const t=se(zE);return D.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function RE(e){const t=$c(),n=I.useRef(!1);I.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const DE={[Y.Left]:Y.Right,[Y.Right]:Y.Left,[Y.Top]:Y.Bottom,[Y.Bottom]:Y.Top},Pg=({nodeId:e,handleType:t,style:n,type:r=fn.Bezier,CustomComponent:o,connectionStatus:i})=>{var k,N,C;const{fromNode:s,handleId:l,toX:u,toY:a,connectionMode:c}=se(I.useCallback(T=>({fromNode:T.nodeInternals.get(e),handleId:T.connectionHandleId,toX:(T.connectionPosition.x-T.transform[0])/T.transform[2],toY:(T.connectionPosition.y-T.transform[1])/T.transform[2],connectionMode:T.connectionMode}),[e]),Ce),f=(k=s==null?void 0:s[he])==null?void 0:k.handleBounds;let d=f==null?void 0:f[t];if(c===Cn.Loose&&(d=d||(f==null?void 0:f[t==="source"?"target":"source"])),!s||!d)return null;const g=l?d.find(T=>T.id===l):d[0],x=g?g.x+g.width/2:(s.width??0)/2,v=g?g.y+g.height/2:s.height??0,_=(((N=s.positionAbsolute)==null?void 0:N.x)??0)+x,p=(((C=s.positionAbsolute)==null?void 0:C.y)??0)+v,m=g==null?void 0:g.position,y=m?DE[m]:null;if(!m||!y)return null;if(o)return D.createElement(o,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:g,fromX:_,fromY:p,toX:u,toY:a,fromPosition:m,toPosition:y,connectionStatus:i});let h="";const S={sourceX:_,sourceY:p,sourcePosition:m,targetX:u,targetY:a,targetPosition:y};return r===fn.Bezier?[h]=qm(S):r===fn.Step?[h]=aa({...S,borderRadius:0}):r===fn.SmoothStep?[h]=aa(S):r===fn.SimpleBezier?[h]=Xm(S):h=`M${_},${p} ${u},${a}`,D.createElement("path",{d:h,fill:"none",className:"react-flow__connection-path",style:n})};Pg.displayName="ConnectionLine";const LE=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function OE({containerStyle:e,style:t,type:n,component:r}){const{nodeId:o,handleType:i,nodesConnectable:s,width:l,height:u,connectionStatus:a}=se(LE,Ce);return!(o&&i&&l&&s)?null:D.createElement("svg",{style:e,width:l,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},D.createElement("g",{className:Me(["react-flow__connection",a])},D.createElement(Pg,{nodeId:o,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:a})))}function Ld(e,t){return I.useRef(null),Ee(),I.useMemo(()=>t(e),[e])}const Tg=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:i,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:u,onEdgeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:g,onSelectionContextMenu:x,onSelectionStart:v,onSelectionEnd:_,connectionLineType:p,connectionLineStyle:m,connectionLineComponent:y,connectionLineContainerStyle:h,selectionKeyCode:S,selectionOnDrag:k,selectionMode:N,multiSelectionKeyCode:C,panActivationKeyCode:T,zoomActivationKeyCode:z,deleteKeyCode:H,onlyRenderVisibleElements:j,elementsSelectable:O,selectNodesOnDrag:w,defaultViewport:M,translateExtent:P,minZoom:b,maxZoom:$,preventScrolling:E,defaultMarkerColor:A,zoomOnScroll:F,zoomOnPinch:R,panOnScroll:B,panOnScrollSpeed:U,panOnScrollMode:Q,zoomOnDoubleClick:K,panOnDrag:q,onPaneClick:J,onPaneMouseEnter:ee,onPaneMouseMove:te,onPaneMouseLeave:me,onPaneScroll:we,onPaneContextMenu:Oe,onEdgeContextMenu:Ie,onEdgeMouseEnter:ge,onEdgeMouseMove:Xe,onEdgeMouseLeave:oe,onReconnect:X,onReconnectStart:be,onReconnectEnd:Ot,reconnectRadius:eo,noDragClassName:sr,noWheelClassName:lr,noPanClassName:bt,elevateEdgesOnSelect:ur,disableKeyboardA11y:Mn,nodeOrigin:In,nodeExtent:ar,rfId:cr})=>{const to=Ld(e,fE),ze=Ld(t,vE);return RE(i),D.createElement(aE,{onPaneClick:J,onPaneMouseEnter:ee,onPaneMouseMove:te,onPaneMouseLeave:me,onPaneContextMenu:Oe,onPaneScroll:we,deleteKeyCode:H,selectionKeyCode:S,selectionOnDrag:k,selectionMode:N,onSelectionStart:v,onSelectionEnd:_,multiSelectionKeyCode:C,panActivationKeyCode:T,zoomActivationKeyCode:z,elementsSelectable:O,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:F,zoomOnPinch:R,zoomOnDoubleClick:K,panOnScroll:B,panOnScrollSpeed:U,panOnScrollMode:Q,panOnDrag:q,defaultViewport:M,translateExtent:P,minZoom:b,maxZoom:$,onSelectionContextMenu:x,preventScrolling:E,noDragClassName:sr,noWheelClassName:lr,noPanClassName:bt,disableKeyboardA11y:Mn},D.createElement(AE,null,D.createElement(IE,{edgeTypes:ze,onEdgeClick:l,onEdgeDoubleClick:a,onlyRenderVisibleElements:j,onEdgeContextMenu:Ie,onEdgeMouseEnter:ge,onEdgeMouseMove:Xe,onEdgeMouseLeave:oe,onReconnect:X,onReconnectStart:be,onReconnectEnd:Ot,reconnectRadius:eo,defaultMarkerColor:A,noPanClassName:bt,elevateEdgesOnSelect:!!ur,disableKeyboardA11y:Mn,rfId:cr},D.createElement(OE,{style:m,type:p,component:y,containerStyle:h})),D.createElement("div",{className:"react-flow__edgelabel-renderer"}),D.createElement(hE,{nodeTypes:to,onNodeClick:s,onNodeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:g,selectNodesOnDrag:w,onlyRenderVisibleElements:j,noPanClassName:bt,noDragClassName:sr,disableKeyboardA11y:Mn,nodeOrigin:In,nodeExtent:ar,rfId:cr})))};Tg.displayName="GraphView";var bE=I.memo(Tg);const ha=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],rn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:ha,nodeExtent:ha,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Cn.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:d2,isValidConnection:void 0},FE=()=>P1((e,t)=>({...rn,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:i}=t();e({nodeInternals:Gl(n,r,o,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(o=>({...r,...o}))})},setDefaultNodesAndEdges:(n,r)=>{const o=typeof n<"u",i=typeof r<"u",s=o?Gl(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:i?r:[],hasDefaultNodes:o,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:i,fitViewOnInitDone:s,fitViewOnInitOptions:l,domNode:u,nodeOrigin:a}=t(),c=u==null?void 0:u.querySelector(".react-flow__viewport");if(!c)return;const f=window.getComputedStyle(c),{m22:d}=new window.DOMMatrixReadOnly(f.transform),g=n.reduce((v,_)=>{const p=o.get(_.id);if(p!=null&&p.hidden)o.set(p.id,{...p,[he]:{...p[he],handleBounds:void 0}});else if(p){const m=Sc(_.nodeElement);!!(m.width&&m.height&&(p.width!==m.width||p.height!==m.height||_.forceUpdate))&&(o.set(p.id,{...p,[he]:{...p[he],handleBounds:{source:$d(".source",_.nodeElement,d,a),target:$d(".target",_.nodeElement,d,a)}},...m}),v.push({id:p.id,type:"dimensions",dimensions:m}))}return v},[]);hg(o,a);const x=s||i&&!s&&mg(t,{initial:!0,...l});e({nodeInternals:new Map(o),fitViewOnInitDone:x}),(g==null?void 0:g.length)>0&&(r==null||r(g))},updateNodePositions:(n,r=!0,o=!1)=>{const{triggerNodeChanges:i}=t(),s=n.map(l=>{const u={id:l.id,type:"position",dragging:o};return r&&(u.positionAbsolute=l.positionAbsolute,u.position=l.position),u});i(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:i,nodeOrigin:s,getNodes:l,elevateNodesOnSelect:u}=t();if(n!=null&&n.length){if(i){const a=yg(n,l()),c=Gl(a,o,s,u);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,l=null;r?s=n.map(u=>un(u,!0)):(s=Tr(i(),n),l=Tr(o,[])),Hi({changedNodes:s,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,l=null;r?s=n.map(u=>un(u,!0)):(s=Tr(o,n),l=Tr(i(),[])),Hi({changedNodes:l,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:o,getNodes:i}=t(),s=n||i(),l=r||o,u=s.map(c=>(c.selected=!1,un(c.id,!1))),a=l.map(c=>un(c.id,!1));Hi({changedNodes:u,changedEdges:a,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r==null||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r==null||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(l=>l.selected).map(l=>un(l.id,!1)),s=n.filter(l=>l.selected).map(l=>un(l.id,!1));Hi({changedNodes:i,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(o=>{o.positionAbsolute=Ec(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:o,height:i,d3Zoom:s,d3Selection:l,translateExtent:u}=t();if(!s||!l||!n.x&&!n.y)return!1;const a=Kt.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[o,i]],f=s==null?void 0:s.constrain()(a,c,u);return s.transform(l,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:rn.connectionNodeId,connectionHandleId:rn.connectionHandleId,connectionHandleType:rn.connectionHandleType,connectionStatus:rn.connectionStatus,connectionStartHandle:rn.connectionStartHandle,connectionEndHandle:rn.connectionEndHandle}),reset:()=>e({...rn})}),Object.is),$g=({children:e})=>{const t=I.useRef(null);return t.current||(t.current=FE()),D.createElement(i2,{value:t.current},e)};$g.displayName="ReactFlowProvider";const Mg=({children:e})=>I.useContext(ul)?D.createElement(D.Fragment,null,e):D.createElement($g,null,e);Mg.displayName="ReactFlowWrapper";const jE={input:lg,default:da,output:ag,group:Tc},HE={default:Os,straight:kc,step:Nc,smoothstep:cl,simplebezier:_c},VE=[0,0],BE=[15,15],UE={x:0,y:0,zoom:1},WE={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Ig=I.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i=jE,edgeTypes:s=HE,onNodeClick:l,onEdgeClick:u,onInit:a,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:g,onConnectStart:x,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:p,onNodeMouseEnter:m,onNodeMouseMove:y,onNodeMouseLeave:h,onNodeContextMenu:S,onNodeDoubleClick:k,onNodeDragStart:N,onNodeDrag:C,onNodeDragStop:T,onNodesDelete:z,onEdgesDelete:H,onSelectionChange:j,onSelectionDragStart:O,onSelectionDrag:w,onSelectionDragStop:M,onSelectionContextMenu:P,onSelectionStart:b,onSelectionEnd:$,connectionMode:E=Cn.Strict,connectionLineType:A=fn.Bezier,connectionLineStyle:F,connectionLineComponent:R,connectionLineContainerStyle:B,deleteKeyCode:U="Backspace",selectionKeyCode:Q="Shift",selectionOnDrag:K=!1,selectionMode:q=oi.Full,panActivationKeyCode:J="Space",multiSelectionKeyCode:ee=Ds()?"Meta":"Control",zoomActivationKeyCode:te=Ds()?"Meta":"Control",snapToGrid:me=!1,snapGrid:we=BE,onlyRenderVisibleElements:Oe=!1,selectNodesOnDrag:Ie=!0,nodesDraggable:ge,nodesConnectable:Xe,nodesFocusable:oe,nodeOrigin:X=VE,edgesFocusable:be,edgesUpdatable:Ot,elementsSelectable:eo,defaultViewport:sr=UE,minZoom:lr=.5,maxZoom:bt=2,translateExtent:ur=ha,preventScrolling:Mn=!0,nodeExtent:In,defaultMarkerColor:ar="#b1b1b7",zoomOnScroll:cr=!0,zoomOnPinch:to=!0,panOnScroll:ze=!1,panOnScrollSpeed:mt=.5,panOnScrollMode:zn=Wn.Free,zoomOnDoubleClick:An=!0,panOnDrag:Rn=!0,onPaneClick:Ft,onPaneMouseEnter:Tt,onPaneMouseMove:no,onPaneMouseLeave:gl,onPaneScroll:ro,onPaneContextMenu:yl,children:Rc,onEdgeContextMenu:Dn,onEdgeDoubleClick:Gg,onEdgeMouseEnter:Zg,onEdgeMouseMove:Jg,onEdgeMouseLeave:e0,onEdgeUpdate:t0,onEdgeUpdateStart:n0,onEdgeUpdateEnd:r0,onReconnect:o0,onReconnectStart:i0,onReconnectEnd:s0,reconnectRadius:l0=10,edgeUpdaterRadius:u0=10,onNodesChange:a0,onEdgesChange:c0,noDragClassName:f0="nodrag",noWheelClassName:d0="nowheel",noPanClassName:Dc="nopan",fitView:p0=!1,fitViewOptions:h0,connectOnClick:m0=!0,attributionPosition:g0,proOptions:y0,defaultEdgeOptions:v0,elevateNodesOnSelect:w0=!0,elevateEdgesOnSelect:x0=!1,disableKeyboardA11y:Lc=!1,autoPanOnConnect:S0=!0,autoPanOnNodeDrag:E0=!0,connectionRadius:_0=20,isValidConnection:N0,onError:k0,style:C0,id:Oc,nodeDragThreshold:P0,...T0},$0)=>{const vl=Oc||"1";return D.createElement("div",{...T0,style:{...C0,...WE},ref:$0,className:Me(["react-flow",o]),"data-testid":"rf__wrapper",id:Oc},D.createElement(Mg,null,D.createElement(bE,{onInit:a,onMove:c,onMoveStart:f,onMoveEnd:d,onNodeClick:l,onEdgeClick:u,onNodeMouseEnter:m,onNodeMouseMove:y,onNodeMouseLeave:h,onNodeContextMenu:S,onNodeDoubleClick:k,nodeTypes:i,edgeTypes:s,connectionLineType:A,connectionLineStyle:F,connectionLineComponent:R,connectionLineContainerStyle:B,selectionKeyCode:Q,selectionOnDrag:K,selectionMode:q,deleteKeyCode:U,multiSelectionKeyCode:ee,panActivationKeyCode:J,zoomActivationKeyCode:te,onlyRenderVisibleElements:Oe,selectNodesOnDrag:Ie,defaultViewport:sr,translateExtent:ur,minZoom:lr,maxZoom:bt,preventScrolling:Mn,zoomOnScroll:cr,zoomOnPinch:to,zoomOnDoubleClick:An,panOnScroll:ze,panOnScrollSpeed:mt,panOnScrollMode:zn,panOnDrag:Rn,onPaneClick:Ft,onPaneMouseEnter:Tt,onPaneMouseMove:no,onPaneMouseLeave:gl,onPaneScroll:ro,onPaneContextMenu:yl,onSelectionContextMenu:P,onSelectionStart:b,onSelectionEnd:$,onEdgeContextMenu:Dn,onEdgeDoubleClick:Gg,onEdgeMouseEnter:Zg,onEdgeMouseMove:Jg,onEdgeMouseLeave:e0,onReconnect:o0??t0,onReconnectStart:i0??n0,onReconnectEnd:s0??r0,reconnectRadius:l0??u0,defaultMarkerColor:ar,noDragClassName:f0,noWheelClassName:d0,noPanClassName:Dc,elevateEdgesOnSelect:x0,rfId:vl,disableKeyboardA11y:Lc,nodeOrigin:X,nodeExtent:In}),D.createElement(D2,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:x,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:p,nodesDraggable:ge,nodesConnectable:Xe,nodesFocusable:oe,edgesFocusable:be,edgesUpdatable:Ot,elementsSelectable:eo,elevateNodesOnSelect:w0,minZoom:lr,maxZoom:bt,nodeExtent:In,onNodesChange:a0,onEdgesChange:c0,snapToGrid:me,snapGrid:we,connectionMode:E,translateExtent:ur,connectOnClick:m0,defaultEdgeOptions:v0,fitView:p0,fitViewOptions:h0,onNodesDelete:z,onEdgesDelete:H,onNodeDragStart:N,onNodeDrag:C,onNodeDragStop:T,onSelectionDrag:w,onSelectionDragStart:O,onSelectionDragStop:M,noPanClassName:Dc,nodeOrigin:X,rfId:vl,autoPanOnConnect:S0,autoPanOnNodeDrag:E0,onError:k0,connectionRadius:_0,isValidConnection:N0,nodeDragThreshold:P0}),D.createElement(A2,{onSelectionChange:j}),Rc,D.createElement(l2,{proOptions:y0,position:g0}),D.createElement(j2,{rfId:vl,disableKeyboardA11y:Lc})))});Ig.displayName="ReactFlow";function zg(e){return t=>{const[n,r]=I.useState(t),o=I.useCallback(i=>r(s=>e(i,s)),[]);return[n,r,o]}}const QE=zg(yg),YE=zg(eE),Ag=({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:l,strokeWidth:u,className:a,borderRadius:c,shapeRendering:f,onClick:d,selected:g})=>{const{background:x,backgroundColor:v}=i||{},_=s||x||v;return D.createElement("rect",{className:Me(["react-flow__minimap-node",{selected:g},a]),x:t,y:n,rx:c,ry:c,width:r,height:o,fill:_,stroke:l,strokeWidth:u,shapeRendering:f,onClick:d?p=>d(p,e):void 0})};Ag.displayName="MiniMapNode";var KE=I.memo(Ag);const XE=e=>e.nodeOrigin,qE=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),tu=e=>e instanceof Function?e:()=>e;function GE({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:i=KE,onClick:s}){const l=se(qE,Ce),u=se(XE),a=tu(t),c=tu(e),f=tu(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return D.createElement(D.Fragment,null,l.map(g=>{const{x,y:v}=Xn(g,u).positionAbsolute;return D.createElement(i,{key:g.id,x,y:v,width:g.width,height:g.height,style:g.style,selected:g.selected,className:f(g),color:a(g),borderRadius:r,strokeColor:c(g),strokeWidth:o,shapeRendering:d,onClick:s,id:g.id})}))}var ZE=I.memo(GE);const JE=200,e_=150,t_=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?c2(fl(t,e.nodeOrigin),n):n,rfId:e.rfId}},n_="react-flow__minimap-desc";function Rg({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s=2,nodeComponent:l,maskColor:u="rgb(240, 240, 240, 0.6)",maskStrokeColor:a="none",maskStrokeWidth:c=1,position:f="bottom-right",onClick:d,onNodeClick:g,pannable:x=!1,zoomable:v=!1,ariaLabel:_="React Flow mini map",inversePan:p=!1,zoomStep:m=10,offsetScale:y=5}){const h=Ee(),S=I.useRef(null),{boundingRect:k,viewBB:N,rfId:C}=se(t_,Ce),T=(e==null?void 0:e.width)??JE,z=(e==null?void 0:e.height)??e_,H=k.width/T,j=k.height/z,O=Math.max(H,j),w=O*T,M=O*z,P=y*O,b=k.x-(w-k.width)/2-P,$=k.y-(M-k.height)/2-P,E=w+P*2,A=M+P*2,F=`${n_}-${C}`,R=I.useRef(0);R.current=O,I.useEffect(()=>{if(S.current){const Q=lt(S.current),K=ee=>{const{transform:te,d3Selection:me,d3Zoom:we}=h.getState();if(ee.sourceEvent.type!=="wheel"||!me||!we)return;const Oe=-ee.sourceEvent.deltaY*(ee.sourceEvent.deltaMode===1?.05:ee.sourceEvent.deltaMode?1:.002)*m,Ie=te[2]*Math.pow(2,Oe);we.scaleTo(me,Ie)},q=ee=>{const{transform:te,d3Selection:me,d3Zoom:we,translateExtent:Oe,width:Ie,height:ge}=h.getState();if(ee.sourceEvent.type!=="mousemove"||!me||!we)return;const Xe=R.current*Math.max(1,te[2])*(p?-1:1),oe={x:te[0]-ee.sourceEvent.movementX*Xe,y:te[1]-ee.sourceEvent.movementY*Xe},X=[[0,0],[Ie,ge]],be=Kt.translate(oe.x,oe.y).scale(te[2]),Ot=we.constrain()(be,X,Oe);we.transform(me,Ot)},J=Fm().on("zoom",x?q:null).on("zoom.wheel",v?K:null);return Q.call(J),()=>{Q.on("zoom",null)}}},[x,v,p,m]);const B=d?Q=>{const K=wt(Q);d(Q,{x:K[0],y:K[1]})}:void 0,U=g?(Q,K)=>{const q=h.getState().nodeInternals.get(K);g(Q,q)}:void 0;return D.createElement(al,{position:f,style:e,className:Me(["react-flow__minimap",t]),"data-testid":"rf__minimap"},D.createElement("svg",{width:T,height:z,viewBox:`${b} ${$} ${E} ${A}`,role:"img","aria-labelledby":F,ref:S,onClick:B},_&&D.createElement("title",{id:F},_),D.createElement(ZE,{onClick:U,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:l}),D.createElement("path",{className:"react-flow__minimap-mask",d:`M${b-P},${$-P}h${E+P*2}v${A+P*2}h${-E-P*2}z
        M${N.x},${N.y}h${N.width}v${N.height}h${-N.width}z`,fill:u,fillRule:"evenodd",stroke:a,strokeWidth:c,pointerEvents:"none"})))}Rg.displayName="MiniMap";var r_=I.memo(Rg);function o_(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},D.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function i_(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},D.createElement("path",{d:"M0 0h32v4.2H0z"}))}function s_(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},D.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function l_(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},D.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function u_(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},D.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const ko=({children:e,className:t,...n})=>D.createElement("button",{type:"button",className:Me(["react-flow__controls-button",t]),...n},e);ko.displayName="ControlButton";const a_=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Dg=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:l,onInteractiveChange:u,className:a,children:c,position:f="bottom-left"})=>{const d=Ee(),[g,x]=I.useState(!1),{isInteractive:v,minZoomReached:_,maxZoomReached:p}=se(a_,Ce),{zoomIn:m,zoomOut:y,fitView:h}=$c();if(I.useEffect(()=>{x(!0)},[]),!g)return null;const S=()=>{m(),i==null||i()},k=()=>{y(),s==null||s()},N=()=>{h(o),l==null||l()},C=()=>{d.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),u==null||u(!v)};return D.createElement(al,{className:Me(["react-flow__controls",a]),position:f,style:e,"data-testid":"rf__controls"},t&&D.createElement(D.Fragment,null,D.createElement(ko,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:p},D.createElement(o_,null)),D.createElement(ko,{onClick:k,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:_},D.createElement(i_,null))),n&&D.createElement(ko,{className:"react-flow__controls-fitview",onClick:N,title:"fit view","aria-label":"fit view"},D.createElement(s_,null)),r&&D.createElement(ko,{className:"react-flow__controls-interactive",onClick:C,title:"toggle interactivity","aria-label":"toggle interactivity"},v?D.createElement(u_,null):D.createElement(l_,null)),c)};Dg.displayName="Controls";var c_=I.memo(Dg),dt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(dt||(dt={}));function f_({color:e,dimensions:t,lineWidth:n}){return D.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function d_({color:e,radius:t}){return D.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const p_={[dt.Dots]:"#91919a",[dt.Lines]:"#eee",[dt.Cross]:"#e2e2e2"},h_={[dt.Dots]:1,[dt.Lines]:1,[dt.Cross]:6},m_=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Lg({id:e,variant:t=dt.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=2,color:s,style:l,className:u}){const a=I.useRef(null),{transform:c,patternId:f}=se(m_,Ce),d=s||p_[t],g=r||h_[t],x=t===dt.Dots,v=t===dt.Cross,_=Array.isArray(n)?n:[n,n],p=[_[0]*c[2]||1,_[1]*c[2]||1],m=g*c[2],y=v?[m,m]:p,h=x?[m/i,m/i]:[y[0]/i,y[1]/i];return D.createElement("svg",{className:Me(["react-flow__background",u]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:a,"data-testid":"rf__background"},D.createElement("pattern",{id:f+e,x:c[0]%p[0],y:c[1]%p[1],width:p[0],height:p[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${h[0]},-${h[1]})`},x?D.createElement(d_,{color:d,radius:m/i}):D.createElement(f_,{dimensions:y,color:d,lineWidth:o})),D.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}Lg.displayName="Background";var g_=I.memo(Lg);const Og={},{useDebugValue:y_}=D,{useSyncExternalStoreWithSelector:v_}=am;let Od=!1;const w_=e=>e;function x_(e,t=w_,n){(Og?"production":void 0)!=="production"&&n&&!Od&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Od=!0);const r=v_(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return y_(r),r}const S_=e=>{(Og?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?cm(e):e,n=(r,o)=>x_(t,r,o);return Object.assign(n,t),n},E_=e=>S_;var bg=Symbol.for("immer-nothing"),bd=Symbol.for("immer-draftable"),tt=Symbol.for("immer-state");function Et(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Xr=Object.getPrototypeOf;function qr(e){return!!e&&!!e[tt]}function nr(e){var t;return e?Fg(e)||Array.isArray(e)||!!e[bd]||!!((t=e.constructor)!=null&&t[bd])||pl(e)||hl(e):!1}var __=Object.prototype.constructor.toString();function Fg(e){if(!e||typeof e!="object")return!1;const t=Xr(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===__}function bs(e,t){dl(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function dl(e){const t=e[tt];return t?t.type_:Array.isArray(e)?1:pl(e)?2:hl(e)?3:0}function ma(e,t){return dl(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function jg(e,t,n){const r=dl(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function N_(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function pl(e){return e instanceof Map}function hl(e){return e instanceof Set}function Fn(e){return e.copy_||e.base_}function ga(e,t){if(pl(e))return new Map(e);if(hl(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Fg(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[tt];let o=Reflect.ownKeys(r);for(let i=0;i<o.length;i++){const s=o[i],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(Xr(e),r)}else{const r=Xr(e);if(r!==null&&n)return{...e};const o=Object.create(r);return Object.assign(o,e)}}function Ic(e,t=!1){return ml(e)||qr(e)||!nr(e)||(dl(e)>1&&(e.set=e.add=e.clear=e.delete=k_),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Ic(r,!0))),e}function k_(){Et(2)}function ml(e){return Object.isFrozen(e)}var C_={};function rr(e){const t=C_[e];return t||Et(0,e),t}var si;function Hg(){return si}function P_(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Fd(e,t){t&&(rr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ya(e){va(e),e.drafts_.forEach(T_),e.drafts_=null}function va(e){e===si&&(si=e.parent_)}function jd(e){return si=P_(si,e)}function T_(e){const t=e[tt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Hd(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[tt].modified_&&(ya(t),Et(4)),nr(e)&&(e=Fs(t,e),t.parent_||js(t,e)),t.patches_&&rr("Patches").generateReplacementPatches_(n[tt].base_,e,t.patches_,t.inversePatches_)):e=Fs(t,n,[]),ya(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==bg?e:void 0}function Fs(e,t,n){if(ml(t))return t;const r=t[tt];if(!r)return bs(t,(o,i)=>Vd(e,r,t,o,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return js(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let i=o,s=!1;r.type_===3&&(i=new Set(o),o.clear(),s=!0),bs(i,(l,u)=>Vd(e,r,o,l,u,n,s)),js(e,o,!1),n&&e.patches_&&rr("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Vd(e,t,n,r,o,i,s){if(qr(o)){const l=i&&t&&t.type_!==3&&!ma(t.assigned_,r)?i.concat(r):void 0,u=Fs(e,o,l);if(jg(n,r,u),qr(u))e.canAutoFreeze_=!1;else return}else s&&n.add(o);if(nr(o)&&!ml(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Fs(e,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&js(e,o)}}function js(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ic(t,n)}function $_(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Hg(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=zc;n&&(o=[r],i=li);const{revoke:s,proxy:l}=Proxy.revocable(o,i);return r.draft_=l,r.revoke_=s,l}var zc={get(e,t){if(t===tt)return e;const n=Fn(e);if(!ma(n,t))return M_(e,n,t);const r=n[t];return e.finalized_||!nr(r)?r:r===nu(e.base_,t)?(ru(e),e.copy_[t]=xa(r,e)):r},has(e,t){return t in Fn(e)},ownKeys(e){return Reflect.ownKeys(Fn(e))},set(e,t,n){const r=Vg(Fn(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=nu(Fn(e),t),i=o==null?void 0:o[tt];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(N_(n,o)&&(n!==void 0||ma(e.base_,t)))return!0;ru(e),wa(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return nu(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ru(e),wa(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Fn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Et(11)},getPrototypeOf(e){return Xr(e.base_)},setPrototypeOf(){Et(12)}},li={};bs(zc,(e,t)=>{li[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});li.deleteProperty=function(e,t){return li.set.call(this,e,t,void 0)};li.set=function(e,t,n){return zc.set.call(this,e[0],t,n,e[0])};function nu(e,t){const n=e[tt];return(n?Fn(n):e)[t]}function M_(e,t,n){var o;const r=Vg(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function Vg(e,t){if(!(t in e))return;let n=Xr(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Xr(n)}}function wa(e){e.modified_||(e.modified_=!0,e.parent_&&wa(e.parent_))}function ru(e){e.copy_||(e.copy_=ga(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var I_=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const s=this;return function(u=i,...a){return s.produce(u,c=>n.call(this,c,...a))}}typeof n!="function"&&Et(6),r!==void 0&&typeof r!="function"&&Et(7);let o;if(nr(t)){const i=jd(this),s=xa(t,void 0);let l=!0;try{o=n(s),l=!1}finally{l?ya(i):va(i)}return Fd(i,r),Hd(o,i)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===bg&&(o=void 0),this.autoFreeze_&&Ic(o,!0),r){const i=[],s=[];rr("Patches").generateReplacementPatches_(t,o,i,s),r(i,s)}return o}else Et(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,u=>t(u,...l));let r,o;return[this.produce(t,n,(s,l)=>{r=s,o=l}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){nr(e)||Et(8),qr(e)&&(e=z_(e));const t=jd(this),n=xa(e,void 0);return n[tt].isManual_=!0,va(t),n}finishDraft(e,t){const n=e&&e[tt];(!n||!n.isManual_)&&Et(9);const{scope_:r}=n;return Fd(r,t),Hd(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=rr("Patches").applyPatches_;return qr(e)?r(e,t):this.produce(e,o=>r(o,t))}};function xa(e,t){const n=pl(e)?rr("MapSet").proxyMap_(e,t):hl(e)?rr("MapSet").proxySet_(e,t):$_(e,t);return(t?t.scope_:Hg()).drafts_.push(n),n}function z_(e){return qr(e)||Et(10,e),Bg(e)}function Bg(e){if(!nr(e)||ml(e))return e;const t=e[tt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ga(e,t.scope_.immer_.useStrictShallowCopy_)}else n=ga(e,!0);return bs(n,(r,o)=>{jg(n,r,Bg(o))}),t&&(t.finalized_=!1),n}var nt=new I_,A_=nt.produce;nt.produceWithPatches.bind(nt);nt.setAutoFreeze.bind(nt);nt.setUseStrictShallowCopy.bind(nt);nt.applyPatches.bind(nt);nt.createDraft.bind(nt);nt.finishDraft.bind(nt);const R_=e=>(t,n,r)=>(r.setState=(o,i,...s)=>{const l=typeof o=="function"?A_(o):o;return t(l,i,...s)},e(r.setState,n,r)),D_=R_,jn=class jn{constructor(){gi(this,"counters",new Map);gi(this,"pathRegistry",{nodeToPathsMap:new Map,pathToNodeMap:new Map})}static getInstance(){return jn.instance||(jn.instance=new jn),jn.instance}generateQuestionPathId(t,n,r){return t?`${t.pathId}-Q${n}`:`${r}-Q${n}`}generateAnswerPathId(t,n){return`${t.pathId}-A${n}`}generateOutcomePathId(t,n){return`${t.pathId}-E${n}`}generateVariantPathId(t,n){return`${t}-V${n+1}`}parseVariantFromPath(t){const n=t.match(/(.*-A\d+)-V(\d+)/);return n?{answerPath:n[1],variantNumber:parseInt(n[2])}:null}parsePathId(t){const n=t.split("-"),r=n[0],o=[];for(let i=1;i<n.length;i++){const s=n[i];s.startsWith("Q")?o.push({type:"Q",number:parseInt(s.substring(1))}):s.startsWith("A")&&o.push({type:"A",number:parseInt(s.substring(1))})}return{topic:r,segments:o}}parsePathIdWithVariants(t){const n=t.split("-"),r=n[0],o=[];for(let i=1;i<n.length;i++){const s=n[i];s.startsWith("Q")?o.push({type:"Q",number:parseInt(s.substring(1))}):s.startsWith("A")?o.push({type:"A",number:parseInt(s.substring(1))}):s.startsWith("V")?o.push({type:"V",number:parseInt(s.substring(1))}):s.startsWith("E")&&o.push({type:"E",number:parseInt(s.substring(1))})}return{topic:r,segments:o}}getPathLevel(t){return this.parsePathId(t).segments.filter(r=>r.type==="Q").length}getParentPathId(t){const n=t.split("-");return n.length<=2?null:n.slice(0,-1).join("-")}generateEdgeId(t,n,r){const o=r?`-${r}`:"";return`edge-${t}-${n}${o}`}registerNode(t,n){this.pathRegistry.pathToNodeMap.set(n,t);const r=this.pathRegistry.nodeToPathsMap.get(t)||[];r.includes(n)||this.pathRegistry.nodeToPathsMap.set(t,[...r,n])}getNodePaths(t){return this.pathRegistry.nodeToPathsMap.get(t)||[]}getNodeForPath(t){return this.pathRegistry.pathToNodeMap.get(t)||null}recalculatePathIds(t,n,r){const o=[],i={nodeToPathsMap:new Map,pathToNodeMap:new Map},s=new Map,l=new Map;t.forEach(f=>{s.set(f.id,f)}),n.forEach(f=>{const d=l.get(f.source)||[];d.push(f),l.set(f.source,d)});const u=t.filter(f=>f.type==="question"&&!n.some(d=>d.target===f.id));this.counters.clear();const a=new Set,c=(f,d=null,g=1,x)=>{if(a.has(f.id))return;a.add(f.id);let v;if(f.type==="question")if(x&&x.startsWith("variant-")){const y=parseInt(x.replace("variant-","")),h=`${d}-V${y+1}`,S=this.getNextQuestionNumber(h);v=`${h}-Q${S}`}else{const y=this.getNextQuestionNumber(d);d===null?v=`${r}-Q${y}`:v=`${d}-Q${y}`}else if(f.type==="answer"){const y=this.getNextAnswerNumber(d||"STANDALONE");v=`${d||"STANDALONE"}-A${y}`}else if(f.type==="outcome"){const y=this.getNextOutcomeNumber(d||"STANDALONE");v=`${d||"STANDALONE"}-E${y}`}else v=`${d||"STANDALONE"}-NODE`;const _={...f,data:{...f.data,pathId:v,topic:r,isRoot:d===null&&f.type==="question",questionLevel:g}};o.push(_),i.pathToNodeMap.set(v,f.id);const p=i.nodeToPathsMap.get(f.id)||[];i.nodeToPathsMap.set(f.id,[...p,v]),(l.get(f.id)||[]).forEach(y=>{const h=s.get(y.target);if(h&&!a.has(h.id)){const S=f.type==="question"?g:g+1;c(h,v,S,y.sourceHandle||void 0)}})};return u.forEach(f=>{c(f,null,1)}),t.forEach(f=>{a.has(f.id)||c(f,null,1)}),this.pathRegistry=i,{nodes:o,registry:i}}getNextQuestionNumber(t){const n=`Q-${t||"ROOT"}`,r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}getNextAnswerNumber(t){const n=`A-${t}`,r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}getNextOutcomeNumber(t){const n=`E-${t}`,r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}reset(){this.counters.clear(),this.pathRegistry={nodeToPathsMap:new Map,pathToNodeMap:new Map}}getRegistry(){return this.pathRegistry}getDisplayLabel(t,n){const r=this.parsePathId(t),o=[];switch(r.segments.forEach(i=>{i.type==="Q"&&o.push(i.number)}),n){case"question":return`Q${o.join(".")}`;case"answer":const i=r.segments.filter(s=>s.type==="A").pop();return`A${(i==null?void 0:i.number)||"?"}`;case"outcome":return`Outcome ${this.getPathLevel(t)}`;default:return t}}calculatePathScore(t,n){const r=this.parsePathIdWithVariants(t);let o=0,i=r.topic;for(let s=0;s<r.segments.length;s++){const l=r.segments[s];if(i+=`-${l.type}${l.number}`,l.type==="V"&&s>0){const u=i.substring(0,i.lastIndexOf("-V")),a=this.getNodeForPath(u);if(a){const c=n.find(f=>f.id===a);if(c&&c.data.variants){const f=l.number-1,d=c.data.variants[f];d&&(o+=d.score||0)}}}}return o}getHumanReadablePath(t,n){const r=this.parsePathIdWithVariants(t),o=[];let i="";return r.segments.forEach((s,l)=>{if(s.type==="Q"){i=l===0?`${r.topic}-Q${s.number}`:i+`-Q${s.number}`;const u=this.getNodeForPath(i),a=n.find(c=>c.id===u);a&&o.push(`Q${s.number}: ${a.data.questionText||"Question"}`)}else if(s.type==="A")i+=`-A${s.number}`,o.push(`Answer ${s.number}`);else if(s.type==="V"){const u=i;i+=`-V${s.number}`;const a=this.getNodeForPath(u),c=n.find(f=>f.id===a);if(c&&c.data.variants){const f=c.data.variants[s.number-1];f&&o.push(` "${f.text}"`)}}}),o.join(" ")}printPathStructure(t){console.log("=== Path Structure Debug ==="),t.forEach(n=>{n.data.pathId&&console.log(`Node ${n.id} (${n.type}): ${n.data.pathId}`)}),console.log("=== Counters ==="),this.counters.forEach((n,r)=>{console.log(`${r}: ${n}`)})}};gi(jn,"instance");let ut=jn;const Ne=E_()(D_((e,t)=>({nodes:[],edges:[],selectedNodeId:null,history:[{nodes:[],edges:[]}],historyIndex:0,addNode:n=>{t().saveToHistory(),e(r=>{r.nodes.push(n)})},updateNode:(n,r)=>e(o=>{const i=o.nodes.findIndex(s=>s.id===n);i!==-1&&(o.nodes[i].data={...o.nodes[i].data,...r})}),updateNodePosition:(n,r)=>e(o=>{const i=o.nodes.findIndex(s=>s.id===n);i!==-1&&(o.nodes[i].position=r)}),deleteNode:n=>{t().saveToHistory(),e(r=>{r.nodes=r.nodes.filter(i=>i.id!==n);const o=r.edges.filter(i=>i.source===n||i.target===n);r.edges=r.edges.filter(i=>i.source!==n&&i.target!==n),r.selectedNodeId===n&&(r.selectedNodeId=null),o.length>0&&console.log(`Cleaned up ${o.length} edges for deleted node ${n}`)})},addEdge:n=>{t().saveToHistory(),e(r=>{var i;if(!r.edges.some(s=>s.source===n.source&&s.target===n.target&&s.sourceHandle===n.sourceHandle&&s.targetHandle===n.targetHandle)){r.edges.push(n);const s=r.nodes.find(u=>u.id===n.target),l=r.nodes.find(u=>u.id===n.source);if(s&&s.type==="outcome"&&l){const u=r.nodes.findIndex(a=>a.id===n.target);if(u!==-1){const a=ut.getInstance(),c=((i=l.data)==null?void 0:i.pathId)||"PATH",f=a.getNextOutcomeNumber(c),d=`${c}-E${f}`;r.nodes[u].data={...r.nodes[u].data,pathId:d},console.log(`Updated outcome node path ID to: ${d}`)}}}})},deleteEdge:n=>{t().saveToHistory(),e(r=>{r.edges=r.edges.filter(o=>o.id!==n)})},setNodes:n=>e(r=>{r.nodes=n}),setEdges:n=>e(r=>{r.edges=n}),setSelectedNodeId:n=>e(r=>{r.selectedNodeId=n}),cleanupDuplicateEdges:()=>e(n=>{const r=[],o=new Set;n.edges.forEach(s=>{const l=`${s.source}-${s.target}-${s.sourceHandle||""}-${s.targetHandle||""}`;o.has(l)||(o.add(l),r.push(s))});const i=n.edges.length-r.length;n.edges=r,i>0&&console.log(`Removed ${i} duplicate edges`)}),recalculateFlowIds:(n,r)=>e(o=>{const s=ut.getInstance().recalculatePathIds(o.nodes,o.edges,r);o.nodes=s.nodes,console.log(`Recalculated path IDs for topic: ${r}`)}),propagateTopicOnConnection:(n,r)=>e(o=>{var a;const i=o.nodes.find(c=>c.id===n),s=o.nodes.find(c=>c.id===r);if(!i||!s)return;const l=(c,f=new Set)=>{var x,v,_;if(f.has(c))return null;f.add(c);const d=o.nodes.find(p=>p.id===c);if(!d)return null;if((x=d.data)!=null&&x.topic&&((v=d.data)!=null&&v.isRoot)||(_=d.data)!=null&&_.topic)return d.data.topic;const g=o.edges.find(p=>p.target===c);return g?l(g.source,f):null},u=l(n);if(u&&(!((a=s.data)!=null&&a.topic)||s.data.topic!==u)){const c=o.nodes.findIndex(f=>f.id===r);c!==-1&&(o.nodes[c].data={...o.nodes[c].data,topic:u},console.log(`Propagated topic "${u}" to node ${r}`))}}),createLinkedQuestion:(n,r)=>e(o=>{var y,h,S,k,N,C,T;const i=o.nodes.find(z=>z.id===n);if(!i)return;const s=ut.getInstance(),l=s.getNextQuestionNumber(((y=i.data)==null?void 0:y.pathId)||null),u=((h=i.data)==null?void 0:h.topic)||"NEW-TOPIC",a=(S=i.data)!=null&&S.pathId?{nodeId:i.id,pathId:i.data.pathId,parentPathId:null,level:((k=i.data)==null?void 0:k.questionLevel)||1,topic:u}:null,c=s.generateQuestionPathId(a,l,u),f=`q-${Date.now()}`,d={id:f,type:"question",position:r,data:{pathId:c,topic:u,questionText:"New Question",questionLevel:(((N=i.data)==null?void 0:N.questionLevel)||1)+1,elementId:"NEW",subElementId:"NEW"}},g=s.getNextAnswerNumber(c),x={nodeId:f,pathId:c,parentPathId:((C=i.data)==null?void 0:C.pathId)||null,level:(((T=i.data)==null?void 0:T.questionLevel)||1)+1,topic:u},v=s.generateAnswerPathId(x,g),_=`a-${Date.now()}`,p={id:_,type:"answer",position:{x:r.x,y:r.y+120},data:{pathId:v,answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}},m={id:s.generateEdgeId(f,_),source:f,target:_,animated:!0};o.nodes.push(d,p),o.edges.push(m)}),importFromExcel:n=>e(r=>{r.nodes=n.nodes,r.edges=n.edges}),exportToFormat:n=>{const{nodes:r,edges:o}=t();return n==="json"?{nodes:r,edges:o}:null},clearFlow:()=>e(n=>{n.nodes=[],n.edges=[],n.selectedNodeId=null,n.history=[{nodes:[],edges:[]}],n.historyIndex=0,ut.getInstance().reset()}),saveToHistory:()=>e(n=>{const r={nodes:JSON.parse(JSON.stringify(n.nodes)),edges:JSON.parse(JSON.stringify(n.edges))};n.history=n.history.slice(0,n.historyIndex+1),n.history.push(r),n.historyIndex=n.history.length-1,n.history.length>50&&(n.history.shift(),n.historyIndex=n.history.length-1)}),undo:()=>e(n=>{if(n.historyIndex>0){n.historyIndex--;const r=n.history[n.historyIndex];n.nodes=JSON.parse(JSON.stringify(r.nodes)),n.edges=JSON.parse(JSON.stringify(r.edges)),console.log("Undo: Restored state from history index",n.historyIndex)}}),redo:()=>e(n=>{if(n.historyIndex<n.history.length-1){n.historyIndex++;const r=n.history[n.historyIndex];n.nodes=JSON.parse(JSON.stringify(r.nodes)),n.edges=JSON.parse(JSON.stringify(r.edges)),console.log("Redo: Restored state from history index",n.historyIndex)}}),propagatePathToAll:()=>{t().saveToHistory(),e(n=>{const r=n.nodes.filter(o=>{var i,s;return((i=o.data)==null?void 0:i.isRoot)&&((s=o.data)==null?void 0:s.topic)});if(r.length===0){console.log("No root nodes with topics found");return}console.log(`Found ${r.length} root nodes with topics`),r.forEach(o=>{const i=o.data.topic;console.log(`Recalculating path IDs for topic "${i}" from root node ${o.id}`);const l=ut.getInstance().recalculatePathIds(n.nodes,n.edges,i);n.nodes=l.nodes,console.log(`Recalculated path IDs for topic "${i}"`)}),console.log("Path ID propagation completed")})}}))),Ug=["shift","alt","meta","mod","ctrl","control"],L_={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function _n(e){return(L_[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function Wg(e){return Ug.includes(e)}function ou(e,t=","){return e.toLowerCase().split(t)}function iu(e,t="+",n=">",r=!1,o){let i=[],s=!1;e.includes(n)?(s=!0,i=e.toLocaleLowerCase().split(n).map(a=>_n(a))):i=e.toLocaleLowerCase().split(t).map(a=>_n(a));const l={alt:i.includes("alt"),ctrl:i.includes("ctrl")||i.includes("control"),shift:i.includes("shift"),meta:i.includes("meta"),mod:i.includes("mod"),useKey:r},u=i.filter(a=>!Ug.includes(a));return{...l,keys:u,description:o,isSequence:s}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&Qg([_n(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&Yg([_n(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{Qt.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{Qt.clear()},0)}));const Qt=new Set;function Ac(e){return Array.isArray(e)}function O_(e,t=","){return(Ac(e)?e:e.split(t)).every(n=>Qt.has(n.trim().toLowerCase()))}function Qg(e){const t=Array.isArray(e)?e:[e];Qt.has("meta")&&Qt.forEach(n=>!Wg(n)&&Qt.delete(n.toLowerCase())),t.forEach(n=>Qt.add(n.toLowerCase()))}function Yg(e){const t=Array.isArray(e)?e:[e];e==="meta"?Qt.clear():t.forEach(n=>Qt.delete(n.toLowerCase()))}function b_(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function F_(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function j_(e){return Kg(e,["input","textarea","select"])}function Kg(e,t=!1){const{target:n,composed:r}=e;let o;return H_(n)&&r?o=e.composedPath()[0]&&e.composedPath()[0].tagName:o=n&&n.tagName,Ac(t)?!!(o&&t&&t.some(i=>i.toLowerCase()===o.toLowerCase())):!!(o&&t&&t)}function H_(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function V_(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(n=>t.includes(n))||e.includes("*"):!0}const B_=(e,t,n=!1)=>{const{alt:r,meta:o,mod:i,shift:s,ctrl:l,keys:u,useKey:a}=t,{code:c,key:f,ctrlKey:d,metaKey:g,shiftKey:x,altKey:v}=e,_=_n(c);if(a&&(u==null?void 0:u.length)===1&&u.includes(f))return!0;if(!(u!=null&&u.includes(_))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(_))return!1;if(!n){if(r!==v&&_!=="alt"||s!==x&&_!=="shift")return!1;if(i){if(!g&&!d)return!1}else if(o!==g&&_!=="meta"&&_!=="os"||l!==d&&_!=="ctrl"&&_!=="control")return!1}return u&&u.length===1&&u.includes(_)?!0:u?O_(u):!u},U_=I.createContext(void 0),W_=()=>I.useContext(U_);function Xg(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((n,r)=>n&&Xg(e[r],t[r]),!0):e===t}const Q_=I.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),Y_=()=>I.useContext(Q_);function K_(e){const t=I.useRef(void 0);return Xg(t.current,e)||(t.current=e),t.current}const Bd=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},X_=typeof window<"u"?I.useLayoutEffect:I.useEffect;function vo(e,t,n,r){const o=I.useRef(null),i=I.useRef(!1),s=n instanceof Array?r instanceof Array?void 0:r:n,l=Ac(e)?e.join(s==null?void 0:s.delimiter):e,u=n instanceof Array?n:r instanceof Array?r:void 0,a=I.useCallback(t,u??[]),c=I.useRef(a);u?c.current=a:c.current=t;const f=K_(s),{activeScopes:d}=Y_(),g=W_();return X_(()=>{if((f==null?void 0:f.enabled)===!1||!V_(d,f==null?void 0:f.scopes))return;let x=[],v;const _=(h,S=!1)=>{var k;if(!(j_(h)&&!Kg(h,f==null?void 0:f.enableOnFormTags))){if(o.current!==null){const N=o.current.getRootNode();if((N instanceof Document||N instanceof ShadowRoot)&&N.activeElement!==o.current&&!o.current.contains(N.activeElement)){Bd(h);return}}(k=h.target)!=null&&k.isContentEditable&&!(f!=null&&f.enableOnContentEditable)||ou(l,f==null?void 0:f.delimiter).forEach(N=>{var C,T,z,H;if(N.includes((f==null?void 0:f.splitKey)??"+")&&N.includes((f==null?void 0:f.sequenceSplitKey)??">")){console.warn(`Hotkey ${N} contains both ${(f==null?void 0:f.splitKey)??"+"} and ${(f==null?void 0:f.sequenceSplitKey)??">"} which is not supported.`);return}const j=iu(N,f==null?void 0:f.splitKey,f==null?void 0:f.sequenceSplitKey,f==null?void 0:f.useKey,f==null?void 0:f.description);if(j.isSequence){v=setTimeout(()=>{x=[]},(f==null?void 0:f.sequenceTimeoutMs)??1e3);const O=j.useKey?h.key:_n(h.code);if(Wg(O.toLowerCase()))return;x.push(O);const w=(C=j.keys)==null?void 0:C[x.length-1];if(O!==w){x=[],v&&clearTimeout(v);return}x.length===((T=j.keys)==null?void 0:T.length)&&(c.current(h,j),v&&clearTimeout(v),x=[])}else if(B_(h,j,f==null?void 0:f.ignoreModifiers)||(z=j.keys)!=null&&z.includes("*")){if((H=f==null?void 0:f.ignoreEventWhen)!=null&&H.call(f,h)||S&&i.current)return;if(b_(h,j,f==null?void 0:f.preventDefault),!F_(h,j,f==null?void 0:f.enabled)){Bd(h);return}c.current(h,j),S||(i.current=!0)}})}},p=h=>{h.code!==void 0&&(Qg(_n(h.code)),((f==null?void 0:f.keydown)===void 0&&(f==null?void 0:f.keyup)!==!0||f!=null&&f.keydown)&&_(h))},m=h=>{h.code!==void 0&&(Yg(_n(h.code)),i.current=!1,f!=null&&f.keyup&&_(h,!0))},y=o.current||(s==null?void 0:s.document)||document;return y.addEventListener("keyup",m,s==null?void 0:s.eventListenerOptions),y.addEventListener("keydown",p,s==null?void 0:s.eventListenerOptions),g&&ou(l,f==null?void 0:f.delimiter).forEach(h=>g.addHotkey(iu(h,f==null?void 0:f.splitKey,f==null?void 0:f.sequenceSplitKey,f==null?void 0:f.useKey,f==null?void 0:f.description))),()=>{y.removeEventListener("keyup",m,s==null?void 0:s.eventListenerOptions),y.removeEventListener("keydown",p,s==null?void 0:s.eventListenerOptions),g&&ou(l,f==null?void 0:f.delimiter).forEach(h=>g.removeHotkey(iu(h,f==null?void 0:f.splitKey,f==null?void 0:f.sequenceSplitKey,f==null?void 0:f.useKey,f==null?void 0:f.description))),x=[],v&&clearTimeout(v)}},[l,f,d]),o}function q_(){const{selectedNodeId:e,createLinkedQuestion:t,deleteNode:n,undo:r,redo:o}=Ne();vo("tab",i=>{if(i.preventDefault(),e){const s=Ne.getState().nodes.find(l=>l.id===e);if(s){const l={x:s.position.x+300,y:s.position.y};t(e,l)}}}),vo("delete, backspace",()=>{e&&n(e)}),vo("ctrl+z, cmd+z",i=>{i.preventDefault(),r()}),vo("ctrl+y, cmd+shift+z",i=>{i.preventDefault(),o()}),vo("escape",()=>{Ne.getState().setSelectedNodeId(null)})}function G_({id:e,data:t,selected:n}){const{setSelectedNodeId:r,updateNode:o,recalculateFlowIds:i,propagateTopicOnConnection:s}=Ne(),l=()=>{r(e)},u=d=>{o(e,{questionText:d.target.value})},a=d=>{const g=d.target.value;o(e,{topic:g}),t.isRoot&&i(e,g)},c=d=>{d.stopPropagation()},f=()=>{const{nodes:d,addNode:g,addEdge:x,edges:v}=Ne.getState();if(v.find(C=>C.source===e)){console.log("This question already has a connection. Only one outgoing connection is allowed.");return}const p=d.find(C=>C.id===e);if(!p)return;const m=ut.getInstance(),y=m.getNextAnswerNumber(t.pathId),h=m.generateAnswerPathId({nodeId:e,pathId:t.pathId,parentPathId:null,level:t.questionLevel||1,topic:t.topic},y),S=`answer-${Date.now()}`,k={id:S,type:"answer",position:{x:p.position.x+150,y:p.position.y+150},data:{pathId:h,answerType:"single",topic:t.topic,variants:[{id:`var-${Date.now()}`,text:"Answer option",score:0}]}};g(k);const N={id:`edge-${e}-${S}`,source:e,target:S,sourceHandle:null,targetHandle:null,animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};x(N),s(e,S)};return L.jsxs("div",{className:`
        bg-white rounded-lg shadow-lg border-2 p-4 min-w-[280px] max-w-[350px]
        ${n?"border-blue-500 shadow-xl ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer
      `,onClick:l,children:[L.jsx(Dt,{type:"target",position:Y.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),L.jsx("span",{className:"text-xs font-semibold text-blue-600",children:t.isRoot?"Root Question":"Question"})]}),L.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:["Level ",t.questionLevel]})]}),L.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathId}),t.isRoot&&L.jsxs("div",{className:"space-y-1",children:[L.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Topic"}),L.jsx("div",{onClick:c,onMouseDown:c,children:L.jsx("input",{type:"text",value:t.topic||"",onChange:a,className:"w-full p-2 border border-gray-200 rounded text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter topic...",onFocus:c,onKeyDown:c})})]}),L.jsxs("div",{className:"space-y-1",children:[L.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Question"}),L.jsx("div",{onClick:c,onMouseDown:c,children:L.jsx("textarea",{value:t.questionText,onChange:u,className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm bg-gray-50 hover:bg-white transition-colors",rows:3,placeholder:"Enter your question here...",onFocus:c,onKeyDown:c})})]}),L.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[L.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:t.elementId}),L.jsx("span",{className:"text-gray-400",children:"|"}),L.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:t.subElementId})]})]}),L.jsx(Dt,{type:"source",position:Y.Bottom,className:"w-3 h-3 bg-green-500 border-2 border-white cursor-pointer hover:bg-green-600 transition-colors",style:{background:"#22c55e"},onClick:d=>{d.stopPropagation(),f()}})]})}/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qg=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=I.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:s,...l},u)=>I.createElement("svg",{ref:u,...J_,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:qg("lucide",o),...l},[...s.map(([a,c])=>I.createElement(a,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(e,t)=>{const n=I.forwardRef(({className:r,...o},i)=>I.createElement(eN,{ref:i,iconNode:t,className:qg(`lucide-${Z_(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=Pt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=Pt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=Pt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=Pt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=Pt("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=Pt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=Pt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=Pt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=Pt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=Pt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=Pt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function dN({id:e,data:t,selected:n}){var y;const{setSelectedNodeId:r,updateNode:o,nodes:i,addNode:s,addEdge:l,propagateTopicOnConnection:u}=Ne(),[a,c]=I.useState(t.answerType||"single");I.useEffect(()=>{c(t.answerType||"single")},[t.answerType]);const f=()=>{r(e)},d=h=>{const{edges:S}=Ne.getState();if(S.find(j=>j.source===e&&j.sourceHandle===(h||"default"))){console.log("This answer variant already has a connection. Only one connection per variant is allowed.");return}const N=i.find(j=>j.id===e);if(!N)return;let C=t.topic;if(!C){const j=O=>{var P;const w=i.find(b=>b.id===O);if(!w)return"Topic";if((P=w.data)!=null&&P.topic)return w.data.topic;const M=Ne.getState().edges.find(b=>b.target===O);return M?j(M.source):"Topic"};C=j(e)}const T=`question-${Date.now()}`,z={id:T,type:"question",position:{x:h==="default"?N.position.x:N.position.x+200,y:N.position.y+200},data:{pathId:"path-id-will-be-generated",topic:C,isRoot:!1,questionText:"",questionLevel:2,elementId:"E01",subElementId:"SE01"}};s(z);const H={id:`edge-${e}-${T}`,source:e,target:T,sourceHandle:h||"default",targetHandle:null,animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};l(H),u(e,T)},g=()=>{const h={id:`var-${Date.now()}`,text:"New Answer",score:0},S=t.variants||[];o(e,{variants:[...S,h]})},x=(h,S)=>{const N=(t.variants||[]).map(C=>C.id===h?{...C,...S}:C);o(e,{variants:N})},v=h=>{const S=t.variants||[];if(S.length>1){const k=S.filter(N=>N.id!==h);o(e,{variants:k})}},_=h=>{c(h),o(e,{answerType:h});const{edges:S,deleteEdge:k}=Ne.getState();if(h==="single"){const N=S.filter(C=>C.source===e&&C.sourceHandle&&C.sourceHandle.startsWith("variant-"));console.log(`Switching to single mode: removing ${N.length} variant edges`),N.forEach(C=>k(C.id))}else{const N=S.filter(C=>C.source===e&&C.sourceHandle==="default");console.log(`Switching to multiple mode: removing ${N.length} default edges`),N.forEach(C=>k(C.id))}},p=h=>{h.stopPropagation()},m=t.variants||[];return L.jsxs("div",{className:`
        bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg shadow-lg border-2 p-4 w-[350px]
        ${n?"border-purple-500 shadow-xl ring-2 ring-purple-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer relative
      `,onClick:f,children:[L.jsx(Dt,{type:"target",position:Y.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),L.jsx("span",{className:"text-xs font-semibold text-purple-600",children:"Answer"})]}),t.answerLevel&&L.jsxs("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:["Level ",t.answerLevel]}),L.jsxs("div",{className:"flex items-center space-x-2 text-xs",onClick:p,onMouseDown:p,children:[L.jsxs("label",{className:"flex items-center cursor-pointer",children:[L.jsx("input",{type:"radio",value:"single",checked:a==="single",onChange:h=>_(h.target.value),className:"mr-1"}),"Single"]}),L.jsxs("label",{className:"flex items-center cursor-pointer",children:[L.jsx("input",{type:"radio",value:"multiple",checked:a==="multiple",onChange:h=>_(h.target.value),className:"mr-1"}),"Multiple"]})]})]}),t.pathId&&L.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathId}),L.jsx("div",{className:`text-xs rounded px-2 py-1 text-center font-medium ${a==="single"?"bg-blue-50 text-blue-600":"bg-green-50 text-green-600"}`,children:a==="single"?" Single path (bottom)":" Multiple paths (variants)"}),L.jsx("div",{className:"space-y-2",children:m.map((h,S)=>{var C;const k=`variant-${S}`,N=(C=t.orphanedVariants)==null?void 0:C.includes(k);return L.jsxs("div",{className:"relative",children:[L.jsxs("div",{className:`flex items-center space-x-2 bg-white rounded-lg p-3 shadow-sm border ${a==="multiple"?"border-green-200 hover:border-green-300":"border-gray-100"} ${N?"ring-1 ring-orange-400 border-orange-300":""} transition-colors`,onClick:p,onMouseDown:p,children:[L.jsx("input",{type:"text",value:h.text,onChange:T=>x(h.id,{text:T.target.value}),className:"flex-1 text-sm bg-transparent focus:outline-none",placeholder:"Answer text...",onFocus:p,onKeyDown:p}),L.jsx("input",{type:"number",value:h.score,onChange:T=>x(h.id,{score:Number(T.target.value)}),className:"w-12 text-xs text-center bg-gray-50 rounded px-1 py-1 focus:outline-none focus:bg-white border border-gray-200 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [-moz-appearance:textfield]",placeholder:"0",title:"Score",min:"-999",max:"999",onFocus:p,onKeyDown:p,onWheel:T=>{T.currentTarget.blur(),T.stopPropagation()},onClick:p,onMouseDown:p}),m.length>1&&L.jsx("button",{onClick:T=>{T.stopPropagation(),v(h.id)},className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:L.jsx(fN,{size:12})})]}),a==="multiple"&&L.jsx(Dt,{type:"source",position:Y.Right,id:`variant-${S}`,style:{top:"50%",right:"-5px",transform:"translateY(-50%)",background:N?"#fb923c":"#22c55e",width:"10px",height:"10px",zIndex:10,cursor:"pointer"},className:"border-2 border-white hover:scale-125 transition-transform",onClick:T=>{T.stopPropagation(),d(`variant-${S}`)}})]},h.id)})}),L.jsxs("button",{onClick:h=>{h.stopPropagation(),g()},className:"w-full flex items-center justify-center space-x-2 p-2 border-2 border-dashed border-purple-300 rounded-lg text-sm text-purple-600 hover:border-purple-500 hover:bg-purple-50 transition-colors font-medium",children:[L.jsx(sN,{size:14}),L.jsx("span",{children:"Add Answer"})]})]}),a==="single"&&L.jsx(Dt,{type:"source",position:Y.Bottom,id:"default",className:"w-3 h-3 border-2 border-white cursor-pointer hover:scale-125 transition-transform",style:{background:(y=t.orphanedVariants)!=null&&y.includes("default")?"#fb923c":"#22c55e"},onClick:h=>{h.stopPropagation(),d("default")}})]})}function pN({id:e,data:t,selected:n}){const{setSelectedNodeId:r,updateNode:o}=Ne(),i=()=>{r(e)},s=u=>{o(e,{recommendation:u.target.value})},l=u=>{u.stopPropagation()};return L.jsxs("div",{className:`
        bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg shadow-lg border-2 p-4 min-w-[280px] max-w-[350px]
        ${n?"border-green-500 shadow-xl ring-2 ring-green-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer
      `,onClick:i,children:[L.jsx(Dt,{type:"target",position:Y.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),L.jsx("span",{className:"text-xs font-semibold text-green-600",children:"Outcome"})]}),L.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Final"})]}),L.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathId}),L.jsxs("div",{className:"space-y-1",children:[L.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Recommendation"}),L.jsx("div",{onClick:l,onMouseDown:l,children:L.jsx("textarea",{value:t.recommendation||"",onChange:s,className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm bg-gray-50 hover:bg-white transition-colors",rows:4,placeholder:"Enter recommendation text...",onFocus:l,onKeyDown:l})})]}),L.jsx("div",{className:"text-xs rounded px-2 py-1 text-center font-medium bg-green-50 text-green-600 border border-green-200",children:" Final Outcome"})]})]})}const hN={question:G_,answer:dN,outcome:pN},mN={animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};function gN(){const{nodes:e,edges:t,addEdge:n,updateNodePosition:r,deleteEdge:o,propagateTopicOnConnection:i,selectedNodeId:s}=Ne(),[l,u,a]=QE(e),[c,f,d]=YE(t),g=D.useRef(!1),x=D.useRef(null);q_(),D.useEffect(()=>{const{cleanupDuplicateEdges:h}=Ne.getState();h()},[]),D.useEffect(()=>{u(h=>{if(g.current)return console.log("Bulk update detected - using store positions directly"),e;if(h.length===0)return e;const k=(()=>{const O=new Set,w=new Set;return t.forEach(M=>{O.add(M.target),w.add(M.source)}),e.filter(M=>{var $;if(M.type==="question"&&(($=M.data)!=null&&$.isRoot))return!w.has(M.id);if(M.type==="outcome")return!O.has(M.id);const P=O.has(M.id),b=w.has(M.id);return!P||!b}).map(M=>M.id)})(),C=(()=>{const O=new Map;return e.forEach(w=>{var M;if(w.type==="answer"&&((M=w.data)!=null&&M.variants)){const P=w.data.variants,b=w.data.answerType||"single",$=[];b==="multiple"&&P.forEach((E,A)=>{const F=`variant-${A}`;t.some(B=>B.source===w.id&&B.sourceHandle===F)||$.push(F)}),b==="single"&&(t.some(A=>A.source===w.id&&A.sourceHandle==="default")||$.push("default")),$.length>0&&O.set(w.id,$)}}),O})(),T=O=>{if(!O)return{parents:[],children:[]};const w=t.filter(P=>P.target===O).map(P=>P.source),M=t.filter(P=>P.source===O).map(P=>P.target);return{parents:w,children:M}},{parents:z,children:H}=T(s),j=new Map;return h.forEach(O=>{j.set(O.id,O.position)}),e.map(O=>{const w=j.get(O.id);return{...O,position:w||O.position,data:{...O.data,isOrphaned:k.includes(O.id),isParent:z.includes(O.id),isChild:H.includes(O.id),isSelected:s===O.id,orphanedVariants:C.get(O.id)||[]}}})})},[e,t,u,s]),D.useEffect(()=>{const h=t.map(S=>{let k="#9ca3af",N={stroke:k,strokeWidth:2};return s&&(S.source===s||S.target===s)&&(k="#2563eb",N={stroke:k,strokeWidth:2,filter:"drop-shadow(0 0 16px #2563ebcc)",opacity:1}),{...S,style:{...S.style,...N}}});f(h)},[t,f,s]);const v=I.useCallback(h=>{if(!h.source||!h.target)return;console.log("Creating edge:",h);const S=e.find(z=>z.id===h.source),k=e.find(z=>z.id===h.target);if(!S||!k){console.log("Source or target node not found");return}if(S.type==="answer"&&k.type!=="question"&&k.type!=="outcome"){console.log("Answer nodes can only connect to Question nodes or Outcome nodes");return}if(S.type==="question"&&k.type!=="answer"){console.log("Question nodes can only connect to Answer nodes");return}if(S.type==="answer"&&t.find(H=>H.source===h.source&&H.sourceHandle===h.sourceHandle)){console.log("Answer variant already has a connection. Only one connection per variant is allowed.");return}if(S.type==="question"&&t.find(H=>H.source===h.source)){console.log("Question node already has a connection. Only one outgoing connection is allowed.");return}if(((z,H)=>{if(z===H)return!0;const j=new Set,O=[H];for(;O.length>0;){const w=O.pop();if(j.has(w))continue;if(j.add(w),w===z)return!0;t.filter(P=>P.source===w).forEach(P=>{j.has(P.target)||O.push(P.target)})}return!1})(h.source,h.target)){console.log("Connection would create a loop, preventing connection");return}const C=ut.getInstance(),T={...h,source:h.source,target:h.target,id:C.generateEdgeId(h.source,h.target,h.sourceHandle||void 0),animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};console.log("Generated edge:",T),n(T),i(h.source,h.target)},[n,t,i,e]),_=I.useCallback((h,S)=>{Ne.getState().setSelectedNodeId(S.id)},[]),p=I.useCallback(()=>{Ne.getState().setSelectedNodeId(null)},[]),m=I.useCallback(h=>{if(a(h),g.current){console.log("Skipping position sync during bulk update");return}h.forEach(S=>{S.type==="position"&&S.position&&r&&r(S.id,S.position)})},[a,r]),y=I.useCallback(h=>{d(h),h.forEach(S=>{S.type==="remove"&&S.id&&(console.log("Edge deleted:",S.id),o(S.id))})},[d,o]);return D.useEffect(()=>(window.flowCanvasSetBulkUpdate=()=>{console.log("Setting bulk update flag"),g.current=!0,x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{console.log("Resetting bulk update flag"),g.current=!1,x.current=null},500)},()=>{x.current&&clearTimeout(x.current),delete window.flowCanvasSetBulkUpdate}),[]),L.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-50 to-gray-100",children:L.jsxs(Ig,{nodes:l,edges:c,onNodesChange:m,onEdgesChange:y,onConnect:v,onNodeClick:_,onPaneClick:p,nodeTypes:hN,connectionMode:Cn.Loose,defaultEdgeOptions:mN,className:"bg-transparent",nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,selectNodesOnDrag:!1,panOnDrag:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!1,preventScrolling:!1,children:[L.jsx(g_,{variant:dt.Dots,gap:16,size:1,color:"#e5e7eb"}),L.jsx(c_,{className:"bg-white shadow-lg rounded-lg border border-gray-200"}),L.jsx(r_,{className:"bg-white shadow-lg rounded-lg border border-gray-200",nodeColor:h=>{var S;if((S=h.data)!=null&&S.isOrphaned)return"#fb923c";switch(h.type){case"question":return"#2563eb";case"answer":return"#8b5cf6";case"outcome":return"#22c55e";default:return"#9ca3af"}},maskColor:"rgba(255, 255, 255, 0.8)",pannable:!0,zoomable:!0}),L.jsx(al,{position:"top-right",className:"bg-white/95 backdrop-blur shadow-lg rounded-lg p-4 m-4 border border-gray-200",children:L.jsxs("div",{className:"text-sm space-y-1",children:[L.jsx("div",{className:"font-semibold text-gray-700 mb-2",children:"Flow Stats"}),L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),L.jsxs("span",{children:["Questions: ",l.filter(h=>h.type==="question").length]})]}),L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),L.jsxs("span",{children:["Answers: ",l.filter(h=>h.type==="answer").length]})]}),L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),L.jsxs("span",{children:["Outcomes: ",l.filter(h=>h.type==="outcome").length]})]}),L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),L.jsxs("span",{children:["Connections: ",c.length]})]}),L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),L.jsxs("span",{children:["Orphaned: ",l.filter(h=>{var S;return(S=h.data)==null?void 0:S.isOrphaned}).length]})]})]})})]})})}class Ud{exportToJson(t,n){const r=t.filter(d=>d.type==="question"),o=t.filter(d=>d.type==="answer"),i=t.filter(d=>d.type==="outcome"),s=r.find(d=>d.data.isRoot),u={topic:(s==null?void 0:s.data.topic)||"UNTITLED",version:"1.0.0",createdAt:new Date().toISOString(),totalQuestions:r.length},a={};r.forEach(d=>{a[d.id]={id:d.id,type:"question",pathId:d.data.pathId,content:d.data.questionText,level:d.data.questionLevel,topic:d.data.topic}}),o.forEach(d=>{var g,x;a[d.id]={id:d.id,type:"answer",pathId:d.data.pathId,content:`${((g=d.data.variants)==null?void 0:g.length)||0} variants`,level:0,topic:d.data.topic,answerType:d.data.answerType,variants:(x=d.data.variants)==null?void 0:x.map(v=>({id:v.id,text:v.text,score:v.score,allowsInput:v.allowsInput,inputValidation:v.inputValidation})),combinationRules:d.data.combinationRules}}),i.forEach(d=>{a[d.id]={id:d.id,type:"outcome",pathId:d.data.pathId,content:d.data.recommendation||"No recommendation provided",level:0,topic:d.data.topic,recommendation:d.data.recommendation}});const c={},f={};return n.forEach(d=>{const g=t.find(v=>v.id===d.source),x=t.find(v=>v.id===d.target);!g||!x||(c[d.source]||(c[d.source]={}),d.sourceHandle&&d.sourceHandle.startsWith("variant-")?(c[d.source].variants||(c[d.source].variants={}),c[d.source].variants[d.sourceHandle]=x.data.pathId):c[d.source].default=x.data.pathId)}),o.forEach(d=>{d.data.answerType==="multiple"&&d.data.combinationRules&&(f[d.id]=d.data.combinationRules.map((g,x)=>({condition:g.selectedVariants,nextNode:g.nextNode,priority:x+1})))}),{metadata:u,nodes:a,navigation:c,multipleChoiceRules:f}}exportToExcel(t){const n=this.convertToCSV(t);return new Blob([n],{type:"text/csv"})}convertToCSV(t){const r=[["Path ID","Clean Path ID","Type","Content","Level","Variants","Scores","Next Path"]];return Object.values(t.nodes).forEach(o=>{var i,s;o.type==="question"?r.push([o.pathId,this.cleanPathId(o.pathId),"Question",o.content,o.level.toString(),"","",((i=t.navigation[o.id])==null?void 0:i.default)||""]):o.type==="answer"?(s=o.variants)==null||s.forEach((l,u)=>{var c,f;const a=((f=(c=t.navigation[o.id])==null?void 0:c.variants)==null?void 0:f[`variant-${u}`])||"";r.push([o.pathId,this.cleanPathId(o.pathId),"Answer",l.text,"0",l.text,l.score.toString(),a])}):o.type==="outcome"&&r.push([o.pathId,this.cleanPathId(o.pathId),"Outcome",o.recommendation||"No recommendation","0","","",""])}),r.map(o=>o.map(i=>`"${i.replace(/"/g,'""')}"`).join(",")).join(`
`)}cleanPathId(t){const n=t.split("-");return n.length<=2?t:n.slice(1).join("-")}importFromJson(t){const n=[],r=[];return Object.values(t.nodes).forEach((o,i)=>{const s={x:200+i%3*400,y:200+Math.floor(i/3)*300};o.type==="question"?n.push({id:o.id,type:"question",position:s,data:{pathId:o.pathId,topic:o.topic||"IMPORTED",isRoot:o.level===1,questionText:o.content,questionLevel:o.level,elementId:"IMPORTED",subElementId:"IMPORTED"}}):o.type==="answer"?n.push({id:o.id,type:"answer",position:{x:s.x,y:s.y+150},data:{pathId:o.pathId,answerType:o.answerType||"single",variants:o.variants||[],combinationRules:o.combinationRules,topic:o.topic||"IMPORTED"}}):o.type==="outcome"&&n.push({id:o.id,type:"outcome",position:{x:s.x,y:s.y+300},data:{pathId:o.pathId,recommendation:o.recommendation||"No recommendation provided",topic:o.topic||"IMPORTED"}})}),Object.entries(t.navigation).forEach(([o,i])=>{if(i.default){const s=n.find(l=>l.data.pathId===i.default);s&&r.push({id:`edge-${o}-${s.id}`,source:o,target:s.id,sourceHandle:"default",animated:!0})}i.variants&&Object.entries(i.variants).forEach(([s,l])=>{const u=n.find(a=>a.data.pathId===l);u&&r.push({id:`edge-${o}-${u.id}-${s}`,source:o,target:u.id,sourceHandle:s,animated:!0})})}),{nodes:n,edges:r}}}function yN({onAddNode:e,onLoadDemo:t,onClearAll:n,onSetNodes:r,nodes:o=[]}){const{setEdges:i,edges:s,nodes:l,setNodes:u,propagatePathToAll:a}=Ne(),c=o.length>0?o:l,f=()=>{const S=c.map(z=>z.position);let k=200,N=200;const C=350,T=4;for(let z=0;z<c.length+1;z++){const H=z%T,j=Math.floor(z/T);if(k=200+H*C,N=200+j*C,!S.some(w=>Math.abs(w.x-k)<250&&Math.abs(w.y-N)<200))break}return{x:k,y:N}},d=()=>{const S=ut.getInstance(),k=f(),N=S.getNextQuestionNumber(null),C="NEW-TOPIC",T=S.generateQuestionPathId(null,N,C),z={id:`q-${Date.now()}`,type:"question",position:k,data:{pathId:T,topic:C,isRoot:!0,questionText:"New Question",questionLevel:1,elementId:"NEW",subElementId:"NEW"}};S.registerNode(z.id,T),e==null||e(z)},g=()=>{const S=ut.getInstance(),k=f(),C=`STANDALONE-A${S.getNextAnswerNumber("STANDALONE")}`,T={id:`a-${Date.now()}`,type:"answer",position:k,data:{pathId:C,answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}};e==null||e(T)},x=()=>{const S=ut.getInstance(),k=f(),C=`STANDALONE-E${S.getNextOutcomeNumber("STANDALONE")}`,T={id:`o-${Date.now()}`,type:"outcome",position:k,data:{pathId:C,recommendation:"Enter your recommendation here...",topic:"General"}};e==null||e(T)},v=()=>{const S=Ne.getState(),N=new Ud().exportToJson(c,S.edges),C=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),T=URL.createObjectURL(C),z=document.createElement("a");z.href=T,z.download=`flow-${N.metadata.topic}-${Date.now()}.json`,z.click(),URL.revokeObjectURL(T)},_=()=>{const S=document.createElement("input");S.type="file",S.accept=".json",S.onchange=k=>{var C;const N=(C=k.target.files)==null?void 0:C[0];if(N){const T=new FileReader;T.onload=z=>{var H;try{const j=JSON.parse((H=z.target)==null?void 0:H.result);if(j.metadata&&j.nodes&&j.navigation){const O=new Ud,{nodes:w,edges:M}=O.importFromJson(j);window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),r==null||r(w),i(M)}else j.nodes&&j.edges?(window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),r==null||r(j.nodes),i(j.edges)):console.error("Invalid file format")}catch(j){console.error("Error importing flow:",j)}},T.readAsText(N)}},S.click()},p=()=>{t==null||t()},m=()=>{n==null||n()},y=()=>{a()},h=()=>{if(console.log("Organize button clicked!"),console.log("actualNodes:",c),console.log("actualNodes.length:",c.length),c.length<2){console.log("Not enough nodes to organize");return}console.log("Organizing",c.length,"nodes");const S=400,k=420,N=150,C=150,T=4,z=new Map,H=new Map,j=new Map;c.forEach(R=>{z.set(R.id,[]),j.set(R.id,0)}),s.forEach(R=>{const B=z.get(R.source)||[];B.push(R.target),z.set(R.source,B),H.set(R.target,R.source);const U=j.get(R.target)||0;j.set(R.target,U+1)}),console.log("Parent-child relationships:",{children:z,parents:H});const O=c.filter(R=>(j.get(R.id)||0)===0);O.length===0&&c.length>0&&O.push(c[0]),console.log("Root nodes:",O.map(R=>R.id));const w=new Map,M=new Map,P=new Set;let b=0;const $=[];for(O.forEach(R=>{$.push({node:R,level:0}),w.set(R.id,0)});$.length>0;){const{node:R,level:B}=$.shift();if(P.has(R.id))continue;P.add(R.id),b=Math.max(b,B);const U=M.get(B)||[];U.push(R),M.set(B,U),(z.get(R.id)||[]).forEach(K=>{const q=c.find(J=>J.id===K);q&&!P.has(K)&&($.push({node:q,level:B+1}),w.set(K,B+1))})}console.log("Nodes by level:",M);const E=[];for(let R=0;R<=b;R++){const B=M.get(R)||[];E.push(...B)}const A=c.filter(R=>!P.has(R.id));E.push(...A),console.log("Ordered nodes:",E.map(R=>R.id));const F=E.map((R,B)=>{const U=Math.floor(B/T),Q=B%T,K=Math.min(E.length,T),J=(Math.min(E.length-U*T,T)-1)*S,ee=(K-1)*S,me={x:N+(ee-J)/2+Q*S,y:C+U*k};return console.log(`Node ${R.id} (index ${B}): row ${U}, col ${Q} -> position ${me.x},${me.y}`),{...R,position:me}});console.log("Updated nodes:",F),window.flowCanvasSetBulkUpdate?(window.flowCanvasSetBulkUpdate(),console.log("Bulk update flag set")):console.log("flowCanvasSetBulkUpdate not found on window"),setTimeout(()=>{console.log("About to call setNodes..."),u(F),console.log("setNodes called"),r&&(console.log("Also calling onSetNodes callback..."),r(F)),console.log("Organization complete!")},50)};return L.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 bg-white border-b border-gray-200",children:[L.jsx("div",{className:"flex items-center gap-1",children:L.jsxs("button",{onClick:h,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors text-sm font-medium w-[140px] h-10",title:"Organize nodes in a hierarchical layout",children:[L.jsx(iN,{size:16}),L.jsx("span",{children:"Organize"})]})}),L.jsxs("div",{className:"flex items-center gap-1",children:[L.jsxs("button",{onClick:d,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[L.jsx(tN,{size:16}),L.jsx("span",{children:"Add Question"})]}),L.jsxs("button",{onClick:g,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[L.jsx(oN,{size:16}),L.jsx("span",{children:"Add Answer"})]}),L.jsxs("button",{onClick:x,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[L.jsx(uN,{size:16}),L.jsx("span",{children:"Add Outcome"})]})]}),L.jsxs("div",{className:"flex items-center gap-1",children:[L.jsxs("button",{onClick:v,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",children:[L.jsx(rN,{size:16}),L.jsx("span",{children:"Export JSON"})]}),L.jsxs("button",{onClick:_,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",children:[L.jsx(cN,{size:16}),L.jsx("span",{children:"Import JSON"})]}),L.jsxs("button",{onClick:y,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",title:"Propagate path IDs from root nodes to all connected nodes",children:[L.jsx(lN,{size:16}),L.jsx("span",{children:"Propagate Path"})]})]}),L.jsxs("div",{className:"flex items-center gap-1",children:[L.jsxs("button",{onClick:p,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-slate-500 text-white rounded-lg hover:bg-slate-600 transition-colors text-sm font-medium w-[140px] h-10",children:[L.jsx(nN,{size:16}),L.jsx("span",{children:"Load Demo"})]}),L.jsxs("button",{onClick:m,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm font-medium w-[140px] h-10",children:[L.jsx(aN,{size:16}),L.jsx("span",{children:"Clear All"})]})]})]})}const vN=[{id:"q1",type:"question",position:{x:100,y:100},data:{pathId:"DEMO-Q1",topic:"DEMO",isRoot:!0,questionText:"What is your experience level with React?",questionLevel:1,elementId:"DEMO",subElementId:"REACT"}},{id:"a1",type:"answer",position:{x:100,y:250},data:{pathId:"DEMO-Q1-A1",answerType:"single",variants:[{id:"var1",text:"Beginner",score:1},{id:"var2",text:"Intermediate",score:2},{id:"var3",text:"Advanced",score:3}]}},{id:"q2",type:"question",position:{x:450,y:100},data:{pathId:"DEMO-Q1-A1-Q2",topic:"DEMO",isRoot:!1,questionText:"Do you prefer TypeScript over JavaScript?",questionLevel:2,elementId:"DEMO",subElementId:"TYPESCRIPT"}},{id:"a2",type:"answer",position:{x:450,y:250},data:{pathId:"DEMO-Q1-A1-Q2-A1",answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}}],wN=[{id:"e1",source:"q1",target:"a1",animated:!0},{id:"e2",source:"a1",target:"q2",sourceHandle:"var2",animated:!0},{id:"e3",source:"q2",target:"a2",animated:!0}],Wd={nodes:vN,edges:wN};function xN(){const{nodes:e,addNode:t,setNodes:n,setEdges:r,clearFlow:o}=Ne(),i=I.useCallback(a=>{t(a)},[t]),s=I.useCallback(()=>{n(Wd.nodes),r(Wd.edges),setTimeout(()=>{const{cleanupDuplicateEdges:a}=Ne.getState();a()},100)},[n,r]),l=I.useCallback(()=>{o()},[o]),u=I.useCallback(a=>{n(a)},[n]);return L.jsxs("div",{className:"relative w-screen h-screen bg-gray-50",children:[L.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 bg-white/95 backdrop-blur shadow-lg border-b border-gray-200",children:L.jsx("div",{className:"container mx-auto px-6 py-4",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("div",{className:"flex items-center space-x-4",children:L.jsxs("div",{className:"flex items-center space-x-3",children:[L.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:L.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),L.jsxs("div",{children:[L.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Question Flow Builder"}),L.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Create and manage complex questionnaire flows with visual connections"})]})]})}),L.jsx(yN,{onAddNode:i,onLoadDemo:s,onClearAll:l,onSetNodes:u,nodes:e})]})})}),L.jsx("div",{className:"pt-24 w-full h-full",children:L.jsx(gN,{})})]})}su.createRoot(document.getElementById("root")).render(L.jsx(D.StrictMode,{children:L.jsx(xN,{})}));
