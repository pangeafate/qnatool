var B0=Object.defineProperty;var U0=(e,t,n)=>t in e?B0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var vs=(e,t,n)=>U0(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function ep(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tp={exports:{}},Ui={},np={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds=Symbol.for("react.element"),W0=Symbol.for("react.portal"),Q0=Symbol.for("react.fragment"),q0=Symbol.for("react.strict_mode"),K0=Symbol.for("react.profiler"),Y0=Symbol.for("react.provider"),X0=Symbol.for("react.context"),G0=Symbol.for("react.forward_ref"),Z0=Symbol.for("react.suspense"),J0=Symbol.for("react.memo"),ey=Symbol.for("react.lazy"),Bc=Symbol.iterator;function ty(e){return e===null||typeof e!="object"?null:(e=Bc&&e[Bc]||e["@@iterator"],typeof e=="function"?e:null)}var rp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},op=Object.assign,sp={};function eo(e,t,n){this.props=e,this.context=t,this.refs=sp,this.updater=n||rp}eo.prototype.isReactComponent={};eo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};eo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ip(){}ip.prototype=eo.prototype;function Cu(e,t,n){this.props=e,this.context=t,this.refs=sp,this.updater=n||rp}var bu=Cu.prototype=new ip;bu.constructor=Cu;op(bu,eo.prototype);bu.isPureReactComponent=!0;var Uc=Array.isArray,lp=Object.prototype.hasOwnProperty,Iu={current:null},ap={key:!0,ref:!0,__self:!0,__source:!0};function up(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)lp.call(t,r)&&!ap.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:ds,type:e,key:s,ref:i,props:o,_owner:Iu.current}}function ny(e,t){return{$$typeof:ds,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ds}function ry(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Wc=/\/+/g;function El(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ry(""+e.key):t.toString(36)}function Qs(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ds:case W0:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+El(i,0):r,Uc(o)?(n="",e!=null&&(n=e.replace(Wc,"$&/")+"/"),Qs(o,t,n,"",function(u){return u})):o!=null&&(Pu(o)&&(o=ny(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Wc,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Uc(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+El(s,l);i+=Qs(s,t,n,a,o)}else if(a=ty(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+El(s,l++),i+=Qs(s,t,n,a,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ws(e,t,n){if(e==null)return e;var r=[],o=0;return Qs(e,r,"","",function(s){return t.call(n,s,o++)}),r}function oy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},qs={transition:null},sy={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:qs,ReactCurrentOwner:Iu};function cp(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:ws,forEach:function(e,t,n){ws(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ws(e,function(){t++}),t},toArray:function(e){return ws(e,function(t){return t})||[]},only:function(e){if(!Pu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=eo;ne.Fragment=Q0;ne.Profiler=K0;ne.PureComponent=Cu;ne.StrictMode=q0;ne.Suspense=Z0;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sy;ne.act=cp;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=op({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Iu.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)lp.call(t,a)&&!ap.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ds,type:e.type,key:o,ref:s,props:r,_owner:i}};ne.createContext=function(e){return e={$$typeof:X0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Y0,_context:e},e.Consumer=e};ne.createElement=up;ne.createFactory=function(e){var t=up.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:G0,render:e}};ne.isValidElement=Pu;ne.lazy=function(e){return{$$typeof:ey,_payload:{_status:-1,_result:e},_init:oy}};ne.memo=function(e,t){return{$$typeof:J0,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=qs.transition;qs.transition={};try{e()}finally{qs.transition=t}};ne.unstable_act=cp;ne.useCallback=function(e,t){return Be.current.useCallback(e,t)};ne.useContext=function(e){return Be.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};ne.useEffect=function(e,t){return Be.current.useEffect(e,t)};ne.useId=function(){return Be.current.useId()};ne.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Be.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};ne.useRef=function(e){return Be.current.useRef(e)};ne.useState=function(e){return Be.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return Be.current.useTransition()};ne.version="18.3.1";np.exports=ne;var z=np.exports;const B=ep(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy=z,ly=Symbol.for("react.element"),ay=Symbol.for("react.fragment"),uy=Object.prototype.hasOwnProperty,cy=iy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dy={key:!0,ref:!0,__self:!0,__source:!0};function dp(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)uy.call(t,r)&&!dy.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:ly,type:e,key:s,ref:i,props:o,_owner:cy.current}}Ui.Fragment=ay;Ui.jsx=dp;Ui.jsxs=dp;tp.exports=Ui;var p=tp.exports,ca={},fp={exports:{}},ot={},pp={exports:{}},hp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,E){var M=T.length;T.push(E);e:for(;0<M;){var R=M-1>>>1,k=T[R];if(0<o(k,E))T[R]=E,T[M]=k,M=R;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var E=T[0],M=T.pop();if(M!==E){T[0]=M;e:for(var R=0,k=T.length,F=k>>>1;R<F;){var V=2*(R+1)-1,L=T[V],W=V+1,q=T[W];if(0>o(L,M))W<k&&0>o(q,L)?(T[R]=q,T[W]=M,R=W):(T[R]=L,T[V]=M,R=V);else if(W<k&&0>o(q,M))T[R]=q,T[W]=M,R=W;else break e}}return E}function o(T,E){var M=T.sortIndex-E.sortIndex;return M!==0?M:T.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var a=[],u=[],c=1,d=null,f=3,m=!1,w=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(T){for(var E=n(u);E!==null;){if(E.callback===null)r(u);else if(E.startTime<=T)r(u),E.sortIndex=E.expirationTime,t(a,E);else break;E=n(u)}}function y(T){if(v=!1,x(T),!w)if(n(a)!==null)w=!0,C(S);else{var E=n(u);E!==null&&H(y,E.startTime-T)}}function S(T,E){w=!1,v&&(v=!1,h(j),j=-1),m=!0;var M=f;try{for(x(E),d=n(a);d!==null&&(!(d.expirationTime>E)||T&&!U());){var R=d.callback;if(typeof R=="function"){d.callback=null,f=d.priorityLevel;var k=R(d.expirationTime<=E);E=e.unstable_now(),typeof k=="function"?d.callback=k:d===n(a)&&r(a),x(E)}else r(a);d=n(a)}if(d!==null)var F=!0;else{var V=n(u);V!==null&&H(y,V.startTime-E),F=!1}return F}finally{d=null,f=M,m=!1}}var b=!1,P=null,j=-1,I=5,D=-1;function U(){return!(e.unstable_now()-D<I)}function A(){if(P!==null){var T=e.unstable_now();D=T;var E=!0;try{E=P(!0,T)}finally{E?O():(b=!1,P=null)}}else b=!1}var O;if(typeof g=="function")O=function(){g(A)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,$=N.port2;N.port1.onmessage=A,O=function(){$.postMessage(null)}}else O=function(){_(A,0)};function C(T){P=T,b||(b=!0,O())}function H(T,E){j=_(function(){T(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,C(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var E=3;break;default:E=f}var M=f;f=E;try{return T()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,E){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var M=f;f=T;try{return E()}finally{f=M}},e.unstable_scheduleCallback=function(T,E,M){var R=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?R+M:R):M=R,T){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=M+k,T={id:c++,callback:E,priorityLevel:T,startTime:M,expirationTime:k,sortIndex:-1},M>R?(T.sortIndex=M,t(u,T),n(a)===null&&T===n(u)&&(v?(h(j),j=-1):v=!0,H(y,M-R))):(T.sortIndex=k,t(a,T),w||m||(w=!0,C(S))),T},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(T){var E=f;return function(){var M=f;f=E;try{return T.apply(this,arguments)}finally{f=M}}}})(hp);pp.exports=hp;var fy=pp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py=z,et=fy;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mp=new Set,Oo={};function ir(e,t){Hr(e,t),Hr(e+"Capture",t)}function Hr(e,t){for(Oo[e]=t,e=0;e<t.length;e++)mp.add(t[e])}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),da=Object.prototype.hasOwnProperty,hy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qc={},qc={};function my(e){return da.call(qc,e)?!0:da.call(Qc,e)?!1:hy.test(e)?qc[e]=!0:(Qc[e]=!0,!1)}function gy(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yy(e,t,n,r){if(t===null||typeof t>"u"||gy(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ue(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new Ue(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new Ue(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new Ue(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new Ue(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new Ue(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new Ue(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new Ue(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new Ue(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new Ue(e,5,!1,e.toLowerCase(),null,!1,!1)});var ju=/[\-:]([a-z])/g;function Tu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ju,Tu);$e[t]=new Ue(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ju,Tu);$e[t]=new Ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ju,Tu);$e[t]=new Ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new Ue(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new Ue(e,1,!1,e.toLowerCase(),null,!0,!0)});function $u(e,t,n,r){var o=$e.hasOwnProperty(t)?$e[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yy(t,n,o,r)&&(n=null),r||o===null?my(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tn=py.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ns=Symbol.for("react.element"),vr=Symbol.for("react.portal"),wr=Symbol.for("react.fragment"),Mu=Symbol.for("react.strict_mode"),fa=Symbol.for("react.profiler"),gp=Symbol.for("react.provider"),yp=Symbol.for("react.context"),zu=Symbol.for("react.forward_ref"),pa=Symbol.for("react.suspense"),ha=Symbol.for("react.suspense_list"),Au=Symbol.for("react.memo"),on=Symbol.for("react.lazy"),xp=Symbol.for("react.offscreen"),Kc=Symbol.iterator;function lo(e){return e===null||typeof e!="object"?null:(e=Kc&&e[Kc]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,kl;function So(e){if(kl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kl=t&&t[1]||""}return`
`+kl+e}var _l=!1;function Cl(e,t){if(!e||_l)return"";_l=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,l=s.length-1;1<=i&&0<=l&&o[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==s[l]){var a=`
`+o[i].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=i&&0<=l);break}}}finally{_l=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?So(e):""}function xy(e){switch(e.tag){case 5:return So(e.type);case 16:return So("Lazy");case 13:return So("Suspense");case 19:return So("SuspenseList");case 0:case 2:case 15:return e=Cl(e.type,!1),e;case 11:return e=Cl(e.type.render,!1),e;case 1:return e=Cl(e.type,!0),e;default:return""}}function ma(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wr:return"Fragment";case vr:return"Portal";case fa:return"Profiler";case Mu:return"StrictMode";case pa:return"Suspense";case ha:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yp:return(e.displayName||"Context")+".Consumer";case gp:return(e._context.displayName||"Context")+".Provider";case zu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Au:return t=e.displayName||null,t!==null?t:ma(e.type)||"Memo";case on:t=e._payload,e=e._init;try{return ma(e(t))}catch{}}return null}function vy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ma(t);case 8:return t===Mu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wy(e){var t=vp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ss(e){e._valueTracker||(e._valueTracker=wy(e))}function wp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ga(e,t){var n=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Yc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Cn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Np(e,t){t=t.checked,t!=null&&$u(e,"checked",t,!1)}function ya(e,t){Np(e,t);var n=Cn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xa(e,t.type,n):t.hasOwnProperty("defaultValue")&&xa(e,t.type,Cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xa(e,t,n){(t!=="number"||ai(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Eo=Array.isArray;function $r(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Cn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function va(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Q(92));if(Eo(n)){if(1<n.length)throw Error(Q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Cn(n)}}function Sp(e,t){var n=Cn(t.value),r=Cn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Zc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ep(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ep(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Es,kp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Es=Es||document.createElement("div"),Es.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Es.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ny=["Webkit","ms","Moz","O"];Object.keys(Po).forEach(function(e){Ny.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Po[t]=Po[e]})});function _p(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Po.hasOwnProperty(e)&&Po[e]?(""+t).trim():t+"px"}function Cp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=_p(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Sy=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Na(e,t){if(t){if(Sy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function Sa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ea=null;function Ru(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ka=null,Mr=null,zr=null;function Jc(e){if(e=hs(e)){if(typeof ka!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=Yi(t),ka(e.stateNode,e.type,t))}}function bp(e){Mr?zr?zr.push(e):zr=[e]:Mr=e}function Ip(){if(Mr){var e=Mr,t=zr;if(zr=Mr=null,Jc(e),t)for(e=0;e<t.length;e++)Jc(t[e])}}function Pp(e,t){return e(t)}function jp(){}var bl=!1;function Tp(e,t,n){if(bl)return e(t,n);bl=!0;try{return Pp(e,t,n)}finally{bl=!1,(Mr!==null||zr!==null)&&(jp(),Ip())}}function Fo(e,t){var n=e.stateNode;if(n===null)return null;var r=Yi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Q(231,t,typeof n));return n}var _a=!1;if(Yt)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){_a=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{_a=!1}function Ey(e,t,n,r,o,s,i,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var jo=!1,ui=null,ci=!1,Ca=null,ky={onError:function(e){jo=!0,ui=e}};function _y(e,t,n,r,o,s,i,l,a){jo=!1,ui=null,Ey.apply(ky,arguments)}function Cy(e,t,n,r,o,s,i,l,a){if(_y.apply(this,arguments),jo){if(jo){var u=ui;jo=!1,ui=null}else throw Error(Q(198));ci||(ci=!0,Ca=u)}}function lr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ed(e){if(lr(e)!==e)throw Error(Q(188))}function by(e){var t=e.alternate;if(!t){if(t=lr(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return ed(o),e;if(s===r)return ed(o),t;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?e:t}function Mp(e){return e=by(e),e!==null?zp(e):null}function zp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zp(e);if(t!==null)return t;e=e.sibling}return null}var Ap=et.unstable_scheduleCallback,td=et.unstable_cancelCallback,Iy=et.unstable_shouldYield,Py=et.unstable_requestPaint,Ne=et.unstable_now,jy=et.unstable_getCurrentPriorityLevel,Du=et.unstable_ImmediatePriority,Rp=et.unstable_UserBlockingPriority,di=et.unstable_NormalPriority,Ty=et.unstable_LowPriority,Dp=et.unstable_IdlePriority,Wi=null,Mt=null;function $y(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Wi,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Ay,My=Math.log,zy=Math.LN2;function Ay(e){return e>>>=0,e===0?32:31-(My(e)/zy|0)|0}var ks=64,_s=4194304;function ko(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~o;l!==0?r=ko(l):(s&=i,s!==0&&(r=ko(s)))}else i=n&~o,i!==0?r=ko(i):s!==0&&(r=ko(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_t(t),o=1<<n,r|=e[n],t&=~o;return r}function Ry(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-_t(s),l=1<<i,a=o[i];a===-1?(!(l&n)||l&r)&&(o[i]=Ry(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function ba(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Op(){var e=ks;return ks<<=1,!(ks&4194240)&&(ks=64),e}function Il(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function Oy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-_t(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Ou(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_t(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ue=0;function Lp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fp,Lu,Hp,Vp,Bp,Ia=!1,Cs=[],gn=null,yn=null,xn=null,Ho=new Map,Vo=new Map,un=[],Ly="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nd(e,t){switch(e){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Ho.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(t.pointerId)}}function uo(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=hs(t),t!==null&&Lu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Fy(e,t,n,r,o){switch(t){case"focusin":return gn=uo(gn,e,t,n,r,o),!0;case"dragenter":return yn=uo(yn,e,t,n,r,o),!0;case"mouseover":return xn=uo(xn,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Ho.set(s,uo(Ho.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Vo.set(s,uo(Vo.get(s)||null,e,t,n,r,o)),!0}return!1}function Up(e){var t=Bn(e.target);if(t!==null){var n=lr(t);if(n!==null){if(t=n.tag,t===13){if(t=$p(n),t!==null){e.blockedOn=t,Bp(e.priority,function(){Hp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ks(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ea=r,n.target.dispatchEvent(r),Ea=null}else return t=hs(n),t!==null&&Lu(t),e.blockedOn=n,!1;t.shift()}return!0}function rd(e,t,n){Ks(e)&&n.delete(t)}function Hy(){Ia=!1,gn!==null&&Ks(gn)&&(gn=null),yn!==null&&Ks(yn)&&(yn=null),xn!==null&&Ks(xn)&&(xn=null),Ho.forEach(rd),Vo.forEach(rd)}function co(e,t){e.blockedOn===t&&(e.blockedOn=null,Ia||(Ia=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,Hy)))}function Bo(e){function t(o){return co(o,e)}if(0<Cs.length){co(Cs[0],e);for(var n=1;n<Cs.length;n++){var r=Cs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(gn!==null&&co(gn,e),yn!==null&&co(yn,e),xn!==null&&co(xn,e),Ho.forEach(t),Vo.forEach(t),n=0;n<un.length;n++)r=un[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)Up(n),n.blockedOn===null&&un.shift()}var Ar=tn.ReactCurrentBatchConfig,pi=!0;function Vy(e,t,n,r){var o=ue,s=Ar.transition;Ar.transition=null;try{ue=1,Fu(e,t,n,r)}finally{ue=o,Ar.transition=s}}function By(e,t,n,r){var o=ue,s=Ar.transition;Ar.transition=null;try{ue=4,Fu(e,t,n,r)}finally{ue=o,Ar.transition=s}}function Fu(e,t,n,r){if(pi){var o=Pa(e,t,n,r);if(o===null)Ol(e,t,r,hi,n),nd(e,r);else if(Fy(o,e,t,n,r))r.stopPropagation();else if(nd(e,r),t&4&&-1<Ly.indexOf(e)){for(;o!==null;){var s=hs(o);if(s!==null&&Fp(s),s=Pa(e,t,n,r),s===null&&Ol(e,t,r,hi,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Ol(e,t,r,null,n)}}var hi=null;function Pa(e,t,n,r){if(hi=null,e=Ru(r),e=Bn(e),e!==null)if(t=lr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hi=e,null}function Wp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jy()){case Du:return 1;case Rp:return 4;case di:case Ty:return 16;case Dp:return 536870912;default:return 16}default:return 16}}var fn=null,Hu=null,Ys=null;function Qp(){if(Ys)return Ys;var e,t=Hu,n=t.length,r,o="value"in fn?fn.value:fn.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return Ys=o.slice(e,1<r?1-r:void 0)}function Xs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bs(){return!0}function od(){return!1}function st(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bs:od,this.isPropagationStopped=od,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),t}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vu=st(to),ps=xe({},to,{view:0,detail:0}),Uy=st(ps),Pl,jl,fo,Qi=xe({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fo&&(fo&&e.type==="mousemove"?(Pl=e.screenX-fo.screenX,jl=e.screenY-fo.screenY):jl=Pl=0,fo=e),Pl)},movementY:function(e){return"movementY"in e?e.movementY:jl}}),sd=st(Qi),Wy=xe({},Qi,{dataTransfer:0}),Qy=st(Wy),qy=xe({},ps,{relatedTarget:0}),Tl=st(qy),Ky=xe({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),Yy=st(Ky),Xy=xe({},to,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gy=st(Xy),Zy=xe({},to,{data:0}),id=st(Zy),Jy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ex={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tx[e])?!!t[e]:!1}function Bu(){return nx}var rx=xe({},ps,{key:function(e){if(e.key){var t=Jy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ex[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bu,charCode:function(e){return e.type==="keypress"?Xs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ox=st(rx),sx=xe({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ld=st(sx),ix=xe({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bu}),lx=st(ix),ax=xe({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),ux=st(ax),cx=xe({},Qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dx=st(cx),fx=[9,13,27,32],Uu=Yt&&"CompositionEvent"in window,To=null;Yt&&"documentMode"in document&&(To=document.documentMode);var px=Yt&&"TextEvent"in window&&!To,qp=Yt&&(!Uu||To&&8<To&&11>=To),ad=" ",ud=!1;function Kp(e,t){switch(e){case"keyup":return fx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nr=!1;function hx(e,t){switch(e){case"compositionend":return Yp(t);case"keypress":return t.which!==32?null:(ud=!0,ad);case"textInput":return e=t.data,e===ad&&ud?null:e;default:return null}}function mx(e,t){if(Nr)return e==="compositionend"||!Uu&&Kp(e,t)?(e=Qp(),Ys=Hu=fn=null,Nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qp&&t.locale!=="ko"?null:t.data;default:return null}}var gx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gx[e.type]:t==="textarea"}function Xp(e,t,n,r){bp(r),t=mi(t,"onChange"),0<t.length&&(n=new Vu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $o=null,Uo=null;function yx(e){lh(e,0)}function qi(e){var t=kr(e);if(wp(t))return e}function xx(e,t){if(e==="change")return t}var Gp=!1;if(Yt){var $l;if(Yt){var Ml="oninput"in document;if(!Ml){var dd=document.createElement("div");dd.setAttribute("oninput","return;"),Ml=typeof dd.oninput=="function"}$l=Ml}else $l=!1;Gp=$l&&(!document.documentMode||9<document.documentMode)}function fd(){$o&&($o.detachEvent("onpropertychange",Zp),Uo=$o=null)}function Zp(e){if(e.propertyName==="value"&&qi(Uo)){var t=[];Xp(t,Uo,e,Ru(e)),Tp(yx,t)}}function vx(e,t,n){e==="focusin"?(fd(),$o=t,Uo=n,$o.attachEvent("onpropertychange",Zp)):e==="focusout"&&fd()}function wx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qi(Uo)}function Nx(e,t){if(e==="click")return qi(t)}function Sx(e,t){if(e==="input"||e==="change")return qi(t)}function Ex(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:Ex;function Wo(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!da.call(t,o)||!bt(e[o],t[o]))return!1}return!0}function pd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hd(e,t){var n=pd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pd(n)}}function Jp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eh(){for(var e=window,t=ai();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ai(e.document)}return t}function Wu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kx(e){var t=eh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Jp(n.ownerDocument.documentElement,n)){if(r!==null&&Wu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=hd(n,s);var i=hd(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _x=Yt&&"documentMode"in document&&11>=document.documentMode,Sr=null,ja=null,Mo=null,Ta=!1;function md(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ta||Sr==null||Sr!==ai(r)||(r=Sr,"selectionStart"in r&&Wu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mo&&Wo(Mo,r)||(Mo=r,r=mi(ja,"onSelect"),0<r.length&&(t=new Vu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sr)))}function Is(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionend:Is("Transition","TransitionEnd")},zl={},th={};Yt&&(th=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function Ki(e){if(zl[e])return zl[e];if(!Er[e])return e;var t=Er[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in th)return zl[e]=t[n];return e}var nh=Ki("animationend"),rh=Ki("animationiteration"),oh=Ki("animationstart"),sh=Ki("transitionend"),ih=new Map,gd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){ih.set(e,t),ir(t,[e])}for(var Al=0;Al<gd.length;Al++){var Rl=gd[Al],Cx=Rl.toLowerCase(),bx=Rl[0].toUpperCase()+Rl.slice(1);Pn(Cx,"on"+bx)}Pn(nh,"onAnimationEnd");Pn(rh,"onAnimationIteration");Pn(oh,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(sh,"onTransitionEnd");Hr("onMouseEnter",["mouseout","mouseover"]);Hr("onMouseLeave",["mouseout","mouseover"]);Hr("onPointerEnter",["pointerout","pointerover"]);Hr("onPointerLeave",["pointerout","pointerover"]);ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ix=new Set("cancel close invalid load scroll toggle".split(" ").concat(_o));function yd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Cy(r,t,void 0,e),e.currentTarget=null}function lh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&o.isPropagationStopped())break e;yd(o,l,u),s=a}else for(i=0;i<r.length;i++){if(l=r[i],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&o.isPropagationStopped())break e;yd(o,l,u),s=a}}}if(ci)throw e=Ca,ci=!1,Ca=null,e}function fe(e,t){var n=t[Ra];n===void 0&&(n=t[Ra]=new Set);var r=e+"__bubble";n.has(r)||(ah(t,e,2,!1),n.add(r))}function Dl(e,t,n){var r=0;t&&(r|=4),ah(n,e,r,t)}var Ps="_reactListening"+Math.random().toString(36).slice(2);function Qo(e){if(!e[Ps]){e[Ps]=!0,mp.forEach(function(n){n!=="selectionchange"&&(Ix.has(n)||Dl(n,!1,e),Dl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ps]||(t[Ps]=!0,Dl("selectionchange",!1,t))}}function ah(e,t,n,r){switch(Wp(t)){case 1:var o=Vy;break;case 4:o=By;break;default:o=Fu}n=o.bind(null,t,n,e),o=void 0,!_a||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ol(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var a=i.tag;if((a===3||a===4)&&(a=i.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;i=i.return}for(;l!==null;){if(i=Bn(l),i===null)return;if(a=i.tag,a===5||a===6){r=s=i;continue e}l=l.parentNode}}r=r.return}Tp(function(){var u=s,c=Ru(n),d=[];e:{var f=ih.get(e);if(f!==void 0){var m=Vu,w=e;switch(e){case"keypress":if(Xs(n)===0)break e;case"keydown":case"keyup":m=ox;break;case"focusin":w="focus",m=Tl;break;case"focusout":w="blur",m=Tl;break;case"beforeblur":case"afterblur":m=Tl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Qy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=lx;break;case nh:case rh:case oh:m=Yy;break;case sh:m=ux;break;case"scroll":m=Uy;break;case"wheel":m=dx;break;case"copy":case"cut":case"paste":m=Gy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ld}var v=(t&4)!==0,_=!v&&e==="scroll",h=v?f!==null?f+"Capture":null:f;v=[];for(var g=u,x;g!==null;){x=g;var y=x.stateNode;if(x.tag===5&&y!==null&&(x=y,h!==null&&(y=Fo(g,h),y!=null&&v.push(qo(g,y,x)))),_)break;g=g.return}0<v.length&&(f=new m(f,w,null,n,c),d.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Ea&&(w=n.relatedTarget||n.fromElement)&&(Bn(w)||w[Xt]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?Bn(w):null,w!==null&&(_=lr(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(v=sd,y="onMouseLeave",h="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=ld,y="onPointerLeave",h="onPointerEnter",g="pointer"),_=m==null?f:kr(m),x=w==null?f:kr(w),f=new v(y,g+"leave",m,n,c),f.target=_,f.relatedTarget=x,y=null,Bn(c)===u&&(v=new v(h,g+"enter",w,n,c),v.target=x,v.relatedTarget=_,y=v),_=y,m&&w)t:{for(v=m,h=w,g=0,x=v;x;x=pr(x))g++;for(x=0,y=h;y;y=pr(y))x++;for(;0<g-x;)v=pr(v),g--;for(;0<x-g;)h=pr(h),x--;for(;g--;){if(v===h||h!==null&&v===h.alternate)break t;v=pr(v),h=pr(h)}v=null}else v=null;m!==null&&xd(d,f,m,v,!1),w!==null&&_!==null&&xd(d,_,w,v,!0)}}e:{if(f=u?kr(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=xx;else if(cd(f))if(Gp)S=Sx;else{S=wx;var b=vx}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Nx);if(S&&(S=S(e,u))){Xp(d,S,n,c);break e}b&&b(e,f,u),e==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&xa(f,"number",f.value)}switch(b=u?kr(u):window,e){case"focusin":(cd(b)||b.contentEditable==="true")&&(Sr=b,ja=u,Mo=null);break;case"focusout":Mo=ja=Sr=null;break;case"mousedown":Ta=!0;break;case"contextmenu":case"mouseup":case"dragend":Ta=!1,md(d,n,c);break;case"selectionchange":if(_x)break;case"keydown":case"keyup":md(d,n,c)}var P;if(Uu)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Nr?Kp(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(qp&&n.locale!=="ko"&&(Nr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Nr&&(P=Qp()):(fn=c,Hu="value"in fn?fn.value:fn.textContent,Nr=!0)),b=mi(u,j),0<b.length&&(j=new id(j,e,null,n,c),d.push({event:j,listeners:b}),P?j.data=P:(P=Yp(n),P!==null&&(j.data=P)))),(P=px?hx(e,n):mx(e,n))&&(u=mi(u,"onBeforeInput"),0<u.length&&(c=new id("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=P))}lh(d,t)})}function qo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function mi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Fo(e,n),s!=null&&r.unshift(qo(e,s,o)),s=Fo(e,t),s!=null&&r.push(qo(e,s,o))),e=e.return}return r}function pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xd(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=Fo(n,s),a!=null&&i.unshift(qo(n,a,l))):o||(a=Fo(n,s),a!=null&&i.push(qo(n,a,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Px=/\r\n?/g,jx=/\u0000|\uFFFD/g;function vd(e){return(typeof e=="string"?e:""+e).replace(Px,`
`).replace(jx,"")}function js(e,t,n){if(t=vd(t),vd(e)!==t&&n)throw Error(Q(425))}function gi(){}var $a=null,Ma=null;function za(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Aa=typeof setTimeout=="function"?setTimeout:void 0,Tx=typeof clearTimeout=="function"?clearTimeout:void 0,wd=typeof Promise=="function"?Promise:void 0,$x=typeof queueMicrotask=="function"?queueMicrotask:typeof wd<"u"?function(e){return wd.resolve(null).then(e).catch(Mx)}:Aa;function Mx(e){setTimeout(function(){throw e})}function Ll(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Bo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Bo(t)}function vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var no=Math.random().toString(36).slice(2),$t="__reactFiber$"+no,Ko="__reactProps$"+no,Xt="__reactContainer$"+no,Ra="__reactEvents$"+no,zx="__reactListeners$"+no,Ax="__reactHandles$"+no;function Bn(e){var t=e[$t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xt]||n[$t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Nd(e);e!==null;){if(n=e[$t])return n;e=Nd(e)}return t}e=n,n=e.parentNode}return null}function hs(e){return e=e[$t]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function Yi(e){return e[Ko]||null}var Da=[],_r=-1;function jn(e){return{current:e}}function pe(e){0>_r||(e.current=Da[_r],Da[_r]=null,_r--)}function ce(e,t){_r++,Da[_r]=e.current,e.current=t}var bn={},Oe=jn(bn),Ke=jn(!1),Zn=bn;function Vr(e,t){var n=e.type.contextTypes;if(!n)return bn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ye(e){return e=e.childContextTypes,e!=null}function yi(){pe(Ke),pe(Oe)}function Sd(e,t,n){if(Oe.current!==bn)throw Error(Q(168));ce(Oe,t),ce(Ke,n)}function uh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Q(108,vy(e)||"Unknown",o));return xe({},n,r)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bn,Zn=Oe.current,ce(Oe,e),ce(Ke,Ke.current),!0}function Ed(e,t,n){var r=e.stateNode;if(!r)throw Error(Q(169));n?(e=uh(e,t,Zn),r.__reactInternalMemoizedMergedChildContext=e,pe(Ke),pe(Oe),ce(Oe,e)):pe(Ke),ce(Ke,n)}var Vt=null,Xi=!1,Fl=!1;function ch(e){Vt===null?Vt=[e]:Vt.push(e)}function Rx(e){Xi=!0,ch(e)}function Tn(){if(!Fl&&Vt!==null){Fl=!0;var e=0,t=ue;try{var n=Vt;for(ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vt=null,Xi=!1}catch(o){throw Vt!==null&&(Vt=Vt.slice(e+1)),Ap(Du,Tn),o}finally{ue=t,Fl=!1}}return null}var Cr=[],br=0,vi=null,wi=0,it=[],lt=0,Jn=null,Bt=1,Ut="";function On(e,t){Cr[br++]=wi,Cr[br++]=vi,vi=e,wi=t}function dh(e,t,n){it[lt++]=Bt,it[lt++]=Ut,it[lt++]=Jn,Jn=e;var r=Bt;e=Ut;var o=32-_t(r)-1;r&=~(1<<o),n+=1;var s=32-_t(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Bt=1<<32-_t(t)+o|n<<o|r,Ut=s+e}else Bt=1<<s|n<<o|r,Ut=e}function Qu(e){e.return!==null&&(On(e,1),dh(e,1,0))}function qu(e){for(;e===vi;)vi=Cr[--br],Cr[br]=null,wi=Cr[--br],Cr[br]=null;for(;e===Jn;)Jn=it[--lt],it[lt]=null,Ut=it[--lt],it[lt]=null,Bt=it[--lt],it[lt]=null}var Je=null,Ze=null,me=!1,Nt=null;function fh(e,t){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ze=vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Jn!==null?{id:Bt,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Ze=null,!0):!1;default:return!1}}function Oa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function La(e){if(me){var t=Ze;if(t){var n=t;if(!kd(e,t)){if(Oa(e))throw Error(Q(418));t=vn(n.nextSibling);var r=Je;t&&kd(e,t)?fh(r,n):(e.flags=e.flags&-4097|2,me=!1,Je=e)}}else{if(Oa(e))throw Error(Q(418));e.flags=e.flags&-4097|2,me=!1,Je=e}}}function _d(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Ts(e){if(e!==Je)return!1;if(!me)return _d(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!za(e.type,e.memoizedProps)),t&&(t=Ze)){if(Oa(e))throw ph(),Error(Q(418));for(;t;)fh(e,t),t=vn(t.nextSibling)}if(_d(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=vn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=Je?vn(e.stateNode.nextSibling):null;return!0}function ph(){for(var e=Ze;e;)e=vn(e.nextSibling)}function Br(){Ze=Je=null,me=!1}function Ku(e){Nt===null?Nt=[e]:Nt.push(e)}var Dx=tn.ReactCurrentBatchConfig;function po(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=o.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,e))}return e}function $s(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cd(e){var t=e._init;return t(e._payload)}function hh(e){function t(h,g){if(e){var x=h.deletions;x===null?(h.deletions=[g],h.flags|=16):x.push(g)}}function n(h,g){if(!e)return null;for(;g!==null;)t(h,g),g=g.sibling;return null}function r(h,g){for(h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function o(h,g){return h=En(h,g),h.index=0,h.sibling=null,h}function s(h,g,x){return h.index=x,e?(x=h.alternate,x!==null?(x=x.index,x<g?(h.flags|=2,g):x):(h.flags|=2,g)):(h.flags|=1048576,g)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,g,x,y){return g===null||g.tag!==6?(g=ql(x,h.mode,y),g.return=h,g):(g=o(g,x),g.return=h,g)}function a(h,g,x,y){var S=x.type;return S===wr?c(h,g,x.props.children,y,x.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===on&&Cd(S)===g.type)?(y=o(g,x.props),y.ref=po(h,g,x),y.return=h,y):(y=ri(x.type,x.key,x.props,null,h.mode,y),y.ref=po(h,g,x),y.return=h,y)}function u(h,g,x,y){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Kl(x,h.mode,y),g.return=h,g):(g=o(g,x.children||[]),g.return=h,g)}function c(h,g,x,y,S){return g===null||g.tag!==7?(g=Yn(x,h.mode,y,S),g.return=h,g):(g=o(g,x),g.return=h,g)}function d(h,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ql(""+g,h.mode,x),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ns:return x=ri(g.type,g.key,g.props,null,h.mode,x),x.ref=po(h,null,g),x.return=h,x;case vr:return g=Kl(g,h.mode,x),g.return=h,g;case on:var y=g._init;return d(h,y(g._payload),x)}if(Eo(g)||lo(g))return g=Yn(g,h.mode,x,null),g.return=h,g;$s(h,g)}return null}function f(h,g,x,y){var S=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:l(h,g,""+x,y);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ns:return x.key===S?a(h,g,x,y):null;case vr:return x.key===S?u(h,g,x,y):null;case on:return S=x._init,f(h,g,S(x._payload),y)}if(Eo(x)||lo(x))return S!==null?null:c(h,g,x,y,null);$s(h,x)}return null}function m(h,g,x,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return h=h.get(x)||null,l(g,h,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ns:return h=h.get(y.key===null?x:y.key)||null,a(g,h,y,S);case vr:return h=h.get(y.key===null?x:y.key)||null,u(g,h,y,S);case on:var b=y._init;return m(h,g,x,b(y._payload),S)}if(Eo(y)||lo(y))return h=h.get(x)||null,c(g,h,y,S,null);$s(g,y)}return null}function w(h,g,x,y){for(var S=null,b=null,P=g,j=g=0,I=null;P!==null&&j<x.length;j++){P.index>j?(I=P,P=null):I=P.sibling;var D=f(h,P,x[j],y);if(D===null){P===null&&(P=I);break}e&&P&&D.alternate===null&&t(h,P),g=s(D,g,j),b===null?S=D:b.sibling=D,b=D,P=I}if(j===x.length)return n(h,P),me&&On(h,j),S;if(P===null){for(;j<x.length;j++)P=d(h,x[j],y),P!==null&&(g=s(P,g,j),b===null?S=P:b.sibling=P,b=P);return me&&On(h,j),S}for(P=r(h,P);j<x.length;j++)I=m(P,h,j,x[j],y),I!==null&&(e&&I.alternate!==null&&P.delete(I.key===null?j:I.key),g=s(I,g,j),b===null?S=I:b.sibling=I,b=I);return e&&P.forEach(function(U){return t(h,U)}),me&&On(h,j),S}function v(h,g,x,y){var S=lo(x);if(typeof S!="function")throw Error(Q(150));if(x=S.call(x),x==null)throw Error(Q(151));for(var b=S=null,P=g,j=g=0,I=null,D=x.next();P!==null&&!D.done;j++,D=x.next()){P.index>j?(I=P,P=null):I=P.sibling;var U=f(h,P,D.value,y);if(U===null){P===null&&(P=I);break}e&&P&&U.alternate===null&&t(h,P),g=s(U,g,j),b===null?S=U:b.sibling=U,b=U,P=I}if(D.done)return n(h,P),me&&On(h,j),S;if(P===null){for(;!D.done;j++,D=x.next())D=d(h,D.value,y),D!==null&&(g=s(D,g,j),b===null?S=D:b.sibling=D,b=D);return me&&On(h,j),S}for(P=r(h,P);!D.done;j++,D=x.next())D=m(P,h,j,D.value,y),D!==null&&(e&&D.alternate!==null&&P.delete(D.key===null?j:D.key),g=s(D,g,j),b===null?S=D:b.sibling=D,b=D);return e&&P.forEach(function(A){return t(h,A)}),me&&On(h,j),S}function _(h,g,x,y){if(typeof x=="object"&&x!==null&&x.type===wr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ns:e:{for(var S=x.key,b=g;b!==null;){if(b.key===S){if(S=x.type,S===wr){if(b.tag===7){n(h,b.sibling),g=o(b,x.props.children),g.return=h,h=g;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===on&&Cd(S)===b.type){n(h,b.sibling),g=o(b,x.props),g.ref=po(h,b,x),g.return=h,h=g;break e}n(h,b);break}else t(h,b);b=b.sibling}x.type===wr?(g=Yn(x.props.children,h.mode,y,x.key),g.return=h,h=g):(y=ri(x.type,x.key,x.props,null,h.mode,y),y.ref=po(h,g,x),y.return=h,h=y)}return i(h);case vr:e:{for(b=x.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(h,g.sibling),g=o(g,x.children||[]),g.return=h,h=g;break e}else{n(h,g);break}else t(h,g);g=g.sibling}g=Kl(x,h.mode,y),g.return=h,h=g}return i(h);case on:return b=x._init,_(h,g,b(x._payload),y)}if(Eo(x))return w(h,g,x,y);if(lo(x))return v(h,g,x,y);$s(h,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(h,g.sibling),g=o(g,x),g.return=h,h=g):(n(h,g),g=ql(x,h.mode,y),g.return=h,h=g),i(h)):n(h,g)}return _}var Ur=hh(!0),mh=hh(!1),Ni=jn(null),Si=null,Ir=null,Yu=null;function Xu(){Yu=Ir=Si=null}function Gu(e){var t=Ni.current;pe(Ni),e._currentValue=t}function Fa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Rr(e,t){Si=e,Yu=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qe=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(Yu!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(Si===null)throw Error(Q(308));Ir=e,Si.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var Un=null;function Zu(e){Un===null?Un=[e]:Un.push(e)}function gh(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Zu(t)):(n.next=o.next,o.next=n),t.interleaved=n,Gt(e,r)}function Gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sn=!1;function Ju(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Gt(e,n)}return o=r.interleaved,o===null?(t.next=t,Zu(r)):(t.next=o.next,o.next=t),r.interleaved=t,Gt(e,n)}function Gs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ou(e,n)}}function bd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ei(e,t,n,r){var o=e.updateQueue;sn=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,i===null?s=u:i.next=u,i=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==i&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=o.baseState;i=0,c=u=a=null,l=s;do{var f=l.lane,m=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,v=l;switch(f=t,m=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){d=w.call(m,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,f=typeof w=="function"?w.call(m,d,f):w,f==null)break e;d=xe({},d,f);break e;case 2:sn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=m,a=d):c=c.next=m,i|=f;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;f=l,l=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(c===null&&(a=d),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);tr|=i,e.lanes=i,e.memoizedState=d}}function Id(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Q(191,o));o.call(r)}}}var ms={},zt=jn(ms),Yo=jn(ms),Xo=jn(ms);function Wn(e){if(e===ms)throw Error(Q(174));return e}function ec(e,t){switch(ce(Xo,t),ce(Yo,e),ce(zt,ms),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wa(t,e)}pe(zt),ce(zt,t)}function Wr(){pe(zt),pe(Yo),pe(Xo)}function xh(e){Wn(Xo.current);var t=Wn(zt.current),n=wa(t,e.type);t!==n&&(ce(Yo,e),ce(zt,n))}function tc(e){Yo.current===e&&(pe(zt),pe(Yo))}var ge=jn(0);function ki(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hl=[];function nc(){for(var e=0;e<Hl.length;e++)Hl[e]._workInProgressVersionPrimary=null;Hl.length=0}var Zs=tn.ReactCurrentDispatcher,Vl=tn.ReactCurrentBatchConfig,er=0,ye=null,Ee=null,be=null,_i=!1,zo=!1,Go=0,Ox=0;function Ae(){throw Error(Q(321))}function rc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bt(e[n],t[n]))return!1;return!0}function oc(e,t,n,r,o,s){if(er=s,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zs.current=e===null||e.memoizedState===null?Vx:Bx,e=n(r,o),zo){s=0;do{if(zo=!1,Go=0,25<=s)throw Error(Q(301));s+=1,be=Ee=null,t.updateQueue=null,Zs.current=Ux,e=n(r,o)}while(zo)}if(Zs.current=Ci,t=Ee!==null&&Ee.next!==null,er=0,be=Ee=ye=null,_i=!1,t)throw Error(Q(300));return e}function sc(){var e=Go!==0;return Go=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?ye.memoizedState=be=e:be=be.next=e,be}function mt(){if(Ee===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=be===null?ye.memoizedState:be.next;if(t!==null)be=t,Ee=e;else{if(e===null)throw Error(Q(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},be===null?ye.memoizedState=be=e:be=be.next=e}return be}function Zo(e,t){return typeof t=="function"?t(e):t}function Bl(e){var t=mt(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=Ee,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var l=i=null,a=null,u=s;do{var c=u.lane;if((er&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,i=r):a=a.next=d,ye.lanes|=c,tr|=c}u=u.next}while(u!==null&&u!==s);a===null?i=r:a.next=l,bt(r,t.memoizedState)||(Qe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,ye.lanes|=s,tr|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ul(e){var t=mt(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);bt(s,t.memoizedState)||(Qe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function vh(){}function wh(e,t){var n=ye,r=mt(),o=t(),s=!bt(r.memoizedState,o);if(s&&(r.memoizedState=o,Qe=!0),r=r.queue,ic(Eh.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,Jo(9,Sh.bind(null,n,r,o,t),void 0,null),Ie===null)throw Error(Q(349));er&30||Nh(n,t,o)}return o}function Nh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sh(e,t,n,r){t.value=n,t.getSnapshot=r,kh(t)&&_h(e)}function Eh(e,t,n){return n(function(){kh(t)&&_h(e)})}function kh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bt(e,n)}catch{return!0}}function _h(e){var t=Gt(e,1);t!==null&&Ct(t,e,1,-1)}function Pd(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e},t.queue=e,e=e.dispatch=Hx.bind(null,ye,e),[t.memoizedState,e]}function Jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ch(){return mt().memoizedState}function Js(e,t,n,r){var o=Tt();ye.flags|=e,o.memoizedState=Jo(1|t,n,void 0,r===void 0?null:r)}function Gi(e,t,n,r){var o=mt();r=r===void 0?null:r;var s=void 0;if(Ee!==null){var i=Ee.memoizedState;if(s=i.destroy,r!==null&&rc(r,i.deps)){o.memoizedState=Jo(t,n,s,r);return}}ye.flags|=e,o.memoizedState=Jo(1|t,n,s,r)}function jd(e,t){return Js(8390656,8,e,t)}function ic(e,t){return Gi(2048,8,e,t)}function bh(e,t){return Gi(4,2,e,t)}function Ih(e,t){return Gi(4,4,e,t)}function Ph(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jh(e,t,n){return n=n!=null?n.concat([e]):null,Gi(4,4,Ph.bind(null,t,e),n)}function lc(){}function Th(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $h(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Mh(e,t,n){return er&21?(bt(n,t)||(n=Op(),ye.lanes|=n,tr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=n)}function Lx(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var r=Vl.transition;Vl.transition={};try{e(!1),t()}finally{ue=n,Vl.transition=r}}function zh(){return mt().memoizedState}function Fx(e,t,n){var r=Sn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ah(e))Rh(t,n);else if(n=gh(e,t,n,r),n!==null){var o=Ve();Ct(n,e,r,o),Dh(n,t,r)}}function Hx(e,t,n){var r=Sn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ah(e))Rh(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,n);if(o.hasEagerState=!0,o.eagerState=l,bt(l,i)){var a=t.interleaved;a===null?(o.next=o,Zu(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=gh(e,t,o,r),n!==null&&(o=Ve(),Ct(n,e,r,o),Dh(n,t,r))}}function Ah(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Rh(e,t){zo=_i=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Dh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ou(e,n)}}var Ci={readContext:ht,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},Vx={readContext:ht,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:jd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Js(4194308,4,Ph.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Js(4194308,4,e,t)},useInsertionEffect:function(e,t){return Js(4,2,e,t)},useMemo:function(e,t){var n=Tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Tt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Fx.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:Pd,useDebugValue:lc,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=Pd(!1),t=e[0];return e=Lx.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,o=Tt();if(me){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=t(),Ie===null)throw Error(Q(349));er&30||Nh(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,jd(Eh.bind(null,r,s,e),[e]),r.flags|=2048,Jo(9,Sh.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Tt(),t=Ie.identifierPrefix;if(me){var n=Ut,r=Bt;n=(r&~(1<<32-_t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Go++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ox++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bx={readContext:ht,useCallback:Th,useContext:ht,useEffect:ic,useImperativeHandle:jh,useInsertionEffect:bh,useLayoutEffect:Ih,useMemo:$h,useReducer:Bl,useRef:Ch,useState:function(){return Bl(Zo)},useDebugValue:lc,useDeferredValue:function(e){var t=mt();return Mh(t,Ee.memoizedState,e)},useTransition:function(){var e=Bl(Zo)[0],t=mt().memoizedState;return[e,t]},useMutableSource:vh,useSyncExternalStore:wh,useId:zh,unstable_isNewReconciler:!1},Ux={readContext:ht,useCallback:Th,useContext:ht,useEffect:ic,useImperativeHandle:jh,useInsertionEffect:bh,useLayoutEffect:Ih,useMemo:$h,useReducer:Ul,useRef:Ch,useState:function(){return Ul(Zo)},useDebugValue:lc,useDeferredValue:function(e){var t=mt();return Ee===null?t.memoizedState=e:Mh(t,Ee.memoizedState,e)},useTransition:function(){var e=Ul(Zo)[0],t=mt().memoizedState;return[e,t]},useMutableSource:vh,useSyncExternalStore:wh,useId:zh,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ha(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zi={isMounted:function(e){return(e=e._reactInternals)?lr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),o=Sn(e),s=qt(r,o);s.payload=t,n!=null&&(s.callback=n),t=wn(e,s,o),t!==null&&(Ct(t,e,o,r),Gs(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),o=Sn(e),s=qt(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=wn(e,s,o),t!==null&&(Ct(t,e,o,r),Gs(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=Sn(e),o=qt(n,r);o.tag=2,t!=null&&(o.callback=t),t=wn(e,o,r),t!==null&&(Ct(t,e,r,n),Gs(t,e,r))}};function Td(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!Wo(n,r)||!Wo(o,s):!0}function Oh(e,t,n){var r=!1,o=bn,s=t.contextType;return typeof s=="object"&&s!==null?s=ht(s):(o=Ye(t)?Zn:Oe.current,r=t.contextTypes,s=(r=r!=null)?Vr(e,o):bn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function $d(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Zi.enqueueReplaceState(t,t.state,null)}function Va(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ju(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=ht(s):(s=Ye(t)?Zn:Oe.current,o.context=Vr(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ha(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Zi.enqueueReplaceState(o,o.state,null),Ei(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Qr(e,t){try{var n="",r=t;do n+=xy(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Wl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ba(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Wx=typeof WeakMap=="function"?WeakMap:Map;function Lh(e,t,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ii||(Ii=!0,Ja=r),Ba(e,t)},n}function Fh(e,t,n){n=qt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ba(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ba(e,t),typeof r!="function"&&(Nn===null?Nn=new Set([this]):Nn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Md(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Wx;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=sv.bind(null,e,t,n),t.then(e,e))}function zd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ad(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qt(-1,1),t.tag=2,wn(n,t,1))),n.lanes|=1),e)}var Qx=tn.ReactCurrentOwner,Qe=!1;function He(e,t,n,r){t.child=e===null?mh(t,null,n,r):Ur(t,e.child,n,r)}function Rd(e,t,n,r,o){n=n.render;var s=t.ref;return Rr(t,o),r=oc(e,t,n,r,s,o),n=sc(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(me&&n&&Qu(t),t.flags|=1,He(e,t,r,o),t.child)}function Dd(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!mc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Hh(e,t,s,r,o)):(e=ri(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wo,n(i,r)&&e.ref===t.ref)return Zt(e,t,o)}return t.flags|=1,e=En(s,r),e.ref=t.ref,e.return=t,t.child=e}function Hh(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Wo(s,r)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,Zt(e,t,o)}return Ua(e,t,n,r,o)}function Vh(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(jr,Ge),Ge|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(jr,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ce(jr,Ge),Ge|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ce(jr,Ge),Ge|=r;return He(e,t,o,n),t.child}function Bh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ua(e,t,n,r,o){var s=Ye(n)?Zn:Oe.current;return s=Vr(t,s),Rr(t,o),n=oc(e,t,n,r,s,o),r=sc(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(me&&r&&Qu(t),t.flags|=1,He(e,t,n,o),t.child)}function Od(e,t,n,r,o){if(Ye(n)){var s=!0;xi(t)}else s=!1;if(Rr(t,o),t.stateNode===null)ei(e,t),Oh(t,n,r),Va(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var a=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=ht(u):(u=Ye(n)?Zn:Oe.current,u=Vr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||a!==u)&&$d(t,i,r,u),sn=!1;var f=t.memoizedState;i.state=f,Ei(t,r,i,o),a=t.memoizedState,l!==r||f!==a||Ke.current||sn?(typeof c=="function"&&(Ha(t,n,c,r),a=t.memoizedState),(l=sn||Td(t,n,l,r,f,a,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),i.props=r,i.state=a,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,yh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:xt(t.type,l),i.props=u,d=t.pendingProps,f=i.context,a=n.contextType,typeof a=="object"&&a!==null?a=ht(a):(a=Ye(n)?Zn:Oe.current,a=Vr(t,a));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==d||f!==a)&&$d(t,i,r,a),sn=!1,f=t.memoizedState,i.state=f,Ei(t,r,i,o);var w=t.memoizedState;l!==d||f!==w||Ke.current||sn?(typeof m=="function"&&(Ha(t,n,m,r),w=t.memoizedState),(u=sn||Td(t,n,u,r,f,w,a)||!1)?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,a),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,a)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=a,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Wa(e,t,n,r,s,o)}function Wa(e,t,n,r,o,s){Bh(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Ed(t,n,!1),Zt(e,t,s);r=t.stateNode,Qx.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Ur(t,e.child,null,s),t.child=Ur(t,null,l,s)):He(e,t,l,s),t.memoizedState=r.state,o&&Ed(t,n,!0),t.child}function Uh(e){var t=e.stateNode;t.pendingContext?Sd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sd(e,t.context,!1),ec(e,t.containerInfo)}function Ld(e,t,n,r,o){return Br(),Ku(o),t.flags|=256,He(e,t,n,r),t.child}var Qa={dehydrated:null,treeContext:null,retryLane:0};function qa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wh(e,t,n){var r=t.pendingProps,o=ge.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ce(ge,o&1),e===null)return La(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=tl(i,r,0,null),e=Yn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=qa(n),t.memoizedState=Qa,e):ac(t,i));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return qx(e,t,i,r,l,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=En(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?s=En(l,s):(s=Yn(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?qa(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Qa,r}return s=e.child,e=s.sibling,r=En(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ac(e,t){return t=tl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ms(e,t,n,r){return r!==null&&Ku(r),Ur(t,e.child,null,n),e=ac(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qx(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=Wl(Error(Q(422))),Ms(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=tl({mode:"visible",children:r.children},o,0,null),s=Yn(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ur(t,e.child,null,i),t.child.memoizedState=qa(i),t.memoizedState=Qa,s);if(!(t.mode&1))return Ms(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(Q(419)),r=Wl(s,r,void 0),Ms(e,t,i,r)}if(l=(i&e.childLanes)!==0,Qe||l){if(r=Ie,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Gt(e,o),Ct(r,e,o,-1))}return hc(),r=Wl(Error(Q(421))),Ms(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=iv.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Ze=vn(o.nextSibling),Je=t,me=!0,Nt=null,e!==null&&(it[lt++]=Bt,it[lt++]=Ut,it[lt++]=Jn,Bt=e.id,Ut=e.overflow,Jn=t),t=ac(t,r.children),t.flags|=4096,t)}function Fd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Fa(e.return,t,n)}function Ql(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function Qh(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(He(e,t,r.children,n),r=ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fd(e,n,t);else if(e.tag===19)Fd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(ge,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ki(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ql(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ki(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ql(t,!0,n,null,s);break;case"together":Ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ei(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),tr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,n=En(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=En(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kx(e,t,n){switch(t.tag){case 3:Uh(t),Br();break;case 5:xh(t);break;case 1:Ye(t.type)&&xi(t);break;case 4:ec(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ce(Ni,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(ge,ge.current&1),t.flags|=128,null):n&t.child.childLanes?Wh(e,t,n):(ce(ge,ge.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);ce(ge,ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Qh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ce(ge,ge.current),r)break;return null;case 22:case 23:return t.lanes=0,Vh(e,t,n)}return Zt(e,t,n)}var qh,Ka,Kh,Yh;qh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ka=function(){};Kh=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Wn(zt.current);var s=null;switch(n){case"input":o=ga(e,o),r=ga(e,r),s=[];break;case"select":o=xe({},o,{value:void 0}),r=xe({},r,{value:void 0}),s=[];break;case"textarea":o=va(e,o),r=va(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gi)}Na(n,r);var i;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Oo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||a&&a.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in a)a.hasOwnProperty(i)&&l[i]!==a[i]&&(n||(n={}),n[i]=a[i])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Oo.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&fe("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Yh=function(e,t,n,r){n!==r&&(t.flags|=4)};function ho(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yx(e,t,n){var r=t.pendingProps;switch(qu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Ye(t.type)&&yi(),Re(t),null;case 3:return r=t.stateNode,Wr(),pe(Ke),pe(Oe),nc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ts(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(nu(Nt),Nt=null))),Ka(e,t),Re(t),null;case 5:tc(t);var o=Wn(Xo.current);if(n=t.type,e!==null&&t.stateNode!=null)Kh(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Q(166));return Re(t),null}if(e=Wn(zt.current),Ts(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$t]=t,r[Ko]=s,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(o=0;o<_o.length;o++)fe(_o[o],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Yc(r,s),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},fe("invalid",r);break;case"textarea":Gc(r,s),fe("invalid",r)}Na(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&js(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&js(r.textContent,l,e),o=["children",""+l]):Oo.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&fe("scroll",r)}switch(n){case"input":Ss(r),Xc(r,s,!0);break;case"textarea":Ss(r),Zc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gi)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ep(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[$t]=t,e[Ko]=r,qh(e,t,!1,!1),t.stateNode=e;e:{switch(i=Sa(n,r),n){case"dialog":fe("cancel",e),fe("close",e),o=r;break;case"iframe":case"object":case"embed":fe("load",e),o=r;break;case"video":case"audio":for(o=0;o<_o.length;o++)fe(_o[o],e);o=r;break;case"source":fe("error",e),o=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),o=r;break;case"details":fe("toggle",e),o=r;break;case"input":Yc(e,r),o=ga(e,r),fe("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=xe({},r,{value:void 0}),fe("invalid",e);break;case"textarea":Gc(e,r),o=va(e,r),fe("invalid",e);break;default:o=r}Na(n,o),l=o;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Cp(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&kp(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Lo(e,a):typeof a=="number"&&Lo(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Oo.hasOwnProperty(s)?a!=null&&s==="onScroll"&&fe("scroll",e):a!=null&&$u(e,s,a,i))}switch(n){case"input":Ss(e),Xc(e,r,!1);break;case"textarea":Ss(e),Zc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Cn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?$r(e,!!r.multiple,s,!1):r.defaultValue!=null&&$r(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=gi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(e&&t.stateNode!=null)Yh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Q(166));if(n=Wn(Xo.current),Wn(zt.current),Ts(t)){if(r=t.stateNode,n=t.memoizedProps,r[$t]=t,(s=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:js(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&js(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$t]=t,t.stateNode=r}return Re(t),null;case 13:if(pe(ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&Ze!==null&&t.mode&1&&!(t.flags&128))ph(),Br(),t.flags|=98560,s=!1;else if(s=Ts(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Q(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[$t]=t}else Br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),s=!1}else Nt!==null&&(nu(Nt),Nt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?_e===0&&(_e=3):hc())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return Wr(),Ka(e,t),e===null&&Qo(t.stateNode.containerInfo),Re(t),null;case 10:return Gu(t.type._context),Re(t),null;case 17:return Ye(t.type)&&yi(),Re(t),null;case 19:if(pe(ge),s=t.memoizedState,s===null)return Re(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)ho(s,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ki(e),i!==null){for(t.flags|=128,ho(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(ge,ge.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ne()>qr&&(t.flags|=128,r=!0,ho(s,!1),t.lanes=4194304)}else{if(!r)if(e=ki(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ho(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!me)return Re(t),null}else 2*Ne()-s.renderingStartTime>qr&&n!==1073741824&&(t.flags|=128,r=!0,ho(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ne(),t.sibling=null,n=ge.current,ce(ge,r?n&1|2:n&1),t):(Re(t),null);case 22:case 23:return pc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ge&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function Xx(e,t){switch(qu(t),t.tag){case 1:return Ye(t.type)&&yi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wr(),pe(Ke),pe(Oe),nc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tc(t),null;case 13:if(pe(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));Br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(ge),null;case 4:return Wr(),null;case 10:return Gu(t.type._context),null;case 22:case 23:return pc(),null;case 24:return null;default:return null}}var zs=!1,De=!1,Gx=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Pr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ve(e,t,r)}else n.current=null}function Ya(e,t,n){try{n()}catch(r){ve(e,t,r)}}var Hd=!1;function Zx(e,t){if($a=pi,e=eh(),Wu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,l=-1,a=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var m;d!==n||o!==0&&d.nodeType!==3||(l=i+o),d!==s||r!==0&&d.nodeType!==3||(a=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++u===o&&(l=i),f===s&&++c===r&&(a=i),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ma={focusedElem:e,selectionRange:n},pi=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,_=w.memoizedState,h=t.stateNode,g=h.getSnapshotBeforeUpdate(t.elementType===t.type?v:xt(t.type,v),_);h.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(y){ve(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return w=Hd,Hd=!1,w}function Ao(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Ya(t,n,s)}o=o.next}while(o!==r)}}function Ji(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Xh(e){var t=e.alternate;t!==null&&(e.alternate=null,Xh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$t],delete t[Ko],delete t[Ra],delete t[zx],delete t[Ax])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gh(e){return e.tag===5||e.tag===3||e.tag===4}function Vd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ga(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gi));else if(r!==4&&(e=e.child,e!==null))for(Ga(e,t,n),e=e.sibling;e!==null;)Ga(e,t,n),e=e.sibling}function Za(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Za(e,t,n),e=e.sibling;e!==null;)Za(e,t,n),e=e.sibling}var je=null,vt=!1;function nn(e,t,n){for(n=n.child;n!==null;)Zh(e,t,n),n=n.sibling}function Zh(e,t,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Wi,n)}catch{}switch(n.tag){case 5:De||Pr(n,t);case 6:var r=je,o=vt;je=null,nn(e,t,n),je=r,vt=o,je!==null&&(vt?(e=je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(vt?(e=je,n=n.stateNode,e.nodeType===8?Ll(e.parentNode,n):e.nodeType===1&&Ll(e,n),Bo(e)):Ll(je,n.stateNode));break;case 4:r=je,o=vt,je=n.stateNode.containerInfo,vt=!0,nn(e,t,n),je=r,vt=o;break;case 0:case 11:case 14:case 15:if(!De&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Ya(n,t,i),o=o.next}while(o!==r)}nn(e,t,n);break;case 1:if(!De&&(Pr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ve(n,t,l)}nn(e,t,n);break;case 21:nn(e,t,n);break;case 22:n.mode&1?(De=(r=De)||n.memoizedState!==null,nn(e,t,n),De=r):nn(e,t,n);break;default:nn(e,t,n)}}function Bd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Gx),t.forEach(function(r){var o=lv.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function yt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:je=l.stateNode,vt=!1;break e;case 3:je=l.stateNode.containerInfo,vt=!0;break e;case 4:je=l.stateNode.containerInfo,vt=!0;break e}l=l.return}if(je===null)throw Error(Q(160));Zh(s,i,o),je=null,vt=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){ve(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Jh(t,e),t=t.sibling}function Jh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),jt(e),r&4){try{Ao(3,e,e.return),Ji(3,e)}catch(v){ve(e,e.return,v)}try{Ao(5,e,e.return)}catch(v){ve(e,e.return,v)}}break;case 1:yt(t,e),jt(e),r&512&&n!==null&&Pr(n,n.return);break;case 5:if(yt(t,e),jt(e),r&512&&n!==null&&Pr(n,n.return),e.flags&32){var o=e.stateNode;try{Lo(o,"")}catch(v){ve(e,e.return,v)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Np(o,s),Sa(l,i);var u=Sa(l,s);for(i=0;i<a.length;i+=2){var c=a[i],d=a[i+1];c==="style"?Cp(o,d):c==="dangerouslySetInnerHTML"?kp(o,d):c==="children"?Lo(o,d):$u(o,c,d,u)}switch(l){case"input":ya(o,s);break;case"textarea":Sp(o,s);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?$r(o,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?$r(o,!!s.multiple,s.defaultValue,!0):$r(o,!!s.multiple,s.multiple?[]:"",!1))}o[Ko]=s}catch(v){ve(e,e.return,v)}}break;case 6:if(yt(t,e),jt(e),r&4){if(e.stateNode===null)throw Error(Q(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(v){ve(e,e.return,v)}}break;case 3:if(yt(t,e),jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bo(t.containerInfo)}catch(v){ve(e,e.return,v)}break;case 4:yt(t,e),jt(e);break;case 13:yt(t,e),jt(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(dc=Ne())),r&4&&Bd(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(De=(u=De)||c,yt(t,e),De=u):yt(t,e),jt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Y=e,c=e.child;c!==null;){for(d=Y=c;Y!==null;){switch(f=Y,m=f.child,f.tag){case 0:case 11:case 14:case 15:Ao(4,f,f.return);break;case 1:Pr(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){ve(r,n,v)}}break;case 5:Pr(f,f.return);break;case 22:if(f.memoizedState!==null){Wd(d);continue}}m!==null?(m.return=f,Y=m):Wd(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,i=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=_p("display",i))}catch(v){ve(e,e.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){ve(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yt(t,e),jt(e),r&4&&Bd(e);break;case 21:break;default:yt(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gh(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Lo(o,""),r.flags&=-33);var s=Vd(e);Za(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Vd(e);Ga(e,l,i);break;default:throw Error(Q(161))}}catch(a){ve(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jx(e,t,n){Y=e,em(e)}function em(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var o=Y,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||zs;if(!i){var l=o.alternate,a=l!==null&&l.memoizedState!==null||De;l=zs;var u=De;if(zs=i,(De=a)&&!u)for(Y=o;Y!==null;)i=Y,a=i.child,i.tag===22&&i.memoizedState!==null?Qd(o):a!==null?(a.return=i,Y=a):Qd(o);for(;s!==null;)Y=s,em(s),s=s.sibling;Y=o,zs=l,De=u}Ud(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,Y=s):Ud(e)}}function Ud(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||Ji(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!De)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:xt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Id(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Id(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Bo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}De||t.flags&512&&Xa(t)}catch(f){ve(t,t.return,f)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Wd(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Qd(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ji(4,t)}catch(a){ve(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){ve(t,o,a)}}var s=t.return;try{Xa(t)}catch(a){ve(t,s,a)}break;case 5:var i=t.return;try{Xa(t)}catch(a){ve(t,i,a)}}}catch(a){ve(t,t.return,a)}if(t===e){Y=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Y=l;break}Y=t.return}}var ev=Math.ceil,bi=tn.ReactCurrentDispatcher,uc=tn.ReactCurrentOwner,ft=tn.ReactCurrentBatchConfig,se=0,Ie=null,Se=null,Te=0,Ge=0,jr=jn(0),_e=0,es=null,tr=0,el=0,cc=0,Ro=null,We=null,dc=0,qr=1/0,Ht=null,Ii=!1,Ja=null,Nn=null,As=!1,pn=null,Pi=0,Do=0,eu=null,ti=-1,ni=0;function Ve(){return se&6?Ne():ti!==-1?ti:ti=Ne()}function Sn(e){return e.mode&1?se&2&&Te!==0?Te&-Te:Dx.transition!==null?(ni===0&&(ni=Op()),ni):(e=ue,e!==0||(e=window.event,e=e===void 0?16:Wp(e.type)),e):1}function Ct(e,t,n,r){if(50<Do)throw Do=0,eu=null,Error(Q(185));fs(e,n,r),(!(se&2)||e!==Ie)&&(e===Ie&&(!(se&2)&&(el|=n),_e===4&&cn(e,Te)),Xe(e,r),n===1&&se===0&&!(t.mode&1)&&(qr=Ne()+500,Xi&&Tn()))}function Xe(e,t){var n=e.callbackNode;Dy(e,t);var r=fi(e,e===Ie?Te:0);if(r===0)n!==null&&td(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&td(n),t===1)e.tag===0?Rx(qd.bind(null,e)):ch(qd.bind(null,e)),$x(function(){!(se&6)&&Tn()}),n=null;else{switch(Lp(r)){case 1:n=Du;break;case 4:n=Rp;break;case 16:n=di;break;case 536870912:n=Dp;break;default:n=di}n=am(n,tm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tm(e,t){if(ti=-1,ni=0,se&6)throw Error(Q(327));var n=e.callbackNode;if(Dr()&&e.callbackNode!==n)return null;var r=fi(e,e===Ie?Te:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ji(e,r);else{t=r;var o=se;se|=2;var s=rm();(Ie!==e||Te!==t)&&(Ht=null,qr=Ne()+500,Kn(e,t));do try{rv();break}catch(l){nm(e,l)}while(!0);Xu(),bi.current=s,se=o,Se!==null?t=0:(Ie=null,Te=0,t=_e)}if(t!==0){if(t===2&&(o=ba(e),o!==0&&(r=o,t=tu(e,o))),t===1)throw n=es,Kn(e,0),cn(e,r),Xe(e,Ne()),n;if(t===6)cn(e,r);else{if(o=e.current.alternate,!(r&30)&&!tv(o)&&(t=ji(e,r),t===2&&(s=ba(e),s!==0&&(r=s,t=tu(e,s))),t===1))throw n=es,Kn(e,0),cn(e,r),Xe(e,Ne()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Q(345));case 2:Ln(e,We,Ht);break;case 3:if(cn(e,r),(r&130023424)===r&&(t=dc+500-Ne(),10<t)){if(fi(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Aa(Ln.bind(null,e,We,Ht),t);break}Ln(e,We,Ht);break;case 4:if(cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-_t(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ev(r/1960))-r,10<r){e.timeoutHandle=Aa(Ln.bind(null,e,We,Ht),r);break}Ln(e,We,Ht);break;case 5:Ln(e,We,Ht);break;default:throw Error(Q(329))}}}return Xe(e,Ne()),e.callbackNode===n?tm.bind(null,e):null}function tu(e,t){var n=Ro;return e.current.memoizedState.isDehydrated&&(Kn(e,t).flags|=256),e=ji(e,t),e!==2&&(t=We,We=n,t!==null&&nu(t)),e}function nu(e){We===null?We=e:We.push.apply(We,e)}function tv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!bt(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~cc,t&=~el,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),r=1<<n;e[n]=-1,t&=~r}}function qd(e){if(se&6)throw Error(Q(327));Dr();var t=fi(e,0);if(!(t&1))return Xe(e,Ne()),null;var n=ji(e,t);if(e.tag!==0&&n===2){var r=ba(e);r!==0&&(t=r,n=tu(e,r))}if(n===1)throw n=es,Kn(e,0),cn(e,t),Xe(e,Ne()),n;if(n===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ln(e,We,Ht),Xe(e,Ne()),null}function fc(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(qr=Ne()+500,Xi&&Tn())}}function nr(e){pn!==null&&pn.tag===0&&!(se&6)&&Dr();var t=se;se|=1;var n=ft.transition,r=ue;try{if(ft.transition=null,ue=1,e)return e()}finally{ue=r,ft.transition=n,se=t,!(se&6)&&Tn()}}function pc(){Ge=jr.current,pe(jr)}function Kn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Tx(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(qu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yi();break;case 3:Wr(),pe(Ke),pe(Oe),nc();break;case 5:tc(r);break;case 4:Wr();break;case 13:pe(ge);break;case 19:pe(ge);break;case 10:Gu(r.type._context);break;case 22:case 23:pc()}n=n.return}if(Ie=e,Se=e=En(e.current,null),Te=Ge=t,_e=0,es=null,cc=el=tr=0,We=Ro=null,Un!==null){for(t=0;t<Un.length;t++)if(n=Un[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Un=null}return e}function nm(e,t){do{var n=Se;try{if(Xu(),Zs.current=Ci,_i){for(var r=ye.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}_i=!1}if(er=0,be=Ee=ye=null,zo=!1,Go=0,uc.current=null,n===null||n.return===null){_e=1,es=t,Se=null;break}e:{var s=e,i=n.return,l=n,a=t;if(t=Te,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=zd(i);if(m!==null){m.flags&=-257,Ad(m,i,l,s,t),m.mode&1&&Md(s,u,t),t=m,a=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(a),t.updateQueue=v}else w.add(a);break e}else{if(!(t&1)){Md(s,u,t),hc();break e}a=Error(Q(426))}}else if(me&&l.mode&1){var _=zd(i);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Ad(_,i,l,s,t),Ku(Qr(a,l));break e}}s=a=Qr(a,l),_e!==4&&(_e=2),Ro===null?Ro=[s]:Ro.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var h=Lh(s,a,t);bd(s,h);break e;case 1:l=a;var g=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Nn===null||!Nn.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var y=Fh(s,l,t);bd(s,y);break e}}s=s.return}while(s!==null)}sm(n)}catch(S){t=S,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function rm(){var e=bi.current;return bi.current=Ci,e===null?Ci:e}function hc(){(_e===0||_e===3||_e===2)&&(_e=4),Ie===null||!(tr&268435455)&&!(el&268435455)||cn(Ie,Te)}function ji(e,t){var n=se;se|=2;var r=rm();(Ie!==e||Te!==t)&&(Ht=null,Kn(e,t));do try{nv();break}catch(o){nm(e,o)}while(!0);if(Xu(),se=n,bi.current=r,Se!==null)throw Error(Q(261));return Ie=null,Te=0,_e}function nv(){for(;Se!==null;)om(Se)}function rv(){for(;Se!==null&&!Iy();)om(Se)}function om(e){var t=lm(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?sm(e):Se=t,uc.current=null}function sm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Xx(n,t),n!==null){n.flags&=32767,Se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,Se=null;return}}else if(n=Yx(n,t,Ge),n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);_e===0&&(_e=5)}function Ln(e,t,n){var r=ue,o=ft.transition;try{ft.transition=null,ue=1,ov(e,t,n,r)}finally{ft.transition=o,ue=r}return null}function ov(e,t,n,r){do Dr();while(pn!==null);if(se&6)throw Error(Q(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Oy(e,s),e===Ie&&(Se=Ie=null,Te=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||As||(As=!0,am(di,function(){return Dr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ft.transition,ft.transition=null;var i=ue;ue=1;var l=se;se|=4,uc.current=null,Zx(e,n),Jh(n,e),kx(Ma),pi=!!$a,Ma=$a=null,e.current=n,Jx(n),Py(),se=l,ue=i,ft.transition=s}else e.current=n;if(As&&(As=!1,pn=e,Pi=o),s=e.pendingLanes,s===0&&(Nn=null),$y(n.stateNode),Xe(e,Ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ii)throw Ii=!1,e=Ja,Ja=null,e;return Pi&1&&e.tag!==0&&Dr(),s=e.pendingLanes,s&1?e===eu?Do++:(Do=0,eu=e):Do=0,Tn(),null}function Dr(){if(pn!==null){var e=Lp(Pi),t=ft.transition,n=ue;try{if(ft.transition=null,ue=16>e?16:e,pn===null)var r=!1;else{if(e=pn,pn=null,Pi=0,se&6)throw Error(Q(331));var o=se;for(se|=4,Y=e.current;Y!==null;){var s=Y,i=s.child;if(Y.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:Ao(8,c,s)}var d=c.child;if(d!==null)d.return=c,Y=d;else for(;Y!==null;){c=Y;var f=c.sibling,m=c.return;if(Xh(c),c===u){Y=null;break}if(f!==null){f.return=m,Y=f;break}Y=m}}}var w=s.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}Y=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Y=i;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ao(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,Y=h;break e}Y=s.return}}var g=e.current;for(Y=g;Y!==null;){i=Y;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,Y=x;else e:for(i=g;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ji(9,l)}}catch(S){ve(l,l.return,S)}if(l===i){Y=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,Y=y;break e}Y=l.return}}if(se=o,Tn(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Wi,e)}catch{}r=!0}return r}finally{ue=n,ft.transition=t}}return!1}function Kd(e,t,n){t=Qr(n,t),t=Lh(e,t,1),e=wn(e,t,1),t=Ve(),e!==null&&(fs(e,1,t),Xe(e,t))}function ve(e,t,n){if(e.tag===3)Kd(e,e,n);else for(;t!==null;){if(t.tag===3){Kd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nn===null||!Nn.has(r))){e=Qr(n,e),e=Fh(t,e,1),t=wn(t,e,1),e=Ve(),t!==null&&(fs(t,1,e),Xe(t,e));break}}t=t.return}}function sv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,Ie===e&&(Te&n)===n&&(_e===4||_e===3&&(Te&130023424)===Te&&500>Ne()-dc?Kn(e,0):cc|=n),Xe(e,t)}function im(e,t){t===0&&(e.mode&1?(t=_s,_s<<=1,!(_s&130023424)&&(_s=4194304)):t=1);var n=Ve();e=Gt(e,t),e!==null&&(fs(e,t,n),Xe(e,n))}function iv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),im(e,n)}function lv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(t),im(e,n)}var lm;lm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ke.current)Qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qe=!1,Kx(e,t,n);Qe=!!(e.flags&131072)}else Qe=!1,me&&t.flags&1048576&&dh(t,wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ei(e,t),e=t.pendingProps;var o=Vr(t,Oe.current);Rr(t,n),o=oc(null,t,r,e,o,n);var s=sc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(r)?(s=!0,xi(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ju(t),o.updater=Zi,t.stateNode=o,o._reactInternals=t,Va(t,r,e,n),t=Wa(null,t,r,!0,s,n)):(t.tag=0,me&&s&&Qu(t),He(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ei(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=uv(r),e=xt(r,e),o){case 0:t=Ua(null,t,r,e,n);break e;case 1:t=Od(null,t,r,e,n);break e;case 11:t=Rd(null,t,r,e,n);break e;case 14:t=Dd(null,t,r,xt(r.type,e),n);break e}throw Error(Q(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:xt(r,o),Ua(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:xt(r,o),Od(e,t,r,o,n);case 3:e:{if(Uh(t),e===null)throw Error(Q(387));r=t.pendingProps,s=t.memoizedState,o=s.element,yh(e,t),Ei(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Qr(Error(Q(423)),t),t=Ld(e,t,r,n,o);break e}else if(r!==o){o=Qr(Error(Q(424)),t),t=Ld(e,t,r,n,o);break e}else for(Ze=vn(t.stateNode.containerInfo.firstChild),Je=t,me=!0,Nt=null,n=mh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Br(),r===o){t=Zt(e,t,n);break e}He(e,t,r,n)}t=t.child}return t;case 5:return xh(t),e===null&&La(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,za(r,o)?i=null:s!==null&&za(r,s)&&(t.flags|=32),Bh(e,t),He(e,t,i,n),t.child;case 6:return e===null&&La(t),null;case 13:return Wh(e,t,n);case 4:return ec(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ur(t,null,r,n):He(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:xt(r,o),Rd(e,t,r,o,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,ce(Ni,r._currentValue),r._currentValue=i,s!==null)if(bt(s.value,i)){if(s.children===o.children&&!Ke.current){t=Zt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=qt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Fa(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(Q(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Fa(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}He(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Rr(t,n),o=ht(o),r=r(o),t.flags|=1,He(e,t,r,n),t.child;case 14:return r=t.type,o=xt(r,t.pendingProps),o=xt(r.type,o),Dd(e,t,r,o,n);case 15:return Hh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:xt(r,o),ei(e,t),t.tag=1,Ye(r)?(e=!0,xi(t)):e=!1,Rr(t,n),Oh(t,r,o),Va(t,r,o,n),Wa(null,t,r,!0,e,n);case 19:return Qh(e,t,n);case 22:return Vh(e,t,n)}throw Error(Q(156,t.tag))};function am(e,t){return Ap(e,t)}function av(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,n,r){return new av(e,t,n,r)}function mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uv(e){if(typeof e=="function")return mc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zu)return 11;if(e===Au)return 14}return 2}function En(e,t){var n=e.alternate;return n===null?(n=ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ri(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")mc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case wr:return Yn(n.children,o,s,t);case Mu:i=8,o|=8;break;case fa:return e=ct(12,n,t,o|2),e.elementType=fa,e.lanes=s,e;case pa:return e=ct(13,n,t,o),e.elementType=pa,e.lanes=s,e;case ha:return e=ct(19,n,t,o),e.elementType=ha,e.lanes=s,e;case xp:return tl(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gp:i=10;break e;case yp:i=9;break e;case zu:i=11;break e;case Au:i=14;break e;case on:i=16,r=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=ct(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Yn(e,t,n,r){return e=ct(7,e,r,t),e.lanes=n,e}function tl(e,t,n,r){return e=ct(22,e,r,t),e.elementType=xp,e.lanes=n,e.stateNode={isHidden:!1},e}function ql(e,t,n){return e=ct(6,e,null,t),e.lanes=n,e}function Kl(e,t,n){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cv(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Il(0),this.expirationTimes=Il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Il(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function gc(e,t,n,r,o,s,i,l,a){return e=new cv(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ct(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ju(s),e}function dv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function um(e){if(!e)return bn;e=e._reactInternals;e:{if(lr(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var n=e.type;if(Ye(n))return uh(e,n,t)}return t}function cm(e,t,n,r,o,s,i,l,a){return e=gc(n,r,!0,e,o,s,i,l,a),e.context=um(null),n=e.current,r=Ve(),o=Sn(n),s=qt(r,o),s.callback=t??null,wn(n,s,o),e.current.lanes=o,fs(e,o,r),Xe(e,r),e}function nl(e,t,n,r){var o=t.current,s=Ve(),i=Sn(o);return n=um(n),t.context===null?t.context=n:t.pendingContext=n,t=qt(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=wn(o,t,i),e!==null&&(Ct(e,o,i,s),Gs(e,o,i)),i}function Ti(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yc(e,t){Yd(e,t),(e=e.alternate)&&Yd(e,t)}function fv(){return null}var dm=typeof reportError=="function"?reportError:function(e){console.error(e)};function xc(e){this._internalRoot=e}rl.prototype.render=xc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));nl(e,t,null,null)};rl.prototype.unmount=xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nr(function(){nl(null,e,null,null)}),t[Xt]=null}};function rl(e){this._internalRoot=e}rl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<un.length&&t!==0&&t<un[n].priority;n++);un.splice(n,0,e),n===0&&Up(e)}};function vc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xd(){}function pv(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var u=Ti(i);s.call(u)}}var i=cm(t,r,e,0,null,!1,!1,"",Xd);return e._reactRootContainer=i,e[Xt]=i.current,Qo(e.nodeType===8?e.parentNode:e),nr(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=Ti(a);l.call(u)}}var a=gc(e,0,!1,null,null,!1,!1,"",Xd);return e._reactRootContainer=a,e[Xt]=a.current,Qo(e.nodeType===8?e.parentNode:e),nr(function(){nl(t,a,n,r)}),a}function sl(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var l=o;o=function(){var a=Ti(i);l.call(a)}}nl(t,i,e,o)}else i=pv(n,t,e,o,r);return Ti(i)}Fp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ko(t.pendingLanes);n!==0&&(Ou(t,n|1),Xe(t,Ne()),!(se&6)&&(qr=Ne()+500,Tn()))}break;case 13:nr(function(){var r=Gt(e,1);if(r!==null){var o=Ve();Ct(r,e,1,o)}}),yc(e,1)}};Lu=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var n=Ve();Ct(t,e,134217728,n)}yc(e,134217728)}};Hp=function(e){if(e.tag===13){var t=Sn(e),n=Gt(e,t);if(n!==null){var r=Ve();Ct(n,e,t,r)}yc(e,t)}};Vp=function(){return ue};Bp=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};ka=function(e,t,n){switch(t){case"input":if(ya(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Yi(r);if(!o)throw Error(Q(90));wp(r),ya(r,o)}}}break;case"textarea":Sp(e,n);break;case"select":t=n.value,t!=null&&$r(e,!!n.multiple,t,!1)}};Pp=fc;jp=nr;var hv={usingClientEntryPoint:!1,Events:[hs,kr,Yi,bp,Ip,fc]},mo={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mv={bundleType:mo.bundleType,version:mo.version,rendererPackageName:mo.rendererPackageName,rendererConfig:mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mp(e),e===null?null:e.stateNode},findFiberByHostInstance:mo.findFiberByHostInstance||fv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rs.isDisabled&&Rs.supportsFiber)try{Wi=Rs.inject(mv),Mt=Rs}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hv;ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vc(t))throw Error(Q(200));return dv(e,t,null,n)};ot.createRoot=function(e,t){if(!vc(e))throw Error(Q(299));var n=!1,r="",o=dm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=gc(e,1,!1,null,null,n,!1,r,o),e[Xt]=t.current,Qo(e.nodeType===8?e.parentNode:e),new xc(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=Mp(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return nr(e)};ot.hydrate=function(e,t,n){if(!ol(t))throw Error(Q(200));return sl(null,e,t,!0,n)};ot.hydrateRoot=function(e,t,n){if(!vc(e))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=dm;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=cm(t,null,e,1,n??null,o,!1,s,i),e[Xt]=t.current,Qo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new rl(t)};ot.render=function(e,t,n){if(!ol(t))throw Error(Q(200));return sl(null,e,t,!1,n)};ot.unmountComponentAtNode=function(e){if(!ol(e))throw Error(Q(40));return e._reactRootContainer?(nr(function(){sl(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};ot.unstable_batchedUpdates=fc;ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ol(n))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return sl(e,t,n,!1,r)};ot.version="18.3.1-next-f1338f8080-20240426";function fm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fm)}catch(e){console.error(e)}}fm(),fp.exports=ot;var gv=fp.exports,Gd=gv;ca.createRoot=Gd.createRoot,ca.hydrateRoot=Gd.hydrateRoot;function Me(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Me(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var pm={exports:{}},hm={},mm={exports:{}},gm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kr=z;function yv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xv=typeof Object.is=="function"?Object.is:yv,vv=Kr.useState,wv=Kr.useEffect,Nv=Kr.useLayoutEffect,Sv=Kr.useDebugValue;function Ev(e,t){var n=t(),r=vv({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return Nv(function(){o.value=n,o.getSnapshot=t,Yl(o)&&s({inst:o})},[e,n,t]),wv(function(){return Yl(o)&&s({inst:o}),e(function(){Yl(o)&&s({inst:o})})},[e]),Sv(n),n}function Yl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xv(e,n)}catch{return!0}}function kv(e,t){return t()}var _v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kv:Ev;gm.useSyncExternalStore=Kr.useSyncExternalStore!==void 0?Kr.useSyncExternalStore:_v;mm.exports=gm;var Cv=mm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=z,bv=Cv;function Iv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pv=typeof Object.is=="function"?Object.is:Iv,jv=bv.useSyncExternalStore,Tv=il.useRef,$v=il.useEffect,Mv=il.useMemo,zv=il.useDebugValue;hm.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var s=Tv(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=Mv(function(){function a(m){if(!u){if(u=!0,c=m,m=r(m),o!==void 0&&i.hasValue){var w=i.value;if(o(w,m))return d=w}return d=m}if(w=d,Pv(c,m))return w;var v=r(m);return o!==void 0&&o(w,v)?(c=m,w):(c=m,d=v)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return a(t())},f===null?void 0:function(){return a(f())}]},[t,n,r,o]);var l=jv(e,s[0],s[1]);return $v(function(){i.hasValue=!0,i.value=l},[l]),zv(l),l};pm.exports=hm;var Av=pm.exports;const ym=ep(Av),Rv={},Zd=e=>{let t;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const m=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(w=>w(t,m))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(Rv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,a);return a},xm=e=>e?Zd(e):Zd,{useDebugValue:Dv}=B,{useSyncExternalStoreWithSelector:Ov}=ym,Lv=e=>e;function vm(e,t=Lv,n){const r=Ov(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Dv(r),r}const Jd=(e,t)=>{const n=xm(e),r=(o,s=t)=>vm(n,o,s);return Object.assign(r,n),r},Fv=(e,t)=>e?Jd(e,t):Jd;function Pe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Hv={value:()=>{}};function ll(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new oi(n)}function oi(e){this._=e}function Vv(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}oi.prototype=ll.prototype={constructor:oi,on:function(e,t){var n=this._,r=Vv(e+"",n),o,s=-1,i=r.length;if(arguments.length<2){for(;++s<i;)if((o=(e=r[s]).type)&&(o=Bv(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(o=(e=r[s]).type)n[o]=ef(n[o],e.name,t);else if(t==null)for(o in n)n[o]=ef(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new oi(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,s;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,o=s.length;r<o;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,s=r.length;o<s;++o)r[o].value.apply(t,n)}};function Bv(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function ef(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Hv,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ru="http://www.w3.org/1999/xhtml";const tf={svg:"http://www.w3.org/2000/svg",xhtml:ru,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function al(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),tf.hasOwnProperty(t)?{space:tf[t],local:e}:e}function Uv(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ru&&t.documentElement.namespaceURI===ru?t.createElement(e):t.createElementNS(n,e)}}function Wv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function wm(e){var t=al(e);return(t.local?Wv:Uv)(t)}function Qv(){}function wc(e){return e==null?Qv:function(){return this.querySelector(e)}}function qv(e){typeof e!="function"&&(e=wc(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,l=r[o]=new Array(i),a,u,c=0;c<i;++c)(a=s[c])&&(u=e.call(a,a.__data__,c,s))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new tt(r,this._parents)}function Kv(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Yv(){return[]}function Nm(e){return e==null?Yv:function(){return this.querySelectorAll(e)}}function Xv(e){return function(){return Kv(e.apply(this,arguments))}}function Gv(e){typeof e=="function"?e=Xv(e):e=Nm(e);for(var t=this._groups,n=t.length,r=[],o=[],s=0;s<n;++s)for(var i=t[s],l=i.length,a,u=0;u<l;++u)(a=i[u])&&(r.push(e.call(a,a.__data__,u,i)),o.push(a));return new tt(r,o)}function Sm(e){return function(){return this.matches(e)}}function Em(e){return function(t){return t.matches(e)}}var Zv=Array.prototype.find;function Jv(e){return function(){return Zv.call(this.children,e)}}function e1(){return this.firstElementChild}function t1(e){return this.select(e==null?e1:Jv(typeof e=="function"?e:Em(e)))}var n1=Array.prototype.filter;function r1(){return Array.from(this.children)}function o1(e){return function(){return n1.call(this.children,e)}}function s1(e){return this.selectAll(e==null?r1:o1(typeof e=="function"?e:Em(e)))}function i1(e){typeof e!="function"&&(e=Sm(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,l=r[o]=[],a,u=0;u<i;++u)(a=s[u])&&e.call(a,a.__data__,u,s)&&l.push(a);return new tt(r,this._parents)}function km(e){return new Array(e.length)}function l1(){return new tt(this._enter||this._groups.map(km),this._parents)}function $i(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}$i.prototype={constructor:$i,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function a1(e){return function(){return e}}function u1(e,t,n,r,o,s){for(var i=0,l,a=t.length,u=s.length;i<u;++i)(l=t[i])?(l.__data__=s[i],r[i]=l):n[i]=new $i(e,s[i]);for(;i<a;++i)(l=t[i])&&(o[i]=l)}function c1(e,t,n,r,o,s,i){var l,a,u=new Map,c=t.length,d=s.length,f=new Array(c),m;for(l=0;l<c;++l)(a=t[l])&&(f[l]=m=i.call(a,a.__data__,l,t)+"",u.has(m)?o[l]=a:u.set(m,a));for(l=0;l<d;++l)m=i.call(e,s[l],l,s)+"",(a=u.get(m))?(r[l]=a,a.__data__=s[l],u.delete(m)):n[l]=new $i(e,s[l]);for(l=0;l<c;++l)(a=t[l])&&u.get(f[l])===a&&(o[l]=a)}function d1(e){return e.__data__}function f1(e,t){if(!arguments.length)return Array.from(this,d1);var n=t?c1:u1,r=this._parents,o=this._groups;typeof e!="function"&&(e=a1(e));for(var s=o.length,i=new Array(s),l=new Array(s),a=new Array(s),u=0;u<s;++u){var c=r[u],d=o[u],f=d.length,m=p1(e.call(c,c&&c.__data__,u,r)),w=m.length,v=l[u]=new Array(w),_=i[u]=new Array(w),h=a[u]=new Array(f);n(c,d,v,_,h,m,t);for(var g=0,x=0,y,S;g<w;++g)if(y=v[g]){for(g>=x&&(x=g+1);!(S=_[x])&&++x<w;);y._next=S||null}}return i=new tt(i,r),i._enter=l,i._exit=a,i}function p1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function h1(){return new tt(this._exit||this._groups.map(km),this._parents)}function m1(e,t,n){var r=this.enter(),o=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?s.remove():n(s),r&&o?r.merge(o).order():o}function g1(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,s=r.length,i=Math.min(o,s),l=new Array(o),a=0;a<i;++a)for(var u=n[a],c=r[a],d=u.length,f=l[a]=new Array(d),m,w=0;w<d;++w)(m=u[w]||c[w])&&(f[w]=m);for(;a<o;++a)l[a]=n[a];return new tt(l,this._parents)}function y1(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,s=r[o],i;--o>=0;)(i=r[o])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function x1(e){e||(e=v1);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s){for(var i=n[s],l=i.length,a=o[s]=new Array(l),u,c=0;c<l;++c)(u=i[c])&&(a[c]=u);a.sort(t)}return new tt(o,this._parents).order()}function v1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function w1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function N1(){return Array.from(this)}function S1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length;o<s;++o){var i=r[o];if(i)return i}return null}function E1(){let e=0;for(const t of this)++e;return e}function k1(){return!this.node()}function _1(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],s=0,i=o.length,l;s<i;++s)(l=o[s])&&e.call(l,l.__data__,s,o);return this}function C1(e){return function(){this.removeAttribute(e)}}function b1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function I1(e,t){return function(){this.setAttribute(e,t)}}function P1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function j1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function T1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function $1(e,t){var n=al(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?b1:C1:typeof t=="function"?n.local?T1:j1:n.local?P1:I1)(n,t))}function _m(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function M1(e){return function(){this.style.removeProperty(e)}}function z1(e,t,n){return function(){this.style.setProperty(e,t,n)}}function A1(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function R1(e,t,n){return arguments.length>1?this.each((t==null?M1:typeof t=="function"?A1:z1)(e,t,n??"")):Yr(this.node(),e)}function Yr(e,t){return e.style.getPropertyValue(t)||_m(e).getComputedStyle(e,null).getPropertyValue(t)}function D1(e){return function(){delete this[e]}}function O1(e,t){return function(){this[e]=t}}function L1(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function F1(e,t){return arguments.length>1?this.each((t==null?D1:typeof t=="function"?L1:O1)(e,t)):this.node()[e]}function Cm(e){return e.trim().split(/^|\s+/)}function Nc(e){return e.classList||new bm(e)}function bm(e){this._node=e,this._names=Cm(e.getAttribute("class")||"")}bm.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Im(e,t){for(var n=Nc(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Pm(e,t){for(var n=Nc(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function H1(e){return function(){Im(this,e)}}function V1(e){return function(){Pm(this,e)}}function B1(e,t){return function(){(t.apply(this,arguments)?Im:Pm)(this,e)}}function U1(e,t){var n=Cm(e+"");if(arguments.length<2){for(var r=Nc(this.node()),o=-1,s=n.length;++o<s;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?B1:t?H1:V1)(n,t))}function W1(){this.textContent=""}function Q1(e){return function(){this.textContent=e}}function q1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function K1(e){return arguments.length?this.each(e==null?W1:(typeof e=="function"?q1:Q1)(e)):this.node().textContent}function Y1(){this.innerHTML=""}function X1(e){return function(){this.innerHTML=e}}function G1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Z1(e){return arguments.length?this.each(e==null?Y1:(typeof e=="function"?G1:X1)(e)):this.node().innerHTML}function J1(){this.nextSibling&&this.parentNode.appendChild(this)}function ew(){return this.each(J1)}function tw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nw(){return this.each(tw)}function rw(e){var t=typeof e=="function"?e:wm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ow(){return null}function sw(e,t){var n=typeof e=="function"?e:wm(e),r=t==null?ow:typeof t=="function"?t:wc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function iw(){var e=this.parentNode;e&&e.removeChild(this)}function lw(){return this.each(iw)}function aw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function uw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function cw(e){return this.select(e?uw:aw)}function dw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function fw(e){return function(t){e.call(this,t,this.__data__)}}function pw(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function hw(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,s;n<o;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function mw(e,t,n){return function(){var r=this.__on,o,s=fw(t);if(r){for(var i=0,l=r.length;i<l;++i)if((o=r[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=t;return}}this.addEventListener(e.type,s,n),o={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(o):this.__on=[o]}}function gw(e,t,n){var r=pw(e+""),o,s=r.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(o=0,c=l[a];o<s;++o)if((i=r[o]).type===c.type&&i.name===c.name)return c.value}return}for(l=t?mw:hw,o=0;o<s;++o)this.each(l(r[o],t,n));return this}function jm(e,t,n){var r=_m(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function yw(e,t){return function(){return jm(this,e,t)}}function xw(e,t){return function(){return jm(this,e,t.apply(this,arguments))}}function vw(e,t){return this.each((typeof t=="function"?xw:yw)(e,t))}function*ww(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length,i;o<s;++o)(i=r[o])&&(yield i)}var Tm=[null];function tt(e,t){this._groups=e,this._parents=t}function gs(){return new tt([[document.documentElement]],Tm)}function Nw(){return this}tt.prototype=gs.prototype={constructor:tt,select:qv,selectAll:Gv,selectChild:t1,selectChildren:s1,filter:i1,data:f1,enter:l1,exit:h1,join:m1,merge:g1,selection:Nw,order:y1,sort:x1,call:w1,nodes:N1,node:S1,size:E1,empty:k1,each:_1,attr:$1,style:R1,property:F1,classed:U1,text:K1,html:Z1,raise:ew,lower:nw,append:rw,insert:sw,remove:lw,clone:cw,datum:dw,on:gw,dispatch:vw,[Symbol.iterator]:ww};function ut(e){return typeof e=="string"?new tt([[document.querySelector(e)]],[document.documentElement]):new tt([[e]],Tm)}function Sw(e){let t;for(;t=e.sourceEvent;)e=t;return e}function wt(e,t){if(e=Sw(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const Ew={passive:!1},ts={capture:!0,passive:!1};function Xl(e){e.stopImmediatePropagation()}function Or(e){e.preventDefault(),e.stopImmediatePropagation()}function $m(e){var t=e.document.documentElement,n=ut(e).on("dragstart.drag",Or,ts);"onselectstart"in t?n.on("selectstart.drag",Or,ts):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Mm(e,t){var n=e.document.documentElement,r=ut(e).on("dragstart.drag",null);t&&(r.on("click.drag",Or,ts),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ds=e=>()=>e;function ou(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:s,x:i,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}ou.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function kw(e){return!e.ctrlKey&&!e.button}function _w(){return this.parentNode}function Cw(e,t){return t??{x:e.x,y:e.y}}function bw(){return navigator.maxTouchPoints||"ontouchstart"in this}function Iw(){var e=kw,t=_w,n=Cw,r=bw,o={},s=ll("start","drag","end"),i=0,l,a,u,c,d=0;function f(y){y.on("mousedown.drag",m).filter(r).on("touchstart.drag",_).on("touchmove.drag",h,Ew).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(y,S){if(!(c||!e.call(this,y,S))){var b=x(this,t.call(this,y,S),y,S,"mouse");b&&(ut(y.view).on("mousemove.drag",w,ts).on("mouseup.drag",v,ts),$m(y.view),Xl(y),u=!1,l=y.clientX,a=y.clientY,b("start",y))}}function w(y){if(Or(y),!u){var S=y.clientX-l,b=y.clientY-a;u=S*S+b*b>d}o.mouse("drag",y)}function v(y){ut(y.view).on("mousemove.drag mouseup.drag",null),Mm(y.view,u),Or(y),o.mouse("end",y)}function _(y,S){if(e.call(this,y,S)){var b=y.changedTouches,P=t.call(this,y,S),j=b.length,I,D;for(I=0;I<j;++I)(D=x(this,P,y,S,b[I].identifier,b[I]))&&(Xl(y),D("start",y,b[I]))}}function h(y){var S=y.changedTouches,b=S.length,P,j;for(P=0;P<b;++P)(j=o[S[P].identifier])&&(Or(y),j("drag",y,S[P]))}function g(y){var S=y.changedTouches,b=S.length,P,j;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),P=0;P<b;++P)(j=o[S[P].identifier])&&(Xl(y),j("end",y,S[P]))}function x(y,S,b,P,j,I){var D=s.copy(),U=wt(I||b,S),A,O,N;if((N=n.call(y,new ou("beforestart",{sourceEvent:b,target:f,identifier:j,active:i,x:U[0],y:U[1],dx:0,dy:0,dispatch:D}),P))!=null)return A=N.x-U[0]||0,O=N.y-U[1]||0,function $(C,H,T){var E=U,M;switch(C){case"start":o[j]=$,M=i++;break;case"end":delete o[j],--i;case"drag":U=wt(T||H,S),M=i;break}D.call(C,y,new ou(C,{sourceEvent:H,subject:N,target:f,identifier:j,active:M,x:U[0]+A,y:U[1]+O,dx:U[0]-E[0],dy:U[1]-E[1],dispatch:D}),P)}}return f.filter=function(y){return arguments.length?(e=typeof y=="function"?y:Ds(!!y),f):e},f.container=function(y){return arguments.length?(t=typeof y=="function"?y:Ds(y),f):t},f.subject=function(y){return arguments.length?(n=typeof y=="function"?y:Ds(y),f):n},f.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:Ds(!!y),f):r},f.on=function(){var y=s.on.apply(s,arguments);return y===s?f:y},f.clickDistance=function(y){return arguments.length?(d=(y=+y)*y,f):Math.sqrt(d)},f}function Sc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function zm(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ys(){}var ns=.7,Mi=1/ns,Lr="\\s*([+-]?\\d+)\\s*",rs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",At="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pw=/^#([0-9a-f]{3,8})$/,jw=new RegExp(`^rgb\\(${Lr},${Lr},${Lr}\\)$`),Tw=new RegExp(`^rgb\\(${At},${At},${At}\\)$`),$w=new RegExp(`^rgba\\(${Lr},${Lr},${Lr},${rs}\\)$`),Mw=new RegExp(`^rgba\\(${At},${At},${At},${rs}\\)$`),zw=new RegExp(`^hsl\\(${rs},${At},${At}\\)$`),Aw=new RegExp(`^hsla\\(${rs},${At},${At},${rs}\\)$`),nf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sc(ys,os,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rf,formatHex:rf,formatHex8:Rw,formatHsl:Dw,formatRgb:of,toString:of});function rf(){return this.rgb().formatHex()}function Rw(){return this.rgb().formatHex8()}function Dw(){return Am(this).formatHsl()}function of(){return this.rgb().formatRgb()}function os(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Pw.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?sf(t):n===3?new qe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Os(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Os(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jw.exec(e))?new qe(t[1],t[2],t[3],1):(t=Tw.exec(e))?new qe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$w.exec(e))?Os(t[1],t[2],t[3],t[4]):(t=Mw.exec(e))?Os(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zw.exec(e))?uf(t[1],t[2]/100,t[3]/100,1):(t=Aw.exec(e))?uf(t[1],t[2]/100,t[3]/100,t[4]):nf.hasOwnProperty(e)?sf(nf[e]):e==="transparent"?new qe(NaN,NaN,NaN,0):null}function sf(e){return new qe(e>>16&255,e>>8&255,e&255,1)}function Os(e,t,n,r){return r<=0&&(e=t=n=NaN),new qe(e,t,n,r)}function Ow(e){return e instanceof ys||(e=os(e)),e?(e=e.rgb(),new qe(e.r,e.g,e.b,e.opacity)):new qe}function su(e,t,n,r){return arguments.length===1?Ow(e):new qe(e,t,n,r??1)}function qe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Sc(qe,su,zm(ys,{brighter(e){return e=e==null?Mi:Math.pow(Mi,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ns:Math.pow(ns,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qe(Xn(this.r),Xn(this.g),Xn(this.b),zi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lf,formatHex:lf,formatHex8:Lw,formatRgb:af,toString:af}));function lf(){return`#${Qn(this.r)}${Qn(this.g)}${Qn(this.b)}`}function Lw(){return`#${Qn(this.r)}${Qn(this.g)}${Qn(this.b)}${Qn((isNaN(this.opacity)?1:this.opacity)*255)}`}function af(){const e=zi(this.opacity);return`${e===1?"rgb(":"rgba("}${Xn(this.r)}, ${Xn(this.g)}, ${Xn(this.b)}${e===1?")":`, ${e})`}`}function zi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qn(e){return e=Xn(e),(e<16?"0":"")+e.toString(16)}function uf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new St(e,t,n,r)}function Am(e){if(e instanceof St)return new St(e.h,e.s,e.l,e.opacity);if(e instanceof ys||(e=os(e)),!e)return new St;if(e instanceof St)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),s=Math.max(t,n,r),i=NaN,l=s-o,a=(s+o)/2;return l?(t===s?i=(n-r)/l+(n<r)*6:n===s?i=(r-t)/l+2:i=(t-n)/l+4,l/=a<.5?s+o:2-s-o,i*=60):l=a>0&&a<1?0:i,new St(i,l,a,e.opacity)}function Fw(e,t,n,r){return arguments.length===1?Am(e):new St(e,t,n,r??1)}function St(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Sc(St,Fw,zm(ys,{brighter(e){return e=e==null?Mi:Math.pow(Mi,e),new St(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ns:Math.pow(ns,e),new St(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new qe(Gl(e>=240?e-240:e+120,o,r),Gl(e,o,r),Gl(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new St(cf(this.h),Ls(this.s),Ls(this.l),zi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=zi(this.opacity);return`${e===1?"hsl(":"hsla("}${cf(this.h)}, ${Ls(this.s)*100}%, ${Ls(this.l)*100}%${e===1?")":`, ${e})`}`}}));function cf(e){return e=(e||0)%360,e<0?e+360:e}function Ls(e){return Math.max(0,Math.min(1,e||0))}function Gl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Rm=e=>()=>e;function Hw(e,t){return function(n){return e+n*t}}function Vw(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Bw(e){return(e=+e)==1?Dm:function(t,n){return n-t?Vw(t,n,e):Rm(isNaN(t)?n:t)}}function Dm(e,t){var n=t-e;return n?Hw(e,n):Rm(isNaN(e)?t:e)}const df=function e(t){var n=Bw(t);function r(o,s){var i=n((o=su(o)).r,(s=su(s)).r),l=n(o.g,s.g),a=n(o.b,s.b),u=Dm(o.opacity,s.opacity);return function(c){return o.r=i(c),o.g=l(c),o.b=a(c),o.opacity=u(c),o+""}}return r.gamma=e,r}(1);function ln(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var iu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zl=new RegExp(iu.source,"g");function Uw(e){return function(){return e}}function Ww(e){return function(t){return e(t)+""}}function Qw(e,t){var n=iu.lastIndex=Zl.lastIndex=0,r,o,s,i=-1,l=[],a=[];for(e=e+"",t=t+"";(r=iu.exec(e))&&(o=Zl.exec(t));)(s=o.index)>n&&(s=t.slice(n,s),l[i]?l[i]+=s:l[++i]=s),(r=r[0])===(o=o[0])?l[i]?l[i]+=o:l[++i]=o:(l[++i]=null,a.push({i,x:ln(r,o)})),n=Zl.lastIndex;return n<t.length&&(s=t.slice(n),l[i]?l[i]+=s:l[++i]=s),l.length<2?a[0]?Ww(a[0].x):Uw(t):(t=a.length,function(u){for(var c=0,d;c<t;++c)l[(d=a[c]).i]=d.x(u);return l.join("")})}var ff=180/Math.PI,lu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Om(e,t,n,r,o,s){var i,l,a;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,i=-i),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*ff,skewX:Math.atan(a)*ff,scaleX:i,scaleY:l}}var Fs;function qw(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?lu:Om(t.a,t.b,t.c,t.d,t.e,t.f)}function Kw(e){return e==null||(Fs||(Fs=document.createElementNS("http://www.w3.org/2000/svg","g")),Fs.setAttribute("transform",e),!(e=Fs.transform.baseVal.consolidate()))?lu:(e=e.matrix,Om(e.a,e.b,e.c,e.d,e.e,e.f))}function Lm(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function s(u,c,d,f,m,w){if(u!==d||c!==f){var v=m.push("translate(",null,t,null,n);w.push({i:v-4,x:ln(u,d)},{i:v-2,x:ln(c,f)})}else(d||f)&&m.push("translate("+d+t+f+n)}function i(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(o(d)+"rotate(",null,r)-2,x:ln(u,c)})):c&&d.push(o(d)+"rotate("+c+r)}function l(u,c,d,f){u!==c?f.push({i:d.push(o(d)+"skewX(",null,r)-2,x:ln(u,c)}):c&&d.push(o(d)+"skewX("+c+r)}function a(u,c,d,f,m,w){if(u!==d||c!==f){var v=m.push(o(m)+"scale(",null,",",null,")");w.push({i:v-4,x:ln(u,d)},{i:v-2,x:ln(c,f)})}else(d!==1||f!==1)&&m.push(o(m)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,f),i(u.rotate,c.rotate,d,f),l(u.skewX,c.skewX,d,f),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(m){for(var w=-1,v=f.length,_;++w<v;)d[(_=f[w]).i]=_.x(m);return d.join("")}}}var Yw=Lm(qw,"px, ","px)","deg)"),Xw=Lm(Kw,", ",")",")"),Gw=1e-12;function pf(e){return((e=Math.exp(e))+1/e)/2}function Zw(e){return((e=Math.exp(e))-1/e)/2}function Jw(e){return((e=Math.exp(2*e))-1)/(e+1)}const e2=function e(t,n,r){function o(s,i){var l=s[0],a=s[1],u=s[2],c=i[0],d=i[1],f=i[2],m=c-l,w=d-a,v=m*m+w*w,_,h;if(v<Gw)h=Math.log(f/u)/t,_=function(P){return[l+P*m,a+P*w,u*Math.exp(t*P*h)]};else{var g=Math.sqrt(v),x=(f*f-u*u+r*v)/(2*u*n*g),y=(f*f-u*u-r*v)/(2*f*n*g),S=Math.log(Math.sqrt(x*x+1)-x),b=Math.log(Math.sqrt(y*y+1)-y);h=(b-S)/t,_=function(P){var j=P*h,I=pf(S),D=u/(n*g)*(I*Jw(t*j+S)-Zw(S));return[l+D*m,a+D*w,u*I/pf(t*j+S)]}}return _.duration=h*1e3*t/Math.SQRT2,_}return o.rho=function(s){var i=Math.max(.001,+s),l=i*i,a=l*l;return e(i,l,a)},o}(Math.SQRT2,2,4);var Xr=0,Co=0,go=0,Fm=1e3,Ai,bo,Ri=0,rr=0,ul=0,ss=typeof performance=="object"&&performance.now?performance:Date,Hm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ec(){return rr||(Hm(t2),rr=ss.now()+ul)}function t2(){rr=0}function Di(){this._call=this._time=this._next=null}Di.prototype=Vm.prototype={constructor:Di,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ec():+n)+(t==null?0:+t),!this._next&&bo!==this&&(bo?bo._next=this:Ai=this,bo=this),this._call=e,this._time=n,au()},stop:function(){this._call&&(this._call=null,this._time=1/0,au())}};function Vm(e,t,n){var r=new Di;return r.restart(e,t,n),r}function n2(){Ec(),++Xr;for(var e=Ai,t;e;)(t=rr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Xr}function hf(){rr=(Ri=ss.now())+ul,Xr=Co=0;try{n2()}finally{Xr=0,o2(),rr=0}}function r2(){var e=ss.now(),t=e-Ri;t>Fm&&(ul-=t,Ri=e)}function o2(){for(var e,t=Ai,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ai=n);bo=e,au(r)}function au(e){if(!Xr){Co&&(Co=clearTimeout(Co));var t=e-rr;t>24?(e<1/0&&(Co=setTimeout(hf,e-ss.now()-ul)),go&&(go=clearInterval(go))):(go||(Ri=ss.now(),go=setInterval(r2,Fm)),Xr=1,Hm(hf))}}function mf(e,t,n){var r=new Di;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var s2=ll("start","end","cancel","interrupt"),i2=[],Bm=0,gf=1,uu=2,si=3,yf=4,cu=5,ii=6;function cl(e,t,n,r,o,s){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;l2(e,n,{name:t,index:r,group:o,on:s2,tween:i2,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Bm})}function kc(e,t){var n=It(e,t);if(n.state>Bm)throw new Error("too late; already scheduled");return n}function Rt(e,t){var n=It(e,t);if(n.state>si)throw new Error("too late; already running");return n}function It(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function l2(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Vm(s,0,n.time);function s(u){n.state=gf,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var c,d,f,m;if(n.state!==gf)return a();for(c in r)if(m=r[c],m.name===n.name){if(m.state===si)return mf(i);m.state===yf?(m.state=ii,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[c]):+c<t&&(m.state=ii,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[c])}if(mf(function(){n.state===si&&(n.state=yf,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=uu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===uu){for(n.state=si,o=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(m=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=m);o.length=d+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=cu,1),d=-1,f=o.length;++d<f;)o[d].call(e,c);n.state===cu&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=ii,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function li(e,t){var n=e.__transition,r,o,s=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){s=!1;continue}o=r.state>uu&&r.state<cu,r.state=ii,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}s&&delete e.__transition}}function a2(e){return this.each(function(){li(this,e)})}function u2(e,t){var n,r;return function(){var o=Rt(this,e),s=o.tween;if(s!==n){r=n=s;for(var i=0,l=r.length;i<l;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}o.tween=r}}function c2(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var s=Rt(this,e),i=s.tween;if(i!==r){o=(r=i).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}s.tween=o}}function d2(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=It(this.node(),n).tween,o=0,s=r.length,i;o<s;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((t==null?u2:c2)(n,e,t))}function _c(e,t,n){var r=e._id;return e.each(function(){var o=Rt(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return It(o,r).value[t]}}function Um(e,t){var n;return(typeof t=="number"?ln:t instanceof os?df:(n=os(t))?(t=n,df):Qw)(e,t)}function f2(e){return function(){this.removeAttribute(e)}}function p2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function h2(e,t,n){var r,o=n+"",s;return function(){var i=this.getAttribute(e);return i===o?null:i===r?s:s=t(r=i,n)}}function m2(e,t,n){var r,o=n+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===r?s:s=t(r=i,n)}}function g2(e,t,n){var r,o,s;return function(){var i,l=n(this),a;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),a=l+"",i===a?null:i===r&&a===o?s:(o=a,s=t(r=i,l)))}}function y2(e,t,n){var r,o,s;return function(){var i,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),a=l+"",i===a?null:i===r&&a===o?s:(o=a,s=t(r=i,l)))}}function x2(e,t){var n=al(e),r=n==="transform"?Xw:Um;return this.attrTween(e,typeof t=="function"?(n.local?y2:g2)(n,r,_c(this,"attr."+e,t)):t==null?(n.local?p2:f2)(n):(n.local?m2:h2)(n,r,t))}function v2(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function w2(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function N2(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&w2(e,s)),n}return o._value=t,o}function S2(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&v2(e,s)),n}return o._value=t,o}function E2(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=al(e);return this.tween(n,(r.local?N2:S2)(r,t))}function k2(e,t){return function(){kc(this,e).delay=+t.apply(this,arguments)}}function _2(e,t){return t=+t,function(){kc(this,e).delay=t}}function C2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?k2:_2)(t,e)):It(this.node(),t).delay}function b2(e,t){return function(){Rt(this,e).duration=+t.apply(this,arguments)}}function I2(e,t){return t=+t,function(){Rt(this,e).duration=t}}function P2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?b2:I2)(t,e)):It(this.node(),t).duration}function j2(e,t){if(typeof t!="function")throw new Error;return function(){Rt(this,e).ease=t}}function T2(e){var t=this._id;return arguments.length?this.each(j2(t,e)):It(this.node(),t).ease}function $2(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Rt(this,e).ease=n}}function M2(e){if(typeof e!="function")throw new Error;return this.each($2(this._id,e))}function z2(e){typeof e!="function"&&(e=Sm(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,l=r[o]=[],a,u=0;u<i;++u)(a=s[u])&&e.call(a,a.__data__,u,s)&&l.push(a);return new Jt(r,this._parents,this._name,this._id)}function A2(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,s=Math.min(r,o),i=new Array(r),l=0;l<s;++l)for(var a=t[l],u=n[l],c=a.length,d=i[l]=new Array(c),f,m=0;m<c;++m)(f=a[m]||u[m])&&(d[m]=f);for(;l<r;++l)i[l]=t[l];return new Jt(i,this._parents,this._name,this._id)}function R2(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function D2(e,t,n){var r,o,s=R2(t)?kc:Rt;return function(){var i=s(this,e),l=i.on;l!==r&&(o=(r=l).copy()).on(t,n),i.on=o}}function O2(e,t){var n=this._id;return arguments.length<2?It(this.node(),n).on.on(e):this.each(D2(n,e,t))}function L2(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function F2(){return this.on("end.remove",L2(this._id))}function H2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=wc(e));for(var r=this._groups,o=r.length,s=new Array(o),i=0;i<o;++i)for(var l=r[i],a=l.length,u=s[i]=new Array(a),c,d,f=0;f<a;++f)(c=l[f])&&(d=e.call(c,c.__data__,f,l))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,cl(u[f],t,n,f,u,It(c,n)));return new Jt(s,this._parents,t,n)}function V2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Nm(e));for(var r=this._groups,o=r.length,s=[],i=[],l=0;l<o;++l)for(var a=r[l],u=a.length,c,d=0;d<u;++d)if(c=a[d]){for(var f=e.call(c,c.__data__,d,a),m,w=It(c,n),v=0,_=f.length;v<_;++v)(m=f[v])&&cl(m,t,n,v,f,w);s.push(f),i.push(c)}return new Jt(s,i,t,n)}var B2=gs.prototype.constructor;function U2(){return new B2(this._groups,this._parents)}function W2(e,t){var n,r,o;return function(){var s=Yr(this,e),i=(this.style.removeProperty(e),Yr(this,e));return s===i?null:s===n&&i===r?o:o=t(n=s,r=i)}}function Wm(e){return function(){this.style.removeProperty(e)}}function Q2(e,t,n){var r,o=n+"",s;return function(){var i=Yr(this,e);return i===o?null:i===r?s:s=t(r=i,n)}}function q2(e,t,n){var r,o,s;return function(){var i=Yr(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Yr(this,e))),i===a?null:i===r&&a===o?s:(o=a,s=t(r=i,l))}}function K2(e,t){var n,r,o,s="style."+t,i="end."+s,l;return function(){var a=Rt(this,e),u=a.on,c=a.value[s]==null?l||(l=Wm(t)):void 0;(u!==n||o!==c)&&(r=(n=u).copy()).on(i,o=c),a.on=r}}function Y2(e,t,n){var r=(e+="")=="transform"?Yw:Um;return t==null?this.styleTween(e,W2(e,r)).on("end.style."+e,Wm(e)):typeof t=="function"?this.styleTween(e,q2(e,r,_c(this,"style."+e,t))).each(K2(this._id,e)):this.styleTween(e,Q2(e,r,t),n).on("end.style."+e,null)}function X2(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function G2(e,t,n){var r,o;function s(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&X2(e,i,n)),r}return s._value=t,s}function Z2(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,G2(e,t,n??""))}function J2(e){return function(){this.textContent=e}}function eN(e){return function(){var t=e(this);this.textContent=t??""}}function tN(e){return this.tween("text",typeof e=="function"?eN(_c(this,"text",e)):J2(e==null?"":e+""))}function nN(e){return function(t){this.textContent=e.call(this,t)}}function rN(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&nN(o)),t}return r._value=e,r}function oN(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,rN(e))}function sN(){for(var e=this._name,t=this._id,n=Qm(),r=this._groups,o=r.length,s=0;s<o;++s)for(var i=r[s],l=i.length,a,u=0;u<l;++u)if(a=i[u]){var c=It(a,t);cl(a,e,n,u,i,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Jt(r,this._parents,e,n)}function iN(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(s,i){var l={value:i},a={value:function(){--o===0&&s()}};n.each(function(){var u=Rt(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&s()})}var lN=0;function Jt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Qm(){return++lN}var Ft=gs.prototype;Jt.prototype={constructor:Jt,select:H2,selectAll:V2,selectChild:Ft.selectChild,selectChildren:Ft.selectChildren,filter:z2,merge:A2,selection:U2,transition:sN,call:Ft.call,nodes:Ft.nodes,node:Ft.node,size:Ft.size,empty:Ft.empty,each:Ft.each,on:O2,attr:x2,attrTween:E2,style:Y2,styleTween:Z2,text:tN,textTween:oN,remove:F2,tween:d2,delay:C2,duration:P2,ease:T2,easeVarying:M2,end:iN,[Symbol.iterator]:Ft[Symbol.iterator]};function aN(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var uN={time:null,delay:0,duration:250,ease:aN};function cN(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function dN(e){var t,n;e instanceof Jt?(t=e._id,e=e._name):(t=Qm(),(n=uN).time=Ec(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var i=r[s],l=i.length,a,u=0;u<l;++u)(a=i[u])&&cl(a,e,t,u,i,n||cN(a,t));return new Jt(r,this._parents,e,t)}gs.prototype.interrupt=a2;gs.prototype.transition=dN;const Hs=e=>()=>e;function fN(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Wt(e,t,n){this.k=e,this.x=t,this.y=n}Wt.prototype={constructor:Wt,scale:function(e){return e===1?this:new Wt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Wt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Kt=new Wt(1,0,0);Wt.prototype;function Jl(e){e.stopImmediatePropagation()}function yo(e){e.preventDefault(),e.stopImmediatePropagation()}function pN(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function hN(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function xf(){return this.__zoom||Kt}function mN(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function gN(){return navigator.maxTouchPoints||"ontouchstart"in this}function yN(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function qm(){var e=pN,t=hN,n=yN,r=mN,o=gN,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,a=e2,u=ll("start","zoom","end"),c,d,f,m=500,w=150,v=0,_=10;function h(N){N.property("__zoom",xf).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",D).filter(o).on("touchstart.zoom",U).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}h.transform=function(N,$,C,H){var T=N.selection?N.selection():N;T.property("__zoom",xf),N!==T?S(N,$,C,H):T.interrupt().each(function(){b(this,arguments).event(H).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},h.scaleBy=function(N,$,C,H){h.scaleTo(N,function(){var T=this.__zoom.k,E=typeof $=="function"?$.apply(this,arguments):$;return T*E},C,H)},h.scaleTo=function(N,$,C,H){h.transform(N,function(){var T=t.apply(this,arguments),E=this.__zoom,M=C==null?y(T):typeof C=="function"?C.apply(this,arguments):C,R=E.invert(M),k=typeof $=="function"?$.apply(this,arguments):$;return n(x(g(E,k),M,R),T,i)},C,H)},h.translateBy=function(N,$,C,H){h.transform(N,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof C=="function"?C.apply(this,arguments):C),t.apply(this,arguments),i)},null,H)},h.translateTo=function(N,$,C,H,T){h.transform(N,function(){var E=t.apply(this,arguments),M=this.__zoom,R=H==null?y(E):typeof H=="function"?H.apply(this,arguments):H;return n(Kt.translate(R[0],R[1]).scale(M.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof C=="function"?-C.apply(this,arguments):-C),E,i)},H,T)};function g(N,$){return $=Math.max(s[0],Math.min(s[1],$)),$===N.k?N:new Wt($,N.x,N.y)}function x(N,$,C){var H=$[0]-C[0]*N.k,T=$[1]-C[1]*N.k;return H===N.x&&T===N.y?N:new Wt(N.k,H,T)}function y(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function S(N,$,C,H){N.on("start.zoom",function(){b(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(H).end()}).tween("zoom",function(){var T=this,E=arguments,M=b(T,E).event(H),R=t.apply(T,E),k=C==null?y(R):typeof C=="function"?C.apply(T,E):C,F=Math.max(R[1][0]-R[0][0],R[1][1]-R[0][1]),V=T.__zoom,L=typeof $=="function"?$.apply(T,E):$,W=a(V.invert(k).concat(F/V.k),L.invert(k).concat(F/L.k));return function(q){if(q===1)q=L;else{var Z=W(q),K=F/Z[2];q=new Wt(K,k[0]-Z[0]*K,k[1]-Z[1]*K)}M.zoom(null,q)}})}function b(N,$,C){return!C&&N.__zooming||new P(N,$)}function P(N,$){this.that=N,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,$),this.taps=0}P.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,$){return this.mouse&&N!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var $=ut(this.that).datum();u.call(N,this.that,new fN(N,{sourceEvent:this.sourceEvent,target:h,transform:this.that.__zoom,dispatch:u}),$)}};function j(N,...$){if(!e.apply(this,arguments))return;var C=b(this,$).event(N),H=this.__zoom,T=Math.max(s[0],Math.min(s[1],H.k*Math.pow(2,r.apply(this,arguments)))),E=wt(N);if(C.wheel)(C.mouse[0][0]!==E[0]||C.mouse[0][1]!==E[1])&&(C.mouse[1]=H.invert(C.mouse[0]=E)),clearTimeout(C.wheel);else{if(H.k===T)return;C.mouse=[E,H.invert(E)],li(this),C.start()}yo(N),C.wheel=setTimeout(M,w),C.zoom("mouse",n(x(g(H,T),C.mouse[0],C.mouse[1]),C.extent,i));function M(){C.wheel=null,C.end()}}function I(N,...$){if(f||!e.apply(this,arguments))return;var C=N.currentTarget,H=b(this,$,!0).event(N),T=ut(N.view).on("mousemove.zoom",k,!0).on("mouseup.zoom",F,!0),E=wt(N,C),M=N.clientX,R=N.clientY;$m(N.view),Jl(N),H.mouse=[E,this.__zoom.invert(E)],li(this),H.start();function k(V){if(yo(V),!H.moved){var L=V.clientX-M,W=V.clientY-R;H.moved=L*L+W*W>v}H.event(V).zoom("mouse",n(x(H.that.__zoom,H.mouse[0]=wt(V,C),H.mouse[1]),H.extent,i))}function F(V){T.on("mousemove.zoom mouseup.zoom",null),Mm(V.view,H.moved),yo(V),H.event(V).end()}}function D(N,...$){if(e.apply(this,arguments)){var C=this.__zoom,H=wt(N.changedTouches?N.changedTouches[0]:N,this),T=C.invert(H),E=C.k*(N.shiftKey?.5:2),M=n(x(g(C,E),H,T),t.apply(this,$),i);yo(N),l>0?ut(this).transition().duration(l).call(S,M,H,N):ut(this).call(h.transform,M,H,N)}}function U(N,...$){if(e.apply(this,arguments)){var C=N.touches,H=C.length,T=b(this,$,N.changedTouches.length===H).event(N),E,M,R,k;for(Jl(N),M=0;M<H;++M)R=C[M],k=wt(R,this),k=[k,this.__zoom.invert(k),R.identifier],T.touch0?!T.touch1&&T.touch0[2]!==k[2]&&(T.touch1=k,T.taps=0):(T.touch0=k,E=!0,T.taps=1+!!c);c&&(c=clearTimeout(c)),E&&(T.taps<2&&(d=k[0],c=setTimeout(function(){c=null},m)),li(this),T.start())}}function A(N,...$){if(this.__zooming){var C=b(this,$).event(N),H=N.changedTouches,T=H.length,E,M,R,k;for(yo(N),E=0;E<T;++E)M=H[E],R=wt(M,this),C.touch0&&C.touch0[2]===M.identifier?C.touch0[0]=R:C.touch1&&C.touch1[2]===M.identifier&&(C.touch1[0]=R);if(M=C.that.__zoom,C.touch1){var F=C.touch0[0],V=C.touch0[1],L=C.touch1[0],W=C.touch1[1],q=(q=L[0]-F[0])*q+(q=L[1]-F[1])*q,Z=(Z=W[0]-V[0])*Z+(Z=W[1]-V[1])*Z;M=g(M,Math.sqrt(q/Z)),R=[(F[0]+L[0])/2,(F[1]+L[1])/2],k=[(V[0]+W[0])/2,(V[1]+W[1])/2]}else if(C.touch0)R=C.touch0[0],k=C.touch0[1];else return;C.zoom("touch",n(x(M,R,k),C.extent,i))}}function O(N,...$){if(this.__zooming){var C=b(this,$).event(N),H=N.changedTouches,T=H.length,E,M;for(Jl(N),f&&clearTimeout(f),f=setTimeout(function(){f=null},m),E=0;E<T;++E)M=H[E],C.touch0&&C.touch0[2]===M.identifier?delete C.touch0:C.touch1&&C.touch1[2]===M.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(M=wt(M,this),Math.hypot(d[0]-M[0],d[1]-M[1])<_)){var R=ut(this).on("dblclick.zoom");R&&R.apply(this,arguments)}}}return h.wheelDelta=function(N){return arguments.length?(r=typeof N=="function"?N:Hs(+N),h):r},h.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Hs(!!N),h):e},h.touchable=function(N){return arguments.length?(o=typeof N=="function"?N:Hs(!!N),h):o},h.extent=function(N){return arguments.length?(t=typeof N=="function"?N:Hs([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),h):t},h.scaleExtent=function(N){return arguments.length?(s[0]=+N[0],s[1]=+N[1],h):[s[0],s[1]]},h.translateExtent=function(N){return arguments.length?(i[0][0]=+N[0][0],i[1][0]=+N[1][0],i[0][1]=+N[0][1],i[1][1]=+N[1][1],h):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},h.constrain=function(N){return arguments.length?(n=N,h):n},h.duration=function(N){return arguments.length?(l=+N,h):l},h.interpolate=function(N){return arguments.length?(a=N,h):a},h.on=function(){var N=u.on.apply(u,arguments);return N===u?h:N},h.clickDistance=function(N){return arguments.length?(v=(N=+N)*N,h):Math.sqrt(v)},h.tapDistance=function(N){return arguments.length?(_=+N,h):_},h}const dl=z.createContext(null),xN=dl.Provider,en={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Km=en.error001();function de(e,t){const n=z.useContext(dl);if(n===null)throw new Error(Km);return vm(n,e,t)}const Ce=()=>{const e=z.useContext(dl);if(e===null)throw new Error(Km);return z.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},vN=e=>e.userSelectionActive?"none":"all";function fl({position:e,children:t,className:n,style:r,...o}){const s=de(vN),i=`${e}`.split("-");return B.createElement("div",{className:Me(["react-flow__panel",n,...i]),style:{...r,pointerEvents:s},...o},t)}function wN({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:B.createElement(fl,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},B.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const NN=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:s={},labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...c})=>{const d=z.useRef(null),[f,m]=z.useState({x:0,y:0,width:0,height:0}),w=Me(["react-flow__edge-textwrapper",u]);return z.useEffect(()=>{if(d.current){const v=d.current.getBBox();m({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:B.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:w,visibility:f.width?"visible":"hidden",...c},o&&B.createElement("rect",{width:f.width+2*i[0],x:-i[0],y:-i[1],height:f.height+2*i[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),B.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:d,style:r},n),a)};var SN=z.memo(NN);const Cc=e=>({width:e.offsetWidth,height:e.offsetHeight}),Gr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),bc=(e={x:0,y:0},t)=>({x:Gr(e.x,t[0][0],t[1][0]),y:Gr(e.y,t[0][1],t[1][1])}),vf=(e,t,n)=>e<t?Gr(Math.abs(e-t),1,50)/50:e>n?-Gr(Math.abs(e-n),1,50)/50:0,Ym=(e,t)=>{const n=vf(e.x,35,t.width-35)*20,r=vf(e.y,35,t.height-35)*20;return[n,r]},Xm=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Gm=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),is=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Zm=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),wf=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),EN=(e,t)=>Zm(Gm(is(e),is(t))),du=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},kN=e=>dt(e.width)&&dt(e.height)&&dt(e.x)&&dt(e.y),dt=e=>!isNaN(e)&&isFinite(e),we=Symbol.for("internals"),Jm=["Enter"," ","Escape"],_N=(e,t)=>{},CN=e=>"nativeEvent"in e;function fu(e){var o,s;const t=CN(e)?e.nativeEvent:e,n=((s=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const eg=e=>"clientX"in e,kn=(e,t)=>{var s,i;const n=eg(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,o=n?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Oi=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},xs=({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m=20})=>B.createElement(B.Fragment,null,B.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:f}),m&&B.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),o&&dt(n)&&dt(r)?B.createElement(SN,{x:n,y:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u}):null);xs.displayName="BaseEdge";function xo(e,t,n){return n===void 0?n:r=>{const o=t().edges.find(s=>s.id===e);o&&n(r,{...o})}}function tg({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,s=n<e?n+o:n-o,i=Math.abs(r-t)/2,l=r<t?r+i:r-i;return[s,l,o,i]}function ng({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:s,targetControlX:i,targetControlY:l}){const a=e*.125+o*.375+i*.375+n*.125,u=t*.125+s*.375+l*.375+r*.125,c=Math.abs(a-e),d=Math.abs(u-t);return[a,u,c,d]}var In;(function(e){e.Strict="strict",e.Loose="loose"})(In||(In={}));var qn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(qn||(qn={}));var ls;(function(e){e.Partial="partial",e.Full="full"})(ls||(ls={}));var dn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(dn||(dn={}));var Li;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Li||(Li={}));var G;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(G||(G={}));function Nf({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===G.Left||e===G.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function rg({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:o,targetPosition:s=G.Top}){const[i,l]=Nf({pos:n,x1:e,y1:t,x2:r,y2:o}),[a,u]=Nf({pos:s,x1:r,y1:o,x2:e,y2:t}),[c,d,f,m]=ng({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:i,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${i},${l} ${a},${u} ${r},${o}`,c,d,f,m]}const Ic=z.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=G.Bottom,targetPosition:s=G.Top,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:w,interactionWidth:v})=>{const[_,h,g]=rg({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:s});return B.createElement(xs,{path:_,labelX:h,labelY:g,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:w,interactionWidth:v})});Ic.displayName="SimpleBezierEdge";const Sf={[G.Left]:{x:-1,y:0},[G.Right]:{x:1,y:0},[G.Top]:{x:0,y:-1},[G.Bottom]:{x:0,y:1}},bN=({source:e,sourcePosition:t=G.Bottom,target:n})=>t===G.Left||t===G.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Ef=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function IN({source:e,sourcePosition:t=G.Bottom,target:n,targetPosition:r=G.Top,center:o,offset:s}){const i=Sf[t],l=Sf[r],a={x:e.x+i.x*s,y:e.y+i.y*s},u={x:n.x+l.x*s,y:n.y+l.y*s},c=bN({source:a,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",f=c[d];let m=[],w,v;const _={x:0,y:0},h={x:0,y:0},[g,x,y,S]=tg({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[d]*l[d]===-1){w=o.x??g,v=o.y??x;const P=[{x:w,y:a.y},{x:w,y:u.y}],j=[{x:a.x,y:v},{x:u.x,y:v}];i[d]===f?m=d==="x"?P:j:m=d==="x"?j:P}else{const P=[{x:a.x,y:u.y}],j=[{x:u.x,y:a.y}];if(d==="x"?m=i.x===f?j:P:m=i.y===f?P:j,t===r){const O=Math.abs(e[d]-n[d]);if(O<=s){const N=Math.min(s-1,s-O);i[d]===f?_[d]=(a[d]>e[d]?-1:1)*N:h[d]=(u[d]>n[d]?-1:1)*N}}if(t!==r){const O=d==="x"?"y":"x",N=i[d]===l[O],$=a[O]>u[O],C=a[O]<u[O];(i[d]===1&&(!N&&$||N&&C)||i[d]!==1&&(!N&&C||N&&$))&&(m=d==="x"?P:j)}const I={x:a.x+_.x,y:a.y+_.y},D={x:u.x+h.x,y:u.y+h.y},U=Math.max(Math.abs(I.x-m[0].x),Math.abs(D.x-m[0].x)),A=Math.max(Math.abs(I.y-m[0].y),Math.abs(D.y-m[0].y));U>=A?(w=(I.x+D.x)/2,v=m[0].y):(w=m[0].x,v=(I.y+D.y)/2)}return[[e,{x:a.x+_.x,y:a.y+_.y},...m,{x:u.x+h.x,y:u.y+h.y},n],w,v,y,S]}function PN(e,t,n,r){const o=Math.min(Ef(e,t)/2,Ef(t,n)/2,r),{x:s,y:i}=t;if(e.x===s&&s===n.x||e.y===i&&i===n.y)return`L${s} ${i}`;if(e.y===i){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${s+o*u},${i}Q ${s},${i} ${s},${i+o*c}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${s},${i+o*a}Q ${s},${i} ${s+o*l},${i}`}function pu({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:o,targetPosition:s=G.Top,borderRadius:i=5,centerX:l,centerY:a,offset:u=20}){const[c,d,f,m,w]=IN({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:s,center:{x:l,y:a},offset:u});return[c.reduce((_,h,g)=>{let x="";return g>0&&g<c.length-1?x=PN(c[g-1],h,c[g+1],i):x=`${g===0?"M":"L"}${h.x} ${h.y}`,_+=x,_},""),d,f,m,w]}const pl=z.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,sourcePosition:d=G.Bottom,targetPosition:f=G.Top,markerEnd:m,markerStart:w,pathOptions:v,interactionWidth:_})=>{const[h,g,x]=pu({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:f,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return B.createElement(xs,{path:h,labelX:g,labelY:x,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:m,markerStart:w,interactionWidth:_})});pl.displayName="SmoothStepEdge";const Pc=z.memo(e=>{var t;return B.createElement(pl,{...e,pathOptions:z.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Pc.displayName="StepEdge";function jN({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,s,i,l]=tg({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,s,i,l]}const jc=z.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m})=>{const[w,v,_]=jN({sourceX:e,sourceY:t,targetX:n,targetY:r});return B.createElement(xs,{path:w,labelX:v,labelY:_,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m})});jc.displayName="StraightEdge";function Vs(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function kf({pos:e,x1:t,y1:n,x2:r,y2:o,c:s}){switch(e){case G.Left:return[t-Vs(t-r,s),n];case G.Right:return[t+Vs(r-t,s),n];case G.Top:return[t,n-Vs(n-o,s)];case G.Bottom:return[t,n+Vs(o-n,s)]}}function og({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:o,targetPosition:s=G.Top,curvature:i=.25}){const[l,a]=kf({pos:n,x1:e,y1:t,x2:r,y2:o,c:i}),[u,c]=kf({pos:s,x1:r,y1:o,x2:e,y2:t,c:i}),[d,f,m,w]=ng({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${l},${a} ${u},${c} ${r},${o}`,d,f,m,w]}const Fi=z.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=G.Bottom,targetPosition:s=G.Top,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:w,pathOptions:v,interactionWidth:_})=>{const[h,g,x]=og({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:s,curvature:v==null?void 0:v.curvature});return B.createElement(xs,{path:h,labelX:g,labelY:x,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:w,interactionWidth:_})});Fi.displayName="BezierEdge";const Tc=z.createContext(null),TN=Tc.Provider;Tc.Consumer;const $N=()=>z.useContext(Tc),MN=e=>"id"in e&&"source"in e&&"target"in e,zN=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,hu=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,AN=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),RN=(e,t)=>{if(!e.source||!e.target)return t;let n;return MN(e)?n={...e}:n={...e,id:zN(e)},AN(n,t)?t:t.concat(n)},mu=({x:e,y:t},[n,r,o],s,[i,l])=>{const a={x:(e-n)/o,y:(t-r)/o};return s?{x:i*Math.round(a.x/i),y:l*Math.round(a.y/l)}:a},sg=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),Gn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},hl=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const{x:s,y:i}=Gn(o,t).positionAbsolute;return Gm(r,is({x:s,y:i,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Zm(n)},ig=(e,t,[n,r,o]=[0,0,1],s=!1,i=!1,l=[0,0])=>{const a={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},u=[];return e.forEach(c=>{const{width:d,height:f,selectable:m=!0,hidden:w=!1}=c;if(i&&!m||w)return!1;const{positionAbsolute:v}=Gn(c,l),_={x:v.x,y:v.y,width:d||0,height:f||0},h=du(a,_),g=typeof d>"u"||typeof f>"u"||d===null||f===null,x=s&&h>0,y=(d||0)*(f||0);(g||x||h>=y||c.dragging)&&u.push(c)}),u},lg=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},ag=(e,t,n,r,o,s=.1)=>{const i=t/(e.width*(1+s)),l=n/(e.height*(1+s)),a=Math.min(i,l),u=Gr(a,r,o),c=e.x+e.width/2,d=e.y+e.height/2,f=t/2-c*u,m=n/2-d*u;return{x:f,y:m,zoom:u}},Fn=(e,t=0)=>e.transition().duration(t);function _f(e,t,n,r){return(t[n]||[]).reduce((o,s)=>{var i,l;return`${e.id}-${s.id}-${n}`!==r&&o.push({id:s.id||null,type:n,nodeId:e.id,x:(((i=e.positionAbsolute)==null?void 0:i.x)??0)+s.x+s.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+s.y+s.height/2}),o},[])}function DN(e,t,n,r,o,s){const{x:i,y:l}=kn(e),u=t.elementsFromPoint(i,l).find(w=>w.classList.contains("react-flow__handle"));if(u){const w=u.getAttribute("data-nodeid");if(w){const v=$c(void 0,u),_=u.getAttribute("data-handleid"),h=s({nodeId:w,id:_,type:v});if(h){const g=o.find(x=>x.nodeId===w&&x.type===v&&x.id===_);return{handle:{id:_,type:v,nodeId:w,x:(g==null?void 0:g.x)||n.x,y:(g==null?void 0:g.y)||n.y},validHandleResult:h}}}}let c=[],d=1/0;if(o.forEach(w=>{const v=Math.sqrt((w.x-n.x)**2+(w.y-n.y)**2);if(v<=r){const _=s(w);v<=d&&(v<d?c=[{handle:w,validHandleResult:_}]:v===d&&c.push({handle:w,validHandleResult:_}),d=v)}}),!c.length)return{handle:null,validHandleResult:ug()};if(c.length===1)return c[0];const f=c.some(({validHandleResult:w})=>w.isValid),m=c.some(({handle:w})=>w.type==="target");return c.find(({handle:w,validHandleResult:v})=>m?w.type==="target":f?v.isValid:!0)||c[0]}const ON={source:null,target:null,sourceHandle:null,targetHandle:null},ug=()=>({handleDomNode:null,isValid:!1,connection:ON,endHandle:null});function cg(e,t,n,r,o,s,i){const l=o==="target",a=i.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...ug(),handleDomNode:a};if(a){const c=$c(void 0,a),d=a.getAttribute("data-nodeid"),f=a.getAttribute("data-handleid"),m=a.classList.contains("connectable"),w=a.classList.contains("connectableend"),v={source:l?d:n,sourceHandle:l?f:r,target:l?n:d,targetHandle:l?r:f};u.connection=v,m&&w&&(t===In.Strict?l&&c==="source"||!l&&c==="target":d!==n||f!==r)&&(u.endHandle={nodeId:d,handleId:f,type:c},u.isValid=s(v))}return u}function LN({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((o,s)=>{if(s[we]){const{handleBounds:i}=s[we];let l=[],a=[];i&&(l=_f(s,i,"source",`${t}-${n}-${r}`),a=_f(s,i,"target",`${t}-${n}-${r}`)),o.push(...l,...a)}return o},[])}function $c(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function ea(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function FN(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function dg({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:s,setState:i,isValidConnection:l,edgeUpdaterType:a,onReconnectEnd:u}){const c=Xm(e.target),{connectionMode:d,domNode:f,autoPanOnConnect:m,connectionRadius:w,onConnectStart:v,panBy:_,getNodes:h,cancelConnection:g}=s();let x=0,y;const{x:S,y:b}=kn(e),P=c==null?void 0:c.elementFromPoint(S,b),j=$c(a,P),I=f==null?void 0:f.getBoundingClientRect();if(!I||!j)return;let D,U=kn(e,I),A=!1,O=null,N=!1,$=null;const C=LN({nodes:h(),nodeId:n,handleId:t,handleType:j}),H=()=>{if(!m)return;const[M,R]=Ym(U,I);_({x:M,y:R}),x=requestAnimationFrame(H)};i({connectionPosition:U,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:j,connectionStartHandle:{nodeId:n,handleId:t,type:j},connectionEndHandle:null}),v==null||v(e,{nodeId:n,handleId:t,handleType:j});function T(M){const{transform:R}=s();U=kn(M,I);const{handle:k,validHandleResult:F}=DN(M,c,mu(U,R,!1,[1,1]),w,C,V=>cg(V,d,n,t,o?"target":"source",l,c));if(y=k,A||(H(),A=!0),$=F.handleDomNode,O=F.connection,N=F.isValid,i({connectionPosition:y&&N?sg({x:y.x,y:y.y},R):U,connectionStatus:FN(!!y,N),connectionEndHandle:F.endHandle}),!y&&!N&&!$)return ea(D);O.source!==O.target&&$&&(ea(D),D=$,$.classList.add("connecting","react-flow__handle-connecting"),$.classList.toggle("valid",N),$.classList.toggle("react-flow__handle-valid",N))}function E(M){var R,k;(y||$)&&O&&N&&(r==null||r(O)),(k=(R=s()).onConnectEnd)==null||k.call(R,M),a&&(u==null||u(M)),ea(D),g(),cancelAnimationFrame(x),A=!1,N=!1,O=null,$=null,c.removeEventListener("mousemove",T),c.removeEventListener("mouseup",E),c.removeEventListener("touchmove",T),c.removeEventListener("touchend",E)}c.addEventListener("mousemove",T),c.addEventListener("mouseup",E),c.addEventListener("touchmove",T),c.addEventListener("touchend",E)}const Cf=()=>!0,HN=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),VN=(e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:s,connectionClickStartHandle:i}=r;return{connecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n}},fg=z.forwardRef(({type:e="source",position:t=G.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:s=!0,id:i,onConnect:l,children:a,className:u,onMouseDown:c,onTouchStart:d,...f},m)=>{var I,D;const w=i||null,v=e==="target",_=Ce(),h=$N(),{connectOnClick:g,noPanClassName:x}=de(HN,Pe),{connecting:y,clickConnecting:S}=de(VN(h,w,e),Pe);h||(D=(I=_.getState()).onError)==null||D.call(I,"010",en.error010());const b=U=>{const{defaultEdgeOptions:A,onConnect:O,hasDefaultEdges:N}=_.getState(),$={...A,...U};if(N){const{edges:C,setEdges:H}=_.getState();H(RN($,C))}O==null||O($),l==null||l($)},P=U=>{if(!h)return;const A=eg(U);o&&(A&&U.button===0||!A)&&dg({event:U,handleId:w,nodeId:h,onConnect:b,isTarget:v,getState:_.getState,setState:_.setState,isValidConnection:n||_.getState().isValidConnection||Cf}),A?c==null||c(U):d==null||d(U)},j=U=>{const{onClickConnectStart:A,onClickConnectEnd:O,connectionClickStartHandle:N,connectionMode:$,isValidConnection:C}=_.getState();if(!h||!N&&!o)return;if(!N){A==null||A(U,{nodeId:h,handleId:w,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:h,type:e,handleId:w}});return}const H=Xm(U.target),T=n||C||Cf,{connection:E,isValid:M}=cg({nodeId:h,id:w,type:e},$,N.nodeId,N.handleId||null,N.type,T,H);M&&b(E),O==null||O(U),_.setState({connectionClickStartHandle:null})};return B.createElement("div",{"data-handleid":w,"data-nodeid":h,"data-handlepos":t,"data-id":`${h}-${w}-${e}`,className:Me(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",x,u,{source:!v,target:v,connectable:r,connectablestart:o,connectableend:s,connecting:S,connectionindicator:r&&(o&&!y||s&&y)}]),onMouseDown:P,onTouchStart:P,onClick:g?j:void 0,ref:m,...f},a)});fg.displayName="Handle";var kt=z.memo(fg);const pg=({data:e,isConnectable:t,targetPosition:n=G.Top,sourcePosition:r=G.Bottom})=>B.createElement(B.Fragment,null,B.createElement(kt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,B.createElement(kt,{type:"source",position:r,isConnectable:t}));pg.displayName="DefaultNode";var gu=z.memo(pg);const hg=({data:e,isConnectable:t,sourcePosition:n=G.Bottom})=>B.createElement(B.Fragment,null,e==null?void 0:e.label,B.createElement(kt,{type:"source",position:n,isConnectable:t}));hg.displayName="InputNode";var mg=z.memo(hg);const gg=({data:e,isConnectable:t,targetPosition:n=G.Top})=>B.createElement(B.Fragment,null,B.createElement(kt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);gg.displayName="OutputNode";var yg=z.memo(gg);const Mc=()=>null;Mc.displayName="GroupNode";const BN=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Bs=e=>e.id;function UN(e,t){return Pe(e.selectedNodes.map(Bs),t.selectedNodes.map(Bs))&&Pe(e.selectedEdges.map(Bs),t.selectedEdges.map(Bs))}const xg=z.memo(({onSelectionChange:e})=>{const t=Ce(),{selectedNodes:n,selectedEdges:r}=de(BN,UN);return z.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChange.forEach(s=>s(o))},[n,r,e]),null});xg.displayName="SelectionListener";const WN=e=>!!e.onSelectionChange;function QN({onSelectionChange:e}){const t=de(WN);return e||t?B.createElement(xg,{onSelectionChange:e}):null}const qN=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function hr(e,t){z.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function te(e,t,n){z.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const KN=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:s,onConnectEnd:i,onClickConnectStart:l,onClickConnectEnd:a,nodesDraggable:u,nodesConnectable:c,nodesFocusable:d,edgesFocusable:f,edgesUpdatable:m,elevateNodesOnSelect:w,minZoom:v,maxZoom:_,nodeExtent:h,onNodesChange:g,onEdgesChange:x,elementsSelectable:y,connectionMode:S,snapGrid:b,snapToGrid:P,translateExtent:j,connectOnClick:I,defaultEdgeOptions:D,fitView:U,fitViewOptions:A,onNodesDelete:O,onEdgesDelete:N,onNodeDrag:$,onNodeDragStart:C,onNodeDragStop:H,onSelectionDrag:T,onSelectionDragStart:E,onSelectionDragStop:M,noPanClassName:R,nodeOrigin:k,rfId:F,autoPanOnConnect:V,autoPanOnNodeDrag:L,onError:W,connectionRadius:q,isValidConnection:Z,nodeDragThreshold:K})=>{const{setNodes:X,setEdges:ee,setDefaultNodesAndEdges:oe,setMinZoom:ie,setMaxZoom:re,setTranslateExtent:le,setNodeExtent:Le,reset:ae}=de(qN,Pe),J=Ce();return z.useEffect(()=>{const Fe=r==null?void 0:r.map(Dt=>({...Dt,...D}));return oe(n,Fe),()=>{ae()}},[]),te("defaultEdgeOptions",D,J.setState),te("connectionMode",S,J.setState),te("onConnect",o,J.setState),te("onConnectStart",s,J.setState),te("onConnectEnd",i,J.setState),te("onClickConnectStart",l,J.setState),te("onClickConnectEnd",a,J.setState),te("nodesDraggable",u,J.setState),te("nodesConnectable",c,J.setState),te("nodesFocusable",d,J.setState),te("edgesFocusable",f,J.setState),te("edgesUpdatable",m,J.setState),te("elementsSelectable",y,J.setState),te("elevateNodesOnSelect",w,J.setState),te("snapToGrid",P,J.setState),te("snapGrid",b,J.setState),te("onNodesChange",g,J.setState),te("onEdgesChange",x,J.setState),te("connectOnClick",I,J.setState),te("fitViewOnInit",U,J.setState),te("fitViewOnInitOptions",A,J.setState),te("onNodesDelete",O,J.setState),te("onEdgesDelete",N,J.setState),te("onNodeDrag",$,J.setState),te("onNodeDragStart",C,J.setState),te("onNodeDragStop",H,J.setState),te("onSelectionDrag",T,J.setState),te("onSelectionDragStart",E,J.setState),te("onSelectionDragStop",M,J.setState),te("noPanClassName",R,J.setState),te("nodeOrigin",k,J.setState),te("rfId",F,J.setState),te("autoPanOnConnect",V,J.setState),te("autoPanOnNodeDrag",L,J.setState),te("onError",W,J.setState),te("connectionRadius",q,J.setState),te("isValidConnection",Z,J.setState),te("nodeDragThreshold",K,J.setState),hr(e,X),hr(t,ee),hr(v,ie),hr(_,re),hr(j,le),hr(h,Le),null},bf={display:"none"},YN={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},vg="react-flow__node-desc",wg="react-flow__edge-desc",XN="react-flow__aria-live",GN=e=>e.ariaLiveMessage;function ZN({rfId:e}){const t=de(GN);return B.createElement("div",{id:`${XN}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:YN},t)}function JN({rfId:e,disableKeyboardA11y:t}){return B.createElement(B.Fragment,null,B.createElement("div",{id:`${vg}-${e}`,style:bf},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),B.createElement("div",{id:`${wg}-${e}`,style:bf},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&B.createElement(ZN,{rfId:e}))}var as=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=z.useState(!1),o=z.useRef(!1),s=z.useRef(new Set([])),[i,l]=z.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),c=u.reduce((d,f)=>d.concat(...f),[]);return[u,c]}return[[],[]]},[e]);return z.useEffect(()=>{const a=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||a;if(e!==null){const c=m=>{if(o.current=m.ctrlKey||m.metaKey||m.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&fu(m))return!1;const v=Pf(m.code,l);s.current.add(m[v]),If(i,s.current,!1)&&(m.preventDefault(),r(!0))},d=m=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&fu(m))return!1;const v=Pf(m.code,l);If(i,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(m[v]),m.key==="Meta"&&s.current.clear(),o.current=!1},f=()=>{s.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",f)}}},[e,r]),n};function If(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function Pf(e,t){return t.includes(e)?"code":"key"}function Ng(e,t,n,r){var l,a;const o=e.parentNode||e.parentId;if(!o)return n;const s=t.get(o),i=Gn(s,r);return Ng(s,t,{x:(n.x??0)+i.x,y:(n.y??0)+i.y,z:(((l=s[we])==null?void 0:l.z)??0)>(n.z??0)?((a=s[we])==null?void 0:a.z)??0:n.z??0},r)}function Sg(e,t,n){e.forEach(r=>{var s;const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n!=null&&n[r.id]){const{x:i,y:l,z:a}=Ng(r,e,{...r.position,z:((s=r[we])==null?void 0:s.z)??0},t);r.positionAbsolute={x:i,y:l},r[we].z=a,n!=null&&n[r.id]&&(r[we].isParent=!0)}})}function ta(e,t,n,r){const o=new Map,s={},i=r?1e3:0;return e.forEach(l=>{var m;const a=(dt(l.zIndex)?l.zIndex:0)+(l.selected?i:0),u=t.get(l.id),c={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},d=l.parentNode||l.parentId;d&&(s[d]=!0);const f=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(c,we,{enumerable:!1,value:{handleBounds:f||(m=u==null?void 0:u[we])==null?void 0:m.handleBounds,z:a}}),o.set(l.id,c)}),Sg(o,n,s),o}function Eg(e,t={}){const{getNodes:n,width:r,height:o,minZoom:s,maxZoom:i,d3Zoom:l,d3Selection:a,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=e(),f=t.initial&&!u&&c;if(l&&a&&(f||!t.initial)){const w=n().filter(_=>{var g;const h=t.includeHiddenNodes?_.width&&_.height:!_.hidden;return(g=t.nodes)!=null&&g.length?h&&t.nodes.some(x=>x.id===_.id):h}),v=w.every(_=>_.width&&_.height);if(w.length>0&&v){const _=hl(w,d),{x:h,y:g,zoom:x}=ag(_,r,o,t.minZoom??s,t.maxZoom??i,t.padding??.1),y=Kt.translate(h,g).scale(x);return typeof t.duration=="number"&&t.duration>0?l.transform(Fn(a,t.duration),y):l.transform(a,y),!0}}return!1}function eS(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[we]:r[we],selected:n.selected})}),new Map(t)}function tS(e,t){return t.map(n=>{const r=e.find(o=>o.id===n.id);return r&&(n.selected=r.selected),n})}function Us({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:s,onNodesChange:i,onEdgesChange:l,hasDefaultNodes:a,hasDefaultEdges:u}=n();e!=null&&e.length&&(a&&r({nodeInternals:eS(e,o)}),i==null||i(e)),t!=null&&t.length&&(u&&r({edges:tS(t,s)}),l==null||l(t))}const mr=()=>{},nS={zoomIn:mr,zoomOut:mr,zoomTo:mr,getZoom:()=>1,setViewport:mr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:mr,fitBounds:mr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},rS=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),oS=()=>{const e=Ce(),{d3Zoom:t,d3Selection:n}=de(rS,Pe);return z.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(Fn(n,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(Fn(n,o==null?void 0:o.duration),1/1.2),zoomTo:(o,s)=>t.scaleTo(Fn(n,s==null?void 0:s.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,s)=>{const[i,l,a]=e.getState().transform,u=Kt.translate(o.x??i,o.y??l).scale(o.zoom??a);t.transform(Fn(n,s==null?void 0:s.duration),u)},getViewport:()=>{const[o,s,i]=e.getState().transform;return{x:o,y:s,zoom:i}},fitView:o=>Eg(e.getState,o),setCenter:(o,s,i)=>{const{width:l,height:a,maxZoom:u}=e.getState(),c=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:u,d=l/2-o*c,f=a/2-s*c,m=Kt.translate(d,f).scale(c);t.transform(Fn(n,i==null?void 0:i.duration),m)},fitBounds:(o,s)=>{const{width:i,height:l,minZoom:a,maxZoom:u}=e.getState(),{x:c,y:d,zoom:f}=ag(o,i,l,a,u,(s==null?void 0:s.padding)??.1),m=Kt.translate(c,d).scale(f);t.transform(Fn(n,s==null?void 0:s.duration),m)},project:o=>{const{transform:s,snapToGrid:i,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),mu(o,s,i,l)},screenToFlowPosition:o=>{const{transform:s,snapToGrid:i,snapGrid:l,domNode:a}=e.getState();if(!a)return o;const{x:u,y:c}=a.getBoundingClientRect(),d={x:o.x-u,y:o.y-c};return mu(d,s,i,l)},flowToScreenPosition:o=>{const{transform:s,domNode:i}=e.getState();if(!i)return o;const{x:l,y:a}=i.getBoundingClientRect(),u=sg(o,s);return{x:u.x+l,y:u.y+a}},viewportInitialized:!0}:nS,[t,n])};function ml(){const e=oS(),t=Ce(),n=z.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),r=z.useCallback(v=>t.getState().nodeInternals.get(v),[]),o=z.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(_=>({..._}))},[]),s=z.useCallback(v=>{const{edges:_=[]}=t.getState();return _.find(h=>h.id===v)},[]),i=z.useCallback(v=>{const{getNodes:_,setNodes:h,hasDefaultNodes:g,onNodesChange:x}=t.getState(),y=_(),S=typeof v=="function"?v(y):v;if(g)h(S);else if(x){const b=S.length===0?y.map(P=>({type:"remove",id:P.id})):S.map(P=>({item:P,type:"reset"}));x(b)}},[]),l=z.useCallback(v=>{const{edges:_=[],setEdges:h,hasDefaultEdges:g,onEdgesChange:x}=t.getState(),y=typeof v=="function"?v(_):v;if(g)h(y);else if(x){const S=y.length===0?_.map(b=>({type:"remove",id:b.id})):y.map(b=>({item:b,type:"reset"}));x(S)}},[]),a=z.useCallback(v=>{const _=Array.isArray(v)?v:[v],{getNodes:h,setNodes:g,hasDefaultNodes:x,onNodesChange:y}=t.getState();if(x){const b=[...h(),..._];g(b)}else if(y){const S=_.map(b=>({item:b,type:"add"}));y(S)}},[]),u=z.useCallback(v=>{const _=Array.isArray(v)?v:[v],{edges:h=[],setEdges:g,hasDefaultEdges:x,onEdgesChange:y}=t.getState();if(x)g([...h,..._]);else if(y){const S=_.map(b=>({item:b,type:"add"}));y(S)}},[]),c=z.useCallback(()=>{const{getNodes:v,edges:_=[],transform:h}=t.getState(),[g,x,y]=h;return{nodes:v().map(S=>({...S})),edges:_.map(S=>({...S})),viewport:{x:g,y:x,zoom:y}}},[]),d=z.useCallback(({nodes:v,edges:_})=>{const{nodeInternals:h,getNodes:g,edges:x,hasDefaultNodes:y,hasDefaultEdges:S,onNodesDelete:b,onEdgesDelete:P,onNodesChange:j,onEdgesChange:I}=t.getState(),D=(v||[]).map($=>$.id),U=(_||[]).map($=>$.id),A=g().reduce(($,C)=>{const H=C.parentNode||C.parentId,T=!D.includes(C.id)&&H&&$.find(M=>M.id===H);return(typeof C.deletable=="boolean"?C.deletable:!0)&&(D.includes(C.id)||T)&&$.push(C),$},[]),O=x.filter($=>typeof $.deletable=="boolean"?$.deletable:!0),N=O.filter($=>U.includes($.id));if(A||N){const $=lg(A,O),C=[...N,...$],H=C.reduce((T,E)=>(T.includes(E.id)||T.push(E.id),T),[]);if((S||y)&&(S&&t.setState({edges:x.filter(T=>!H.includes(T.id))}),y&&(A.forEach(T=>{h.delete(T.id)}),t.setState({nodeInternals:new Map(h)}))),H.length>0&&(P==null||P(C),I&&I(H.map(T=>({id:T,type:"remove"})))),A.length>0&&(b==null||b(A),j)){const T=A.map(E=>({id:E.id,type:"remove"}));j(T)}}},[]),f=z.useCallback(v=>{const _=kN(v),h=_?null:t.getState().nodeInternals.get(v.id);return!_&&!h?[null,null,_]:[_?v:wf(h),h,_]},[]),m=z.useCallback((v,_=!0,h)=>{const[g,x,y]=f(v);return g?(h||t.getState().getNodes()).filter(S=>{if(!y&&(S.id===x.id||!S.positionAbsolute))return!1;const b=wf(S),P=du(b,g);return _&&P>0||P>=g.width*g.height}):[]},[]),w=z.useCallback((v,_,h=!0)=>{const[g]=f(v);if(!g)return!1;const x=du(g,_);return h&&x>0||x>=g.width*g.height},[]);return z.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:o,getEdge:s,setNodes:i,setEdges:l,addNodes:a,addEdges:u,toObject:c,deleteElements:d,getIntersectingNodes:m,isNodeIntersecting:w}),[e,n,r,o,s,i,l,a,u,c,d,m,w])}const sS={actInsideInputWithModifier:!1};var iS=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Ce(),{deleteElements:r}=ml(),o=as(e,sS),s=as(t);z.useEffect(()=>{if(o){const{edges:i,getNodes:l}=n.getState(),a=l().filter(c=>c.selected),u=i.filter(c=>c.selected);r({nodes:a,edges:u}),n.setState({nodesSelectionActive:!1})}},[o]),z.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function lS(e){const t=Ce();z.useEffect(()=>{let n;const r=()=>{var s,i;if(!e.current)return;const o=Cc(e.current);(o.height===0||o.width===0)&&((i=(s=t.getState()).onError)==null||i.call(s,"004",en.error004())),t.setState({width:o.width||500,height:o.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const zc={position:"absolute",width:"100%",height:"100%",top:0,left:0},aS=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ws=e=>({x:e.x,y:e.y,zoom:e.k}),gr=(e,t)=>e.target.closest(`.${t}`),jf=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Tf=e=>{const t=e.ctrlKey&&Oi()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},uS=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),cS=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:o=!0,zoomOnPinch:s=!0,panOnScroll:i=!1,panOnScrollSpeed:l=.5,panOnScrollMode:a=qn.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:d=!0,defaultViewport:f,translateExtent:m,minZoom:w,maxZoom:v,zoomActivationKeyCode:_,preventScrolling:h=!0,children:g,noWheelClassName:x,noPanClassName:y})=>{const S=z.useRef(),b=Ce(),P=z.useRef(!1),j=z.useRef(!1),I=z.useRef(null),D=z.useRef({x:0,y:0,zoom:0}),{d3Zoom:U,d3Selection:A,d3ZoomHandler:O,userSelectionActive:N}=de(uS,Pe),$=as(_),C=z.useRef(0),H=z.useRef(!1),T=z.useRef();return lS(I),z.useEffect(()=>{if(I.current){const E=I.current.getBoundingClientRect(),M=qm().scaleExtent([w,v]).translateExtent(m),R=ut(I.current).call(M),k=Kt.translate(f.x,f.y).scale(Gr(f.zoom,w,v)),F=[[0,0],[E.width,E.height]],V=M.constrain()(k,F,m);M.transform(R,V),M.wheelDelta(Tf),b.setState({d3Zoom:M,d3Selection:R,d3ZoomHandler:R.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:I.current.closest(".react-flow")})}},[]),z.useEffect(()=>{A&&U&&(i&&!$&&!N?A.on("wheel.zoom",E=>{if(gr(E,x))return!1;E.preventDefault(),E.stopImmediatePropagation();const M=A.property("__zoom").k||1;if(E.ctrlKey&&s){const Z=wt(E),K=Tf(E),X=M*Math.pow(2,K);U.scaleTo(A,X,Z,E);return}const R=E.deltaMode===1?20:1;let k=a===qn.Vertical?0:E.deltaX*R,F=a===qn.Horizontal?0:E.deltaY*R;!Oi()&&E.shiftKey&&a!==qn.Vertical&&(k=E.deltaY*R,F=0),U.translateBy(A,-(k/M)*l,-(F/M)*l,{internal:!0});const V=Ws(A.property("__zoom")),{onViewportChangeStart:L,onViewportChange:W,onViewportChangeEnd:q}=b.getState();clearTimeout(T.current),H.current||(H.current=!0,t==null||t(E,V),L==null||L(V)),H.current&&(e==null||e(E,V),W==null||W(V),T.current=setTimeout(()=>{n==null||n(E,V),q==null||q(V),H.current=!1},150))},{passive:!1}):typeof O<"u"&&A.on("wheel.zoom",function(E,M){if(!h&&E.type==="wheel"&&!E.ctrlKey||gr(E,x))return null;E.preventDefault(),O.call(this,E,M)},{passive:!1}))},[N,i,a,A,U,O,$,s,h,x,t,e,n]),z.useEffect(()=>{U&&U.on("start",E=>{var k,F;if(!E.sourceEvent||E.sourceEvent.internal)return null;C.current=(k=E.sourceEvent)==null?void 0:k.button;const{onViewportChangeStart:M}=b.getState(),R=Ws(E.transform);P.current=!0,D.current=R,((F=E.sourceEvent)==null?void 0:F.type)==="mousedown"&&b.setState({paneDragging:!0}),M==null||M(R),t==null||t(E.sourceEvent,R)})},[U,t]),z.useEffect(()=>{U&&(N&&!P.current?U.on("zoom",null):N||U.on("zoom",E=>{var R;const{onViewportChange:M}=b.getState();if(b.setState({transform:[E.transform.x,E.transform.y,E.transform.k]}),j.current=!!(r&&jf(d,C.current??0)),(e||M)&&!((R=E.sourceEvent)!=null&&R.internal)){const k=Ws(E.transform);M==null||M(k),e==null||e(E.sourceEvent,k)}}))},[N,U,e,d,r]),z.useEffect(()=>{U&&U.on("end",E=>{if(!E.sourceEvent||E.sourceEvent.internal)return null;const{onViewportChangeEnd:M}=b.getState();if(P.current=!1,b.setState({paneDragging:!1}),r&&jf(d,C.current??0)&&!j.current&&r(E.sourceEvent),j.current=!1,(n||M)&&aS(D.current,E.transform)){const R=Ws(E.transform);D.current=R,clearTimeout(S.current),S.current=setTimeout(()=>{M==null||M(R),n==null||n(E.sourceEvent,R)},i?150:0)}})},[U,i,d,n,r]),z.useEffect(()=>{U&&U.filter(E=>{const M=$||o,R=s&&E.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&E.button===1&&E.type==="mousedown"&&(gr(E,"react-flow__node")||gr(E,"react-flow__edge")))return!0;if(!d&&!M&&!i&&!u&&!s||N||!u&&E.type==="dblclick"||gr(E,x)&&E.type==="wheel"||gr(E,y)&&(E.type!=="wheel"||i&&E.type==="wheel"&&!$)||!s&&E.ctrlKey&&E.type==="wheel"||!M&&!i&&!R&&E.type==="wheel"||!d&&(E.type==="mousedown"||E.type==="touchstart")||Array.isArray(d)&&!d.includes(E.button)&&E.type==="mousedown")return!1;const k=Array.isArray(d)&&d.includes(E.button)||!E.button||E.button<=1;return(!E.ctrlKey||E.type==="wheel")&&k})},[N,U,o,s,i,u,d,c,$]),B.createElement("div",{className:"react-flow__renderer",ref:I,style:zc},g)},dS=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function fS(){const{userSelectionActive:e,userSelectionRect:t}=de(dS,Pe);return e&&t?B.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function $f(e,t){const n=t.parentNode||t.parentId,r=e.find(o=>o.id===n);if(r){const o=t.position.x+t.width-r.width,s=t.position.y+t.height-r.height;if(o>0||s>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,o>0&&(r.style.width+=o),s>0&&(r.style.height+=s),t.position.x<0){const i=Math.abs(t.position.x);r.position.x=r.position.x-i,r.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);r.position.y=r.position.y-i,r.style.height+=i,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function kg(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,o)=>{const s=e.filter(l=>l.id===o.id);if(s.length===0)return r.push(o),r;const i={...o};for(const l of s)if(l)switch(l.type){case"select":{i.selected=l.selected;break}case"position":{typeof l.position<"u"&&(i.position=l.position),typeof l.positionAbsolute<"u"&&(i.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(i.dragging=l.dragging),i.expandParent&&$f(r,i);break}case"dimensions":{typeof l.dimensions<"u"&&(i.width=l.dimensions.width,i.height=l.dimensions.height),typeof l.updateStyle<"u"&&(i.style={...i.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(i.resizing=l.resizing),i.expandParent&&$f(r,i);break}case"remove":return r}return r.push(i),r},n)}function _g(e,t){return kg(e,t)}function pS(e,t){return kg(e,t)}const an=(e,t)=>({id:e,type:"select",selected:t});function Tr(e,t){return e.reduce((n,r)=>{const o=t.includes(r.id);return!r.selected&&o?(r.selected=!0,n.push(an(r.id,!0))):r.selected&&!o&&(r.selected=!1,n.push(an(r.id,!1))),n},[])}const na=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},hS=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Cg=z.memo(({isSelecting:e,selectionMode:t=ls.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:o,onPaneClick:s,onPaneContextMenu:i,onPaneScroll:l,onPaneMouseEnter:a,onPaneMouseMove:u,onPaneMouseLeave:c,children:d})=>{const f=z.useRef(null),m=Ce(),w=z.useRef(0),v=z.useRef(0),_=z.useRef(),{userSelectionActive:h,elementsSelectable:g,dragging:x}=de(hS,Pe),y=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),w.current=0,v.current=0},S=O=>{s==null||s(O),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},b=O=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){O.preventDefault();return}i==null||i(O)},P=l?O=>l(O):void 0,j=O=>{const{resetSelectedElements:N,domNode:$}=m.getState();if(_.current=$==null?void 0:$.getBoundingClientRect(),!g||!e||O.button!==0||O.target!==f.current||!_.current)return;const{x:C,y:H}=kn(O,_.current);N(),m.setState({userSelectionRect:{width:0,height:0,startX:C,startY:H,x:C,y:H}}),r==null||r(O)},I=O=>{const{userSelectionRect:N,nodeInternals:$,edges:C,transform:H,onNodesChange:T,onEdgesChange:E,nodeOrigin:M,getNodes:R}=m.getState();if(!e||!_.current||!N)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const k=kn(O,_.current),F=N.startX??0,V=N.startY??0,L={...N,x:k.x<F?k.x:F,y:k.y<V?k.y:V,width:Math.abs(k.x-F),height:Math.abs(k.y-V)},W=R(),q=ig($,L,H,t===ls.Partial,!0,M),Z=lg(q,C).map(X=>X.id),K=q.map(X=>X.id);if(w.current!==K.length){w.current=K.length;const X=Tr(W,K);X.length&&(T==null||T(X))}if(v.current!==Z.length){v.current=Z.length;const X=Tr(C,Z);X.length&&(E==null||E(X))}m.setState({userSelectionRect:L})},D=O=>{if(O.button!==0)return;const{userSelectionRect:N}=m.getState();!h&&N&&O.target===f.current&&(S==null||S(O)),m.setState({nodesSelectionActive:w.current>0}),y(),o==null||o(O)},U=O=>{h&&(m.setState({nodesSelectionActive:w.current>0}),o==null||o(O)),y()},A=g&&(e||h);return B.createElement("div",{className:Me(["react-flow__pane",{dragging:x,selection:e}]),onClick:A?void 0:na(S,f),onContextMenu:na(b,f),onWheel:na(P,f),onMouseEnter:A?void 0:a,onMouseDown:A?j:void 0,onMouseMove:A?I:u,onMouseUp:A?D:void 0,onMouseLeave:A?U:c,ref:f,style:zc},d,B.createElement(fS,null))});Cg.displayName="Pane";function bg(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:bg(r,t):!1}function Mf(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function mS(e,t,n,r){return Array.from(e.values()).filter(o=>(o.selected||o.id===r)&&(!o.parentNode||o.parentId||!bg(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var s,i;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=o.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((i=o.positionAbsolute)==null?void 0:i.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}})}function gS(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Ig(e,t,n,r,o=[0,0],s){const i=gS(e,e.extent||r);let l=i;const a=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(a&&e.width&&e.height){const d=n.get(a),{x:f,y:m}=Gn(d,o).positionAbsolute;l=d&&dt(f)&&dt(m)&&dt(d.width)&&dt(d.height)?[[f+e.width*o[0],m+e.height*o[1]],[f+d.width-e.width+e.width*o[0],m+d.height-e.height+e.height*o[1]]]:l}else s==null||s("005",en.error005()),l=i;else if(e.extent&&a&&e.extent!=="parent"){const d=n.get(a),{x:f,y:m}=Gn(d,o).positionAbsolute;l=[[e.extent[0][0]+f,e.extent[0][1]+m],[e.extent[1][0]+f,e.extent[1][1]+m]]}let u={x:0,y:0};if(a){const d=n.get(a);u=Gn(d,o).positionAbsolute}const c=l&&l!=="parent"?bc(t,l):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function ra({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?r.find(o=>o.id===e):r[0],r]}const zf=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const s=Array.from(o),i=t.getBoundingClientRect(),l={x:i.width*r[0],y:i.height*r[1]};return s.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-i.left-l.x)/n,y:(u.top-i.top-l.y)/n,...Cc(a)}})};function vo(e,t,n){return n===void 0?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function yu({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:s,multiSelectionActive:i,nodeInternals:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",en.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&i)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):o([e])}function yS(){const e=Ce();return z.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:o,snapToGrid:s}=e.getState(),i=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,a={x:(i-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:s?o[0]*Math.round(a.x/o[0]):a.x,ySnapped:s?o[1]*Math.round(a.y/o[1]):a.y,...a}},[])}function oa(e){return(t,n,r)=>e==null?void 0:e(t,r)}function Pg({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:s,selectNodesOnDrag:i}){const l=Ce(),[a,u]=z.useState(!1),c=z.useRef([]),d=z.useRef({x:null,y:null}),f=z.useRef(0),m=z.useRef(null),w=z.useRef({x:0,y:0}),v=z.useRef(null),_=z.useRef(!1),h=z.useRef(!1),g=z.useRef(!1),x=yS();return z.useEffect(()=>{if(e!=null&&e.current){const y=ut(e.current),S=({x:j,y:I})=>{const{nodeInternals:D,onNodeDrag:U,onSelectionDrag:A,updateNodePositions:O,nodeExtent:N,snapGrid:$,snapToGrid:C,nodeOrigin:H,onError:T}=l.getState();d.current={x:j,y:I};let E=!1,M={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&N){const k=hl(c.current,H);M=is(k)}if(c.current=c.current.map(k=>{const F={x:j-k.distance.x,y:I-k.distance.y};C&&(F.x=$[0]*Math.round(F.x/$[0]),F.y=$[1]*Math.round(F.y/$[1]));const V=[[N[0][0],N[0][1]],[N[1][0],N[1][1]]];c.current.length>1&&N&&!k.extent&&(V[0][0]=k.positionAbsolute.x-M.x+N[0][0],V[1][0]=k.positionAbsolute.x+(k.width??0)-M.x2+N[1][0],V[0][1]=k.positionAbsolute.y-M.y+N[0][1],V[1][1]=k.positionAbsolute.y+(k.height??0)-M.y2+N[1][1]);const L=Ig(k,F,D,V,H,T);return E=E||k.position.x!==L.position.x||k.position.y!==L.position.y,k.position=L.position,k.positionAbsolute=L.positionAbsolute,k}),!E)return;O(c.current,!0,!0),u(!0);const R=o?U:oa(A);if(R&&v.current){const[k,F]=ra({nodeId:o,dragItems:c.current,nodeInternals:D});R(v.current,k,F)}},b=()=>{if(!m.current)return;const[j,I]=Ym(w.current,m.current);if(j!==0||I!==0){const{transform:D,panBy:U}=l.getState();d.current.x=(d.current.x??0)-j/D[2],d.current.y=(d.current.y??0)-I/D[2],U({x:j,y:I})&&S(d.current)}f.current=requestAnimationFrame(b)},P=j=>{var H;const{nodeInternals:I,multiSelectionActive:D,nodesDraggable:U,unselectNodesAndEdges:A,onNodeDragStart:O,onSelectionDragStart:N}=l.getState();h.current=!0;const $=o?O:oa(N);(!i||!s)&&!D&&o&&((H=I.get(o))!=null&&H.selected||A()),o&&s&&i&&yu({id:o,store:l,nodeRef:e});const C=x(j);if(d.current=C,c.current=mS(I,U,C,o),$&&c.current){const[T,E]=ra({nodeId:o,dragItems:c.current,nodeInternals:I});$(j.sourceEvent,T,E)}};if(t)y.on(".drag",null);else{const j=Iw().on("start",I=>{const{domNode:D,nodeDragThreshold:U}=l.getState();U===0&&P(I),g.current=!1;const A=x(I);d.current=A,m.current=(D==null?void 0:D.getBoundingClientRect())||null,w.current=kn(I.sourceEvent,m.current)}).on("drag",I=>{var O,N;const D=x(I),{autoPanOnNodeDrag:U,nodeDragThreshold:A}=l.getState();if(I.sourceEvent.type==="touchmove"&&I.sourceEvent.touches.length>1&&(g.current=!0),!g.current){if(!_.current&&h.current&&U&&(_.current=!0,b()),!h.current){const $=D.xSnapped-(((O=d==null?void 0:d.current)==null?void 0:O.x)??0),C=D.ySnapped-(((N=d==null?void 0:d.current)==null?void 0:N.y)??0);Math.sqrt($*$+C*C)>A&&P(I)}(d.current.x!==D.xSnapped||d.current.y!==D.ySnapped)&&c.current&&h.current&&(v.current=I.sourceEvent,w.current=kn(I.sourceEvent,m.current),S(D))}}).on("end",I=>{if(!(!h.current||g.current)&&(u(!1),_.current=!1,h.current=!1,cancelAnimationFrame(f.current),c.current)){const{updateNodePositions:D,nodeInternals:U,onNodeDragStop:A,onSelectionDragStop:O}=l.getState(),N=o?A:oa(O);if(D(c.current,!1,!1),N){const[$,C]=ra({nodeId:o,dragItems:c.current,nodeInternals:U});N(I.sourceEvent,$,C)}}}).filter(I=>{const D=I.target;return!I.button&&(!n||!Mf(D,`.${n}`,e))&&(!r||Mf(D,r,e))});return y.call(j),()=>{y.on(".drag",null)}}}},[e,t,n,r,s,l,o,i,x]),a}function jg(){const e=Ce();return z.useCallback(n=>{const{nodeInternals:r,nodeExtent:o,updateNodePositions:s,getNodes:i,snapToGrid:l,snapGrid:a,onError:u,nodesDraggable:c}=e.getState(),d=i().filter(g=>g.selected&&(g.draggable||c&&typeof g.draggable>"u")),f=l?a[0]:5,m=l?a[1]:5,w=n.isShiftPressed?4:1,v=n.x*f*w,_=n.y*m*w,h=d.map(g=>{if(g.positionAbsolute){const x={x:g.positionAbsolute.x+v,y:g.positionAbsolute.y+_};l&&(x.x=a[0]*Math.round(x.x/a[0]),x.y=a[1]*Math.round(x.y/a[1]));const{positionAbsolute:y,position:S}=Ig(g,x,r,o,void 0,u);g.position=S,g.positionAbsolute=y}return g});s(h,!0,!1)},[])}const Fr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var wo=e=>{const t=({id:n,type:r,data:o,xPos:s,yPos:i,xPosOrigin:l,yPosOrigin:a,selected:u,onClick:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:m,onContextMenu:w,onDoubleClick:v,style:_,className:h,isDraggable:g,isSelectable:x,isConnectable:y,isFocusable:S,selectNodesOnDrag:b,sourcePosition:P,targetPosition:j,hidden:I,resizeObserver:D,dragHandle:U,zIndex:A,isParent:O,noDragClassName:N,noPanClassName:$,initialized:C,disableKeyboardA11y:H,ariaLabel:T,rfId:E,hasHandleBounds:M})=>{const R=Ce(),k=z.useRef(null),F=z.useRef(null),V=z.useRef(P),L=z.useRef(j),W=z.useRef(r),q=x||g||c||d||f||m,Z=jg(),K=vo(n,R.getState,d),X=vo(n,R.getState,f),ee=vo(n,R.getState,m),oe=vo(n,R.getState,w),ie=vo(n,R.getState,v),re=ae=>{const{nodeDragThreshold:J}=R.getState();if(x&&(!b||!g||J>0)&&yu({id:n,store:R,nodeRef:k}),c){const Fe=R.getState().nodeInternals.get(n);Fe&&c(ae,{...Fe})}},le=ae=>{if(!fu(ae)&&!H)if(Jm.includes(ae.key)&&x){const J=ae.key==="Escape";yu({id:n,store:R,unselect:J,nodeRef:k})}else g&&u&&Object.prototype.hasOwnProperty.call(Fr,ae.key)&&(R.setState({ariaLiveMessage:`Moved selected node ${ae.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~i}`}),Z({x:Fr[ae.key].x,y:Fr[ae.key].y,isShiftPressed:ae.shiftKey}))};z.useEffect(()=>()=>{F.current&&(D==null||D.unobserve(F.current),F.current=null)},[]),z.useEffect(()=>{if(k.current&&!I){const ae=k.current;(!C||!M||F.current!==ae)&&(F.current&&(D==null||D.unobserve(F.current)),D==null||D.observe(ae),F.current=ae)}},[I,C,M]),z.useEffect(()=>{const ae=W.current!==r,J=V.current!==P,Fe=L.current!==j;k.current&&(ae||J||Fe)&&(ae&&(W.current=r),J&&(V.current=P),Fe&&(L.current=j),R.getState().updateNodeDimensions([{id:n,nodeElement:k.current,forceUpdate:!0}]))},[n,r,P,j]);const Le=Pg({nodeRef:k,disabled:I||!g,noDragClassName:N,handleSelector:U,nodeId:n,isSelectable:x,selectNodesOnDrag:b});return I?null:B.createElement("div",{className:Me(["react-flow__node",`react-flow__node-${r}`,{[$]:g},h,{selected:u,selectable:x,parent:O,dragging:Le}]),ref:k,style:{zIndex:A,transform:`translate(${l}px,${a}px)`,pointerEvents:q?"all":"none",visibility:C?"visible":"hidden",..._},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:K,onMouseMove:X,onMouseLeave:ee,onContextMenu:oe,onClick:re,onDoubleClick:ie,onKeyDown:S?le:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":H?void 0:`${vg}-${E}`,"aria-label":T},B.createElement(TN,{value:n},B.createElement(e,{id:n,data:o,type:r,xPos:s,yPos:i,selected:u,isConnectable:y,sourcePosition:P,targetPosition:j,dragging:Le,dragHandle:U,zIndex:A})))};return t.displayName="NodeWrapper",z.memo(t)};const xS=e=>{const t=e.getNodes().filter(n=>n.selected);return{...hl(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function vS({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ce(),{width:o,height:s,x:i,y:l,transformString:a,userSelectionActive:u}=de(xS,Pe),c=jg(),d=z.useRef(null);if(z.useEffect(()=>{var w;n||(w=d.current)==null||w.focus({preventScroll:!0})},[n]),Pg({nodeRef:d}),u||!o||!s)return null;const f=e?w=>{const v=r.getState().getNodes().filter(_=>_.selected);e(w,v)}:void 0,m=w=>{Object.prototype.hasOwnProperty.call(Fr,w.key)&&c({x:Fr[w.key].x,y:Fr[w.key].y,isShiftPressed:w.shiftKey})};return B.createElement("div",{className:Me(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a}},B.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:o,height:s,top:l,left:i}}))}var wS=z.memo(vS);const NS=e=>e.nodesSelectionActive,Tg=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:i,deleteKeyCode:l,onMove:a,onMoveStart:u,onMoveEnd:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:m,onSelectionStart:w,onSelectionEnd:v,multiSelectionKeyCode:_,panActivationKeyCode:h,zoomActivationKeyCode:g,elementsSelectable:x,zoomOnScroll:y,zoomOnPinch:S,panOnScroll:b,panOnScrollSpeed:P,panOnScrollMode:j,zoomOnDoubleClick:I,panOnDrag:D,defaultViewport:U,translateExtent:A,minZoom:O,maxZoom:N,preventScrolling:$,onSelectionContextMenu:C,noWheelClassName:H,noPanClassName:T,disableKeyboardA11y:E})=>{const M=de(NS),R=as(d),k=as(h),F=k||D,V=k||b,L=R||f&&F!==!0;return iS({deleteKeyCode:l,multiSelectionKeyCode:_}),B.createElement(cS,{onMove:a,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:s,elementsSelectable:x,zoomOnScroll:y,zoomOnPinch:S,panOnScroll:V,panOnScrollSpeed:P,panOnScrollMode:j,zoomOnDoubleClick:I,panOnDrag:!R&&F,defaultViewport:U,translateExtent:A,minZoom:O,maxZoom:N,zoomActivationKeyCode:g,preventScrolling:$,noWheelClassName:H,noPanClassName:T},B.createElement(Cg,{onSelectionStart:w,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:i,panOnDrag:F,isSelecting:!!L,selectionMode:m},e,M&&B.createElement(wS,{onSelectionContextMenu:C,noPanClassName:T,disableKeyboardA11y:E})))};Tg.displayName="FlowRenderer";var SS=z.memo(Tg);function ES(e){return de(z.useCallback(n=>e?ig(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function kS(e){const t={input:wo(e.input||mg),default:wo(e.default||gu),output:wo(e.output||yg),group:wo(e.group||Mc)},n={},r=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,s)=>(o[s]=wo(e[s]||gu),o),n);return{...t,...r}}const _S=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},CS=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),$g=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:s,onError:i}=de(CS,Pe),l=ES(e.onlyRenderVisibleElements),a=z.useRef(),u=z.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(d=>{const f=d.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));s(f)});return a.current=c,c},[]);return z.useEffect(()=>()=>{var c;(c=a==null?void 0:a.current)==null||c.disconnect()},[]),B.createElement("div",{className:"react-flow__nodes",style:zc},l.map(c=>{var S,b,P;let d=c.type||"default";e.nodeTypes[d]||(i==null||i("003",en.error003(d)),d="default");const f=e.nodeTypes[d]||e.nodeTypes.default,m=!!(c.draggable||t&&typeof c.draggable>"u"),w=!!(c.selectable||o&&typeof c.selectable>"u"),v=!!(c.connectable||n&&typeof c.connectable>"u"),_=!!(c.focusable||r&&typeof c.focusable>"u"),h=e.nodeExtent?bc(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,g=(h==null?void 0:h.x)??0,x=(h==null?void 0:h.y)??0,y=_S({x:g,y:x,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return B.createElement(f,{key:c.id,id:c.id,className:c.className,style:c.style,type:d,data:c.data,sourcePosition:c.sourcePosition||G.Bottom,targetPosition:c.targetPosition||G.Top,hidden:c.hidden,xPos:g,yPos:x,xPosOrigin:y.x,yPosOrigin:y.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:m,isSelectable:w,isConnectable:v,isFocusable:_,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((S=c[we])==null?void 0:S.z)??0,isParent:!!((b=c[we])!=null&&b.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((P=c[we])!=null&&P.handleBounds)})}))};$g.displayName="NodeRenderer";var bS=z.memo($g);const IS=(e,t,n)=>n===G.Left?e-t:n===G.Right?e+t:e,PS=(e,t,n)=>n===G.Top?e-t:n===G.Bottom?e+t:e,Af="react-flow__edgeupdater",Rf=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:s,onMouseOut:i,type:l})=>B.createElement("circle",{onMouseDown:o,onMouseEnter:s,onMouseOut:i,className:Me([Af,`${Af}-${l}`]),cx:IS(t,r,e),cy:PS(n,r,e),r,stroke:"transparent",fill:"transparent"}),jS=()=>!0;var yr=e=>{const t=({id:n,className:r,type:o,data:s,onClick:i,onEdgeDoubleClick:l,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:w,labelBgBorderRadius:v,style:_,source:h,target:g,sourceX:x,sourceY:y,targetX:S,targetY:b,sourcePosition:P,targetPosition:j,elementsSelectable:I,hidden:D,sourceHandleId:U,targetHandleId:A,onContextMenu:O,onMouseEnter:N,onMouseMove:$,onMouseLeave:C,reconnectRadius:H,onReconnect:T,onReconnectStart:E,onReconnectEnd:M,markerEnd:R,markerStart:k,rfId:F,ariaLabel:V,isFocusable:L,isReconnectable:W,pathOptions:q,interactionWidth:Z,disableKeyboardA11y:K})=>{const X=z.useRef(null),[ee,oe]=z.useState(!1),[ie,re]=z.useState(!1),le=Ce(),Le=z.useMemo(()=>`url('#${hu(k,F)}')`,[k,F]),ae=z.useMemo(()=>`url('#${hu(R,F)}')`,[R,F]);if(D)return null;const J=ze=>{var Pt;const{edges:gt,addSelectedEdges:zn,unselectNodesAndEdges:An,multiSelectionActive:Rn}=le.getState(),Lt=gt.find(so=>so.id===n);Lt&&(I&&(le.setState({nodesSelectionActive:!1}),Lt.selected&&Rn?(An({nodes:[],edges:[Lt]}),(Pt=X.current)==null||Pt.blur()):zn([n])),i&&i(ze,Lt))},Fe=xo(n,le.getState,l),Dt=xo(n,le.getState,O),ro=xo(n,le.getState,N),ar=xo(n,le.getState,$),ur=xo(n,le.getState,C),Ot=(ze,gt)=>{if(ze.button!==0)return;const{edges:zn,isValidConnection:An}=le.getState(),Rn=gt?g:h,Lt=(gt?A:U)||null,Pt=gt?"target":"source",so=An||jS,wl=gt,io=zn.find(Dn=>Dn.id===n);re(!0),E==null||E(ze,io,Pt);const Nl=Dn=>{re(!1),M==null||M(Dn,io,Pt)};dg({event:ze,handleId:Lt,nodeId:Rn,onConnect:Dn=>T==null?void 0:T(io,Dn),isTarget:wl,getState:le.getState,setState:le.setState,isValidConnection:so,edgeUpdaterType:Pt,onReconnectEnd:Nl})},cr=ze=>Ot(ze,!0),$n=ze=>Ot(ze,!1),Mn=()=>oe(!0),dr=()=>oe(!1),fr=!I&&!i,oo=ze=>{var gt;if(!K&&Jm.includes(ze.key)&&I){const{unselectNodesAndEdges:zn,addSelectedEdges:An,edges:Rn}=le.getState();ze.key==="Escape"?((gt=X.current)==null||gt.blur(),zn({edges:[Rn.find(Pt=>Pt.id===n)]})):An([n])}};return B.createElement("g",{className:Me(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:a,animated:u,inactive:fr,updating:ee}]),onClick:J,onDoubleClick:Fe,onContextMenu:Dt,onMouseEnter:ro,onMouseMove:ar,onMouseLeave:ur,onKeyDown:L?oo:void 0,tabIndex:L?0:void 0,role:L?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":V===null?void 0:V||`Edge from ${h} to ${g}`,"aria-describedby":L?`${wg}-${F}`:void 0,ref:X},!ie&&B.createElement(e,{id:n,source:h,target:g,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:w,labelBgBorderRadius:v,data:s,style:_,sourceX:x,sourceY:y,targetX:S,targetY:b,sourcePosition:P,targetPosition:j,sourceHandleId:U,targetHandleId:A,markerStart:Le,markerEnd:ae,pathOptions:q,interactionWidth:Z}),W&&B.createElement(B.Fragment,null,(W==="source"||W===!0)&&B.createElement(Rf,{position:P,centerX:x,centerY:y,radius:H,onMouseDown:cr,onMouseEnter:Mn,onMouseOut:dr,type:"source"}),(W==="target"||W===!0)&&B.createElement(Rf,{position:j,centerX:S,centerY:b,radius:H,onMouseDown:$n,onMouseEnter:Mn,onMouseOut:dr,type:"target"})))};return t.displayName="EdgeWrapper",z.memo(t)};function TS(e){const t={default:yr(e.default||Fi),straight:yr(e.bezier||jc),step:yr(e.step||Pc),smoothstep:yr(e.step||pl),simplebezier:yr(e.simplebezier||Ic)},n={},r=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,s)=>(o[s]=yr(e[s]||Fi),o),n);return{...t,...r}}function Df(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,i=(n==null?void 0:n.height)||t.height;switch(e){case G.Top:return{x:r+s/2,y:o};case G.Right:return{x:r+s,y:o+i/2};case G.Bottom:return{x:r+s/2,y:o+i};case G.Left:return{x:r,y:o+i/2}}}function Of(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const $S=(e,t,n,r,o,s)=>{const i=Df(n,e,t),l=Df(s,r,o);return{sourceX:i.x,sourceY:i.y,targetX:l.x,targetY:l.y}};function MS({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:s,width:i,height:l,transform:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=is({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:i/a[2],height:l/a[2]}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),f=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*f)>0}function Lf(e){var r,o,s,i,l;const t=((r=e==null?void 0:e[we])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const zS=[{level:0,isMaxLevel:!0,edges:[]}];function AS(e,t,n=!1){let r=-1;const o=e.reduce((i,l)=>{var c,d;const a=dt(l.zIndex);let u=a?l.zIndex:0;if(n){const f=t.get(l.target),m=t.get(l.source),w=l.selected||(f==null?void 0:f.selected)||(m==null?void 0:m.selected),v=Math.max(((c=m==null?void 0:m[we])==null?void 0:c.z)||0,((d=f==null?void 0:f[we])==null?void 0:d.z)||0,1e3);u=(a?l.zIndex:0)+(w?v:0)}return i[u]?i[u].push(l):i[u]=[l],r=u>r?u:r,i},{}),s=Object.entries(o).map(([i,l])=>{const a=+i;return{edges:l,level:a,isMaxLevel:a===r}});return s.length===0?zS:s}function RS(e,t,n){const r=de(z.useCallback(o=>e?o.edges.filter(s=>{const i=t.get(s.source),l=t.get(s.target);return(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&MS({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:l.width,targetHeight:l.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return AS(r,t,n)}const DS=({color:e="none",strokeWidth:t=1})=>B.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),OS=({color:e="none",strokeWidth:t=1})=>B.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Ff={[Li.Arrow]:DS,[Li.ArrowClosed]:OS};function LS(e){const t=Ce();return z.useMemo(()=>{var o,s;return Object.prototype.hasOwnProperty.call(Ff,e)?Ff[e]:((s=(o=t.getState()).onError)==null||s.call(o,"009",en.error009(e)),null)},[e])}const FS=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:s="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{const a=LS(t);return a?B.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0"},B.createElement(a,{color:n,strokeWidth:i})):null},HS=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((o,s)=>([s.markerStart,s.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const l=hu(i,t);r.includes(l)||(o.push({id:l,color:i.color||e,...i}),r.push(l))}}),o),[]).sort((o,s)=>o.id.localeCompare(s.id))},Mg=({defaultColor:e,rfId:t})=>{const n=de(z.useCallback(HS({defaultColor:e,rfId:t}),[e,t]),(r,o)=>!(r.length!==o.length||r.some((s,i)=>s.id!==o[i].id)));return B.createElement("defs",null,n.map(r=>B.createElement(FS,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Mg.displayName="MarkerDefinitions";var VS=z.memo(Mg);const BS=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),zg=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:o,noPanClassName:s,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:w,reconnectRadius:v,children:_,disableKeyboardA11y:h})=>{const{edgesFocusable:g,edgesUpdatable:x,elementsSelectable:y,width:S,height:b,connectionMode:P,nodeInternals:j,onError:I}=de(BS,Pe),D=RS(t,j,n);return S?B.createElement(B.Fragment,null,D.map(({level:U,edges:A,isMaxLevel:O})=>B.createElement("svg",{key:U,style:{zIndex:U},width:S,height:b,className:"react-flow__edges react-flow__container"},O&&B.createElement(VS,{defaultColor:e,rfId:r}),B.createElement("g",null,A.map(N=>{const[$,C,H]=Lf(j.get(N.source)),[T,E,M]=Lf(j.get(N.target));if(!H||!M)return null;let R=N.type||"default";o[R]||(I==null||I("011",en.error011(R)),R="default");const k=o[R]||o.default,F=P===In.Strict?E.target:(E.target??[]).concat(E.source??[]),V=Of(C.source,N.sourceHandle),L=Of(F,N.targetHandle),W=(V==null?void 0:V.position)||G.Bottom,q=(L==null?void 0:L.position)||G.Top,Z=!!(N.focusable||g&&typeof N.focusable>"u"),K=N.reconnectable||N.updatable,X=typeof f<"u"&&(K||x&&typeof K>"u");if(!V||!L)return I==null||I("008",en.error008(V,N)),null;const{sourceX:ee,sourceY:oe,targetX:ie,targetY:re}=$S($,V,W,T,L,q);return B.createElement(k,{key:N.id,id:N.id,className:Me([N.className,s]),type:R,data:N.data,selected:!!N.selected,animated:!!N.animated,hidden:!!N.hidden,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,style:N.style,source:N.source,target:N.target,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerEnd:N.markerEnd,markerStart:N.markerStart,sourceX:ee,sourceY:oe,targetX:ie,targetY:re,sourcePosition:W,targetPosition:q,elementsSelectable:y,onContextMenu:i,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:w,reconnectRadius:v,rfId:r,ariaLabel:N.ariaLabel,isFocusable:Z,isReconnectable:X,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth,disableKeyboardA11y:h})})))),_):null};zg.displayName="EdgeRenderer";var US=z.memo(zg);const WS=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function QS({children:e}){const t=de(WS);return B.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function qS(e){const t=ml(),n=z.useRef(!1);z.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const KS={[G.Left]:G.Right,[G.Right]:G.Left,[G.Top]:G.Bottom,[G.Bottom]:G.Top},Ag=({nodeId:e,handleType:t,style:n,type:r=dn.Bezier,CustomComponent:o,connectionStatus:s})=>{var b,P,j;const{fromNode:i,handleId:l,toX:a,toY:u,connectionMode:c}=de(z.useCallback(I=>({fromNode:I.nodeInternals.get(e),handleId:I.connectionHandleId,toX:(I.connectionPosition.x-I.transform[0])/I.transform[2],toY:(I.connectionPosition.y-I.transform[1])/I.transform[2],connectionMode:I.connectionMode}),[e]),Pe),d=(b=i==null?void 0:i[we])==null?void 0:b.handleBounds;let f=d==null?void 0:d[t];if(c===In.Loose&&(f=f||(d==null?void 0:d[t==="source"?"target":"source"])),!i||!f)return null;const m=l?f.find(I=>I.id===l):f[0],w=m?m.x+m.width/2:(i.width??0)/2,v=m?m.y+m.height/2:i.height??0,_=(((P=i.positionAbsolute)==null?void 0:P.x)??0)+w,h=(((j=i.positionAbsolute)==null?void 0:j.y)??0)+v,g=m==null?void 0:m.position,x=g?KS[g]:null;if(!g||!x)return null;if(o)return B.createElement(o,{connectionLineType:r,connectionLineStyle:n,fromNode:i,fromHandle:m,fromX:_,fromY:h,toX:a,toY:u,fromPosition:g,toPosition:x,connectionStatus:s});let y="";const S={sourceX:_,sourceY:h,sourcePosition:g,targetX:a,targetY:u,targetPosition:x};return r===dn.Bezier?[y]=og(S):r===dn.Step?[y]=pu({...S,borderRadius:0}):r===dn.SmoothStep?[y]=pu(S):r===dn.SimpleBezier?[y]=rg(S):y=`M${_},${h} ${a},${u}`,B.createElement("path",{d:y,fill:"none",className:"react-flow__connection-path",style:n})};Ag.displayName="ConnectionLine";const YS=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function XS({containerStyle:e,style:t,type:n,component:r}){const{nodeId:o,handleType:s,nodesConnectable:i,width:l,height:a,connectionStatus:u}=de(YS,Pe);return!(o&&s&&l&&i)?null:B.createElement("svg",{style:e,width:l,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},B.createElement("g",{className:Me(["react-flow__connection",u])},B.createElement(Ag,{nodeId:o,handleType:s,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Hf(e,t){return z.useRef(null),Ce(),z.useMemo(()=>t(e),[e])}const Rg=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:s,onNodeClick:i,onEdgeClick:l,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:w,onSelectionStart:v,onSelectionEnd:_,connectionLineType:h,connectionLineStyle:g,connectionLineComponent:x,connectionLineContainerStyle:y,selectionKeyCode:S,selectionOnDrag:b,selectionMode:P,multiSelectionKeyCode:j,panActivationKeyCode:I,zoomActivationKeyCode:D,deleteKeyCode:U,onlyRenderVisibleElements:A,elementsSelectable:O,selectNodesOnDrag:N,defaultViewport:$,translateExtent:C,minZoom:H,maxZoom:T,preventScrolling:E,defaultMarkerColor:M,zoomOnScroll:R,zoomOnPinch:k,panOnScroll:F,panOnScrollSpeed:V,panOnScrollMode:L,zoomOnDoubleClick:W,panOnDrag:q,onPaneClick:Z,onPaneMouseEnter:K,onPaneMouseMove:X,onPaneMouseLeave:ee,onPaneScroll:oe,onPaneContextMenu:ie,onEdgeContextMenu:re,onEdgeMouseEnter:le,onEdgeMouseMove:Le,onEdgeMouseLeave:ae,onReconnect:J,onReconnectStart:Fe,onReconnectEnd:Dt,reconnectRadius:ro,noDragClassName:ar,noWheelClassName:ur,noPanClassName:Ot,elevateEdgesOnSelect:cr,disableKeyboardA11y:$n,nodeOrigin:Mn,nodeExtent:dr,rfId:fr})=>{const oo=Hf(e,kS),ze=Hf(t,TS);return qS(s),B.createElement(SS,{onPaneClick:Z,onPaneMouseEnter:K,onPaneMouseMove:X,onPaneMouseLeave:ee,onPaneContextMenu:ie,onPaneScroll:oe,deleteKeyCode:U,selectionKeyCode:S,selectionOnDrag:b,selectionMode:P,onSelectionStart:v,onSelectionEnd:_,multiSelectionKeyCode:j,panActivationKeyCode:I,zoomActivationKeyCode:D,elementsSelectable:O,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:R,zoomOnPinch:k,zoomOnDoubleClick:W,panOnScroll:F,panOnScrollSpeed:V,panOnScrollMode:L,panOnDrag:q,defaultViewport:$,translateExtent:C,minZoom:H,maxZoom:T,onSelectionContextMenu:w,preventScrolling:E,noDragClassName:ar,noWheelClassName:ur,noPanClassName:Ot,disableKeyboardA11y:$n},B.createElement(QS,null,B.createElement(US,{edgeTypes:ze,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:A,onEdgeContextMenu:re,onEdgeMouseEnter:le,onEdgeMouseMove:Le,onEdgeMouseLeave:ae,onReconnect:J,onReconnectStart:Fe,onReconnectEnd:Dt,reconnectRadius:ro,defaultMarkerColor:M,noPanClassName:Ot,elevateEdgesOnSelect:!!cr,disableKeyboardA11y:$n,rfId:fr},B.createElement(XS,{style:g,type:h,component:x,containerStyle:y})),B.createElement("div",{className:"react-flow__edgelabel-renderer"}),B.createElement(bS,{nodeTypes:oo,onNodeClick:i,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,selectNodesOnDrag:N,onlyRenderVisibleElements:A,noPanClassName:Ot,noDragClassName:ar,disableKeyboardA11y:$n,nodeOrigin:Mn,nodeExtent:dr,rfId:fr})))};Rg.displayName="GraphView";var GS=z.memo(Rg);const xu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],rn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:xu,nodeExtent:xu,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:In.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:_N,isValidConnection:void 0},ZS=()=>Fv((e,t)=>({...rn,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:s}=t();e({nodeInternals:ta(n,r,o,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(o=>({...r,...o}))})},setDefaultNodesAndEdges:(n,r)=>{const o=typeof n<"u",s=typeof r<"u",i=o?ta(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:s?r:[],hasDefaultNodes:o,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:s,fitViewOnInitDone:i,fitViewOnInitOptions:l,domNode:a,nodeOrigin:u}=t(),c=a==null?void 0:a.querySelector(".react-flow__viewport");if(!c)return;const d=window.getComputedStyle(c),{m22:f}=new window.DOMMatrixReadOnly(d.transform),m=n.reduce((v,_)=>{const h=o.get(_.id);if(h!=null&&h.hidden)o.set(h.id,{...h,[we]:{...h[we],handleBounds:void 0}});else if(h){const g=Cc(_.nodeElement);!!(g.width&&g.height&&(h.width!==g.width||h.height!==g.height||_.forceUpdate))&&(o.set(h.id,{...h,[we]:{...h[we],handleBounds:{source:zf(".source",_.nodeElement,f,u),target:zf(".target",_.nodeElement,f,u)}},...g}),v.push({id:h.id,type:"dimensions",dimensions:g}))}return v},[]);Sg(o,u);const w=i||s&&!i&&Eg(t,{initial:!0,...l});e({nodeInternals:new Map(o),fitViewOnInitDone:w}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,o=!1)=>{const{triggerNodeChanges:s}=t(),i=n.map(l=>{const a={id:l.id,type:"position",dragging:o};return r&&(a.positionAbsolute=l.positionAbsolute,a.position=l.position),a});s(i)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:s,nodeOrigin:i,getNodes:l,elevateNodesOnSelect:a}=t();if(n!=null&&n.length){if(s){const u=_g(n,l()),c=ta(u,o,i,a);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:s}=t();let i,l=null;r?i=n.map(a=>an(a,!0)):(i=Tr(s(),n),l=Tr(o,[])),Us({changedNodes:i,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:s}=t();let i,l=null;r?i=n.map(a=>an(a,!0)):(i=Tr(o,n),l=Tr(s(),[])),Us({changedNodes:l,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:o,getNodes:s}=t(),i=n||s(),l=r||o,a=i.map(c=>(c.selected=!1,an(c.id,!1))),u=l.map(c=>an(c.id,!1));Us({changedNodes:a,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r==null||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r==null||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),s=r().filter(l=>l.selected).map(l=>an(l.id,!1)),i=n.filter(l=>l.selected).map(l=>an(l.id,!1));Us({changedNodes:s,changedEdges:i,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(o=>{o.positionAbsolute=bc(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:o,height:s,d3Zoom:i,d3Selection:l,translateExtent:a}=t();if(!i||!l||!n.x&&!n.y)return!1;const u=Kt.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[o,s]],d=i==null?void 0:i.constrain()(u,c,a);return i.transform(l,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:rn.connectionNodeId,connectionHandleId:rn.connectionHandleId,connectionHandleType:rn.connectionHandleType,connectionStatus:rn.connectionStatus,connectionStartHandle:rn.connectionStartHandle,connectionEndHandle:rn.connectionEndHandle}),reset:()=>e({...rn})}),Object.is),Ac=({children:e})=>{const t=z.useRef(null);return t.current||(t.current=ZS()),B.createElement(xN,{value:t.current},e)};Ac.displayName="ReactFlowProvider";const Dg=({children:e})=>z.useContext(dl)?B.createElement(B.Fragment,null,e):B.createElement(Ac,null,e);Dg.displayName="ReactFlowWrapper";const JS={input:mg,default:gu,output:yg,group:Mc},eE={default:Fi,straight:jc,step:Pc,smoothstep:pl,simplebezier:Ic},tE=[0,0],nE=[15,15],rE={x:0,y:0,zoom:1},oE={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Og=z.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:s=JS,edgeTypes:i=eE,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onConnect:m,onConnectStart:w,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:h,onNodeMouseEnter:g,onNodeMouseMove:x,onNodeMouseLeave:y,onNodeContextMenu:S,onNodeDoubleClick:b,onNodeDragStart:P,onNodeDrag:j,onNodeDragStop:I,onNodesDelete:D,onEdgesDelete:U,onSelectionChange:A,onSelectionDragStart:O,onSelectionDrag:N,onSelectionDragStop:$,onSelectionContextMenu:C,onSelectionStart:H,onSelectionEnd:T,connectionMode:E=In.Strict,connectionLineType:M=dn.Bezier,connectionLineStyle:R,connectionLineComponent:k,connectionLineContainerStyle:F,deleteKeyCode:V="Backspace",selectionKeyCode:L="Shift",selectionOnDrag:W=!1,selectionMode:q=ls.Full,panActivationKeyCode:Z="Space",multiSelectionKeyCode:K=Oi()?"Meta":"Control",zoomActivationKeyCode:X=Oi()?"Meta":"Control",snapToGrid:ee=!1,snapGrid:oe=nE,onlyRenderVisibleElements:ie=!1,selectNodesOnDrag:re=!0,nodesDraggable:le,nodesConnectable:Le,nodesFocusable:ae,nodeOrigin:J=tE,edgesFocusable:Fe,edgesUpdatable:Dt,elementsSelectable:ro,defaultViewport:ar=rE,minZoom:ur=.5,maxZoom:Ot=2,translateExtent:cr=xu,preventScrolling:$n=!0,nodeExtent:Mn,defaultMarkerColor:dr="#b1b1b7",zoomOnScroll:fr=!0,zoomOnPinch:oo=!0,panOnScroll:ze=!1,panOnScrollSpeed:gt=.5,panOnScrollMode:zn=qn.Free,zoomOnDoubleClick:An=!0,panOnDrag:Rn=!0,onPaneClick:Lt,onPaneMouseEnter:Pt,onPaneMouseMove:so,onPaneMouseLeave:wl,onPaneScroll:io,onPaneContextMenu:Nl,children:Lc,onEdgeContextMenu:Dn,onEdgeDoubleClick:c0,onEdgeMouseEnter:d0,onEdgeMouseMove:f0,onEdgeMouseLeave:p0,onEdgeUpdate:h0,onEdgeUpdateStart:m0,onEdgeUpdateEnd:g0,onReconnect:y0,onReconnectStart:x0,onReconnectEnd:v0,reconnectRadius:w0=10,edgeUpdaterRadius:N0=10,onNodesChange:S0,onEdgesChange:E0,noDragClassName:k0="nodrag",noWheelClassName:_0="nowheel",noPanClassName:Fc="nopan",fitView:C0=!1,fitViewOptions:b0,connectOnClick:I0=!0,attributionPosition:P0,proOptions:j0,defaultEdgeOptions:T0,elevateNodesOnSelect:$0=!0,elevateEdgesOnSelect:M0=!1,disableKeyboardA11y:Hc=!1,autoPanOnConnect:z0=!0,autoPanOnNodeDrag:A0=!0,connectionRadius:R0=20,isValidConnection:D0,onError:O0,style:L0,id:Vc,nodeDragThreshold:F0,...H0},V0)=>{const Sl=Vc||"1";return B.createElement("div",{...H0,style:{...L0,...oE},ref:V0,className:Me(["react-flow",o]),"data-testid":"rf__wrapper",id:Vc},B.createElement(Dg,null,B.createElement(GS,{onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:g,onNodeMouseMove:x,onNodeMouseLeave:y,onNodeContextMenu:S,onNodeDoubleClick:b,nodeTypes:s,edgeTypes:i,connectionLineType:M,connectionLineStyle:R,connectionLineComponent:k,connectionLineContainerStyle:F,selectionKeyCode:L,selectionOnDrag:W,selectionMode:q,deleteKeyCode:V,multiSelectionKeyCode:K,panActivationKeyCode:Z,zoomActivationKeyCode:X,onlyRenderVisibleElements:ie,selectNodesOnDrag:re,defaultViewport:ar,translateExtent:cr,minZoom:ur,maxZoom:Ot,preventScrolling:$n,zoomOnScroll:fr,zoomOnPinch:oo,zoomOnDoubleClick:An,panOnScroll:ze,panOnScrollSpeed:gt,panOnScrollMode:zn,panOnDrag:Rn,onPaneClick:Lt,onPaneMouseEnter:Pt,onPaneMouseMove:so,onPaneMouseLeave:wl,onPaneScroll:io,onPaneContextMenu:Nl,onSelectionContextMenu:C,onSelectionStart:H,onSelectionEnd:T,onEdgeContextMenu:Dn,onEdgeDoubleClick:c0,onEdgeMouseEnter:d0,onEdgeMouseMove:f0,onEdgeMouseLeave:p0,onReconnect:y0??h0,onReconnectStart:x0??m0,onReconnectEnd:v0??g0,reconnectRadius:w0??N0,defaultMarkerColor:dr,noDragClassName:k0,noWheelClassName:_0,noPanClassName:Fc,elevateEdgesOnSelect:M0,rfId:Sl,disableKeyboardA11y:Hc,nodeOrigin:J,nodeExtent:Mn}),B.createElement(KN,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:w,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:h,nodesDraggable:le,nodesConnectable:Le,nodesFocusable:ae,edgesFocusable:Fe,edgesUpdatable:Dt,elementsSelectable:ro,elevateNodesOnSelect:$0,minZoom:ur,maxZoom:Ot,nodeExtent:Mn,onNodesChange:S0,onEdgesChange:E0,snapToGrid:ee,snapGrid:oe,connectionMode:E,translateExtent:cr,connectOnClick:I0,defaultEdgeOptions:T0,fitView:C0,fitViewOptions:b0,onNodesDelete:D,onEdgesDelete:U,onNodeDragStart:P,onNodeDrag:j,onNodeDragStop:I,onSelectionDrag:N,onSelectionDragStart:O,onSelectionDragStop:$,noPanClassName:Fc,nodeOrigin:J,rfId:Sl,autoPanOnConnect:z0,autoPanOnNodeDrag:A0,onError:O0,connectionRadius:R0,isValidConnection:D0,nodeDragThreshold:F0}),B.createElement(QN,{onSelectionChange:A}),Lc,B.createElement(wN,{proOptions:j0,position:P0}),B.createElement(JN,{rfId:Sl,disableKeyboardA11y:Hc})))});Og.displayName="ReactFlow";function Lg(e){return t=>{const[n,r]=z.useState(t),o=z.useCallback(s=>r(i=>e(s,i)),[]);return[n,r,o]}}const sE=Lg(_g),iE=Lg(pS),Fg=({id:e,x:t,y:n,width:r,height:o,style:s,color:i,strokeColor:l,strokeWidth:a,className:u,borderRadius:c,shapeRendering:d,onClick:f,selected:m})=>{const{background:w,backgroundColor:v}=s||{},_=i||w||v;return B.createElement("rect",{className:Me(["react-flow__minimap-node",{selected:m},u]),x:t,y:n,rx:c,ry:c,width:r,height:o,fill:_,stroke:l,strokeWidth:a,shapeRendering:d,onClick:f?h=>f(h,e):void 0})};Fg.displayName="MiniMapNode";var lE=z.memo(Fg);const aE=e=>e.nodeOrigin,uE=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),sa=e=>e instanceof Function?e:()=>e;function cE({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:s=lE,onClick:i}){const l=de(uE,Pe),a=de(aE),u=sa(t),c=sa(e),d=sa(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return B.createElement(B.Fragment,null,l.map(m=>{const{x:w,y:v}=Gn(m,a).positionAbsolute;return B.createElement(s,{key:m.id,x:w,y:v,width:m.width,height:m.height,style:m.style,selected:m.selected,className:d(m),color:u(m),borderRadius:r,strokeColor:c(m),strokeWidth:o,shapeRendering:f,onClick:i,id:m.id})}))}var dE=z.memo(cE);const fE=200,pE=150,hE=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?EN(hl(t,e.nodeOrigin),n):n,rfId:e.rfId}},mE="react-flow__minimap-desc";function Hg({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:i=2,nodeComponent:l,maskColor:a="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:d="bottom-right",onClick:f,onNodeClick:m,pannable:w=!1,zoomable:v=!1,ariaLabel:_="React Flow mini map",inversePan:h=!1,zoomStep:g=10,offsetScale:x=5}){const y=Ce(),S=z.useRef(null),{boundingRect:b,viewBB:P,rfId:j}=de(hE,Pe),I=(e==null?void 0:e.width)??fE,D=(e==null?void 0:e.height)??pE,U=b.width/I,A=b.height/D,O=Math.max(U,A),N=O*I,$=O*D,C=x*O,H=b.x-(N-b.width)/2-C,T=b.y-($-b.height)/2-C,E=N+C*2,M=$+C*2,R=`${mE}-${j}`,k=z.useRef(0);k.current=O,z.useEffect(()=>{if(S.current){const L=ut(S.current),W=K=>{const{transform:X,d3Selection:ee,d3Zoom:oe}=y.getState();if(K.sourceEvent.type!=="wheel"||!ee||!oe)return;const ie=-K.sourceEvent.deltaY*(K.sourceEvent.deltaMode===1?.05:K.sourceEvent.deltaMode?1:.002)*g,re=X[2]*Math.pow(2,ie);oe.scaleTo(ee,re)},q=K=>{const{transform:X,d3Selection:ee,d3Zoom:oe,translateExtent:ie,width:re,height:le}=y.getState();if(K.sourceEvent.type!=="mousemove"||!ee||!oe)return;const Le=k.current*Math.max(1,X[2])*(h?-1:1),ae={x:X[0]-K.sourceEvent.movementX*Le,y:X[1]-K.sourceEvent.movementY*Le},J=[[0,0],[re,le]],Fe=Kt.translate(ae.x,ae.y).scale(X[2]),Dt=oe.constrain()(Fe,J,ie);oe.transform(ee,Dt)},Z=qm().on("zoom",w?q:null).on("zoom.wheel",v?W:null);return L.call(Z),()=>{L.on("zoom",null)}}},[w,v,h,g]);const F=f?L=>{const W=wt(L);f(L,{x:W[0],y:W[1]})}:void 0,V=m?(L,W)=>{const q=y.getState().nodeInternals.get(W);m(L,q)}:void 0;return B.createElement(fl,{position:d,style:e,className:Me(["react-flow__minimap",t]),"data-testid":"rf__minimap"},B.createElement("svg",{width:I,height:D,viewBox:`${H} ${T} ${E} ${M}`,role:"img","aria-labelledby":R,ref:S,onClick:F},_&&B.createElement("title",{id:R},_),B.createElement(dE,{onClick:V,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:o,nodeStrokeWidth:i,nodeComponent:l}),B.createElement("path",{className:"react-flow__minimap-mask",d:`M${H-C},${T-C}h${E+C*2}v${M+C*2}h${-E-C*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fill:a,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}Hg.displayName="MiniMap";var gE=z.memo(Hg);function yE(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},B.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function xE(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},B.createElement("path",{d:"M0 0h32v4.2H0z"}))}function vE(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},B.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function wE(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},B.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function NE(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},B.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Io=({children:e,className:t,...n})=>B.createElement("button",{type:"button",className:Me(["react-flow__controls-button",t]),...n},e);Io.displayName="ControlButton";const SE=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Vg=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:s,onZoomOut:i,onFitView:l,onInteractiveChange:a,className:u,children:c,position:d="bottom-left"})=>{const f=Ce(),[m,w]=z.useState(!1),{isInteractive:v,minZoomReached:_,maxZoomReached:h}=de(SE,Pe),{zoomIn:g,zoomOut:x,fitView:y}=ml();if(z.useEffect(()=>{w(!0)},[]),!m)return null;const S=()=>{g(),s==null||s()},b=()=>{x(),i==null||i()},P=()=>{y(o),l==null||l()},j=()=>{f.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),a==null||a(!v)};return B.createElement(fl,{className:Me(["react-flow__controls",u]),position:d,style:e,"data-testid":"rf__controls"},t&&B.createElement(B.Fragment,null,B.createElement(Io,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:h},B.createElement(yE,null)),B.createElement(Io,{onClick:b,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:_},B.createElement(xE,null))),n&&B.createElement(Io,{className:"react-flow__controls-fitview",onClick:P,title:"fit view","aria-label":"fit view"},B.createElement(vE,null)),r&&B.createElement(Io,{className:"react-flow__controls-interactive",onClick:j,title:"toggle interactivity","aria-label":"toggle interactivity"},v?B.createElement(NE,null):B.createElement(wE,null)),c)};Vg.displayName="Controls";var EE=z.memo(Vg),pt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(pt||(pt={}));function kE({color:e,dimensions:t,lineWidth:n}){return B.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function _E({color:e,radius:t}){return B.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const CE={[pt.Dots]:"#91919a",[pt.Lines]:"#eee",[pt.Cross]:"#e2e2e2"},bE={[pt.Dots]:1,[pt.Lines]:1,[pt.Cross]:6},IE=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Bg({id:e,variant:t=pt.Dots,gap:n=20,size:r,lineWidth:o=1,offset:s=2,color:i,style:l,className:a}){const u=z.useRef(null),{transform:c,patternId:d}=de(IE,Pe),f=i||CE[t],m=r||bE[t],w=t===pt.Dots,v=t===pt.Cross,_=Array.isArray(n)?n:[n,n],h=[_[0]*c[2]||1,_[1]*c[2]||1],g=m*c[2],x=v?[g,g]:h,y=w?[g/s,g/s]:[x[0]/s,x[1]/s];return B.createElement("svg",{className:Me(["react-flow__background",a]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},B.createElement("pattern",{id:d+e,x:c[0]%h[0],y:c[1]%h[1],width:h[0],height:h[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${y[0]},-${y[1]})`},w?B.createElement(_E,{color:f,radius:g/s}):B.createElement(kE,{dimensions:x,color:f,lineWidth:o})),B.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}Bg.displayName="Background";var PE=z.memo(Bg);const Ug={},{useDebugValue:jE}=B,{useSyncExternalStoreWithSelector:TE}=ym;let Vf=!1;const $E=e=>e;function ME(e,t=$E,n){(Ug?"production":void 0)!=="production"&&n&&!Vf&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Vf=!0);const r=TE(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return jE(r),r}const zE=e=>{(Ug?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?xm(e):e,n=(r,o)=>ME(t,r,o);return Object.assign(n,t),n},AE=e=>zE;var Wg=Symbol.for("immer-nothing"),Bf=Symbol.for("immer-draftable"),nt=Symbol.for("immer-state");function Et(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Zr=Object.getPrototypeOf;function Jr(e){return!!e&&!!e[nt]}function or(e){var t;return e?Qg(e)||Array.isArray(e)||!!e[Bf]||!!((t=e.constructor)!=null&&t[Bf])||yl(e)||xl(e):!1}var RE=Object.prototype.constructor.toString();function Qg(e){if(!e||typeof e!="object")return!1;const t=Zr(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===RE}function Hi(e,t){gl(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function gl(e){const t=e[nt];return t?t.type_:Array.isArray(e)?1:yl(e)?2:xl(e)?3:0}function vu(e,t){return gl(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function qg(e,t,n){const r=gl(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function DE(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function yl(e){return e instanceof Map}function xl(e){return e instanceof Set}function Hn(e){return e.copy_||e.base_}function wu(e,t){if(yl(e))return new Map(e);if(xl(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Qg(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[nt];let o=Reflect.ownKeys(r);for(let s=0;s<o.length;s++){const i=o[s],l=r[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[i]})}return Object.create(Zr(e),r)}else{const r=Zr(e);if(r!==null&&n)return{...e};const o=Object.create(r);return Object.assign(o,e)}}function Rc(e,t=!1){return vl(e)||Jr(e)||!or(e)||(gl(e)>1&&(e.set=e.add=e.clear=e.delete=OE),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Rc(r,!0))),e}function OE(){Et(2)}function vl(e){return Object.isFrozen(e)}var LE={};function sr(e){const t=LE[e];return t||Et(0,e),t}var us;function Kg(){return us}function FE(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Uf(e,t){t&&(sr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Nu(e){Su(e),e.drafts_.forEach(HE),e.drafts_=null}function Su(e){e===us&&(us=e.parent_)}function Wf(e){return us=FE(us,e)}function HE(e){const t=e[nt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Qf(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[nt].modified_&&(Nu(t),Et(4)),or(e)&&(e=Vi(t,e),t.parent_||Bi(t,e)),t.patches_&&sr("Patches").generateReplacementPatches_(n[nt].base_,e,t.patches_,t.inversePatches_)):e=Vi(t,n,[]),Nu(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Wg?e:void 0}function Vi(e,t,n){if(vl(t))return t;const r=t[nt];if(!r)return Hi(t,(o,s)=>qf(e,r,t,o,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Bi(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let s=o,i=!1;r.type_===3&&(s=new Set(o),o.clear(),i=!0),Hi(s,(l,a)=>qf(e,r,o,l,a,n,i)),Bi(e,o,!1),n&&e.patches_&&sr("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function qf(e,t,n,r,o,s,i){if(Jr(o)){const l=s&&t&&t.type_!==3&&!vu(t.assigned_,r)?s.concat(r):void 0,a=Vi(e,o,l);if(qg(n,r,a),Jr(a))e.canAutoFreeze_=!1;else return}else i&&n.add(o);if(or(o)&&!vl(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Vi(e,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Bi(e,o)}}function Bi(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Rc(t,n)}function VE(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Kg(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,s=Dc;n&&(o=[r],s=cs);const{revoke:i,proxy:l}=Proxy.revocable(o,s);return r.draft_=l,r.revoke_=i,l}var Dc={get(e,t){if(t===nt)return e;const n=Hn(e);if(!vu(n,t))return BE(e,n,t);const r=n[t];return e.finalized_||!or(r)?r:r===ia(e.base_,t)?(la(e),e.copy_[t]=ku(r,e)):r},has(e,t){return t in Hn(e)},ownKeys(e){return Reflect.ownKeys(Hn(e))},set(e,t,n){const r=Yg(Hn(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=ia(Hn(e),t),s=o==null?void 0:o[nt];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(DE(n,o)&&(n!==void 0||vu(e.base_,t)))return!0;la(e),Eu(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ia(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,la(e),Eu(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Hn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Et(11)},getPrototypeOf(e){return Zr(e.base_)},setPrototypeOf(){Et(12)}},cs={};Hi(Dc,(e,t)=>{cs[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});cs.deleteProperty=function(e,t){return cs.set.call(this,e,t,void 0)};cs.set=function(e,t,n){return Dc.set.call(this,e[0],t,n,e[0])};function ia(e,t){const n=e[nt];return(n?Hn(n):e)[t]}function BE(e,t,n){var o;const r=Yg(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function Yg(e,t){if(!(t in e))return;let n=Zr(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Zr(n)}}function Eu(e){e.modified_||(e.modified_=!0,e.parent_&&Eu(e.parent_))}function la(e){e.copy_||(e.copy_=wu(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var UE=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const i=this;return function(a=s,...u){return i.produce(a,c=>n.call(this,c,...u))}}typeof n!="function"&&Et(6),r!==void 0&&typeof r!="function"&&Et(7);let o;if(or(t)){const s=Wf(this),i=ku(t,void 0);let l=!0;try{o=n(i),l=!1}finally{l?Nu(s):Su(s)}return Uf(s,r),Qf(o,s)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===Wg&&(o=void 0),this.autoFreeze_&&Rc(o,!0),r){const s=[],i=[];sr("Patches").generateReplacementPatches_(t,o,s,i),r(s,i)}return o}else Et(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...l)=>this.produceWithPatches(i,a=>t(a,...l));let r,o;return[this.produce(t,n,(i,l)=>{r=i,o=l}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){or(e)||Et(8),Jr(e)&&(e=WE(e));const t=Wf(this),n=ku(e,void 0);return n[nt].isManual_=!0,Su(t),n}finishDraft(e,t){const n=e&&e[nt];(!n||!n.isManual_)&&Et(9);const{scope_:r}=n;return Uf(r,t),Qf(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=sr("Patches").applyPatches_;return Jr(e)?r(e,t):this.produce(e,o=>r(o,t))}};function ku(e,t){const n=yl(e)?sr("MapSet").proxyMap_(e,t):xl(e)?sr("MapSet").proxySet_(e,t):VE(e,t);return(t?t.scope_:Kg()).drafts_.push(n),n}function WE(e){return Jr(e)||Et(10,e),Xg(e)}function Xg(e){if(!or(e)||vl(e))return e;const t=e[nt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=wu(e,t.scope_.immer_.useStrictShallowCopy_)}else n=wu(e,!0);return Hi(n,(r,o)=>{qg(n,r,Xg(o))}),t&&(t.finalized_=!1),n}var rt=new UE,QE=rt.produce;rt.produceWithPatches.bind(rt);rt.setAutoFreeze.bind(rt);rt.setUseStrictShallowCopy.bind(rt);rt.applyPatches.bind(rt);rt.createDraft.bind(rt);rt.finishDraft.bind(rt);const qE=e=>(t,n,r)=>(r.setState=(o,s,...i)=>{const l=typeof o=="function"?QE(o):o;return t(l,s,...i)},e(r.setState,n,r)),KE=qE,Vn=class Vn{constructor(){vs(this,"counters",new Map);vs(this,"pathRegistry",{nodeToPathsMap:new Map,pathToNodeMap:new Map})}static getInstance(){return Vn.instance||(Vn.instance=new Vn),Vn.instance}generateQuestionPathId(t,n,r){return t?`${t.pathId}-Q${n}`:`${r}-Q${n}`}generateAnswerPathId(t,n){return`${t.pathId}-A${n}`}generateOutcomePathId(t,n){return`${t.pathId}-E${n}`}generateVariantPathId(t,n){return`${t}-V${n+1}`}parseVariantFromPath(t){const n=t.match(/(.*-A\d+)-V(\d+)/);return n?{answerPath:n[1],variantNumber:parseInt(n[2])}:null}parsePathId(t){const n=t.split("-"),r=n[0],o=[];for(let s=1;s<n.length;s++){const i=n[s];i.startsWith("Q")?o.push({type:"Q",number:parseInt(i.substring(1))}):i.startsWith("A")&&o.push({type:"A",number:parseInt(i.substring(1))})}return{topic:r,segments:o}}parsePathIdWithVariants(t){const n=t.split("-"),r=n[0],o=[];for(let s=1;s<n.length;s++){const i=n[s];if(i.startsWith("Q"))o.push({type:"Q",number:parseInt(i.substring(1))});else if(i.startsWith("A"))o.push({type:"A",number:parseInt(i.substring(1))});else if(i.startsWith("V")&&i.includes("+V")){const l=i.substring(1).split("+V").map(a=>parseInt(a));o.push({type:"VC",numbers:l})}else i.startsWith("V")?o.push({type:"V",number:parseInt(i.substring(1))}):i.startsWith("E")&&o.push({type:"E",number:parseInt(i.substring(1))})}return{topic:r,segments:o}}getPathLevel(t){return this.parsePathId(t).segments.filter(r=>r.type==="Q").length}getParentPathId(t){const n=t.split("-");return n.length<=2?null:n.slice(0,-1).join("-")}generateEdgeId(t,n,r){const o=r?`-${r}`:"";return`edge-${t}-${n}${o}`}registerNode(t,n){this.pathRegistry.pathToNodeMap.set(n,t);const r=this.pathRegistry.nodeToPathsMap.get(t)||[];r.includes(n)||this.pathRegistry.nodeToPathsMap.set(t,[...r,n])}getNodePaths(t){return this.pathRegistry.nodeToPathsMap.get(t)||[]}getNodeForPath(t){return this.pathRegistry.pathToNodeMap.get(t)||null}recalculatePathIds(t,n,r){var m,w,v,_,h,g,x,y;const o={nodeToPathsMap:new Map,pathToNodeMap:new Map},s=new Map,i=new Map,l=new Map;t.forEach(S=>{s.set(S.id,S)}),n.forEach(S=>{const b=i.get(S.source)||[];b.push(S),i.set(S.source,b);const P=l.get(S.target)||[];P.push(S),l.set(S.target,P)});const a=t.filter(S=>S.type==="question"&&!n.some(b=>b.target===S.id));this.counters.clear();const u=new Map;t.forEach(S=>{u.set(S.id,{...S,data:{...S.data,pathIds:[],topic:r}})});const c=[];a.forEach(S=>{c.push({nodeId:S.id,parentPathId:null,level:1})});const d=new Set;for(;c.length>0;){const{nodeId:S,parentPathId:b,level:P}=c.shift(),j=u.get(S);if(!j)continue;let I;if(j.type==="question"){const N=this.getQuestionNumberForNode(j.id,b,t);b===null?I=`${r}-Q${N}`:I=`${b}-Q${N}`}else if(j.type==="answer"){const N=this.getAnswerNumberForNode(j.id,b||"STANDALONE",t);if(I=`${b||"STANDALONE"}-A${N}`,((m=j.data)==null?void 0:m.answerType)==="single"){const C=`${S}:${I}`;if(!d.has(C)){d.add(C);const H=u.get(S),T=H.data.pathIds||[];if(!T.includes(I)){u.set(S,{...H,data:{...H.data,pathId:I,primaryPathId:I,pathIds:[...T,I],isRoot:!1,questionLevel:P}}),o.pathToNodeMap.set(I,S);const E=o.nodeToPathsMap.get(S)||[];E.includes(I)||o.nodeToPathsMap.set(S,[...E,I])}}}else{const C=u.get(S),H=C.data.pathIds||[],T=[];if(((w=j.data)==null?void 0:w.answerType)==="multiple")(((v=j.data)==null?void 0:v.variants)||[]).forEach((R,k)=>{const F=`${I}-V${k+1}`;H.includes(F)||T.push(F)});else if(((_=j.data)==null?void 0:_.answerType)==="combinations"){const R=(((h=j.data)==null?void 0:h.variants)||[]).length;for(let k=1;k<Math.pow(2,R);k++){const F=[];for(let L=0;L<R;L++)k&1<<L&&F.push(L+1);const V=`${I}-V${F.join("+V")}`;H.includes(V)||T.push(V)}}const E=[...H,...T];u.set(S,{...C,data:{...C.data,pathId:I,pathIds:E,isRoot:!1,questionLevel:P}}),T.forEach(M=>{o.pathToNodeMap.set(M,S);const R=o.nodeToPathsMap.get(S)||[];R.includes(M)||o.nodeToPathsMap.set(S,[...R,M])})}const $=i.get(S)||[];((g=j.data)==null?void 0:g.answerType)==="single"?$.forEach(C=>{c.push({nodeId:C.target,parentPathId:I,level:P+1,sourceHandle:C.sourceHandle||void 0,sourceNodeId:S})}):((x=j.data)==null?void 0:x.answerType)==="multiple"?$.forEach(C=>{if(C.sourceHandle&&C.sourceHandle.startsWith("variant-")){const H=parseInt(C.sourceHandle.replace("variant-","")),T=`${I}-V${H+1}`;c.push({nodeId:C.target,parentPathId:T,level:P+1,sourceHandle:C.sourceHandle||void 0,sourceNodeId:S})}}):((y=j.data)==null?void 0:y.answerType)==="combinations"&&$.forEach(C=>{var H;if(C.sourceHandle&&C.sourceHandle.startsWith("combination-")){const T=C.sourceHandle.replace("combination-",""),E=((H=j.data)==null?void 0:H.variants)||[],M=[],R=E.length;for(let F=1;F<Math.pow(2,R);F++){const V=[];for(let W=0;W<R;W++)F&1<<W&&V.push(W+1);const L={id:`combo-${F}`,variantIndices:V};M.push(L)}const k=M.find(F=>F.id===T);if(k){const F=`${I}-V${k.variantIndices.join("+V")}`;c.push({nodeId:C.target,parentPathId:F,level:P+1,sourceHandle:C.sourceHandle||void 0,sourceNodeId:S})}}});continue}else if(j.type==="outcome"){const N=this.getOutcomeNumberForNode(j.id,b||"STANDALONE",t);I=`${b||"STANDALONE"}-E${N}`}else I=`${b||"STANDALONE"}-NODE`;const D=`${S}:${I}`;if(d.has(D))continue;d.add(D);const U=u.get(S),A=U.data.pathIds||[];if(!A.includes(I)){const N=[...A,I],$=U.data.primaryPathId,C=!$||I.length<($||"").length;u.set(S,{...U,data:{...U.data,pathId:C?I:U.data.pathId||I,primaryPathId:C?I:$||I,pathIds:N,isRoot:b===null&&j.type==="question",questionLevel:P}})}o.pathToNodeMap.set(I,S);const O=o.nodeToPathsMap.get(S)||[];O.includes(I)||o.nodeToPathsMap.set(S,[...O,I]),j.type!=="answer"&&(i.get(S)||[]).forEach($=>{if(u.get($.target)){const H=j.type==="question"?P:P+1;c.push({nodeId:$.target,parentPathId:I,level:H,sourceHandle:$.sourceHandle||void 0,sourceNodeId:S})}})}return t.forEach(S=>{var P,j;const b=u.get(S.id);if(b&&(!b.data.pathIds||b.data.pathIds.length===0)){if(S.type==="answer"&&(((P=S.data)==null?void 0:P.answerType)==="multiple"||((j=S.data)==null?void 0:j.answerType)==="combinations"))return;let I;S.type==="question"?I=`ORPHAN-Q${this.getQuestionNumberForNode(S.id,"ORPHAN",t)}`:S.type==="answer"?I=`ORPHAN-A${this.getAnswerNumberForNode(S.id,"ORPHAN",t)}`:S.type==="outcome"?I=`ORPHAN-E${this.getOutcomeNumberForNode(S.id,"ORPHAN",t)}`:I="ORPHAN-NODE";const D=`${S.id}:${I}`;if(!d.has(D)){d.add(D);const U=u.get(S.id);u.set(S.id,{...U,data:{...U.data,pathId:I,primaryPathId:I,pathIds:[I],isRoot:!1,questionLevel:1}}),o.pathToNodeMap.set(I,S.id),o.nodeToPathsMap.set(S.id,[I])}}}),this.pathRegistry=o,{nodes:Array.from(u.values()),registry:o}}getQuestionNumberForNode(t,n,r){return r.filter(l=>l.type==="question").sort((l,a)=>l.id.localeCompare(a.id)).findIndex(l=>l.id===t)+1}getAnswerNumberForNode(t,n,r){return r.filter(l=>l.type==="answer").sort((l,a)=>l.id.localeCompare(a.id)).findIndex(l=>l.id===t)+1}getOutcomeNumberForNode(t,n,r){return r.filter(l=>l.type==="outcome").sort((l,a)=>l.id.localeCompare(a.id)).findIndex(l=>l.id===t)+1}getNextQuestionNumber(t){const n="Q-NEXT",r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}getNextAnswerNumber(t){const n="A-NEXT",r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}getNextOutcomeNumber(t){const n="E-NEXT",r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}reset(){this.counters.clear(),this.pathRegistry={nodeToPathsMap:new Map,pathToNodeMap:new Map}}getRegistry(){return this.pathRegistry}getDisplayLabel(t,n){const r=this.parsePathId(t),o=[];switch(r.segments.forEach(s=>{s.type==="Q"&&o.push(s.number)}),n){case"question":return`Q${o.join(".")}`;case"answer":const s=r.segments.filter(i=>i.type==="A").pop();return`A${(s==null?void 0:s.number)||"?"}`;case"outcome":return`Outcome ${this.getPathLevel(t)}`;default:return t}}calculatePathScore(t,n){const r=this.parsePathIdWithVariants(t);let o=0,s=r.topic;for(let i=0;i<r.segments.length;i++){const l=r.segments[i];if(l.type==="Q")s+=`-Q${l.number}`;else if(l.type==="A")s+=`-A${l.number}`;else if(l.type==="V"&&l.number!==void 0){s+=`-V${l.number}`;const a=s.substring(0,s.lastIndexOf("-V")),u=this.getNodeForPath(a);if(u){const c=n.find(d=>d.id===u);if(c&&c.data.variants){const d=l.number-1,f=c.data.variants[d];f&&(o+=f.score||0)}}}else if(l.type==="VC"&&l.numbers){const a=`V${l.numbers.join("+V")}`;s+=`-${a}`;const u=s.substring(0,s.lastIndexOf("-V")),c=this.getNodeForPath(u);if(c){const d=n.find(f=>f.id===c);d&&d.data.variants&&l.numbers.forEach(f=>{const m=d.data.variants[f];m&&(o+=m.score||0)})}}else l.type==="E"&&l.number!==void 0&&(s+=`-E${l.number}`)}return o}getHumanReadablePath(t,n){const r=this.parsePathIdWithVariants(t),o=[];let s="";return r.segments.forEach((i,l)=>{if(i.type==="Q"&&i.number!==void 0){s=l===0?`${r.topic}-Q${i.number}`:s+`-Q${i.number}`;const a=this.getNodeForPath(s),u=n.find(c=>c.id===a);u&&o.push(`Q${i.number}: ${u.data.questionText||"Question"}`)}else if(i.type==="A"&&i.number!==void 0)s+=`-A${i.number}`,o.push(`Answer ${i.number}`);else if(i.type==="V"&&i.number!==void 0){const a=s;s+=`-V${i.number}`;const u=this.getNodeForPath(a),c=n.find(d=>d.id===u);if(c&&c.data.variants){const d=c.data.variants[i.number-1];d&&o.push(`→ "${d.text}"`)}}else if(i.type==="VC"&&i.numbers){const a=s,u=`V${i.numbers.join("+V")}`;s+=`-${u}`;const c=this.getNodeForPath(a),d=n.find(f=>f.id===c);if(d&&d.data.variants){const f=i.numbers.map(m=>{var w;return(w=d.data.variants[m])==null?void 0:w.text}).filter(Boolean);f.length>0&&o.push(`→ [${f.join(" + ")}]`)}}else i.type==="E"&&i.number!==void 0&&(s+=`-E${i.number}`,o.push(`Outcome ${i.number}`))}),o.join(" ")}printPathStructure(t){console.log("=== Path Structure Debug ==="),t.forEach(n=>{n.data.pathIds?(console.log(`Node ${n.id} (${n.type}):`),console.log(`  Primary: ${n.data.pathId||n.data.primaryPathId}`),console.log(`  All paths: ${n.data.pathIds.join(", ")}`)):n.data.pathId&&console.log(`Node ${n.id} (${n.type}): ${n.data.pathId}`)}),console.log("=== Counters ==="),this.counters.forEach((n,r)=>{console.log(`${r}: ${n}`)})}};vs(Vn,"instance");let at=Vn;const ke=AE()(KE((e,t)=>({nodes:[],edges:[],selectedNodeId:null,focusNodeId:null,pathDisplaysFolded:!1,combinationSectionsFolded:!1,history:[{nodes:[],edges:[]}],historyIndex:0,addNode:n=>{t().saveToHistory(),e(r=>{r.nodes.push(n)})},updateNode:(n,r)=>e(o=>{const s=o.nodes.findIndex(i=>i.id===n);s!==-1&&(o.nodes[s].data={...o.nodes[s].data,...r})}),updateNodePosition:(n,r)=>e(o=>{const s=o.nodes.findIndex(i=>i.id===n);s!==-1&&(o.nodes[s].position=r)}),deleteNode:n=>{t().saveToHistory(),e(r=>{r.nodes=r.nodes.filter(s=>s.id!==n);const o=r.edges.filter(s=>s.source===n||s.target===n);r.edges=r.edges.filter(s=>s.source!==n&&s.target!==n),r.selectedNodeId===n&&(r.selectedNodeId=null),o.length>0&&console.log(`Cleaned up ${o.length} edges for deleted node ${n}`)})},addEdge:n=>{t().saveToHistory(),e(r=>{var s;if(!r.edges.some(i=>i.source===n.source&&i.target===n.target&&i.sourceHandle===n.sourceHandle&&i.targetHandle===n.targetHandle)){r.edges.push(n);const i=r.nodes.find(a=>a.id===n.target),l=r.nodes.find(a=>a.id===n.source);if(i&&i.type==="outcome"&&l){const a=r.nodes.findIndex(u=>u.id===n.target);if(a!==-1){const u=at.getInstance(),c=((s=l.data)==null?void 0:s.pathId)||"PATH",d=u.getOutcomeNumberForNode(n.target,c,r.nodes),f=`${c}-E${d}`;r.nodes[a].data={...r.nodes[a].data,pathId:f},console.log(`Updated outcome node path ID to: ${f}`)}}}})},deleteEdge:n=>{t().saveToHistory(),e(r=>{r.edges=r.edges.filter(o=>o.id!==n)})},setNodes:n=>e(r=>{r.nodes=n}),setEdges:n=>e(r=>{r.edges=n}),setSelectedNodeId:n=>e(r=>{r.selectedNodeId=n}),focusOnNode:n=>{e({focusNodeId:n})},clearFocusNode:()=>{e({focusNodeId:null})},togglePathDisplays:()=>{e(n=>({pathDisplaysFolded:!n.pathDisplaysFolded}))},toggleCombinationSections:()=>{e(n=>({combinationSectionsFolded:!n.combinationSectionsFolded}))},toggleAllMeta:()=>{e(n=>{const r=!n.pathDisplaysFolded||!n.combinationSectionsFolded;return{pathDisplaysFolded:r,combinationSectionsFolded:r}})},canUndo:()=>t().historyIndex>0,canRedo:()=>{const n=t();return n.historyIndex<n.history.length-1},cleanupDuplicateEdges:()=>e(n=>{const r=[],o=new Set;n.edges.forEach(i=>{const l=`${i.source}-${i.target}-${i.sourceHandle||""}-${i.targetHandle||""}`;o.has(l)||(o.add(l),r.push(i))});const s=n.edges.length-r.length;n.edges=r,s>0&&console.log(`Removed ${s} duplicate edges`)}),recalculateFlowIds:(n,r)=>e(o=>{const i=at.getInstance().recalculatePathIds(o.nodes,o.edges,r);o.nodes=i.nodes,console.log(`Recalculated path IDs for topic: ${r}`)}),propagateTopicOnConnection:(n,r)=>e(o=>{var u;const s=o.nodes.find(c=>c.id===n),i=o.nodes.find(c=>c.id===r);if(!s||!i)return;const l=(c,d=new Set)=>{var w,v,_;if(d.has(c))return null;d.add(c);const f=o.nodes.find(h=>h.id===c);if(!f)return null;if((w=f.data)!=null&&w.topic&&((v=f.data)!=null&&v.isRoot)||(_=f.data)!=null&&_.topic)return f.data.topic;const m=o.edges.find(h=>h.target===c);return m?l(m.source,d):null},a=l(n);if(a&&(!((u=i.data)!=null&&u.topic)||i.data.topic!==a)){const c=o.nodes.findIndex(d=>d.id===r);c!==-1&&(o.nodes[c].data={...o.nodes[c].data,topic:a},console.log(`Propagated topic "${a}" to node ${r}`))}}),propagatePathIdOnConnection:(n,r,o)=>e(s=>{var c,d,f,m,w,v,_;const i=s.nodes.find(h=>h.id===n),l=s.nodes.find(h=>h.id===r);if(!i||!l)return;const a=at.getInstance();let u=[];if(((c=i.data)==null?void 0:c.answerType)==="multiple"&&(o!=null&&o.startsWith("variant-"))){const h=(d=i.data)==null?void 0:d.pathId;if(h&&!h.startsWith("ORPHAN-")){const x=`V${parseInt(o.replace("variant-",""))+1}`,y=`${h}-${x}`;u=[y],console.log(`Generated variant path for Multiple answer: ${y} from base ${h}`)}else{console.log(`Source node ${n} has invalid base path for Multiple variant connection`);return}}else if(((f=i.data)==null?void 0:f.answerType)==="combinations"&&(o!=null&&o.startsWith("combination-"))){const h=(m=i.data)==null?void 0:m.pathId;if(h&&!h.startsWith("ORPHAN-")){const g=o.replace("combination-",""),x=((w=i.data)==null?void 0:w.variants)||[],y=[],S=x.length;for(let P=1;P<Math.pow(2,S);P++){const j=[];for(let D=0;D<S;D++)P&1<<D&&j.push(D+1);const I={id:`combo-${P}`,variantIndices:j};y.push(I)}const b=y.find(P=>P.id===g);if(b){const P=`V${b.variantIndices.join("+V")}`,j=`${h}-${P}`;u=[j],console.log(`Generated combination path for Combinations answer: ${j} from base ${h}`)}else{console.log(`Could not find matching combination for ${g}`);return}}else{console.log(`Source node ${n} has invalid base path for Combinations connection`);return}}else u=((v=i.data)==null?void 0:v.pathIds)||[(_=i.data)==null?void 0:_.pathId].filter(Boolean);if(u.length===0){console.log(`Source node ${n} has no valid path IDs for propagation`);return}u.forEach(h=>{var y,S;let g;if(l.type==="question"){const b=a.getQuestionNumberForNode(r,h,s.nodes);g=`${h}-Q${b}`}else if(l.type==="answer"){const b=a.getAnswerNumberForNode(r,h,s.nodes);g=`${h}-A${b}`}else if(l.type==="outcome"){const b=a.getOutcomeNumberForNode(r,h,s.nodes);g=`${h}-E${b}`}else g=`${h}-NODE`;const x=s.nodes.findIndex(b=>b.id===r);if(x!==-1){const b=((y=s.nodes[x].data)==null?void 0:y.pathIds)||[(S=s.nodes[x].data)==null?void 0:S.pathId].filter(Boolean);if(b.includes(g))console.log(`Path ID "${g}" already exists for node ${r}`);else{const P=[...b,g];s.nodes[x].data={...s.nodes[x].data,pathId:g,pathIds:P},console.log(`Added path ID "${g}" to ${l.type} node ${r} via handle "${o}". Total paths: ${P.length}`)}}})}),createLinkedQuestion:(n,r)=>e(o=>{var x,y,S,b,P,j,I;const s=o.nodes.find(D=>D.id===n);if(!s)return;const i=at.getInstance(),l=i.getNextQuestionNumber(((x=s.data)==null?void 0:x.pathId)||null),a=((y=s.data)==null?void 0:y.topic)||"NEW-TOPIC",u=(S=s.data)!=null&&S.pathId?{nodeId:s.id,pathId:s.data.pathId,parentPathId:null,level:((b=s.data)==null?void 0:b.questionLevel)||1,topic:a}:null,c=i.generateQuestionPathId(u,l,a),d=`q-${Date.now()}`,f={id:d,type:"question",position:r,data:{pathId:c,topic:a,questionText:"New Question",questionLevel:(((P=s.data)==null?void 0:P.questionLevel)||1)+1,elementId:"NEW",subElementId:"NEW"}},m=i.getNextAnswerNumber(c),w={nodeId:d,pathId:c,parentPathId:((j=s.data)==null?void 0:j.pathId)||null,level:(((I=s.data)==null?void 0:I.questionLevel)||1)+1,topic:a},v=i.generateAnswerPathId(w,m),_=`a-${Date.now()}`,h={id:_,type:"answer",position:{x:r.x,y:r.y+120},data:{pathId:v,answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}},g={id:i.generateEdgeId(d,_),source:d,target:_,animated:!0};o.nodes.push(f,h),o.edges.push(g)}),importFromExcel:n=>e(r=>{r.nodes=n.nodes,r.edges=n.edges}),exportToFormat:n=>{const{nodes:r,edges:o}=t();return n==="json"?{nodes:r,edges:o}:null},clearFlow:()=>e(n=>{n.nodes=[],n.edges=[],n.selectedNodeId=null,n.focusNodeId=null,n.history=[{nodes:[],edges:[]}],n.historyIndex=0,at.getInstance().reset()}),saveToHistory:()=>e(n=>{const r={nodes:JSON.parse(JSON.stringify(n.nodes)),edges:JSON.parse(JSON.stringify(n.edges))};n.history=n.history.slice(0,n.historyIndex+1),n.history.push(r),n.historyIndex=n.history.length-1,n.history.length>50&&(n.history.shift(),n.historyIndex=n.history.length-1)}),undo:()=>e(n=>{if(n.historyIndex>0){n.historyIndex--;const r=n.history[n.historyIndex];n.nodes=JSON.parse(JSON.stringify(r.nodes)),n.edges=JSON.parse(JSON.stringify(r.edges)),console.log("Undo: Restored state from history index",n.historyIndex)}}),redo:()=>e(n=>{if(n.historyIndex<n.history.length-1){n.historyIndex++;const r=n.history[n.historyIndex];n.nodes=JSON.parse(JSON.stringify(r.nodes)),n.edges=JSON.parse(JSON.stringify(r.edges)),console.log("Redo: Restored state from history index",n.historyIndex)}}),propagatePathToAll:()=>{t().saveToHistory(),e(n=>{const r=n.nodes.filter(s=>{var i,l;return((i=s.data)==null?void 0:i.isRoot)&&((l=s.data)==null?void 0:l.topic)});if(r.length===0){console.log("No root nodes with topics found");return}console.log(`Found ${r.length} root nodes with topics`);const o=at.getInstance();if(o.reset(),r.length===1){const s=r[0].data.topic;console.log(`Recalculating path IDs for single topic "${s}"`);const i=o.recalculatePathIds(n.nodes,n.edges,s);n.nodes=i.nodes,console.log(`Recalculated path IDs for topic "${s}"`)}else{console.log("Multiple root nodes detected - processing each topic separately");const s=new Map,i=new Map;r.forEach(a=>{const u=a.data.topic;s.has(u)||(s.set(u,[]),i.set(u,[]));const c=new Set,d=[a.id];for(c.add(a.id);d.length>0;){const w=d.shift();n.edges.filter(_=>_.source===w).forEach(_=>{c.has(_.target)||(c.add(_.target),d.push(_.target))})}const f=n.nodes.filter(w=>c.has(w.id)),m=n.edges.filter(w=>c.has(w.source)&&c.has(w.target));s.set(u,f),i.set(u,m)});let l=[];s.forEach((a,u)=>{const c=i.get(u)||[];console.log(`Processing topic "${u}" with ${a.length} nodes and ${c.length} edges`);const d=o.recalculatePathIds(a,c,u);l=l.concat(d.nodes)}),n.nodes=l}console.log("Path ID propagation completed")})}}))),Gg=["shift","alt","meta","mod","ctrl","control"],YE={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function _n(e){return(YE[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function Zg(e){return Gg.includes(e)}function aa(e,t=","){return e.toLowerCase().split(t)}function ua(e,t="+",n=">",r=!1,o){let s=[],i=!1;e.includes(n)?(i=!0,s=e.toLocaleLowerCase().split(n).map(u=>_n(u))):s=e.toLocaleLowerCase().split(t).map(u=>_n(u));const l={alt:s.includes("alt"),ctrl:s.includes("ctrl")||s.includes("control"),shift:s.includes("shift"),meta:s.includes("meta"),mod:s.includes("mod"),useKey:r},a=s.filter(u=>!Gg.includes(u));return{...l,keys:a,description:o,isSequence:i}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&Jg([_n(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&e0([_n(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{Qt.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{Qt.clear()},0)}));const Qt=new Set;function Oc(e){return Array.isArray(e)}function XE(e,t=","){return(Oc(e)?e:e.split(t)).every(n=>Qt.has(n.trim().toLowerCase()))}function Jg(e){const t=Array.isArray(e)?e:[e];Qt.has("meta")&&Qt.forEach(n=>!Zg(n)&&Qt.delete(n.toLowerCase())),t.forEach(n=>Qt.add(n.toLowerCase()))}function e0(e){const t=Array.isArray(e)?e:[e];e==="meta"?Qt.clear():t.forEach(n=>Qt.delete(n.toLowerCase()))}function GE(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function ZE(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function JE(e){return t0(e,["input","textarea","select"])}function t0(e,t=!1){const{target:n,composed:r}=e;let o;return ek(n)&&r?o=e.composedPath()[0]&&e.composedPath()[0].tagName:o=n&&n.tagName,Oc(t)?!!(o&&t&&t.some(s=>s.toLowerCase()===o.toLowerCase())):!!(o&&t&&t)}function ek(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function tk(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(n=>t.includes(n))||e.includes("*"):!0}const nk=(e,t,n=!1)=>{const{alt:r,meta:o,mod:s,shift:i,ctrl:l,keys:a,useKey:u}=t,{code:c,key:d,ctrlKey:f,metaKey:m,shiftKey:w,altKey:v}=e,_=_n(c);if(u&&(a==null?void 0:a.length)===1&&a.includes(d))return!0;if(!(a!=null&&a.includes(_))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(_))return!1;if(!n){if(r!==v&&_!=="alt"||i!==w&&_!=="shift")return!1;if(s){if(!m&&!f)return!1}else if(o!==m&&_!=="meta"&&_!=="os"||l!==f&&_!=="ctrl"&&_!=="control")return!1}return a&&a.length===1&&a.includes(_)?!0:a?XE(a):!a},rk=z.createContext(void 0),ok=()=>z.useContext(rk);function n0(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((n,r)=>n&&n0(e[r],t[r]),!0):e===t}const sk=z.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),ik=()=>z.useContext(sk);function lk(e){const t=z.useRef(void 0);return n0(t.current,e)||(t.current=e),t.current}const Kf=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},ak=typeof window<"u"?z.useLayoutEffect:z.useEffect;function No(e,t,n,r){const o=z.useRef(null),s=z.useRef(!1),i=n instanceof Array?r instanceof Array?void 0:r:n,l=Oc(e)?e.join(i==null?void 0:i.delimiter):e,a=n instanceof Array?n:r instanceof Array?r:void 0,u=z.useCallback(t,a??[]),c=z.useRef(u);a?c.current=u:c.current=t;const d=lk(i),{activeScopes:f}=ik(),m=ok();return ak(()=>{if((d==null?void 0:d.enabled)===!1||!tk(f,d==null?void 0:d.scopes))return;let w=[],v;const _=(y,S=!1)=>{var b;if(!(JE(y)&&!t0(y,d==null?void 0:d.enableOnFormTags))){if(o.current!==null){const P=o.current.getRootNode();if((P instanceof Document||P instanceof ShadowRoot)&&P.activeElement!==o.current&&!o.current.contains(P.activeElement)){Kf(y);return}}(b=y.target)!=null&&b.isContentEditable&&!(d!=null&&d.enableOnContentEditable)||aa(l,d==null?void 0:d.delimiter).forEach(P=>{var j,I,D,U;if(P.includes((d==null?void 0:d.splitKey)??"+")&&P.includes((d==null?void 0:d.sequenceSplitKey)??">")){console.warn(`Hotkey ${P} contains both ${(d==null?void 0:d.splitKey)??"+"} and ${(d==null?void 0:d.sequenceSplitKey)??">"} which is not supported.`);return}const A=ua(P,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description);if(A.isSequence){v=setTimeout(()=>{w=[]},(d==null?void 0:d.sequenceTimeoutMs)??1e3);const O=A.useKey?y.key:_n(y.code);if(Zg(O.toLowerCase()))return;w.push(O);const N=(j=A.keys)==null?void 0:j[w.length-1];if(O!==N){w=[],v&&clearTimeout(v);return}w.length===((I=A.keys)==null?void 0:I.length)&&(c.current(y,A),v&&clearTimeout(v),w=[])}else if(nk(y,A,d==null?void 0:d.ignoreModifiers)||(D=A.keys)!=null&&D.includes("*")){if((U=d==null?void 0:d.ignoreEventWhen)!=null&&U.call(d,y)||S&&s.current)return;if(GE(y,A,d==null?void 0:d.preventDefault),!ZE(y,A,d==null?void 0:d.enabled)){Kf(y);return}c.current(y,A),S||(s.current=!0)}})}},h=y=>{y.code!==void 0&&(Jg(_n(y.code)),((d==null?void 0:d.keydown)===void 0&&(d==null?void 0:d.keyup)!==!0||d!=null&&d.keydown)&&_(y))},g=y=>{y.code!==void 0&&(e0(_n(y.code)),s.current=!1,d!=null&&d.keyup&&_(y,!0))},x=o.current||(i==null?void 0:i.document)||document;return x.addEventListener("keyup",g,i==null?void 0:i.eventListenerOptions),x.addEventListener("keydown",h,i==null?void 0:i.eventListenerOptions),m&&aa(l,d==null?void 0:d.delimiter).forEach(y=>m.addHotkey(ua(y,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description))),()=>{x.removeEventListener("keyup",g,i==null?void 0:i.eventListenerOptions),x.removeEventListener("keydown",h,i==null?void 0:i.eventListenerOptions),m&&aa(l,d==null?void 0:d.delimiter).forEach(y=>m.removeHotkey(ua(y,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description))),w=[],v&&clearTimeout(v)}},[l,d,f]),o}function uk(){const{selectedNodeId:e,createLinkedQuestion:t,deleteNode:n,undo:r,redo:o}=ke();No("tab",s=>{if(s.preventDefault(),e){const i=ke.getState().nodes.find(l=>l.id===e);if(i){const l={x:i.position.x+300,y:i.position.y};t(e,l)}}}),No("delete, backspace",()=>{e&&n(e)}),No("ctrl+z, cmd+z",s=>{s.preventDefault(),r()}),No("ctrl+y, cmd+shift+z",s=>{s.preventDefault(),o()}),No("escape",()=>{ke.getState().setSelectedNodeId(null)})}/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r0=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=z.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...l},a)=>z.createElement("svg",{ref:a,...dk,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:r0("lucide",o),...l},[...i.map(([u,c])=>z.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(e,t)=>{const n=z.forwardRef(({className:r,...o},s)=>z.createElement(fk,{ref:s,iconNode:t,className:r0(`lucide-${ck(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=he("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=he("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=he("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=he("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=he("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=he("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=he("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=he("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=he("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=he("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=he("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=he("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=he("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=he("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=he("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=he("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function _k({id:e,data:t,selected:n}){const{setSelectedNodeId:r,updateNode:o,recalculateFlowIds:s,propagateTopicOnConnection:i,propagatePathIdOnConnection:l,focusOnNode:a,edges:u,pathDisplaysFolded:c}=ke(),[d,f]=z.useState(null),m=d!==null?d:c,w=()=>{r(e)},v=y=>{const S=y.target;if(S.tagName==="INPUT"||S.tagName==="TEXTAREA"||S.closest("input")||S.closest("textarea"))return;const b=u.find(P=>P.source===e);b&&a(b.target)},_=y=>{o(e,{questionText:y.target.value})},h=y=>{const S=y.target.value;o(e,{topic:S}),t.isRoot&&s(e,S)},g=y=>{y.stopPropagation()},x=()=>{const{nodes:y,addNode:S,addEdge:b,edges:P}=ke.getState();if(P.find(O=>O.source===e)){console.log("This question already has a connection. Only one outgoing connection is allowed.");return}const I=y.find(O=>O.id===e);if(!I)return;const D=`answer-${Date.now()}`,U={id:D,type:"answer",position:{x:I.position.x+150,y:I.position.y+150},data:{pathId:"path-id-will-be-generated",pathIds:[],answerType:"single",topic:t.topic,variants:[{id:`var-${Date.now()}`,text:"Answer option",score:0}]}};S(U);const A={id:`edge-${e}-${D}`,source:e,target:D,sourceHandle:null,targetHandle:null,animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};b(A),i(e,D),l(e,D)};return p.jsxs("div",{className:`
        bg-white rounded-lg shadow-lg border-2 p-4 min-w-[280px] max-w-[350px]
        ${n?"border-blue-500 shadow-xl ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer
      `,onClick:w,onDoubleClick:v,children:[p.jsx(kt,{type:"target",position:G.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),p.jsx("span",{className:"text-xs font-semibold text-blue-600",children:t.isRoot?"Root Question":"Question"})]}),p.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:["Level ",t.questionLevel]})]}),p.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathIds&&t.pathIds.length>1?p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-100 px-1 py-0.5 rounded",onClick:y=>{y.stopPropagation(),f(!m)},children:[p.jsxs("div",{className:"font-semibold text-gray-600",children:["Paths (",t.pathIds.length,"):"]}),m?p.jsx(mn,{size:12}):p.jsx(hn,{size:12})]}),!m&&p.jsx("div",{className:"space-y-1",children:t.pathIds.map((y,S)=>p.jsx("div",{className:"text-xs pl-2",children:y},S))})]}):p.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-100 px-1 py-0.5 rounded",onClick:y=>{y.stopPropagation(),f(!m)},children:[p.jsx("div",{className:"truncate",children:m?"Path: ...":t.pathId}),m?p.jsx(mn,{size:12}):p.jsx(hn,{size:12})]})}),t.isRoot&&p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Topic"}),p.jsx("div",{onClick:g,onMouseDown:g,children:p.jsx("input",{type:"text",value:t.topic||"",onChange:h,className:"w-full p-2 border border-gray-200 rounded text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter topic...",onFocus:g,onKeyDown:g})})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Question"}),p.jsx("div",{onClick:g,onMouseDown:g,children:p.jsx("textarea",{value:t.questionText,onChange:_,className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm bg-gray-50 hover:bg-white transition-colors",rows:3,placeholder:"Enter your question here...",onFocus:g,onKeyDown:g})})]}),p.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[p.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:t.elementId}),p.jsx("span",{className:"text-gray-400",children:"|"}),p.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:t.subElementId})]})]}),p.jsx(kt,{type:"source",position:G.Bottom,className:"w-3 h-3 bg-green-500 border-2 border-white cursor-pointer hover:bg-green-600 transition-colors",style:{background:"#22c55e"},onClick:y=>{y.stopPropagation(),x()}})]})}function Ck({id:e,data:t,selected:n}){var R;const{setSelectedNodeId:r,updateNode:o,nodes:s,edges:i,addNode:l,addEdge:a,propagateTopicOnConnection:u,focusOnNode:c,pathDisplaysFolded:d,combinationSectionsFolded:f}=ke(),[m,w]=z.useState(t.answerType||"single"),[v,_]=z.useState(null),[h,g]=z.useState(null),x=v!==null?v:d,y=h!==null?h:f;z.useEffect(()=>{w(t.answerType||"single")},[t.answerType]);const S=()=>{r(e)},b=k=>{if(m!=="single")return;const F=k.target;if(F.tagName==="INPUT"||F.tagName==="TEXTAREA"||F.closest("input")||F.closest("textarea")||F.closest("button"))return;const V=i.find(L=>L.source===e&&L.sourceHandle==="default");V&&c(V.target)},P=(k,F)=>{if(m!=="multiple")return;const V=F.target;if(V.tagName==="INPUT"||V.tagName==="TEXTAREA"||V.closest("input")||V.closest("textarea")||V.closest("button"))return;const L=`variant-${k}`,W=i.find(q=>q.source===e&&q.sourceHandle===L);W&&c(W.target)},j=(k,F)=>{if(m!=="combinations")return;const V=F.target;if(V.tagName==="INPUT"||V.tagName==="TEXTAREA"||V.closest("input")||V.closest("textarea")||V.closest("button"))return;const L=`combination-${k}`,W=i.find(q=>q.source===e&&q.sourceHandle===L);W&&c(W.target)},I=k=>{const{edges:F}=ke.getState();if(F.find(X=>X.source===e&&X.sourceHandle===(k||"default"))){console.log("This answer variant already has a connection. Only one connection per variant is allowed.");return}const L=s.find(X=>X.id===e);if(!L)return;let W=t.topic;if(!W){const X=ee=>{var re;const oe=s.find(le=>le.id===ee);if(!oe)return"Topic";if((re=oe.data)!=null&&re.topic)return oe.data.topic;const ie=ke.getState().edges.find(le=>le.target===ee);return ie?X(ie.source):"Topic"};W=X(e)}const q=`question-${Date.now()}`,Z={id:q,type:"question",position:{x:k==="default"?L.position.x:L.position.x+200,y:L.position.y+200},data:{pathId:"path-id-will-be-generated",topic:W,isRoot:!1,questionText:"",questionLevel:2,elementId:"E01",subElementId:"SE01"}};l(Z);const K={id:`edge-${e}-${q}`,source:e,target:q,sourceHandle:k||"default",targetHandle:null,animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};a(K),u(e,q)},D=()=>{const k={id:`var-${Date.now()}`,text:"New Answer",score:0},F=t.variants||[];o(e,{variants:[...F,k]})},U=(k,F)=>{const L=(t.variants||[]).map(W=>W.id===k?{...W,...F}:W);o(e,{variants:L})},A=k=>{const F=t.variants||[];if(F.length>1){const V=F.filter(L=>L.id!==k);o(e,{variants:V})}},O=k=>{const F=[],V=k.length;for(let L=1;L<Math.pow(2,V);L++){const W=[];for(let Z=0;Z<V;Z++)L&1<<Z&&W.push(Z+1);const q={id:`combo-${L}`,variantIndices:W,pathId:`combination-${W.join("-")}`,label:`Variants ${W.join(" + ")}`};F.push(q)}return F},N=()=>{if(m!=="combinations")return[];const k=t.variants||[];return k.length<2?[]:t.combinations||O(k)},$=()=>N().filter(F=>{const V=`combination-${F.id}`;return i.some(L=>L.source===e&&L.sourceHandle===V)}),C=()=>N().filter(F=>{const V=`combination-${F.id}`;return!i.some(L=>L.source===e&&L.sourceHandle===V)}),H=k=>{if(console.log("Creating linked question for combination:",k),i.find(K=>K.source===e&&K.sourceHandle===`combination-${k}`)){console.log("This combination already has a connection. Only one connection per combination is allowed.");return}const V=s.find(K=>K.id===e);if(!V)return;let L=t.topic;if(!L){const K=X=>{var ie;const ee=s.find(re=>re.id===X);if(!ee)return"Topic";if((ie=ee.data)!=null&&ie.topic)return ee.data.topic;const oe=ke.getState().edges.find(re=>re.target===X);return oe?K(oe.source):"Topic"};L=K(e)}const W=`question-${Date.now()}`,q={id:W,type:"question",position:{x:V.position.x+200,y:V.position.y+200},data:{pathId:"path-id-will-be-generated",topic:L,isRoot:!1,questionText:"",questionLevel:2,elementId:"E01",subElementId:"SE01"}};l(q);const Z={id:`edge-${e}-${W}`,source:e,target:W,sourceHandle:`combination-${k}`,targetHandle:null,animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};a(Z),u(e,W)},T=k=>{w(k),o(e,{answerType:k});const{edges:F,deleteEdge:V,nodes:L,updateNode:W}=ke.getState(),q=F.filter(Z=>Z.source===e);console.log(`Switching to ${k} mode: removing ${q.length} outgoing edges and cleaning up pathIDs`),q.forEach(Z=>{var X,ee;const K=L.find(oe=>oe.id===Z.target);if(K){const oe=((X=K.data)==null?void 0:X.pathIds)||[(ee=K.data)==null?void 0:ee.pathId].filter(Boolean),ie=t.pathId;if(ie){const re=oe.filter(le=>!le.startsWith(ie));W(Z.target,{pathId:re.length>0?re[0]:void 0,pathIds:re.length>0?re:[]}),console.log(`Cleaned pathIDs for target node ${Z.target}: removed paths starting with ${ie}`)}}}),q.forEach(Z=>V(Z.id))},E=k=>{k.stopPropagation()},M=t.variants||[];return p.jsxs("div",{className:`
        bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg shadow-lg border-2 p-4 w-[350px]
        ${n?"border-purple-500 shadow-xl ring-2 ring-purple-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer relative
      `,onClick:S,onDoubleClick:b,children:[p.jsx(kt,{type:"target",position:G.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),p.jsx("span",{className:"text-xs font-semibold text-purple-600",children:"Answer"})]}),t.answerLevel&&p.jsxs("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:["Level ",t.answerLevel]}),p.jsxs("div",{className:"flex items-center space-x-2 text-xs",onClick:E,onMouseDown:E,children:[p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"radio",value:"single",checked:m==="single",onChange:k=>T(k.target.value),className:"mr-1"}),"Single"]}),p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"radio",value:"multiple",checked:m==="multiple",onChange:k=>T(k.target.value),className:"mr-1"}),"Multiple"]}),p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"radio",value:"combinations",checked:m==="combinations",onChange:k=>T(k.target.value),className:"mr-1"}),"Combinations"]})]})]}),p.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathIds&&t.pathIds.length>0?t.pathIds.length>1?p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-100 px-1 py-0.5 rounded",onClick:k=>{k.stopPropagation(),_(!x)},children:[p.jsxs("div",{className:"font-semibold text-gray-600",children:["Paths (",t.pathIds.length,"):"]}),x?p.jsx(mn,{size:12}):p.jsx(hn,{size:12})]}),!x&&p.jsx("div",{className:"space-y-1",children:t.pathIds.map((k,F)=>p.jsx("div",{className:"text-xs pl-2",children:k},F))})]}):p.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-100 px-1 py-0.5 rounded",onClick:k=>{k.stopPropagation(),_(!x)},children:[p.jsx("div",{className:"truncate",children:x?"Path: ...":t.pathIds[0]}),x?p.jsx(mn,{size:12}):p.jsx(hn,{size:12})]}):p.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-100 px-1 py-0.5 rounded",onClick:k=>{k.stopPropagation(),_(!x)},children:[p.jsx("div",{className:"truncate",children:x?"Path: ...":t.pathId||"No path"}),x?p.jsx(mn,{size:12}):p.jsx(hn,{size:12})]})}),p.jsx("div",{className:`text-xs rounded px-2 py-1 text-center font-medium ${m==="single"?"bg-blue-50 text-blue-600":m==="multiple"?"bg-green-50 text-green-600":"bg-yellow-50 text-yellow-600"}`,children:m==="single"?"↓ Single path (bottom)":m==="multiple"?"→ Multiple paths (variants)":"→ Combinations (variants)"}),p.jsx("div",{className:"space-y-2",children:M.map((k,F)=>{var W;const V=`variant-${F}`,L=(W=t.orphanedVariants)==null?void 0:W.includes(V);return p.jsxs("div",{className:"relative",children:[p.jsxs("div",{className:`flex items-center space-x-2 bg-white rounded-lg p-3 shadow-sm border ${m==="multiple"?"border-green-200 hover:border-green-300":"border-gray-100"} ${L?"ring-1 ring-orange-400 border-orange-300":""} transition-colors`,onClick:E,onMouseDown:E,onDoubleClick:q=>P(F,q),children:[p.jsx("input",{type:"text",value:k.text,onChange:q=>U(k.id,{text:q.target.value}),className:"flex-1 text-sm bg-transparent focus:outline-none",placeholder:"Answer text...",onFocus:E,onKeyDown:E}),p.jsx("input",{type:"number",value:k.score,onChange:q=>U(k.id,{score:Number(q.target.value)}),className:"w-12 text-xs text-center bg-gray-50 rounded px-1 py-1 focus:outline-none focus:bg-white border border-gray-200 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [-moz-appearance:textfield]",placeholder:"0",title:"Score",min:"-999",max:"999",onFocus:E,onKeyDown:E,onWheel:q=>{q.currentTarget.blur(),q.stopPropagation()},onClick:E,onMouseDown:E}),M.length>1&&p.jsx("button",{onClick:q=>{q.stopPropagation(),A(k.id)},className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:p.jsx(Ek,{size:12})})]}),m==="multiple"&&p.jsx(kt,{type:"source",position:G.Right,id:`variant-${F}`,style:{top:"50%",right:"-5px",transform:"translateY(-50%)",background:L?"#fb923c":"#22c55e",width:"10px",height:"10px",zIndex:10,cursor:"pointer"},className:"border-2 border-white hover:scale-125 transition-transform",onClick:q=>{q.stopPropagation(),I(`variant-${F}`)}})]},k.id)})}),m==="combinations"&&M.length>1&&p.jsx("div",{className:"space-y-3 border-t pt-3",children:p.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-yellow-100 px-2 py-1 rounded",onClick:k=>{k.stopPropagation(),g(!y)},children:[p.jsx("div",{className:"text-xs text-yellow-700",children:"All combinations are active. Connect them to questions:"}),y?p.jsx(mn,{size:12}):p.jsx(hn,{size:12})]}),!y&&p.jsx("div",{className:"space-y-2",children:N().map(k=>{const F=C().some(L=>L.id===k.id),V=$().some(L=>L.id===k.id);return p.jsxs("div",{className:"relative",children:[p.jsxs("div",{className:`flex items-center space-x-2 bg-white rounded-lg p-2 shadow-sm border transition-colors ${V?"border-green-300 bg-green-50":F?"border-orange-300 bg-orange-50":"border-gray-200"}`,onClick:E,onMouseDown:E,onDoubleClick:L=>j(k.id,L),children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.label}),p.jsx("div",{className:"text-xs text-gray-500 font-mono",children:k.pathId})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[V&&p.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:"Connected"}),F&&p.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-orange-100 text-orange-800",children:"Orphaned"})]}),p.jsx("div",{className:"flex space-x-1",children:k.variantIndices.map(L=>p.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:L+1},L))})]}),p.jsx(kt,{type:"source",position:G.Right,id:`combination-${k.id}`,style:{top:"50%",right:"-5px",transform:"translateY(-50%)",background:F?"#fb923c":"#f59e0b",width:"10px",height:"10px",zIndex:10,cursor:"pointer"},className:"border-2 border-white hover:scale-125 transition-transform",onClick:L=>{L.stopPropagation(),H(k.id)}})]},k.id)})})]})}),p.jsxs("button",{onClick:k=>{k.stopPropagation(),D()},className:"w-full flex items-center justify-center space-x-2 p-2 border-2 border-dashed border-purple-300 rounded-lg text-sm text-purple-600 hover:border-purple-500 hover:bg-purple-50 transition-colors font-medium",children:[p.jsx(vk,{size:14}),p.jsx("span",{children:"Add Answer"})]})]}),m==="single"&&p.jsx(kt,{type:"source",position:G.Bottom,id:"default",className:"w-3 h-3 border-2 border-white cursor-pointer hover:scale-125 transition-transform",style:{background:(R=t.orphanedVariants)!=null&&R.includes("default")?"#fb923c":"#22c55e"},onClick:k=>{k.stopPropagation(),I("default")}})]})}function bk({id:e,data:t,selected:n}){const{setSelectedNodeId:r,updateNode:o,pathDisplaysFolded:s}=ke(),[i,l]=z.useState(null),a=i!==null?i:s,u=()=>{r(e)},c=f=>{o(e,{recommendation:f.target.value})},d=f=>{f.stopPropagation()};return p.jsxs("div",{className:`
        bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg shadow-lg border-2 p-4 min-w-[280px] max-w-[350px]
        ${n?"border-green-500 shadow-xl ring-2 ring-green-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer
      `,onClick:u,children:[p.jsx(kt,{type:"target",position:G.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),p.jsx("span",{className:"text-xs font-semibold text-green-600",children:"Outcome"})]}),p.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Final"})]}),p.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathIds&&t.pathIds.length>1?p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-100 px-1 py-0.5 rounded",onClick:f=>{f.stopPropagation(),l(!a)},children:[p.jsxs("div",{className:"font-semibold text-gray-600",children:["Paths (",t.pathIds.length,"):"]}),a?p.jsx(mn,{size:12}):p.jsx(hn,{size:12})]}),!a&&p.jsx("div",{className:"space-y-1",children:t.pathIds.map((f,m)=>p.jsx("div",{className:"text-xs pl-2",children:f},m))})]}):p.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-100 px-1 py-0.5 rounded",onClick:f=>{f.stopPropagation(),l(!a)},children:[p.jsx("div",{className:"truncate",children:a?"Path: ...":t.pathId}),a?p.jsx(mn,{size:12}):p.jsx(hn,{size:12})]})}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Recommendation"}),p.jsx("div",{onClick:d,onMouseDown:d,children:p.jsx("textarea",{value:t.recommendation||"",onChange:c,className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm bg-gray-50 hover:bg-white transition-colors",rows:4,placeholder:"Enter recommendation text...",onFocus:d,onKeyDown:d})})]}),p.jsx("div",{className:"text-xs rounded px-2 py-1 text-center font-medium bg-green-50 text-green-600 border border-green-200",children:"🎯 Final Outcome"})]})]})}const Ik={question:_k,answer:Ck,outcome:bk},Pk={animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};function jk({shouldAutoOrganize:e=!1,onAutoOrganizeComplete:t}){const{nodes:n,edges:r,addEdge:o,updateNodePosition:s,deleteEdge:i,propagateTopicOnConnection:l,propagatePathIdOnConnection:a,selectedNodeId:u,setNodes:c,focusNodeId:d,clearFocusNode:f}=ke(),[m,w,v]=sE(n),[_,h,g]=iE(r),x=ml(),y=B.useRef(!1),S=B.useRef(null);uk(),B.useEffect(()=>{if(d&&x){const A=m.find(O=>O.id===d);A&&(x.fitView({nodes:[A],padding:.3,maxZoom:1.2,minZoom:.5,duration:800}),setTimeout(()=>{f()},100))}},[d,m,x,f]),B.useEffect(()=>{const{cleanupDuplicateEdges:A}=ke.getState();A()},[]),B.useEffect(()=>{w(A=>{if(y.current)return console.log("Bulk update detected - using store positions directly"),n;if(A.length===0)return n;const N=(()=>{const R=new Set,k=new Set;return r.forEach(F=>{R.add(F.target),k.add(F.source)}),n.filter(F=>{var W;if(F.type==="question"&&((W=F.data)!=null&&W.isRoot))return!k.has(F.id);if(F.type==="outcome")return!R.has(F.id);const V=R.has(F.id),L=k.has(F.id);return!V||!L}).map(F=>F.id)})(),C=(()=>{const R=new Map;return n.forEach(k=>{var F;if(k.type==="answer"&&((F=k.data)!=null&&F.variants)){const V=k.data.variants,L=k.data.answerType||"single",W=[];L==="multiple"&&V.forEach((q,Z)=>{const K=`variant-${Z}`;r.some(ee=>ee.source===k.id&&ee.sourceHandle===K)||W.push(K)}),L==="single"&&(r.some(Z=>Z.source===k.id&&Z.sourceHandle==="default")||W.push("default")),W.length>0&&R.set(k.id,W)}}),R})(),H=R=>{if(!R)return{parents:[],children:[]};const k=r.filter(V=>V.target===R).map(V=>V.source),F=r.filter(V=>V.source===R).map(V=>V.target);return{parents:k,children:F}},{parents:T,children:E}=H(u),M=new Map;return A.forEach(R=>{M.set(R.id,R.position)}),n.map(R=>{const k=M.get(R.id);return{...R,position:k||R.position,data:{...R.data,isOrphaned:N.includes(R.id),isParent:T.includes(R.id),isChild:E.includes(R.id),isSelected:u===R.id,orphanedVariants:C.get(R.id)||[]}}})})},[n,r,w,u]),B.useEffect(()=>{const A=r.map(O=>{let N="#9ca3af",$={stroke:N,strokeWidth:2};return u&&(O.source===u||O.target===u)&&(N="#2563eb",$={stroke:N,strokeWidth:2,filter:"drop-shadow(0 0 16px #2563ebcc)",opacity:1}),{...O,style:{...O.style,...$}}});h(A)},[r,h,u]);const b=z.useCallback(A=>{if(!A.source||!A.target)return;console.log("Creating edge:",A);const O=n.find(T=>T.id===A.source),N=n.find(T=>T.id===A.target);if(!O||!N){console.log("Source or target node not found");return}if(O.type==="answer"&&N.type!=="question"&&N.type!=="outcome"){console.log("Answer nodes can only connect to Question nodes or Outcome nodes");return}if(O.type==="question"&&N.type!=="answer"){console.log("Question nodes can only connect to Answer nodes");return}if(O.type==="answer"&&r.find(E=>E.source===A.source&&E.sourceHandle===A.sourceHandle)){console.log("Answer variant already has a connection. Only one connection per variant is allowed.");return}if(O.type==="question"&&r.find(E=>E.source===A.source)){console.log("Question node already has a connection. Only one outgoing connection is allowed.");return}if(((T,E)=>{if(T===E)return!0;const M=new Set,R=[E];for(;R.length>0;){const k=R.pop();if(M.has(k))continue;if(M.add(k),k===T)return!0;r.filter(V=>V.source===k).forEach(V=>{M.has(V.target)||R.push(V.target)})}return!1})(A.source,A.target)){console.log("Connection would create a loop, preventing connection");return}const C=at.getInstance(),H={...A,source:A.source,target:A.target,id:C.generateEdgeId(A.source,A.target,A.sourceHandle||void 0),animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};console.log("Generated edge:",H),o(H),l(A.source,A.target),a(A.source,A.target,A.sourceHandle||void 0)},[o,r,l,a,n]),P=z.useCallback((A,O)=>{ke.getState().setSelectedNodeId(O.id)},[]),j=z.useCallback(()=>{ke.getState().setSelectedNodeId(null)},[]),I=z.useCallback(A=>{if(v(A),y.current){console.log("Skipping position sync during bulk update");return}A.forEach(O=>{O.type==="position"&&O.position&&s&&s(O.id,O.position)})},[v,s]),D=z.useCallback(A=>{g(A),A.forEach(O=>{O.type==="remove"&&O.id&&(console.log("Edge deleted:",O.id),i(O.id))})},[g,i]);B.useEffect(()=>(window.flowCanvasSetBulkUpdate=()=>{console.log("Setting bulk update flag"),y.current=!0,S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{console.log("Resetting bulk update flag"),y.current=!1,S.current=null},500)},()=>{S.current&&clearTimeout(S.current),delete window.flowCanvasSetBulkUpdate}),[]),z.useEffect(()=>{if(e&&x&&n.length>0){console.log("Auto-organizing nodes...");const A=setTimeout(()=>{U(),setTimeout(()=>{x.fitView({padding:.2,maxZoom:.8,minZoom:.1,duration:1e3}),t==null||t()},500)},1e3);return()=>clearTimeout(A)}},[e,x,n.length,t]);const U=()=>{if(console.log("Organizing nodes..."),n.length<2){console.log("Not enough nodes to organize");return}const A=400,O=420,N=150,$=150,C=4,H=new Map,T=new Map,E=new Map;n.forEach(K=>{H.set(K.id,[]),E.set(K.id,0)}),r.forEach(K=>{const X=H.get(K.source)||[];X.push(K.target),H.set(K.source,X),T.set(K.target,K.source);const ee=E.get(K.target)||0;E.set(K.target,ee+1)});const M=n.filter(K=>(E.get(K.id)||0)===0);M.length===0&&n.length>0&&M.push(n[0]);const R=new Map,k=new Map,F=new Set;let V=0;const L=[];for(M.forEach(K=>{L.push({node:K,level:0}),R.set(K.id,0)});L.length>0;){const{node:K,level:X}=L.shift();if(F.has(K.id))continue;F.add(K.id),V=Math.max(V,X);const ee=k.get(X)||[];ee.push(K),k.set(X,ee),(H.get(K.id)||[]).forEach(ie=>{const re=n.find(le=>le.id===ie);re&&!F.has(ie)&&(L.push({node:re,level:X+1}),R.set(ie,X+1))})}const W=[];for(let K=0;K<=V;K++){const X=k.get(K)||[];W.push(...X)}const q=n.filter(K=>!F.has(K.id));W.push(...q);const Z=W.map((K,X)=>{const ee=Math.floor(X/C),oe=X%C,ie=Math.min(W.length,C),le=(Math.min(W.length-ee*C,C)-1)*A,Le=(ie-1)*A,J={x:N+(Le-le)/2+oe*A,y:$+ee*O};return{...K,position:J}});window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),setTimeout(()=>{c(Z),console.log("Organization complete!")},50)};return p.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-50 to-gray-100",children:p.jsxs(Og,{nodes:m,edges:_,onNodesChange:I,onEdgesChange:D,onConnect:b,onNodeClick:P,onPaneClick:j,nodeTypes:Ik,connectionMode:In.Loose,defaultEdgeOptions:Pk,className:"bg-transparent",nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,selectNodesOnDrag:!1,panOnDrag:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!1,preventScrolling:!1,children:[p.jsx(PE,{variant:pt.Dots,gap:16,size:1,color:"#e5e7eb"}),p.jsx(EE,{className:"bg-white shadow-lg rounded-lg border border-gray-200"}),p.jsx(gE,{className:"bg-white shadow-lg rounded-lg border border-gray-200",nodeColor:A=>{var O;if((O=A.data)!=null&&O.isOrphaned)return"#fb923c";switch(A.type){case"question":return"#2563eb";case"answer":return"#8b5cf6";case"outcome":return"#22c55e";default:return"#9ca3af"}},maskColor:"rgba(255, 255, 255, 0.8)",pannable:!0,zoomable:!0}),p.jsx(fl,{position:"top-right",className:"bg-white/95 backdrop-blur shadow-lg rounded-lg p-4 m-4 border border-gray-200",children:p.jsxs("div",{className:"text-sm space-y-1",children:[p.jsx("div",{className:"font-semibold text-gray-700 mb-2",children:"Flow Stats"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),p.jsxs("span",{children:["Questions: ",m.filter(A=>A.type==="question").length]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),p.jsxs("span",{children:["Answers: ",m.filter(A=>A.type==="answer").length]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),p.jsxs("span",{children:["Outcomes: ",m.filter(A=>A.type==="outcome").length]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),p.jsxs("span",{children:["Connections: ",_.length]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),p.jsxs("span",{children:["Orphaned: ",m.filter(A=>{var O;return(O=A.data)==null?void 0:O.isOrphaned}).length]})]})]})})]})})}class _u{generateCombinationsForNode(t){const n=[],r=t.length;for(let o=1;o<Math.pow(2,r);o++){const s=[],i=[];for(let a=0;a<r;a++)o&1<<a&&(s.push(a+1),i.push(t[a].text||`Variant ${a+1}`));const l={id:`combo-${o}`,variantIndices:s,pathId:`PATH-V${s.join("+V")}`,label:i.join(" + ")};n.push(l)}return n}exportToJson(t,n){const r=t.filter(f=>f.type==="question"),o=t.filter(f=>f.type==="answer"),s=t.filter(f=>f.type==="outcome"),i=r.find(f=>f.data.isRoot),a={topic:(i==null?void 0:i.data.topic)||"UNTITLED",version:"1.0.0",createdAt:new Date().toISOString(),totalQuestions:r.length},u={};r.forEach(f=>{u[f.id]={id:f.id,type:"question",pathId:f.data.pathId,pathIds:f.data.pathIds&&f.data.pathIds.length>1?f.data.pathIds:void 0,content:f.data.questionText,level:f.data.questionLevel,position:f.position,topic:f.data.topic}}),o.forEach(f=>{var m,w;u[f.id]={id:f.id,type:"answer",pathId:f.data.pathId,pathIds:f.data.pathIds&&f.data.pathIds.length>1?f.data.pathIds:void 0,content:`${((m=f.data.variants)==null?void 0:m.length)||0} variants`,level:0,position:f.position,topic:f.data.topic,answerType:f.data.answerType,variants:(w=f.data.variants)==null?void 0:w.map(v=>({id:v.id,text:v.text,score:v.score,allowsInput:v.allowsInput,inputValidation:v.inputValidation})),combinations:f.data.answerType==="combinations"?this.generateCombinationsForNode(f.data.variants||[]):void 0,combinationRules:f.data.combinationRules}}),s.forEach(f=>{u[f.id]={id:f.id,type:"outcome",pathId:f.data.pathId,pathIds:f.data.pathIds&&f.data.pathIds.length>1?f.data.pathIds:void 0,content:f.data.recommendation||"No recommendation provided",level:0,position:f.position,topic:f.data.topic,recommendation:f.data.recommendation}});const c={},d={};return n.forEach(f=>{const m=t.find(v=>v.id===f.source),w=t.find(v=>v.id===f.target);!m||!w||(c[f.source]||(c[f.source]={}),f.sourceHandle&&f.sourceHandle.startsWith("variant-")?(c[f.source].variants||(c[f.source].variants={}),c[f.source].variants[f.sourceHandle]=w.data.pathId):f.sourceHandle&&f.sourceHandle.startsWith("combination-")?(c[f.source].combinations||(c[f.source].combinations={}),c[f.source].combinations[f.sourceHandle]=w.data.pathId):c[f.source].default=w.data.pathId)}),o.forEach(f=>{(f.data.answerType==="multiple"||f.data.answerType==="combinations")&&f.data.combinationRules&&(d[f.id]=f.data.combinationRules.map((m,w)=>({condition:m.selectedVariants,nextNode:m.nextNode,priority:w+1})))}),{metadata:a,nodes:u,navigation:c,multipleChoiceRules:d}}exportToExcel(t){const n=this.convertToCSV(t);return new Blob([n],{type:"text/csv"})}convertToCSV(t){const r=[["Path ID","All Path IDs","Clean Path ID","Type","Content","Level","Variants","Scores","Next Path"]];return Object.values(t.nodes).forEach(o=>{var s,i;o.type==="question"?r.push([o.pathId,o.pathIds?o.pathIds.join(" | "):o.pathId,this.cleanPathId(o.pathId),"Question",o.content,o.level.toString(),"","",((s=t.navigation[o.id])==null?void 0:s.default)||""]):o.type==="answer"?((i=o.variants)==null||i.forEach((l,a)=>{var c,d;const u=((d=(c=t.navigation[o.id])==null?void 0:c.variants)==null?void 0:d[`variant-${a}`])||"";r.push([o.pathId,o.pathIds?o.pathIds.join(" | "):o.pathId,this.cleanPathId(o.pathId),"Answer",l.text,"0",l.text,l.score.toString(),u])}),o.answerType==="combinations"&&o.combinations&&o.combinations.forEach(l=>{var u,c;const a=((c=(u=t.navigation[o.id])==null?void 0:u.combinations)==null?void 0:c[`combination-${l.id}`])||"";r.push([o.pathId,o.pathIds?o.pathIds.join(" | "):o.pathId,this.cleanPathId(o.pathId),"Combination",l.label,"0",l.label,l.variantIndices.map(d=>{var f,m;return((m=(f=o.variants)==null?void 0:f[d])==null?void 0:m.score)||0}).reduce((d,f)=>d+f,0).toString(),a])})):o.type==="outcome"&&r.push([o.pathId,o.pathIds?o.pathIds.join(" | "):o.pathId,this.cleanPathId(o.pathId),"Outcome",o.recommendation||"No recommendation","0","","",""])}),r.map(o=>o.map(s=>`"${s.replace(/"/g,'""')}"`).join(",")).join(`
`)}cleanPathId(t){const n=t.split("-");return n.length<=2?t:n.slice(1).join("-")}importFromJson(t){const n=[],r=[];return Object.values(t.nodes).forEach((o,s)=>{const i=o.position||{x:200+s%3*400,y:200+Math.floor(s/3)*300};o.type==="question"?n.push({id:o.id,type:"question",position:i,data:{pathId:o.pathId,pathIds:o.pathIds||[o.pathId],topic:o.topic||"IMPORTED",isRoot:o.level===1,questionText:o.content,questionLevel:o.level,elementId:"IMPORTED",subElementId:"IMPORTED"}}):o.type==="answer"?n.push({id:o.id,type:"answer",position:i,data:{pathId:o.pathId,pathIds:o.pathIds||[o.pathId],answerType:o.answerType||"single",variants:o.variants||[],combinations:o.combinations,combinationRules:o.combinationRules,topic:o.topic||"IMPORTED"}}):o.type==="outcome"&&n.push({id:o.id,type:"outcome",position:i,data:{pathId:o.pathId,pathIds:o.pathIds||[o.pathId],recommendation:o.recommendation||"No recommendation provided",topic:o.topic||"IMPORTED"}})}),Object.entries(t.navigation).forEach(([o,s])=>{if(s.default){const i=n.find(l=>l.data.pathId===s.default);i&&r.push({id:`edge-${o}-${i.id}`,source:o,target:i.id,sourceHandle:"default",animated:!0})}s.variants&&Object.entries(s.variants).forEach(([i,l])=>{const a=n.find(u=>u.data.pathId===l);a&&r.push({id:`edge-${o}-${a.id}-${i}`,source:o,target:a.id,sourceHandle:i,animated:!0})}),s.combinations&&Object.entries(s.combinations).forEach(([i,l])=>{const a=n.find(u=>u.data.pathId===l);a&&r.push({id:`edge-${o}-${a.id}-${i}`,source:o,target:a.id,sourceHandle:i,animated:!0})})}),{nodes:n,edges:r}}testCombinationExportImport(){var r,o;console.log("Testing combination export/import functionality...");const t=[{id:"test-answer-1",type:"answer",position:{x:100,y:100},data:{pathId:"Test-A1",pathIds:["Test-A1"],answerType:"combinations",variants:[{id:"var1",text:"Option A",score:1},{id:"var2",text:"Option B",score:2}],topic:"Test"}},{id:"test-question-1",type:"question",position:{x:300,y:100},data:{pathId:"Test-A1-V0+V1-Q1",pathIds:["Test-A1-V0+V1-Q1"],questionText:"Test Question",questionLevel:2,topic:"Test",isRoot:!1,elementId:"E1",subElementId:"SE1"}}],n=[{id:"test-edge-1",source:"test-answer-1",target:"test-question-1",sourceHandle:"combination-combo-3",animated:!0}];try{const s=this.exportToJson(t,n);console.log("Export successful:",{hasNavigationCombinations:!!((r=s.navigation["test-answer-1"])!=null&&r.combinations),hasCombinationData:!!((o=s.nodes["test-answer-1"])!=null&&o.combinations)});const{nodes:i,edges:l}=this.importFromJson(s);return console.log("Import successful:",{nodeCount:i.length,edgeCount:l.length,hasCombinationHandle:l.some(a=>{var u;return(u=a.sourceHandle)==null?void 0:u.startsWith("combination-")})}),!0}catch(s){return console.error("Test failed:",s),!1}}}function Tk({onAddNode:e,onLoadDemo:t,onClearAll:n,onSetNodes:r,nodes:o=[]}){const{setEdges:s,edges:i,nodes:l,setNodes:a,propagatePathToAll:u,toggleAllMeta:c,pathDisplaysFolded:d,combinationSectionsFolded:f}=ke(),m=o.length>0?o:l,w=()=>{const j=m.map(O=>O.position);let I=200,D=200;const U=350,A=4;for(let O=0;O<m.length+1;O++){const N=O%A,$=Math.floor(O/A);if(I=200+N*U,D=200+$*U,!j.some(H=>Math.abs(H.x-I)<250&&Math.abs(H.y-D)<200))break}return{x:I,y:D}},v=()=>{const j=at.getInstance(),I=w(),D=j.getNextQuestionNumber(null),U="NEW-TOPIC",A=j.generateQuestionPathId(null,D,U),O={id:`q-${Date.now()}`,type:"question",position:I,data:{pathId:A,topic:U,isRoot:!0,questionText:"New Question",questionLevel:1,elementId:"NEW",subElementId:"NEW"}};j.registerNode(O.id,A),e==null||e(O)},_=()=>{const j=at.getInstance(),I=w(),U=`STANDALONE-A${j.getNextAnswerNumber("STANDALONE")}`,A={id:`a-${Date.now()}`,type:"answer",position:I,data:{pathId:U,answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}};e==null||e(A)},h=()=>{const j=at.getInstance(),I=w(),U=`STANDALONE-E${j.getNextOutcomeNumber("STANDALONE")}`,A={id:`o-${Date.now()}`,type:"outcome",position:I,data:{pathId:U,recommendation:"Enter your recommendation here...",topic:"General"}};e==null||e(A)},g=()=>{const j=ke.getState(),D=new _u().exportToJson(m,j.edges),U=new Blob([JSON.stringify(D,null,2)],{type:"application/json"}),A=URL.createObjectURL(U),O=document.createElement("a");O.href=A,O.download=`flow-${D.metadata.topic}-${Date.now()}.json`,O.click(),URL.revokeObjectURL(A)},x=()=>{const j=document.createElement("input");j.type="file",j.accept=".json",j.onchange=I=>{var U;const D=(U=I.target.files)==null?void 0:U[0];if(D){const A=new FileReader;A.onload=O=>{var N;try{const $=JSON.parse((N=O.target)==null?void 0:N.result);if($.metadata&&$.nodes&&$.navigation){const C=new _u,{nodes:H,edges:T}=C.importFromJson($);window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),r==null||r(H),s(T)}else $.nodes&&$.edges?(window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),r==null||r($.nodes),s($.edges)):console.error("Invalid file format")}catch($){console.error("Error importing flow:",$)}},A.readAsText(D)}},j.click()},y=()=>{t==null||t()},S=()=>{n==null||n()},b=()=>{u()},P=()=>{if(console.log("Organize button clicked!"),console.log("actualNodes:",m),console.log("actualNodes.length:",m.length),m.length<2){console.log("Not enough nodes to organize");return}console.log("Organizing",m.length,"nodes");const j=400,I=420,D=150,U=150,A=4,O=new Map,N=new Map,$=new Map;m.forEach(L=>{O.set(L.id,[]),$.set(L.id,0)}),i.forEach(L=>{const W=O.get(L.source)||[];W.push(L.target),O.set(L.source,W),N.set(L.target,L.source);const q=$.get(L.target)||0;$.set(L.target,q+1)}),console.log("Parent-child relationships:",{children:O,parents:N});const C=m.filter(L=>($.get(L.id)||0)===0);C.length===0&&m.length>0&&C.push(m[0]),console.log("Root nodes:",C.map(L=>L.id));const H=new Map,T=new Map,E=new Set;let M=0;const R=[];for(C.forEach(L=>{R.push({node:L,level:0}),H.set(L.id,0)});R.length>0;){const{node:L,level:W}=R.shift();if(E.has(L.id))continue;E.add(L.id),M=Math.max(M,W);const q=T.get(W)||[];q.push(L),T.set(W,q),(O.get(L.id)||[]).forEach(K=>{const X=m.find(ee=>ee.id===K);X&&!E.has(K)&&(R.push({node:X,level:W+1}),H.set(K,W+1))})}console.log("Nodes by level:",T);const k=[];for(let L=0;L<=M;L++){const W=T.get(L)||[];k.push(...W)}const F=m.filter(L=>!E.has(L.id));k.push(...F),console.log("Ordered nodes:",k.map(L=>L.id));const V=k.map((L,W)=>{const q=Math.floor(W/A),Z=W%A,K=Math.min(k.length,A),ee=(Math.min(k.length-q*A,A)-1)*j,oe=(K-1)*j,re={x:D+(oe-ee)/2+Z*j,y:U+q*I};return console.log(`Node ${L.id} (index ${W}): row ${q}, col ${Z} -> position ${re.x},${re.y}`),{...L,position:re}});console.log("Updated nodes:",V),window.flowCanvasSetBulkUpdate?(window.flowCanvasSetBulkUpdate(),console.log("Bulk update flag set")):console.log("flowCanvasSetBulkUpdate not found on window"),setTimeout(()=>{console.log("About to call setNodes..."),a(V),console.log("setNodes called"),r&&(console.log("Also calling onSetNodes callback..."),r(V)),console.log("Organization complete!")},50)};return p.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 bg-white border-b border-gray-200",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsxs("button",{onClick:P,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors text-sm font-medium w-[140px] h-10",title:"Organize nodes in a hierarchical layout",children:[p.jsx(xk,{size:16}),p.jsx("span",{children:"Organize"})]}),p.jsxs("button",{onClick:c,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors text-sm font-medium w-[140px] h-10",title:"Toggle visibility of path displays and combination sections",children:[d||f?p.jsx(i0,{size:16}):p.jsx(hk,{size:16}),p.jsx("span",{children:d||f?"Unfold Meta":"Fold Meta"})]})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsxs("button",{onClick:v,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[p.jsx(o0,{size:16}),p.jsx("span",{children:"Add Question"})]}),p.jsxs("button",{onClick:_,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[p.jsx(l0,{size:16}),p.jsx("span",{children:"Add Answer"})]}),p.jsxs("button",{onClick:h,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[p.jsx(a0,{size:16}),p.jsx("span",{children:"Add Outcome"})]})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsxs("button",{onClick:g,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",children:[p.jsx(s0,{size:16}),p.jsx("span",{children:"Export JSON"})]}),p.jsxs("button",{onClick:x,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",children:[p.jsx(u0,{size:16}),p.jsx("span",{children:"Import JSON"})]}),p.jsxs("button",{onClick:b,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",title:"Propagate path IDs from root nodes to all connected nodes",children:[p.jsx(wk,{size:16}),p.jsx("span",{children:"Propagate Path"})]})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsxs("button",{onClick:y,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-slate-500 text-white rounded-lg hover:bg-slate-600 transition-colors text-sm font-medium w-[140px] h-10",children:[p.jsx(pk,{size:16}),p.jsx("span",{children:"Load Demo"})]}),p.jsxs("button",{onClick:S,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm font-medium w-[140px] h-10",children:[p.jsx(Sk,{size:16}),p.jsx("span",{children:"Clear All"})]})]})]})}function $k({onEnterApp:e}){return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[p.jsxs("div",{className:"relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10"}),p.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"flex items-center justify-center mb-6",children:p.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl shadow-lg",children:p.jsx(mk,{className:"w-8 h-8 text-white"})})}),p.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Question Flow Builder"}),p.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Create interactive questionnaire flows with a powerful visual interface. Design complex decision trees, manage answer variants, and export your work seamlessly."}),p.jsxs("button",{onClick:e,className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[p.jsx(Jf,{className:"w-5 h-5 mr-2"}),"Start Building",p.jsx(Yf,{className:"w-5 h-5 ml-2"})]})]})})]}),p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Powerful Features"}),p.jsx("p",{className:"text-lg text-gray-600",children:"Everything you need to create professional questionnaire flows"})]}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx(yk,{className:"w-6 h-6 text-blue-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Visual Flow Builder"}),p.jsx("p",{className:"text-gray-600",children:"Drag and drop nodes to create complex questionnaire flows. Connect questions, answers, and outcomes with intuitive visual connections."})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx(Zf,{className:"w-6 h-6 text-cyan-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Double-Click Navigation"}),p.jsx("p",{className:"text-gray-600",children:"Double-click any node, answer variant, or combination to instantly focus on the next connected element. Navigate your flow with ease."})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx(gk,{className:"w-6 h-6 text-green-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Keyboard Shortcuts"}),p.jsx("p",{className:"text-gray-600",children:"Work efficiently with keyboard shortcuts: Tab to create nodes, Delete to remove, Cmd/Ctrl+Z for undo, and more."})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(u0,{className:"w-3 h-3 text-purple-600"}),p.jsx(s0,{className:"w-3 h-3 text-purple-600"})]})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Import & Export"}),p.jsx("p",{className:"text-gray-600",children:"Import Excel files or JSON flows. Export your work to share or backup. Seamless integration with existing workflows."})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx(i0,{className:"w-6 h-6 text-orange-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Real-time Validation"}),p.jsx("p",{className:"text-gray-600",children:"Instant visual feedback for orphaned nodes, missing connections, and flow integrity issues. Orange highlights show problems."})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx(Xf,{className:"w-6 h-6 text-indigo-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Smart Path IDs"}),p.jsx("p",{className:"text-gray-600",children:"Automatic generation of hierarchical path IDs (Q1, Q2, A1, A2, E1, E2) for questions, answers, and outcomes. All paths visible on nodes."})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx(Gf,{className:"w-6 h-6 text-rose-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Answer Combinations"}),p.jsx("p",{className:"text-gray-600",children:"Create complex multi-select scenarios with combination logic. Generate paths like V1+V2, V1+V3 for sophisticated questionnaire flows."})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx(kk,{className:"w-6 h-6 text-teal-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Smart Path Propagation"}),p.jsx("p",{className:"text-gray-600",children:"Intelligent path propagation across all answer types. Single, Multiple, and Combinations modes all generate correct variant paths."})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx(Nk,{className:"w-6 h-6 text-emerald-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Undo/Redo System"}),p.jsx("p",{className:"text-gray-600",children:"50-state history with standard keyboard shortcuts. Never lose your work with comprehensive undo/redo functionality."})]})]})]}),p.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 py-16",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Answer Types & Modes"}),p.jsx("p",{className:"text-lg text-gray-600",children:"Three powerful modes for different questionnaire scenarios"})]}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Single Mode"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Traditional single-choice questions where users select one answer from multiple options."}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[p.jsx("div",{className:"text-sm text-gray-700 mb-2",children:"Example Path IDs:"}),p.jsx("div",{className:"text-xs font-mono text-blue-600",children:"Topic-Q1-A1-E1"}),p.jsx("div",{className:"text-xs font-mono text-blue-600",children:"Topic-Q1-A2-E2"})]})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:p.jsxs("div",{className:"flex space-x-1",children:[p.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),p.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"})]})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Multiple Mode"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Multi-choice questions where each answer variant creates its own independent path."}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[p.jsx("div",{className:"text-sm text-gray-700 mb-2",children:"Example Path IDs:"}),p.jsx("div",{className:"text-xs font-mono text-purple-600",children:"Topic-Q1-A1-V1-E1"}),p.jsx("div",{className:"text-xs font-mono text-purple-600",children:"Topic-Q1-A1-V2-E2"})]})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx(Gf,{className:"w-6 h-6 text-rose-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Combinations Mode"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Advanced multi-select with combination logic. Each possible combination of answers creates unique paths."}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[p.jsx("div",{className:"text-sm text-gray-700 mb-2",children:"Example Path IDs:"}),p.jsx("div",{className:"text-xs font-mono text-rose-600",children:"Topic-Q1-A1-V1+V2-E1"}),p.jsx("div",{className:"text-xs font-mono text-rose-600",children:"Topic-Q1-A1-V1+V3-E2"})]})]})]})]})}),p.jsx("div",{className:"bg-white py-16",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Node Types & Visual Guide"}),p.jsx("p",{className:"text-lg text-gray-600",children:"Understanding the visual language of your flows"})]}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-lg p-6 shadow-lg mb-4 max-w-sm mx-auto",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[p.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),p.jsx("span",{className:"text-sm font-semibold text-blue-600",children:"Question"})]}),p.jsx("div",{className:"text-sm text-gray-700 mb-3",children:"What is your experience level?"}),p.jsxs("div",{className:"flex flex-wrap gap-1 justify-center",children:[p.jsx("div",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Topic-Q1"}),p.jsx("div",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Topic-Q2"})]})]}),p.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[p.jsx(o0,{className:"w-5 h-5 inline mr-2 text-blue-500"}),"Question Nodes"]}),p.jsx("p",{className:"text-gray-600 text-sm",children:"Blue theme • Single outgoing connection • Contains question text and level information • Shows all propagated path IDs"})]}),p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 rounded-lg p-6 shadow-lg mb-4 max-w-sm mx-auto",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[p.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),p.jsx("span",{className:"text-sm font-semibold text-purple-600",children:"Answer"})]}),p.jsxs("div",{className:"space-y-2 mb-3",children:[p.jsx("div",{className:"text-xs bg-white rounded px-2 py-1 border",children:"Yes (Score: 1)"}),p.jsx("div",{className:"text-xs bg-white rounded px-2 py-1 border",children:"No (Score: 0)"})]}),p.jsxs("div",{className:"flex flex-wrap gap-1 justify-center",children:[p.jsx("div",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:"Topic-Q1-A1"}),p.jsx("div",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:"Topic-Q1-A1-V1"})]})]}),p.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[p.jsx(l0,{className:"w-5 h-5 inline mr-2 text-purple-500"}),"Answer Nodes"]}),p.jsx("p",{className:"text-gray-600 text-sm",children:"Purple theme • Three modes: Single, Multiple, Combinations • Scoring system • Shows all propagated path IDs"})]}),p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-lg p-6 shadow-lg mb-4 max-w-sm mx-auto",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[p.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),p.jsx("span",{className:"text-sm font-semibold text-green-600",children:"Outcome"})]}),p.jsx("div",{className:"text-sm text-gray-700 mb-3",children:"You should explore visual tools..."}),p.jsxs("div",{className:"flex flex-wrap gap-1 justify-center",children:[p.jsx("div",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Topic-Q1-A1-E1"}),p.jsx("div",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Topic-Q1-A1-V1-E1"})]})]}),p.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[p.jsx(a0,{className:"w-5 h-5 inline mr-2 text-green-500"}),"Outcome Nodes"]}),p.jsx("p",{className:"text-gray-600 text-sm",children:"Green theme • End points • Contains recommendations • No outgoing connections • Shows all propagated path IDs"})]})]})]})}),p.jsx("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 py-16",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Navigation & Interaction"}),p.jsx("p",{className:"text-lg text-gray-600",children:"Intuitive ways to navigate and interact with your flows"})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-16 h-16 bg-cyan-100 rounded-lg flex items-center justify-center mb-6 mx-auto",children:p.jsx(Zf,{className:"w-8 h-8 text-cyan-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4 text-center",children:"Double-Click Navigation"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:"Question Nodes"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Double-click to focus on the connected answer node"})]})]}),p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:"Answer Nodes (Single)"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Double-click to focus on the next connected node"})]})]}),p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:"Answer Variants (Multiple)"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Double-click individual variants to follow their path"})]})]}),p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx("div",{className:"w-2 h-2 bg-rose-500 rounded-full mt-2"}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:"Combinations"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Double-click combination items to navigate their unique paths"})]})]})]})]}),p.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-lg flex items-center justify-center mb-6 mx-auto",children:p.jsx(Xf,{className:"w-8 h-8 text-indigo-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4 text-center",children:"PathID Display System"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[p.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"All Nodes Show Multiple Paths"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Every node displays all propagated path IDs as badges, making it easy to track complex flows"})]}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[p.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Automatic Propagation"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Path IDs automatically propagate through the flow, updating connected nodes when changes occur"})]}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[p.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Smart Variant Generation"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Multiple and Combinations modes generate appropriate variant paths (V1, V2, V1+V2, etc.)"})]})]})]})]})]})}),p.jsx("div",{className:"bg-gray-50 py-16",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Visual Indicators & Alerts"}),p.jsx("p",{className:"text-lg text-gray-600",children:"Understand what the colors and effects mean"})]}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[p.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-orange-100 rounded-lg border-2 border-orange-300 ring-2 ring-orange-400 flex items-center justify-center",children:p.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"})}),p.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Orange Glow"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Orphaned nodes or variants missing connections"})]}),p.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[p.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-green-100 rounded-lg border-2 border-green-300 ring-2 ring-green-400 flex items-center justify-center",children:p.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})}),p.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Green Glow"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Selected node and its connected parent/child nodes"})]}),p.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[p.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-blue-100 rounded-lg flex items-center justify-center",children:p.jsx("div",{className:"w-12 h-1 bg-blue-500 rounded shadow-lg",style:{boxShadow:"0 0 8px rgba(37, 99, 235, 0.6)"}})}),p.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Blue Edges"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Connections from selected nodes with blue glow effect"})]}),p.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[p.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gray-100 rounded-lg flex items-center justify-center",children:p.jsx("div",{className:"w-12 h-1 bg-gray-400 rounded"})}),p.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Gray Edges"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Default connection lines between nodes"})]})]})]})}),p.jsx("div",{className:"bg-white py-16",children:p.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Keyboard Shortcuts"}),p.jsx("p",{className:"text-lg text-gray-600",children:"Work faster with these essential shortcuts"})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Navigation & Selection"}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsx("span",{className:"text-gray-700",children:"Create linked question"}),p.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Tab"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsx("span",{className:"text-gray-700",children:"Delete selected node"}),p.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Delete"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsx("span",{className:"text-gray-700",children:"Deselect all"}),p.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Escape"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Undo & Redo"}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsx("span",{className:"text-gray-700",children:"Undo (Windows)"}),p.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Ctrl + Z"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsx("span",{className:"text-gray-700",children:"Undo (Mac)"}),p.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"⌘ + Z"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsx("span",{className:"text-gray-700",children:"Redo (Windows)"}),p.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Ctrl + Y"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsx("span",{className:"text-gray-700",children:"Redo (Mac)"}),p.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"⌘ + ⇧ + Z"})]})]})]})]})}),p.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 py-16",children:p.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Build Your First Flow?"}),p.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Start with our pre-loaded example or create your own from scratch"}),p.jsxs("button",{onClick:e,className:"inline-flex items-center px-8 py-4 bg-white text-blue-600 font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[p.jsx(Jf,{className:"w-5 h-5 mr-2"}),"Launch Flow Builder",p.jsx(Yf,{className:"w-5 h-5 ml-2"})]})]})})]})}const Mk=[{id:"q1",type:"question",position:{x:100,y:100},data:{pathId:"DEMO-Q1",topic:"DEMO",isRoot:!0,questionText:"What is your experience level with React?",questionLevel:1,elementId:"DEMO",subElementId:"REACT"}},{id:"a1",type:"answer",position:{x:100,y:250},data:{pathId:"DEMO-Q1-A1",answerType:"single",variants:[{id:"var1",text:"Beginner",score:1},{id:"var2",text:"Intermediate",score:2},{id:"var3",text:"Advanced",score:3}]}},{id:"q2",type:"question",position:{x:450,y:100},data:{pathId:"DEMO-Q1-A1-Q2",topic:"DEMO",isRoot:!1,questionText:"Do you prefer TypeScript over JavaScript?",questionLevel:2,elementId:"DEMO",subElementId:"TYPESCRIPT"}},{id:"a2",type:"answer",position:{x:450,y:250},data:{pathId:"DEMO-Q1-A1-Q2-A1",answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}}],zk=[{id:"e1",source:"q1",target:"a1",animated:!0},{id:"e2",source:"a1",target:"q2",sourceHandle:"var2",animated:!0},{id:"e3",source:"q2",target:"a2",animated:!0}],xr={nodes:Mk,edges:zk};function Ak(){const[e,t]=z.useState(!0),[n,r]=z.useState(!1),o=z.useRef(!1),{nodes:s,addNode:i,setNodes:l,setEdges:a,clearFlow:u}=ke(),c=z.useCallback(async()=>{try{const h=await fetch("/qnatool/flow-Topic-1752233651561.json");if(h.ok){const g=await h.json(),x=new _u,{nodes:y,edges:S}=x.importFromJson(g);window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),l(y),a(S),console.log("Default flow loaded successfully")}else console.warn("Default flow not found, loading demo data instead"),l(xr.nodes),a(xr.edges)}catch(h){console.error("Error loading default flow:",h),l(xr.nodes),a(xr.edges)}t(!1),r(!0)},[l,a]),d=z.useCallback(h=>{i(h)},[i]),f=z.useCallback(()=>{r(!1),o.current=!0,console.log("Auto-organize completed")},[]),m=z.useCallback(()=>{l(xr.nodes),a(xr.edges),setTimeout(()=>{const{cleanupDuplicateEdges:h}=ke.getState();h()},100)},[l,a]),w=z.useCallback(()=>{u()},[u]),v=z.useCallback(h=>{l(h)},[l]),_=z.useCallback(()=>{t(!0)},[]);return e?p.jsx($k,{onEnterApp:c}):p.jsxs("div",{className:"h-screen flex flex-col bg-gray-100",children:[p.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-2 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx("button",{onClick:_,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"← Back to Home"}),p.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Question Flow Builder"})]}),p.jsxs("div",{className:"text-sm text-gray-500",children:[s.length," nodes • Auto-loaded flow"]})]}),p.jsx(Tk,{onAddNode:d,onLoadDemo:m,onClearAll:w,onSetNodes:v,nodes:s}),p.jsx("div",{className:"flex-1",children:p.jsx(Ac,{children:p.jsx(jk,{shouldAutoOrganize:n&&!o.current,onAutoOrganizeComplete:f})})})]})}ca.createRoot(document.getElementById("root")).render(p.jsx(B.StrictMode,{children:p.jsx(Ak,{})}));
