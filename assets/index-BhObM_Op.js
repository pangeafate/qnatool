var D0=Object.defineProperty;var L0=(e,t,n)=>t in e?D0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yi=(e,t,n)=>L0(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function qf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xf={exports:{}},Vs={},Gf={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ui=Symbol.for("react.element"),O0=Symbol.for("react.portal"),F0=Symbol.for("react.fragment"),H0=Symbol.for("react.strict_mode"),V0=Symbol.for("react.profiler"),B0=Symbol.for("react.provider"),U0=Symbol.for("react.context"),W0=Symbol.for("react.forward_ref"),Q0=Symbol.for("react.suspense"),Y0=Symbol.for("react.memo"),K0=Symbol.for("react.lazy"),Hc=Symbol.iterator;function q0(e){return e===null||typeof e!="object"?null:(e=Hc&&e[Hc]||e["@@iterator"],typeof e=="function"?e:null)}var Zf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jf=Object.assign,ep={};function Zr(e,t,n){this.props=e,this.context=t,this.refs=ep,this.updater=n||Zf}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tp(){}tp.prototype=Zr.prototype;function _u(e,t,n){this.props=e,this.context=t,this.refs=ep,this.updater=n||Zf}var ku=_u.prototype=new tp;ku.constructor=_u;Jf(ku,Zr.prototype);ku.isPureReactComponent=!0;var Vc=Array.isArray,np=Object.prototype.hasOwnProperty,Cu={current:null},rp={key:!0,ref:!0,__self:!0,__source:!0};function op(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)np.call(t,r)&&!rp.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:ui,type:e,key:i,ref:s,props:o,_owner:Cu.current}}function X0(e,t){return{$$typeof:ui,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ui}function G0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bc=/\/+/g;function Sl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?G0(""+e.key):t.toString(36)}function Ui(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ui:case O0:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Sl(s,0):r,Vc(o)?(n="",e!=null&&(n=e.replace(Bc,"$&/")+"/"),Ui(o,t,n,"",function(u){return u})):o!=null&&(Pu(o)&&(o=X0(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Bc,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Vc(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+Sl(i,l);s+=Ui(i,t,n,a,o)}else if(a=q0(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+Sl(i,l++),s+=Ui(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function vi(e,t,n){if(e==null)return e;var r=[],o=0;return Ui(e,r,"","",function(i){return t.call(n,i,o++)}),r}function Z0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ve={current:null},Wi={transition:null},J0={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:Wi,ReactCurrentOwner:Cu};function ip(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:vi,forEach:function(e,t,n){vi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vi(e,function(){t++}),t},toArray:function(e){return vi(e,function(t){return t})||[]},only:function(e){if(!Pu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=Zr;ee.Fragment=F0;ee.Profiler=V0;ee.PureComponent=_u;ee.StrictMode=H0;ee.Suspense=Q0;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J0;ee.act=ip;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Jf({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Cu.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)np.call(t,a)&&!rp.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ui,type:e.type,key:o,ref:i,props:r,_owner:s}};ee.createContext=function(e){return e={$$typeof:U0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:B0,_context:e},e.Consumer=e};ee.createElement=op;ee.createFactory=function(e){var t=op.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:W0,render:e}};ee.isValidElement=Pu;ee.lazy=function(e){return{$$typeof:K0,_payload:{_status:-1,_result:e},_init:Z0}};ee.memo=function(e,t){return{$$typeof:Y0,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=Wi.transition;Wi.transition={};try{e()}finally{Wi.transition=t}};ee.unstable_act=ip;ee.useCallback=function(e,t){return Ve.current.useCallback(e,t)};ee.useContext=function(e){return Ve.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return Ve.current.useDeferredValue(e)};ee.useEffect=function(e,t){return Ve.current.useEffect(e,t)};ee.useId=function(){return Ve.current.useId()};ee.useImperativeHandle=function(e,t,n){return Ve.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return Ve.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return Ve.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return Ve.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return Ve.current.useReducer(e,t,n)};ee.useRef=function(e){return Ve.current.useRef(e)};ee.useState=function(e){return Ve.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return Ve.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return Ve.current.useTransition()};ee.version="18.3.1";Gf.exports=ee;var z=Gf.exports;const D=qf(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey=z,ty=Symbol.for("react.element"),ny=Symbol.for("react.fragment"),ry=Object.prototype.hasOwnProperty,oy=ey.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iy={key:!0,ref:!0,__self:!0,__source:!0};function sp(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)ry.call(t,r)&&!iy.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:ty,type:e,key:i,ref:s,props:o,_owner:oy.current}}Vs.Fragment=ny;Vs.jsx=sp;Vs.jsxs=sp;Xf.exports=Vs;var x=Xf.exports,aa={},lp={exports:{}},ot={},ap={exports:{}},up={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,E){var b=P.length;P.push(E);e:for(;0<b;){var R=b-1>>>1,j=P[R];if(0<o(j,E))P[R]=E,P[b]=j,b=R;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var E=P[0],b=P.pop();if(b!==E){P[0]=b;e:for(var R=0,j=P.length,V=j>>>1;R<V;){var U=2*(R+1)-1,Q=P[U],W=U+1,q=P[W];if(0>o(Q,b))W<j&&0>o(q,Q)?(P[R]=q,P[W]=b,R=W):(P[R]=Q,P[U]=b,R=U);else if(W<j&&0>o(q,b))P[R]=q,P[W]=b,R=W;else break e}}return E}function o(P,E){var b=P.sortIndex-E.sortIndex;return b!==0?b:P.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,d=null,f=3,m=!1,w=!1,v=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var E=n(u);E!==null;){if(E.callback===null)r(u);else if(E.startTime<=P)r(u),E.sortIndex=E.expirationTime,t(a,E);else break;E=n(u)}}function g(P){if(v=!1,y(P),!w)if(n(a)!==null)w=!0,$(N);else{var E=n(u);E!==null&&L(g,E.startTime-P)}}function N(P,E){w=!1,v&&(v=!1,p(M),M=-1),m=!0;var b=f;try{for(y(E),d=n(a);d!==null&&(!(d.expirationTime>E)||P&&!O());){var R=d.callback;if(typeof R=="function"){d.callback=null,f=d.priorityLevel;var j=R(d.expirationTime<=E);E=e.unstable_now(),typeof j=="function"?d.callback=j:d===n(a)&&r(a),y(E)}else r(a);d=n(a)}if(d!==null)var V=!0;else{var U=n(u);U!==null&&L(g,U.startTime-E),V=!1}return V}finally{d=null,f=b,m=!1}}var T=!1,C=null,M=-1,_=5,I=-1;function O(){return!(e.unstable_now()-I<_)}function F(){if(C!==null){var P=e.unstable_now();I=P;var E=!0;try{E=C(!0,P)}finally{E?H():(T=!1,C=null)}}else T=!1}var H;if(typeof h=="function")H=function(){h(F)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,A=S.port2;S.port1.onmessage=F,H=function(){A.postMessage(null)}}else H=function(){k(F,0)};function $(P){C=P,T||(T=!0,H())}function L(P,E){M=k(function(){P(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,$(N))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var E=3;break;default:E=f}var b=f;f=E;try{return P()}finally{f=b}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,E){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var b=f;f=P;try{return E()}finally{f=b}},e.unstable_scheduleCallback=function(P,E,b){var R=e.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?R+b:R):b=R,P){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=b+j,P={id:c++,callback:E,priorityLevel:P,startTime:b,expirationTime:j,sortIndex:-1},b>R?(P.sortIndex=b,t(u,P),n(a)===null&&P===n(u)&&(v?(p(M),M=-1):v=!0,L(g,b-R))):(P.sortIndex=j,t(a,P),w||m||(w=!0,$(N))),P},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(P){var E=f;return function(){var b=f;f=E;try{return P.apply(this,arguments)}finally{f=b}}}})(up);ap.exports=up;var sy=ap.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly=z,et=sy;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cp=new Set,Ro={};function or(e,t){Or(e,t),Or(e+"Capture",t)}function Or(e,t){for(Ro[e]=t,e=0;e<t.length;e++)cp.add(t[e])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ua=Object.prototype.hasOwnProperty,ay=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uc={},Wc={};function uy(e){return ua.call(Wc,e)?!0:ua.call(Uc,e)?!1:ay.test(e)?Wc[e]=!0:(Uc[e]=!0,!1)}function cy(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dy(e,t,n,r){if(t===null||typeof t>"u"||cy(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){be[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];be[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){be[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){be[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){be[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){be[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){be[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){be[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){be[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tu=/[\-:]([a-z])/g;function Mu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tu,Mu);be[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tu,Mu);be[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tu,Mu);be[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){be[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});be.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){be[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function $u(e,t,n,r){var o=be.hasOwnProperty(t)?be[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dy(t,n,o,r)&&(n=null),r||o===null?uy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tn=ly.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xi=Symbol.for("react.element"),yr=Symbol.for("react.portal"),vr=Symbol.for("react.fragment"),Iu=Symbol.for("react.strict_mode"),ca=Symbol.for("react.profiler"),dp=Symbol.for("react.provider"),fp=Symbol.for("react.context"),bu=Symbol.for("react.forward_ref"),da=Symbol.for("react.suspense"),fa=Symbol.for("react.suspense_list"),zu=Symbol.for("react.memo"),on=Symbol.for("react.lazy"),pp=Symbol.for("react.offscreen"),Qc=Symbol.iterator;function io(e){return e===null||typeof e!="object"?null:(e=Qc&&e[Qc]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,Nl;function wo(e){if(Nl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nl=t&&t[1]||""}return`
`+Nl+e}var El=!1;function _l(e,t){if(!e||El)return"";El=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var a=`
`+o[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{El=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wo(e):""}function fy(e){switch(e.tag){case 5:return wo(e.type);case 16:return wo("Lazy");case 13:return wo("Suspense");case 19:return wo("SuspenseList");case 0:case 2:case 15:return e=_l(e.type,!1),e;case 11:return e=_l(e.type.render,!1),e;case 1:return e=_l(e.type,!0),e;default:return""}}function pa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vr:return"Fragment";case yr:return"Portal";case ca:return"Profiler";case Iu:return"StrictMode";case da:return"Suspense";case fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fp:return(e.displayName||"Context")+".Consumer";case dp:return(e._context.displayName||"Context")+".Provider";case bu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zu:return t=e.displayName||null,t!==null?t:pa(e.type)||"Memo";case on:t=e._payload,e=e._init;try{return pa(e(t))}catch{}}return null}function py(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pa(t);case 8:return t===Iu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _n(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hy(e){var t=hp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wi(e){e._valueTracker||(e._valueTracker=hy(e))}function mp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ha(e,t){var n=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Yc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_n(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gp(e,t){t=t.checked,t!=null&&$u(e,"checked",t,!1)}function ma(e,t){gp(e,t);var n=_n(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ga(e,t.type,n):t.hasOwnProperty("defaultValue")&&ga(e,t.type,_n(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ga(e,t,n){(t!=="number"||ss(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var So=Array.isArray;function $r(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_n(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ya(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(So(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_n(n)}}function yp(e,t){var n=_n(t.value),r=_n(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Xc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function va(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Si,xp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Si=Si||document.createElement("div"),Si.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Si.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Do(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},my=["Webkit","ms","Moz","O"];Object.keys(Po).forEach(function(e){my.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Po[t]=Po[e]})});function wp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Po.hasOwnProperty(e)&&Po[e]?(""+t).trim():t+"px"}function Sp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=wp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var gy=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xa(e,t){if(t){if(gy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function wa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sa=null;function Au(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Na=null,Ir=null,br=null;function Gc(e){if(e=fi(e)){if(typeof Na!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Ys(t),Na(e.stateNode,e.type,t))}}function Np(e){Ir?br?br.push(e):br=[e]:Ir=e}function Ep(){if(Ir){var e=Ir,t=br;if(br=Ir=null,Gc(e),t)for(e=0;e<t.length;e++)Gc(t[e])}}function _p(e,t){return e(t)}function kp(){}var kl=!1;function Cp(e,t,n){if(kl)return e(t,n);kl=!0;try{return _p(e,t,n)}finally{kl=!1,(Ir!==null||br!==null)&&(kp(),Ep())}}function Lo(e,t){var n=e.stateNode;if(n===null)return null;var r=Ys(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Ea=!1;if(qt)try{var so={};Object.defineProperty(so,"passive",{get:function(){Ea=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Ea=!1}function yy(e,t,n,r,o,i,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var To=!1,ls=null,as=!1,_a=null,vy={onError:function(e){To=!0,ls=e}};function xy(e,t,n,r,o,i,s,l,a){To=!1,ls=null,yy.apply(vy,arguments)}function wy(e,t,n,r,o,i,s,l,a){if(xy.apply(this,arguments),To){if(To){var u=ls;To=!1,ls=null}else throw Error(B(198));as||(as=!0,_a=u)}}function ir(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Pp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zc(e){if(ir(e)!==e)throw Error(B(188))}function Sy(e){var t=e.alternate;if(!t){if(t=ir(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Zc(o),e;if(i===r)return Zc(o),t;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function Tp(e){return e=Sy(e),e!==null?Mp(e):null}function Mp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mp(e);if(t!==null)return t;e=e.sibling}return null}var $p=et.unstable_scheduleCallback,Jc=et.unstable_cancelCallback,Ny=et.unstable_shouldYield,Ey=et.unstable_requestPaint,ve=et.unstable_now,_y=et.unstable_getCurrentPriorityLevel,ju=et.unstable_ImmediatePriority,Ip=et.unstable_UserBlockingPriority,us=et.unstable_NormalPriority,ky=et.unstable_LowPriority,bp=et.unstable_IdlePriority,Bs=null,bt=null;function Cy(e){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Bs,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:My,Py=Math.log,Ty=Math.LN2;function My(e){return e>>>=0,e===0?32:31-(Py(e)/Ty|0)|0}var Ni=64,Ei=4194304;function No(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=No(l):(i&=s,i!==0&&(r=No(i)))}else s=n&~o,s!==0?r=No(s):i!==0&&(r=No(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_t(t),o=1<<n,r|=e[n],t&=~o;return r}function $y(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-_t(i),l=1<<s,a=o[s];a===-1?(!(l&n)||l&r)&&(o[s]=$y(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function ka(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zp(){var e=Ni;return Ni<<=1,!(Ni&4194240)&&(Ni=64),e}function Cl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ci(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function by(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-_t(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Ru(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_t(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var re=0;function Ap(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jp,Du,Rp,Dp,Lp,Ca=!1,_i=[],hn=null,mn=null,gn=null,Oo=new Map,Fo=new Map,un=[],zy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ed(e,t){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":Oo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(t.pointerId)}}function lo(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=fi(t),t!==null&&Du(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ay(e,t,n,r,o){switch(t){case"focusin":return hn=lo(hn,e,t,n,r,o),!0;case"dragenter":return mn=lo(mn,e,t,n,r,o),!0;case"mouseover":return gn=lo(gn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Oo.set(i,lo(Oo.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Fo.set(i,lo(Fo.get(i)||null,e,t,n,r,o)),!0}return!1}function Op(e){var t=Hn(e.target);if(t!==null){var n=ir(t);if(n!==null){if(t=n.tag,t===13){if(t=Pp(n),t!==null){e.blockedOn=t,Lp(e.priority,function(){Rp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Sa=r,n.target.dispatchEvent(r),Sa=null}else return t=fi(n),t!==null&&Du(t),e.blockedOn=n,!1;t.shift()}return!0}function td(e,t,n){Qi(e)&&n.delete(t)}function jy(){Ca=!1,hn!==null&&Qi(hn)&&(hn=null),mn!==null&&Qi(mn)&&(mn=null),gn!==null&&Qi(gn)&&(gn=null),Oo.forEach(td),Fo.forEach(td)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,Ca||(Ca=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,jy)))}function Ho(e){function t(o){return ao(o,e)}if(0<_i.length){ao(_i[0],e);for(var n=1;n<_i.length;n++){var r=_i[n];r.blockedOn===e&&(r.blockedOn=null)}}for(hn!==null&&ao(hn,e),mn!==null&&ao(mn,e),gn!==null&&ao(gn,e),Oo.forEach(t),Fo.forEach(t),n=0;n<un.length;n++)r=un[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)Op(n),n.blockedOn===null&&un.shift()}var zr=tn.ReactCurrentBatchConfig,ds=!0;function Ry(e,t,n,r){var o=re,i=zr.transition;zr.transition=null;try{re=1,Lu(e,t,n,r)}finally{re=o,zr.transition=i}}function Dy(e,t,n,r){var o=re,i=zr.transition;zr.transition=null;try{re=4,Lu(e,t,n,r)}finally{re=o,zr.transition=i}}function Lu(e,t,n,r){if(ds){var o=Pa(e,t,n,r);if(o===null)Rl(e,t,r,fs,n),ed(e,r);else if(Ay(o,e,t,n,r))r.stopPropagation();else if(ed(e,r),t&4&&-1<zy.indexOf(e)){for(;o!==null;){var i=fi(o);if(i!==null&&jp(i),i=Pa(e,t,n,r),i===null&&Rl(e,t,r,fs,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Rl(e,t,r,null,n)}}var fs=null;function Pa(e,t,n,r){if(fs=null,e=Au(r),e=Hn(e),e!==null)if(t=ir(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Pp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fs=e,null}function Fp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_y()){case ju:return 1;case Ip:return 4;case us:case ky:return 16;case bp:return 536870912;default:return 16}default:return 16}}var fn=null,Ou=null,Yi=null;function Hp(){if(Yi)return Yi;var e,t=Ou,n=t.length,r,o="value"in fn?fn.value:fn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Yi=o.slice(e,1<r?1-r:void 0)}function Ki(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function nd(){return!1}function it(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ki:nd,this.isPropagationStopped=nd,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),t}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fu=it(Jr),di=me({},Jr,{view:0,detail:0}),Ly=it(di),Pl,Tl,uo,Us=me({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uo&&(uo&&e.type==="mousemove"?(Pl=e.screenX-uo.screenX,Tl=e.screenY-uo.screenY):Tl=Pl=0,uo=e),Pl)},movementY:function(e){return"movementY"in e?e.movementY:Tl}}),rd=it(Us),Oy=me({},Us,{dataTransfer:0}),Fy=it(Oy),Hy=me({},di,{relatedTarget:0}),Ml=it(Hy),Vy=me({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),By=it(Vy),Uy=me({},Jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wy=it(Uy),Qy=me({},Jr,{data:0}),od=it(Qy),Yy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ky={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qy[e])?!!t[e]:!1}function Hu(){return Xy}var Gy=me({},di,{key:function(e){if(e.key){var t=Yy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ki(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ky[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(e){return e.type==="keypress"?Ki(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ki(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zy=it(Gy),Jy=me({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),id=it(Jy),ev=me({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),tv=it(ev),nv=me({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rv=it(nv),ov=me({},Us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iv=it(ov),sv=[9,13,27,32],Vu=qt&&"CompositionEvent"in window,Mo=null;qt&&"documentMode"in document&&(Mo=document.documentMode);var lv=qt&&"TextEvent"in window&&!Mo,Vp=qt&&(!Vu||Mo&&8<Mo&&11>=Mo),sd=" ",ld=!1;function Bp(e,t){switch(e){case"keyup":return sv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Up(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xr=!1;function av(e,t){switch(e){case"compositionend":return Up(t);case"keypress":return t.which!==32?null:(ld=!0,sd);case"textInput":return e=t.data,e===sd&&ld?null:e;default:return null}}function uv(e,t){if(xr)return e==="compositionend"||!Vu&&Bp(e,t)?(e=Hp(),Yi=Ou=fn=null,xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vp&&t.locale!=="ko"?null:t.data;default:return null}}var cv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cv[e.type]:t==="textarea"}function Wp(e,t,n,r){Np(r),t=ps(t,"onChange"),0<t.length&&(n=new Fu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $o=null,Vo=null;function dv(e){nh(e,0)}function Ws(e){var t=Nr(e);if(mp(t))return e}function fv(e,t){if(e==="change")return t}var Qp=!1;if(qt){var $l;if(qt){var Il="oninput"in document;if(!Il){var ud=document.createElement("div");ud.setAttribute("oninput","return;"),Il=typeof ud.oninput=="function"}$l=Il}else $l=!1;Qp=$l&&(!document.documentMode||9<document.documentMode)}function cd(){$o&&($o.detachEvent("onpropertychange",Yp),Vo=$o=null)}function Yp(e){if(e.propertyName==="value"&&Ws(Vo)){var t=[];Wp(t,Vo,e,Au(e)),Cp(dv,t)}}function pv(e,t,n){e==="focusin"?(cd(),$o=t,Vo=n,$o.attachEvent("onpropertychange",Yp)):e==="focusout"&&cd()}function hv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ws(Vo)}function mv(e,t){if(e==="click")return Ws(t)}function gv(e,t){if(e==="input"||e==="change")return Ws(t)}function yv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:yv;function Bo(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ua.call(t,o)||!Ct(e[o],t[o]))return!1}return!0}function dd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fd(e,t){var n=dd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dd(n)}}function Kp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qp(){for(var e=window,t=ss();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ss(e.document)}return t}function Bu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vv(e){var t=qp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Kp(n.ownerDocument.documentElement,n)){if(r!==null&&Bu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=fd(n,i);var s=fd(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xv=qt&&"documentMode"in document&&11>=document.documentMode,wr=null,Ta=null,Io=null,Ma=!1;function pd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ma||wr==null||wr!==ss(r)||(r=wr,"selectionStart"in r&&Bu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Io&&Bo(Io,r)||(Io=r,r=ps(Ta,"onSelect"),0<r.length&&(t=new Fu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wr)))}function Ci(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionend:Ci("Transition","TransitionEnd")},bl={},Xp={};qt&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function Qs(e){if(bl[e])return bl[e];if(!Sr[e])return e;var t=Sr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Xp)return bl[e]=t[n];return e}var Gp=Qs("animationend"),Zp=Qs("animationiteration"),Jp=Qs("animationstart"),eh=Qs("transitionend"),th=new Map,hd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){th.set(e,t),or(t,[e])}for(var zl=0;zl<hd.length;zl++){var Al=hd[zl],wv=Al.toLowerCase(),Sv=Al[0].toUpperCase()+Al.slice(1);Pn(wv,"on"+Sv)}Pn(Gp,"onAnimationEnd");Pn(Zp,"onAnimationIteration");Pn(Jp,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(eh,"onTransitionEnd");Or("onMouseEnter",["mouseout","mouseover"]);Or("onMouseLeave",["mouseout","mouseover"]);Or("onPointerEnter",["pointerout","pointerover"]);Or("onPointerLeave",["pointerout","pointerover"]);or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));or("onBeforeInput",["compositionend","keypress","textInput","paste"]);or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function md(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,wy(r,t,void 0,e),e.currentTarget=null}function nh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&o.isPropagationStopped())break e;md(o,l,u),i=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&o.isPropagationStopped())break e;md(o,l,u),i=a}}}if(as)throw e=_a,as=!1,_a=null,e}function ae(e,t){var n=t[Aa];n===void 0&&(n=t[Aa]=new Set);var r=e+"__bubble";n.has(r)||(rh(t,e,2,!1),n.add(r))}function jl(e,t,n){var r=0;t&&(r|=4),rh(n,e,r,t)}var Pi="_reactListening"+Math.random().toString(36).slice(2);function Uo(e){if(!e[Pi]){e[Pi]=!0,cp.forEach(function(n){n!=="selectionchange"&&(Nv.has(n)||jl(n,!1,e),jl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pi]||(t[Pi]=!0,jl("selectionchange",!1,t))}}function rh(e,t,n,r){switch(Fp(t)){case 1:var o=Ry;break;case 4:o=Dy;break;default:o=Lu}n=o.bind(null,t,n,e),o=void 0,!Ea||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Rl(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;s=s.return}for(;l!==null;){if(s=Hn(l),s===null)return;if(a=s.tag,a===5||a===6){r=i=s;continue e}l=l.parentNode}}r=r.return}Cp(function(){var u=i,c=Au(n),d=[];e:{var f=th.get(e);if(f!==void 0){var m=Fu,w=e;switch(e){case"keypress":if(Ki(n)===0)break e;case"keydown":case"keyup":m=Zy;break;case"focusin":w="focus",m=Ml;break;case"focusout":w="blur",m=Ml;break;case"beforeblur":case"afterblur":m=Ml;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Fy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=tv;break;case Gp:case Zp:case Jp:m=By;break;case eh:m=rv;break;case"scroll":m=Ly;break;case"wheel":m=iv;break;case"copy":case"cut":case"paste":m=Wy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=id}var v=(t&4)!==0,k=!v&&e==="scroll",p=v?f!==null?f+"Capture":null:f;v=[];for(var h=u,y;h!==null;){y=h;var g=y.stateNode;if(y.tag===5&&g!==null&&(y=g,p!==null&&(g=Lo(h,p),g!=null&&v.push(Wo(h,g,y)))),k)break;h=h.return}0<v.length&&(f=new m(f,w,null,n,c),d.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Sa&&(w=n.relatedTarget||n.fromElement)&&(Hn(w)||w[Xt]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?Hn(w):null,w!==null&&(k=ir(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(v=rd,g="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(v=id,g="onPointerLeave",p="onPointerEnter",h="pointer"),k=m==null?f:Nr(m),y=w==null?f:Nr(w),f=new v(g,h+"leave",m,n,c),f.target=k,f.relatedTarget=y,g=null,Hn(c)===u&&(v=new v(p,h+"enter",w,n,c),v.target=y,v.relatedTarget=k,g=v),k=g,m&&w)t:{for(v=m,p=w,h=0,y=v;y;y=dr(y))h++;for(y=0,g=p;g;g=dr(g))y++;for(;0<h-y;)v=dr(v),h--;for(;0<y-h;)p=dr(p),y--;for(;h--;){if(v===p||p!==null&&v===p.alternate)break t;v=dr(v),p=dr(p)}v=null}else v=null;m!==null&&gd(d,f,m,v,!1),w!==null&&k!==null&&gd(d,k,w,v,!0)}}e:{if(f=u?Nr(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=fv;else if(ad(f))if(Qp)N=gv;else{N=hv;var T=pv}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=mv);if(N&&(N=N(e,u))){Wp(d,N,n,c);break e}T&&T(e,f,u),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&ga(f,"number",f.value)}switch(T=u?Nr(u):window,e){case"focusin":(ad(T)||T.contentEditable==="true")&&(wr=T,Ta=u,Io=null);break;case"focusout":Io=Ta=wr=null;break;case"mousedown":Ma=!0;break;case"contextmenu":case"mouseup":case"dragend":Ma=!1,pd(d,n,c);break;case"selectionchange":if(xv)break;case"keydown":case"keyup":pd(d,n,c)}var C;if(Vu)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else xr?Bp(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Vp&&n.locale!=="ko"&&(xr||M!=="onCompositionStart"?M==="onCompositionEnd"&&xr&&(C=Hp()):(fn=c,Ou="value"in fn?fn.value:fn.textContent,xr=!0)),T=ps(u,M),0<T.length&&(M=new od(M,e,null,n,c),d.push({event:M,listeners:T}),C?M.data=C:(C=Up(n),C!==null&&(M.data=C)))),(C=lv?av(e,n):uv(e,n))&&(u=ps(u,"onBeforeInput"),0<u.length&&(c=new od("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}nh(d,t)})}function Wo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ps(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Lo(e,n),i!=null&&r.unshift(Wo(e,i,o)),i=Lo(e,t),i!=null&&r.push(Wo(e,i,o))),e=e.return}return r}function dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gd(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=Lo(n,i),a!=null&&s.unshift(Wo(n,a,l))):o||(a=Lo(n,i),a!=null&&s.push(Wo(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Ev=/\r\n?/g,_v=/\u0000|\uFFFD/g;function yd(e){return(typeof e=="string"?e:""+e).replace(Ev,`
`).replace(_v,"")}function Ti(e,t,n){if(t=yd(t),yd(e)!==t&&n)throw Error(B(425))}function hs(){}var $a=null,Ia=null;function ba(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var za=typeof setTimeout=="function"?setTimeout:void 0,kv=typeof clearTimeout=="function"?clearTimeout:void 0,vd=typeof Promise=="function"?Promise:void 0,Cv=typeof queueMicrotask=="function"?queueMicrotask:typeof vd<"u"?function(e){return vd.resolve(null).then(e).catch(Pv)}:za;function Pv(e){setTimeout(function(){throw e})}function Dl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Ho(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ho(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var eo=Math.random().toString(36).slice(2),It="__reactFiber$"+eo,Qo="__reactProps$"+eo,Xt="__reactContainer$"+eo,Aa="__reactEvents$"+eo,Tv="__reactListeners$"+eo,Mv="__reactHandles$"+eo;function Hn(e){var t=e[It];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xt]||n[It]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xd(e);e!==null;){if(n=e[It])return n;e=xd(e)}return t}e=n,n=e.parentNode}return null}function fi(e){return e=e[It]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Ys(e){return e[Qo]||null}var ja=[],Er=-1;function Tn(e){return{current:e}}function ue(e){0>Er||(e.current=ja[Er],ja[Er]=null,Er--)}function ie(e,t){Er++,ja[Er]=e.current,e.current=t}var kn={},Le=Tn(kn),Ye=Tn(!1),Xn=kn;function Fr(e,t){var n=e.type.contextTypes;if(!n)return kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ke(e){return e=e.childContextTypes,e!=null}function ms(){ue(Ye),ue(Le)}function wd(e,t,n){if(Le.current!==kn)throw Error(B(168));ie(Le,t),ie(Ye,n)}function oh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(B(108,py(e)||"Unknown",o));return me({},n,r)}function gs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Xn=Le.current,ie(Le,e),ie(Ye,Ye.current),!0}function Sd(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=oh(e,t,Xn),r.__reactInternalMemoizedMergedChildContext=e,ue(Ye),ue(Le),ie(Le,e)):ue(Ye),ie(Ye,n)}var Vt=null,Ks=!1,Ll=!1;function ih(e){Vt===null?Vt=[e]:Vt.push(e)}function $v(e){Ks=!0,ih(e)}function Mn(){if(!Ll&&Vt!==null){Ll=!0;var e=0,t=re;try{var n=Vt;for(re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vt=null,Ks=!1}catch(o){throw Vt!==null&&(Vt=Vt.slice(e+1)),$p(ju,Mn),o}finally{re=t,Ll=!1}}return null}var _r=[],kr=0,ys=null,vs=0,st=[],lt=0,Gn=null,Bt=1,Ut="";function Rn(e,t){_r[kr++]=vs,_r[kr++]=ys,ys=e,vs=t}function sh(e,t,n){st[lt++]=Bt,st[lt++]=Ut,st[lt++]=Gn,Gn=e;var r=Bt;e=Ut;var o=32-_t(r)-1;r&=~(1<<o),n+=1;var i=32-_t(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Bt=1<<32-_t(t)+o|n<<o|r,Ut=i+e}else Bt=1<<i|n<<o|r,Ut=e}function Uu(e){e.return!==null&&(Rn(e,1),sh(e,1,0))}function Wu(e){for(;e===ys;)ys=_r[--kr],_r[kr]=null,vs=_r[--kr],_r[kr]=null;for(;e===Gn;)Gn=st[--lt],st[lt]=null,Ut=st[--lt],st[lt]=null,Bt=st[--lt],st[lt]=null}var Je=null,Ze=null,ce=!1,St=null;function lh(e,t){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Nd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ze=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gn!==null?{id:Bt,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Ze=null,!0):!1;default:return!1}}function Ra(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Da(e){if(ce){var t=Ze;if(t){var n=t;if(!Nd(e,t)){if(Ra(e))throw Error(B(418));t=yn(n.nextSibling);var r=Je;t&&Nd(e,t)?lh(r,n):(e.flags=e.flags&-4097|2,ce=!1,Je=e)}}else{if(Ra(e))throw Error(B(418));e.flags=e.flags&-4097|2,ce=!1,Je=e}}}function Ed(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Mi(e){if(e!==Je)return!1;if(!ce)return Ed(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ba(e.type,e.memoizedProps)),t&&(t=Ze)){if(Ra(e))throw ah(),Error(B(418));for(;t;)lh(e,t),t=yn(t.nextSibling)}if(Ed(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=Je?yn(e.stateNode.nextSibling):null;return!0}function ah(){for(var e=Ze;e;)e=yn(e.nextSibling)}function Hr(){Ze=Je=null,ce=!1}function Qu(e){St===null?St=[e]:St.push(e)}var Iv=tn.ReactCurrentBatchConfig;function co(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function $i(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _d(e){var t=e._init;return t(e._payload)}function uh(e){function t(p,h){if(e){var y=p.deletions;y===null?(p.deletions=[h],p.flags|=16):y.push(h)}}function n(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function o(p,h){return p=Sn(p,h),p.index=0,p.sibling=null,p}function i(p,h,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<h?(p.flags|=2,h):y):(p.flags|=2,h)):(p.flags|=1048576,h)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,h,y,g){return h===null||h.tag!==6?(h=Wl(y,p.mode,g),h.return=p,h):(h=o(h,y),h.return=p,h)}function a(p,h,y,g){var N=y.type;return N===vr?c(p,h,y.props.children,g,y.key):h!==null&&(h.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===on&&_d(N)===h.type)?(g=o(h,y.props),g.ref=co(p,h,y),g.return=p,g):(g=ts(y.type,y.key,y.props,null,p.mode,g),g.ref=co(p,h,y),g.return=p,g)}function u(p,h,y,g){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=Ql(y,p.mode,g),h.return=p,h):(h=o(h,y.children||[]),h.return=p,h)}function c(p,h,y,g,N){return h===null||h.tag!==7?(h=Yn(y,p.mode,g,N),h.return=p,h):(h=o(h,y),h.return=p,h)}function d(p,h,y){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Wl(""+h,p.mode,y),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case xi:return y=ts(h.type,h.key,h.props,null,p.mode,y),y.ref=co(p,null,h),y.return=p,y;case yr:return h=Ql(h,p.mode,y),h.return=p,h;case on:var g=h._init;return d(p,g(h._payload),y)}if(So(h)||io(h))return h=Yn(h,p.mode,y,null),h.return=p,h;$i(p,h)}return null}function f(p,h,y,g){var N=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:l(p,h,""+y,g);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xi:return y.key===N?a(p,h,y,g):null;case yr:return y.key===N?u(p,h,y,g):null;case on:return N=y._init,f(p,h,N(y._payload),g)}if(So(y)||io(y))return N!==null?null:c(p,h,y,g,null);$i(p,y)}return null}function m(p,h,y,g,N){if(typeof g=="string"&&g!==""||typeof g=="number")return p=p.get(y)||null,l(h,p,""+g,N);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case xi:return p=p.get(g.key===null?y:g.key)||null,a(h,p,g,N);case yr:return p=p.get(g.key===null?y:g.key)||null,u(h,p,g,N);case on:var T=g._init;return m(p,h,y,T(g._payload),N)}if(So(g)||io(g))return p=p.get(y)||null,c(h,p,g,N,null);$i(h,g)}return null}function w(p,h,y,g){for(var N=null,T=null,C=h,M=h=0,_=null;C!==null&&M<y.length;M++){C.index>M?(_=C,C=null):_=C.sibling;var I=f(p,C,y[M],g);if(I===null){C===null&&(C=_);break}e&&C&&I.alternate===null&&t(p,C),h=i(I,h,M),T===null?N=I:T.sibling=I,T=I,C=_}if(M===y.length)return n(p,C),ce&&Rn(p,M),N;if(C===null){for(;M<y.length;M++)C=d(p,y[M],g),C!==null&&(h=i(C,h,M),T===null?N=C:T.sibling=C,T=C);return ce&&Rn(p,M),N}for(C=r(p,C);M<y.length;M++)_=m(C,p,M,y[M],g),_!==null&&(e&&_.alternate!==null&&C.delete(_.key===null?M:_.key),h=i(_,h,M),T===null?N=_:T.sibling=_,T=_);return e&&C.forEach(function(O){return t(p,O)}),ce&&Rn(p,M),N}function v(p,h,y,g){var N=io(y);if(typeof N!="function")throw Error(B(150));if(y=N.call(y),y==null)throw Error(B(151));for(var T=N=null,C=h,M=h=0,_=null,I=y.next();C!==null&&!I.done;M++,I=y.next()){C.index>M?(_=C,C=null):_=C.sibling;var O=f(p,C,I.value,g);if(O===null){C===null&&(C=_);break}e&&C&&O.alternate===null&&t(p,C),h=i(O,h,M),T===null?N=O:T.sibling=O,T=O,C=_}if(I.done)return n(p,C),ce&&Rn(p,M),N;if(C===null){for(;!I.done;M++,I=y.next())I=d(p,I.value,g),I!==null&&(h=i(I,h,M),T===null?N=I:T.sibling=I,T=I);return ce&&Rn(p,M),N}for(C=r(p,C);!I.done;M++,I=y.next())I=m(C,p,M,I.value,g),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?M:I.key),h=i(I,h,M),T===null?N=I:T.sibling=I,T=I);return e&&C.forEach(function(F){return t(p,F)}),ce&&Rn(p,M),N}function k(p,h,y,g){if(typeof y=="object"&&y!==null&&y.type===vr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case xi:e:{for(var N=y.key,T=h;T!==null;){if(T.key===N){if(N=y.type,N===vr){if(T.tag===7){n(p,T.sibling),h=o(T,y.props.children),h.return=p,p=h;break e}}else if(T.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===on&&_d(N)===T.type){n(p,T.sibling),h=o(T,y.props),h.ref=co(p,T,y),h.return=p,p=h;break e}n(p,T);break}else t(p,T);T=T.sibling}y.type===vr?(h=Yn(y.props.children,p.mode,g,y.key),h.return=p,p=h):(g=ts(y.type,y.key,y.props,null,p.mode,g),g.ref=co(p,h,y),g.return=p,p=g)}return s(p);case yr:e:{for(T=y.key;h!==null;){if(h.key===T)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){n(p,h.sibling),h=o(h,y.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else t(p,h);h=h.sibling}h=Ql(y,p.mode,g),h.return=p,p=h}return s(p);case on:return T=y._init,k(p,h,T(y._payload),g)}if(So(y))return w(p,h,y,g);if(io(y))return v(p,h,y,g);$i(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,h!==null&&h.tag===6?(n(p,h.sibling),h=o(h,y),h.return=p,p=h):(n(p,h),h=Wl(y,p.mode,g),h.return=p,p=h),s(p)):n(p,h)}return k}var Vr=uh(!0),ch=uh(!1),xs=Tn(null),ws=null,Cr=null,Yu=null;function Ku(){Yu=Cr=ws=null}function qu(e){var t=xs.current;ue(xs),e._currentValue=t}function La(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ar(e,t){ws=e,Yu=Cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(Yu!==e)if(e={context:e,memoizedValue:t,next:null},Cr===null){if(ws===null)throw Error(B(308));Cr=e,ws.dependencies={lanes:0,firstContext:e}}else Cr=Cr.next=e;return t}var Vn=null;function Xu(e){Vn===null?Vn=[e]:Vn.push(e)}function dh(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Xu(t)):(n.next=o.next,o.next=n),t.interleaved=n,Gt(e,r)}function Gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sn=!1;function Gu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Gt(e,n)}return o=r.interleaved,o===null?(t.next=t,Xu(r)):(t.next=o.next,o.next=t),r.interleaved=t,Gt(e,n)}function qi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ru(e,n)}}function kd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ss(e,t,n,r){var o=e.updateQueue;sn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?i=u:s.next=u,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var d=o.baseState;s=0,c=u=a=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,v=l;switch(f=t,m=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){d=w.call(m,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,f=typeof w=="function"?w.call(m,d,f):w,f==null)break e;d=me({},d,f);break e;case 2:sn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=m,a=d):c=c.next=m,s|=f;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;f=l,l=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(c===null&&(a=d),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Jn|=s,e.lanes=s,e.memoizedState=d}}function Cd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(B(191,o));o.call(r)}}}var pi={},zt=Tn(pi),Yo=Tn(pi),Ko=Tn(pi);function Bn(e){if(e===pi)throw Error(B(174));return e}function Zu(e,t){switch(ie(Ko,t),ie(Yo,e),ie(zt,pi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:va(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=va(t,e)}ue(zt),ie(zt,t)}function Br(){ue(zt),ue(Yo),ue(Ko)}function ph(e){Bn(Ko.current);var t=Bn(zt.current),n=va(t,e.type);t!==n&&(ie(Yo,e),ie(zt,n))}function Ju(e){Yo.current===e&&(ue(zt),ue(Yo))}var pe=Tn(0);function Ns(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ol=[];function ec(){for(var e=0;e<Ol.length;e++)Ol[e]._workInProgressVersionPrimary=null;Ol.length=0}var Xi=tn.ReactCurrentDispatcher,Fl=tn.ReactCurrentBatchConfig,Zn=0,he=null,we=null,_e=null,Es=!1,bo=!1,qo=0,bv=0;function je(){throw Error(B(321))}function tc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ct(e[n],t[n]))return!1;return!0}function nc(e,t,n,r,o,i){if(Zn=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xi.current=e===null||e.memoizedState===null?Rv:Dv,e=n(r,o),bo){i=0;do{if(bo=!1,qo=0,25<=i)throw Error(B(301));i+=1,_e=we=null,t.updateQueue=null,Xi.current=Lv,e=n(r,o)}while(bo)}if(Xi.current=_s,t=we!==null&&we.next!==null,Zn=0,_e=we=he=null,Es=!1,t)throw Error(B(300));return e}function rc(){var e=qo!==0;return qo=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?he.memoizedState=_e=e:_e=_e.next=e,_e}function mt(){if(we===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=_e===null?he.memoizedState:_e.next;if(t!==null)_e=t,we=e;else{if(e===null)throw Error(B(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},_e===null?he.memoizedState=_e=e:_e=_e.next=e}return _e}function Xo(e,t){return typeof t=="function"?t(e):t}function Hl(e){var t=mt(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=we,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,a=null,u=i;do{var c=u.lane;if((Zn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,s=r):a=a.next=d,he.lanes|=c,Jn|=c}u=u.next}while(u!==null&&u!==i);a===null?s=r:a.next=l,Ct(r,t.memoizedState)||(We=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,he.lanes|=i,Jn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vl(e){var t=mt(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Ct(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function hh(){}function mh(e,t){var n=he,r=mt(),o=t(),i=!Ct(r.memoizedState,o);if(i&&(r.memoizedState=o,We=!0),r=r.queue,oc(vh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,Go(9,yh.bind(null,n,r,o,t),void 0,null),Ce===null)throw Error(B(349));Zn&30||gh(n,t,o)}return o}function gh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yh(e,t,n,r){t.value=n,t.getSnapshot=r,xh(t)&&wh(e)}function vh(e,t,n){return n(function(){xh(t)&&wh(e)})}function xh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ct(e,n)}catch{return!0}}function wh(e){var t=Gt(e,1);t!==null&&kt(t,e,1,-1)}function Pd(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:e},t.queue=e,e=e.dispatch=jv.bind(null,he,e),[t.memoizedState,e]}function Go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Sh(){return mt().memoizedState}function Gi(e,t,n,r){var o=$t();he.flags|=e,o.memoizedState=Go(1|t,n,void 0,r===void 0?null:r)}function qs(e,t,n,r){var o=mt();r=r===void 0?null:r;var i=void 0;if(we!==null){var s=we.memoizedState;if(i=s.destroy,r!==null&&tc(r,s.deps)){o.memoizedState=Go(t,n,i,r);return}}he.flags|=e,o.memoizedState=Go(1|t,n,i,r)}function Td(e,t){return Gi(8390656,8,e,t)}function oc(e,t){return qs(2048,8,e,t)}function Nh(e,t){return qs(4,2,e,t)}function Eh(e,t){return qs(4,4,e,t)}function _h(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kh(e,t,n){return n=n!=null?n.concat([e]):null,qs(4,4,_h.bind(null,t,e),n)}function ic(){}function Ch(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ph(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Th(e,t,n){return Zn&21?(Ct(n,t)||(n=zp(),he.lanes|=n,Jn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function zv(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var r=Fl.transition;Fl.transition={};try{e(!1),t()}finally{re=n,Fl.transition=r}}function Mh(){return mt().memoizedState}function Av(e,t,n){var r=wn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$h(e))Ih(t,n);else if(n=dh(e,t,n,r),n!==null){var o=He();kt(n,e,r,o),bh(n,t,r)}}function jv(e,t,n){var r=wn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($h(e))Ih(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,Ct(l,s)){var a=t.interleaved;a===null?(o.next=o,Xu(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=dh(e,t,o,r),n!==null&&(o=He(),kt(n,e,r,o),bh(n,t,r))}}function $h(e){var t=e.alternate;return e===he||t!==null&&t===he}function Ih(e,t){bo=Es=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ru(e,n)}}var _s={readContext:ht,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},Rv={readContext:ht,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:Td,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gi(4194308,4,_h.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gi(4,2,e,t)},useMemo:function(e,t){var n=$t();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$t();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Av.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:Pd,useDebugValue:ic,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=Pd(!1),t=e[0];return e=zv.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=he,o=$t();if(ce){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),Ce===null)throw Error(B(349));Zn&30||gh(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Td(vh.bind(null,r,i,e),[e]),r.flags|=2048,Go(9,yh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=$t(),t=Ce.identifierPrefix;if(ce){var n=Ut,r=Bt;n=(r&~(1<<32-_t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=qo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dv={readContext:ht,useCallback:Ch,useContext:ht,useEffect:oc,useImperativeHandle:kh,useInsertionEffect:Nh,useLayoutEffect:Eh,useMemo:Ph,useReducer:Hl,useRef:Sh,useState:function(){return Hl(Xo)},useDebugValue:ic,useDeferredValue:function(e){var t=mt();return Th(t,we.memoizedState,e)},useTransition:function(){var e=Hl(Xo)[0],t=mt().memoizedState;return[e,t]},useMutableSource:hh,useSyncExternalStore:mh,useId:Mh,unstable_isNewReconciler:!1},Lv={readContext:ht,useCallback:Ch,useContext:ht,useEffect:oc,useImperativeHandle:kh,useInsertionEffect:Nh,useLayoutEffect:Eh,useMemo:Ph,useReducer:Vl,useRef:Sh,useState:function(){return Vl(Xo)},useDebugValue:ic,useDeferredValue:function(e){var t=mt();return we===null?t.memoizedState=e:Th(t,we.memoizedState,e)},useTransition:function(){var e=Vl(Xo)[0],t=mt().memoizedState;return[e,t]},useMutableSource:hh,useSyncExternalStore:mh,useId:Mh,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Oa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xs={isMounted:function(e){return(e=e._reactInternals)?ir(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=He(),o=wn(e),i=Yt(r,o);i.payload=t,n!=null&&(i.callback=n),t=vn(e,i,o),t!==null&&(kt(t,e,o,r),qi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=He(),o=wn(e),i=Yt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=vn(e,i,o),t!==null&&(kt(t,e,o,r),qi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=He(),r=wn(e),o=Yt(n,r);o.tag=2,t!=null&&(o.callback=t),t=vn(e,o,r),t!==null&&(kt(t,e,r,n),qi(t,e,r))}};function Md(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Bo(n,r)||!Bo(o,i):!0}function zh(e,t,n){var r=!1,o=kn,i=t.contextType;return typeof i=="object"&&i!==null?i=ht(i):(o=Ke(t)?Xn:Le.current,r=t.contextTypes,i=(r=r!=null)?Fr(e,o):kn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function $d(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xs.enqueueReplaceState(t,t.state,null)}function Fa(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Gu(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=ht(i):(i=Ke(t)?Xn:Le.current,o.context=Fr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Oa(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Xs.enqueueReplaceState(o,o.state,null),Ss(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ur(e,t){try{var n="",r=t;do n+=fy(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Bl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ha(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ov=typeof WeakMap=="function"?WeakMap:Map;function Ah(e,t,n){n=Yt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Cs||(Cs=!0,Ga=r),Ha(e,t)},n}function jh(e,t,n){n=Yt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ha(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ha(e,t),typeof r!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Id(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ov;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Jv.bind(null,e,t,n),t.then(e,e))}function bd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yt(-1,1),t.tag=2,vn(n,t,1))),n.lanes|=1),e)}var Fv=tn.ReactCurrentOwner,We=!1;function Fe(e,t,n,r){t.child=e===null?ch(t,null,n,r):Vr(t,e.child,n,r)}function Ad(e,t,n,r,o){n=n.render;var i=t.ref;return Ar(t,o),r=nc(e,t,n,r,i,o),n=rc(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(ce&&n&&Uu(t),t.flags|=1,Fe(e,t,r,o),t.child)}function jd(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!pc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Rh(e,t,i,r,o)):(e=ts(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Bo,n(s,r)&&e.ref===t.ref)return Zt(e,t,o)}return t.flags|=1,e=Sn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Rh(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Bo(i,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Zt(e,t,o)}return Va(e,t,n,r,o)}function Dh(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Tr,Ge),Ge|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(Tr,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ie(Tr,Ge),Ge|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ie(Tr,Ge),Ge|=r;return Fe(e,t,o,n),t.child}function Lh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Va(e,t,n,r,o){var i=Ke(n)?Xn:Le.current;return i=Fr(t,i),Ar(t,o),n=nc(e,t,n,r,i,o),r=rc(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(ce&&r&&Uu(t),t.flags|=1,Fe(e,t,n,o),t.child)}function Rd(e,t,n,r,o){if(Ke(n)){var i=!0;gs(t)}else i=!1;if(Ar(t,o),t.stateNode===null)Zi(e,t),zh(t,n,r),Fa(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ht(u):(u=Ke(n)?Xn:Le.current,u=Fr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&$d(t,s,r,u),sn=!1;var f=t.memoizedState;s.state=f,Ss(t,r,s,o),a=t.memoizedState,l!==r||f!==a||Ye.current||sn?(typeof c=="function"&&(Oa(t,n,c,r),a=t.memoizedState),(l=sn||Md(t,n,l,r,f,a,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,fh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:vt(t.type,l),s.props=u,d=t.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=ht(a):(a=Ke(n)?Xn:Le.current,a=Fr(t,a));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||f!==a)&&$d(t,s,r,a),sn=!1,f=t.memoizedState,s.state=f,Ss(t,r,s,o);var w=t.memoizedState;l!==d||f!==w||Ye.current||sn?(typeof m=="function"&&(Oa(t,n,m,r),w=t.memoizedState),(u=sn||Md(t,n,u,r,f,w,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),s.props=r,s.state=w,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ba(e,t,n,r,i,o)}function Ba(e,t,n,r,o,i){Lh(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Sd(t,n,!1),Zt(e,t,i);r=t.stateNode,Fv.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Vr(t,e.child,null,i),t.child=Vr(t,null,l,i)):Fe(e,t,l,i),t.memoizedState=r.state,o&&Sd(t,n,!0),t.child}function Oh(e){var t=e.stateNode;t.pendingContext?wd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wd(e,t.context,!1),Zu(e,t.containerInfo)}function Dd(e,t,n,r,o){return Hr(),Qu(o),t.flags|=256,Fe(e,t,n,r),t.child}var Ua={dehydrated:null,treeContext:null,retryLane:0};function Wa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fh(e,t,n){var r=t.pendingProps,o=pe.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ie(pe,o&1),e===null)return Da(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Js(s,r,0,null),e=Yn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Wa(n),t.memoizedState=Ua,e):sc(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Hv(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Sn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=Sn(l,i):(i=Yn(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Wa(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Ua,r}return i=e.child,e=i.sibling,r=Sn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function sc(e,t){return t=Js({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ii(e,t,n,r){return r!==null&&Qu(r),Vr(t,e.child,null,n),e=sc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hv(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Bl(Error(B(422))),Ii(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Js({mode:"visible",children:r.children},o,0,null),i=Yn(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Vr(t,e.child,null,s),t.child.memoizedState=Wa(s),t.memoizedState=Ua,i);if(!(t.mode&1))return Ii(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(B(419)),r=Bl(i,r,void 0),Ii(e,t,s,r)}if(l=(s&e.childLanes)!==0,We||l){if(r=Ce,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Gt(e,o),kt(r,e,o,-1))}return fc(),r=Bl(Error(B(421))),Ii(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=ex.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Ze=yn(o.nextSibling),Je=t,ce=!0,St=null,e!==null&&(st[lt++]=Bt,st[lt++]=Ut,st[lt++]=Gn,Bt=e.id,Ut=e.overflow,Gn=t),t=sc(t,r.children),t.flags|=4096,t)}function Ld(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),La(e.return,t,n)}function Ul(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Hh(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Fe(e,t,r.children,n),r=pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ld(e,n,t);else if(e.tag===19)Ld(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ie(pe,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ns(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ul(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ns(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ul(t,!0,n,null,i);break;case"together":Ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Sn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Sn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vv(e,t,n){switch(t.tag){case 3:Oh(t),Hr();break;case 5:ph(t);break;case 1:Ke(t.type)&&gs(t);break;case 4:Zu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ie(xs,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ie(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?Fh(e,t,n):(ie(pe,pe.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);ie(pe,pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Hh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ie(pe,pe.current),r)break;return null;case 22:case 23:return t.lanes=0,Dh(e,t,n)}return Zt(e,t,n)}var Vh,Qa,Bh,Uh;Vh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qa=function(){};Bh=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Bn(zt.current);var i=null;switch(n){case"input":o=ha(e,o),r=ha(e,r),i=[];break;case"select":o=me({},o,{value:void 0}),r=me({},r,{value:void 0}),i=[];break;case"textarea":o=ya(e,o),r=ya(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=hs)}xa(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ro.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ae("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Uh=function(e,t,n,r){n!==r&&(t.flags|=4)};function fo(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bv(e,t,n){var r=t.pendingProps;switch(Wu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Ke(t.type)&&ms(),Re(t),null;case 3:return r=t.stateNode,Br(),ue(Ye),ue(Le),ec(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Mi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(eu(St),St=null))),Qa(e,t),Re(t),null;case 5:Ju(t);var o=Bn(Ko.current);if(n=t.type,e!==null&&t.stateNode!=null)Bh(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return Re(t),null}if(e=Bn(zt.current),Mi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[It]=t,r[Qo]=i,e=(t.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(o=0;o<Eo.length;o++)ae(Eo[o],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":Yc(r,i),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ae("invalid",r);break;case"textarea":qc(r,i),ae("invalid",r)}xa(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ti(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ti(r.textContent,l,e),o=["children",""+l]):Ro.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ae("scroll",r)}switch(n){case"input":wi(r),Kc(r,i,!0);break;case"textarea":wi(r),Xc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=hs)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[It]=t,e[Qo]=r,Vh(e,t,!1,!1),t.stateNode=e;e:{switch(s=wa(n,r),n){case"dialog":ae("cancel",e),ae("close",e),o=r;break;case"iframe":case"object":case"embed":ae("load",e),o=r;break;case"video":case"audio":for(o=0;o<Eo.length;o++)ae(Eo[o],e);o=r;break;case"source":ae("error",e),o=r;break;case"img":case"image":case"link":ae("error",e),ae("load",e),o=r;break;case"details":ae("toggle",e),o=r;break;case"input":Yc(e,r),o=ha(e,r),ae("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=me({},r,{value:void 0}),ae("invalid",e);break;case"textarea":qc(e,r),o=ya(e,r),ae("invalid",e);break;default:o=r}xa(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Sp(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&xp(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Do(e,a):typeof a=="number"&&Do(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ro.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ae("scroll",e):a!=null&&$u(e,i,a,s))}switch(n){case"input":wi(e),Kc(e,r,!1);break;case"textarea":wi(e),Xc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_n(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?$r(e,!!r.multiple,i,!1):r.defaultValue!=null&&$r(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=hs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(e&&t.stateNode!=null)Uh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=Bn(Ko.current),Bn(zt.current),Mi(t)){if(r=t.stateNode,n=t.memoizedProps,r[It]=t,(i=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:Ti(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ti(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[It]=t,t.stateNode=r}return Re(t),null;case 13:if(ue(pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&Ze!==null&&t.mode&1&&!(t.flags&128))ah(),Hr(),t.flags|=98560,i=!1;else if(i=Mi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(B(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[It]=t}else Hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),i=!1}else St!==null&&(eu(St),St=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Se===0&&(Se=3):fc())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return Br(),Qa(e,t),e===null&&Uo(t.stateNode.containerInfo),Re(t),null;case 10:return qu(t.type._context),Re(t),null;case 17:return Ke(t.type)&&ms(),Re(t),null;case 19:if(ue(pe),i=t.memoizedState,i===null)return Re(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)fo(i,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ns(e),s!==null){for(t.flags|=128,fo(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(pe,pe.current&1|2),t.child}e=e.sibling}i.tail!==null&&ve()>Wr&&(t.flags|=128,r=!0,fo(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ns(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ce)return Re(t),null}else 2*ve()-i.renderingStartTime>Wr&&n!==1073741824&&(t.flags|=128,r=!0,fo(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ve(),t.sibling=null,n=pe.current,ie(pe,r?n&1|2:n&1),t):(Re(t),null);case 22:case 23:return dc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ge&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function Uv(e,t){switch(Wu(t),t.tag){case 1:return Ke(t.type)&&ms(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Br(),ue(Ye),ue(Le),ec(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ju(t),null;case 13:if(ue(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(pe),null;case 4:return Br(),null;case 10:return qu(t.type._context),null;case 22:case 23:return dc(),null;case 24:return null;default:return null}}var bi=!1,De=!1,Wv=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Pr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(e,t,r)}else n.current=null}function Ya(e,t,n){try{n()}catch(r){ge(e,t,r)}}var Od=!1;function Qv(e,t){if($a=ds,e=qp(),Bu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var m;d!==n||o!==0&&d.nodeType!==3||(l=s+o),d!==i||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++u===o&&(l=s),f===i&&++c===r&&(a=s),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ia={focusedElem:e,selectionRange:n},ds=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,k=w.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:vt(t.type,v),k);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(g){ge(t,t.return,g)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return w=Od,Od=!1,w}function zo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Ya(t,n,i)}o=o.next}while(o!==r)}}function Gs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ka(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Wh(e){var t=e.alternate;t!==null&&(e.alternate=null,Wh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[Qo],delete t[Aa],delete t[Tv],delete t[Mv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qh(e){return e.tag===5||e.tag===3||e.tag===4}function Fd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hs));else if(r!==4&&(e=e.child,e!==null))for(qa(e,t,n),e=e.sibling;e!==null;)qa(e,t,n),e=e.sibling}function Xa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Xa(e,t,n),e=e.sibling;e!==null;)Xa(e,t,n),e=e.sibling}var $e=null,xt=!1;function nn(e,t,n){for(n=n.child;n!==null;)Yh(e,t,n),n=n.sibling}function Yh(e,t,n){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Bs,n)}catch{}switch(n.tag){case 5:De||Pr(n,t);case 6:var r=$e,o=xt;$e=null,nn(e,t,n),$e=r,xt=o,$e!==null&&(xt?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(xt?(e=$e,n=n.stateNode,e.nodeType===8?Dl(e.parentNode,n):e.nodeType===1&&Dl(e,n),Ho(e)):Dl($e,n.stateNode));break;case 4:r=$e,o=xt,$e=n.stateNode.containerInfo,xt=!0,nn(e,t,n),$e=r,xt=o;break;case 0:case 11:case 14:case 15:if(!De&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Ya(n,t,s),o=o.next}while(o!==r)}nn(e,t,n);break;case 1:if(!De&&(Pr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ge(n,t,l)}nn(e,t,n);break;case 21:nn(e,t,n);break;case 22:n.mode&1?(De=(r=De)||n.memoizedState!==null,nn(e,t,n),De=r):nn(e,t,n);break;default:nn(e,t,n)}}function Hd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Wv),t.forEach(function(r){var o=tx.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function yt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:$e=l.stateNode,xt=!1;break e;case 3:$e=l.stateNode.containerInfo,xt=!0;break e;case 4:$e=l.stateNode.containerInfo,xt=!0;break e}l=l.return}if($e===null)throw Error(B(160));Yh(i,s,o),$e=null,xt=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){ge(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kh(t,e),t=t.sibling}function Kh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),Mt(e),r&4){try{zo(3,e,e.return),Gs(3,e)}catch(v){ge(e,e.return,v)}try{zo(5,e,e.return)}catch(v){ge(e,e.return,v)}}break;case 1:yt(t,e),Mt(e),r&512&&n!==null&&Pr(n,n.return);break;case 5:if(yt(t,e),Mt(e),r&512&&n!==null&&Pr(n,n.return),e.flags&32){var o=e.stateNode;try{Do(o,"")}catch(v){ge(e,e.return,v)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&gp(o,i),wa(l,s);var u=wa(l,i);for(s=0;s<a.length;s+=2){var c=a[s],d=a[s+1];c==="style"?Sp(o,d):c==="dangerouslySetInnerHTML"?xp(o,d):c==="children"?Do(o,d):$u(o,c,d,u)}switch(l){case"input":ma(o,i);break;case"textarea":yp(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?$r(o,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?$r(o,!!i.multiple,i.defaultValue,!0):$r(o,!!i.multiple,i.multiple?[]:"",!1))}o[Qo]=i}catch(v){ge(e,e.return,v)}}break;case 6:if(yt(t,e),Mt(e),r&4){if(e.stateNode===null)throw Error(B(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(v){ge(e,e.return,v)}}break;case 3:if(yt(t,e),Mt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ho(t.containerInfo)}catch(v){ge(e,e.return,v)}break;case 4:yt(t,e),Mt(e);break;case 13:yt(t,e),Mt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(uc=ve())),r&4&&Hd(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(De=(u=De)||c,yt(t,e),De=u):yt(t,e),Mt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Y=e,c=e.child;c!==null;){for(d=Y=c;Y!==null;){switch(f=Y,m=f.child,f.tag){case 0:case 11:case 14:case 15:zo(4,f,f.return);break;case 1:Pr(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){ge(r,n,v)}}break;case 5:Pr(f,f.return);break;case 22:if(f.memoizedState!==null){Bd(d);continue}}m!==null?(m.return=f,Y=m):Bd(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=wp("display",s))}catch(v){ge(e,e.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){ge(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yt(t,e),Mt(e),r&4&&Hd(e);break;case 21:break;default:yt(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Qh(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Do(o,""),r.flags&=-33);var i=Fd(e);Xa(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Fd(e);qa(e,l,s);break;default:throw Error(B(161))}}catch(a){ge(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yv(e,t,n){Y=e,qh(e)}function qh(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var o=Y,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||bi;if(!s){var l=o.alternate,a=l!==null&&l.memoizedState!==null||De;l=bi;var u=De;if(bi=s,(De=a)&&!u)for(Y=o;Y!==null;)s=Y,a=s.child,s.tag===22&&s.memoizedState!==null?Ud(o):a!==null?(a.return=s,Y=a):Ud(o);for(;i!==null;)Y=i,qh(i),i=i.sibling;Y=o,bi=l,De=u}Vd(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Y=i):Vd(e)}}function Vd(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||Gs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!De)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:vt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Cd(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cd(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ho(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}De||t.flags&512&&Ka(t)}catch(f){ge(t,t.return,f)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Bd(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Ud(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gs(4,t)}catch(a){ge(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){ge(t,o,a)}}var i=t.return;try{Ka(t)}catch(a){ge(t,i,a)}break;case 5:var s=t.return;try{Ka(t)}catch(a){ge(t,s,a)}}}catch(a){ge(t,t.return,a)}if(t===e){Y=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Y=l;break}Y=t.return}}var Kv=Math.ceil,ks=tn.ReactCurrentDispatcher,lc=tn.ReactCurrentOwner,ft=tn.ReactCurrentBatchConfig,ne=0,Ce=null,xe=null,Ie=0,Ge=0,Tr=Tn(0),Se=0,Zo=null,Jn=0,Zs=0,ac=0,Ao=null,Ue=null,uc=0,Wr=1/0,Ht=null,Cs=!1,Ga=null,xn=null,zi=!1,pn=null,Ps=0,jo=0,Za=null,Ji=-1,es=0;function He(){return ne&6?ve():Ji!==-1?Ji:Ji=ve()}function wn(e){return e.mode&1?ne&2&&Ie!==0?Ie&-Ie:Iv.transition!==null?(es===0&&(es=zp()),es):(e=re,e!==0||(e=window.event,e=e===void 0?16:Fp(e.type)),e):1}function kt(e,t,n,r){if(50<jo)throw jo=0,Za=null,Error(B(185));ci(e,n,r),(!(ne&2)||e!==Ce)&&(e===Ce&&(!(ne&2)&&(Zs|=n),Se===4&&cn(e,Ie)),qe(e,r),n===1&&ne===0&&!(t.mode&1)&&(Wr=ve()+500,Ks&&Mn()))}function qe(e,t){var n=e.callbackNode;Iy(e,t);var r=cs(e,e===Ce?Ie:0);if(r===0)n!==null&&Jc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Jc(n),t===1)e.tag===0?$v(Wd.bind(null,e)):ih(Wd.bind(null,e)),Cv(function(){!(ne&6)&&Mn()}),n=null;else{switch(Ap(r)){case 1:n=ju;break;case 4:n=Ip;break;case 16:n=us;break;case 536870912:n=bp;break;default:n=us}n=rm(n,Xh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xh(e,t){if(Ji=-1,es=0,ne&6)throw Error(B(327));var n=e.callbackNode;if(jr()&&e.callbackNode!==n)return null;var r=cs(e,e===Ce?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ts(e,r);else{t=r;var o=ne;ne|=2;var i=Zh();(Ce!==e||Ie!==t)&&(Ht=null,Wr=ve()+500,Qn(e,t));do try{Gv();break}catch(l){Gh(e,l)}while(!0);Ku(),ks.current=i,ne=o,xe!==null?t=0:(Ce=null,Ie=0,t=Se)}if(t!==0){if(t===2&&(o=ka(e),o!==0&&(r=o,t=Ja(e,o))),t===1)throw n=Zo,Qn(e,0),cn(e,r),qe(e,ve()),n;if(t===6)cn(e,r);else{if(o=e.current.alternate,!(r&30)&&!qv(o)&&(t=Ts(e,r),t===2&&(i=ka(e),i!==0&&(r=i,t=Ja(e,i))),t===1))throw n=Zo,Qn(e,0),cn(e,r),qe(e,ve()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:Dn(e,Ue,Ht);break;case 3:if(cn(e,r),(r&130023424)===r&&(t=uc+500-ve(),10<t)){if(cs(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){He(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=za(Dn.bind(null,e,Ue,Ht),t);break}Dn(e,Ue,Ht);break;case 4:if(cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-_t(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kv(r/1960))-r,10<r){e.timeoutHandle=za(Dn.bind(null,e,Ue,Ht),r);break}Dn(e,Ue,Ht);break;case 5:Dn(e,Ue,Ht);break;default:throw Error(B(329))}}}return qe(e,ve()),e.callbackNode===n?Xh.bind(null,e):null}function Ja(e,t){var n=Ao;return e.current.memoizedState.isDehydrated&&(Qn(e,t).flags|=256),e=Ts(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&eu(t)),e}function eu(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function qv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Ct(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~ac,t&=~Zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),r=1<<n;e[n]=-1,t&=~r}}function Wd(e){if(ne&6)throw Error(B(327));jr();var t=cs(e,0);if(!(t&1))return qe(e,ve()),null;var n=Ts(e,t);if(e.tag!==0&&n===2){var r=ka(e);r!==0&&(t=r,n=Ja(e,r))}if(n===1)throw n=Zo,Qn(e,0),cn(e,t),qe(e,ve()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dn(e,Ue,Ht),qe(e,ve()),null}function cc(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(Wr=ve()+500,Ks&&Mn())}}function er(e){pn!==null&&pn.tag===0&&!(ne&6)&&jr();var t=ne;ne|=1;var n=ft.transition,r=re;try{if(ft.transition=null,re=1,e)return e()}finally{re=r,ft.transition=n,ne=t,!(ne&6)&&Mn()}}function dc(){Ge=Tr.current,ue(Tr)}function Qn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kv(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch(Wu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ms();break;case 3:Br(),ue(Ye),ue(Le),ec();break;case 5:Ju(r);break;case 4:Br();break;case 13:ue(pe);break;case 19:ue(pe);break;case 10:qu(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ce=e,xe=e=Sn(e.current,null),Ie=Ge=t,Se=0,Zo=null,ac=Zs=Jn=0,Ue=Ao=null,Vn!==null){for(t=0;t<Vn.length;t++)if(n=Vn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Vn=null}return e}function Gh(e,t){do{var n=xe;try{if(Ku(),Xi.current=_s,Es){for(var r=he.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Es=!1}if(Zn=0,_e=we=he=null,bo=!1,qo=0,lc.current=null,n===null||n.return===null){Se=1,Zo=t,xe=null;break}e:{var i=e,s=n.return,l=n,a=t;if(t=Ie,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=bd(s);if(m!==null){m.flags&=-257,zd(m,s,l,i,t),m.mode&1&&Id(i,u,t),t=m,a=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(a),t.updateQueue=v}else w.add(a);break e}else{if(!(t&1)){Id(i,u,t),fc();break e}a=Error(B(426))}}else if(ce&&l.mode&1){var k=bd(s);if(k!==null){!(k.flags&65536)&&(k.flags|=256),zd(k,s,l,i,t),Qu(Ur(a,l));break e}}i=a=Ur(a,l),Se!==4&&(Se=2),Ao===null?Ao=[i]:Ao.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Ah(i,a,t);kd(i,p);break e;case 1:l=a;var h=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xn===null||!xn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var g=jh(i,l,t);kd(i,g);break e}}i=i.return}while(i!==null)}em(n)}catch(N){t=N,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function Zh(){var e=ks.current;return ks.current=_s,e===null?_s:e}function fc(){(Se===0||Se===3||Se===2)&&(Se=4),Ce===null||!(Jn&268435455)&&!(Zs&268435455)||cn(Ce,Ie)}function Ts(e,t){var n=ne;ne|=2;var r=Zh();(Ce!==e||Ie!==t)&&(Ht=null,Qn(e,t));do try{Xv();break}catch(o){Gh(e,o)}while(!0);if(Ku(),ne=n,ks.current=r,xe!==null)throw Error(B(261));return Ce=null,Ie=0,Se}function Xv(){for(;xe!==null;)Jh(xe)}function Gv(){for(;xe!==null&&!Ny();)Jh(xe)}function Jh(e){var t=nm(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?em(e):xe=t,lc.current=null}function em(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Uv(n,t),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,xe=null;return}}else if(n=Bv(n,t,Ge),n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Se===0&&(Se=5)}function Dn(e,t,n){var r=re,o=ft.transition;try{ft.transition=null,re=1,Zv(e,t,n,r)}finally{ft.transition=o,re=r}return null}function Zv(e,t,n,r){do jr();while(pn!==null);if(ne&6)throw Error(B(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(by(e,i),e===Ce&&(xe=Ce=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zi||(zi=!0,rm(us,function(){return jr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ft.transition,ft.transition=null;var s=re;re=1;var l=ne;ne|=4,lc.current=null,Qv(e,n),Kh(n,e),vv(Ia),ds=!!$a,Ia=$a=null,e.current=n,Yv(n),Ey(),ne=l,re=s,ft.transition=i}else e.current=n;if(zi&&(zi=!1,pn=e,Ps=o),i=e.pendingLanes,i===0&&(xn=null),Cy(n.stateNode),qe(e,ve()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Cs)throw Cs=!1,e=Ga,Ga=null,e;return Ps&1&&e.tag!==0&&jr(),i=e.pendingLanes,i&1?e===Za?jo++:(jo=0,Za=e):jo=0,Mn(),null}function jr(){if(pn!==null){var e=Ap(Ps),t=ft.transition,n=re;try{if(ft.transition=null,re=16>e?16:e,pn===null)var r=!1;else{if(e=pn,pn=null,Ps=0,ne&6)throw Error(B(331));var o=ne;for(ne|=4,Y=e.current;Y!==null;){var i=Y,s=i.child;if(Y.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:zo(8,c,i)}var d=c.child;if(d!==null)d.return=c,Y=d;else for(;Y!==null;){c=Y;var f=c.sibling,m=c.return;if(Wh(c),c===u){Y=null;break}if(f!==null){f.return=m,Y=f;break}Y=m}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var k=v.sibling;v.sibling=null,v=k}while(v!==null)}}Y=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Y=s;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zo(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,Y=p;break e}Y=i.return}}var h=e.current;for(Y=h;Y!==null;){s=Y;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,Y=y;else e:for(s=h;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gs(9,l)}}catch(N){ge(l,l.return,N)}if(l===s){Y=null;break e}var g=l.sibling;if(g!==null){g.return=l.return,Y=g;break e}Y=l.return}}if(ne=o,Mn(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Bs,e)}catch{}r=!0}return r}finally{re=n,ft.transition=t}}return!1}function Qd(e,t,n){t=Ur(n,t),t=Ah(e,t,1),e=vn(e,t,1),t=He(),e!==null&&(ci(e,1,t),qe(e,t))}function ge(e,t,n){if(e.tag===3)Qd(e,e,n);else for(;t!==null;){if(t.tag===3){Qd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xn===null||!xn.has(r))){e=Ur(n,e),e=jh(t,e,1),t=vn(t,e,1),e=He(),t!==null&&(ci(t,1,e),qe(t,e));break}}t=t.return}}function Jv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&n,Ce===e&&(Ie&n)===n&&(Se===4||Se===3&&(Ie&130023424)===Ie&&500>ve()-uc?Qn(e,0):ac|=n),qe(e,t)}function tm(e,t){t===0&&(e.mode&1?(t=Ei,Ei<<=1,!(Ei&130023424)&&(Ei=4194304)):t=1);var n=He();e=Gt(e,t),e!==null&&(ci(e,t,n),qe(e,n))}function ex(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),tm(e,n)}function tx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),tm(e,n)}var nm;nm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,Vv(e,t,n);We=!!(e.flags&131072)}else We=!1,ce&&t.flags&1048576&&sh(t,vs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zi(e,t),e=t.pendingProps;var o=Fr(t,Le.current);Ar(t,n),o=nc(null,t,r,e,o,n);var i=rc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(r)?(i=!0,gs(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Gu(t),o.updater=Xs,t.stateNode=o,o._reactInternals=t,Fa(t,r,e,n),t=Ba(null,t,r,!0,i,n)):(t.tag=0,ce&&i&&Uu(t),Fe(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zi(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=rx(r),e=vt(r,e),o){case 0:t=Va(null,t,r,e,n);break e;case 1:t=Rd(null,t,r,e,n);break e;case 11:t=Ad(null,t,r,e,n);break e;case 14:t=jd(null,t,r,vt(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),Va(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),Rd(e,t,r,o,n);case 3:e:{if(Oh(t),e===null)throw Error(B(387));r=t.pendingProps,i=t.memoizedState,o=i.element,fh(e,t),Ss(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Ur(Error(B(423)),t),t=Dd(e,t,r,n,o);break e}else if(r!==o){o=Ur(Error(B(424)),t),t=Dd(e,t,r,n,o);break e}else for(Ze=yn(t.stateNode.containerInfo.firstChild),Je=t,ce=!0,St=null,n=ch(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hr(),r===o){t=Zt(e,t,n);break e}Fe(e,t,r,n)}t=t.child}return t;case 5:return ph(t),e===null&&Da(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,ba(r,o)?s=null:i!==null&&ba(r,i)&&(t.flags|=32),Lh(e,t),Fe(e,t,s,n),t.child;case 6:return e===null&&Da(t),null;case 13:return Fh(e,t,n);case 4:return Zu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vr(t,null,r,n):Fe(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),Ad(e,t,r,o,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,ie(xs,r._currentValue),r._currentValue=s,i!==null)if(Ct(i.value,s)){if(i.children===o.children&&!Ye.current){t=Zt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Yt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),La(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(B(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),La(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Fe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ar(t,n),o=ht(o),r=r(o),t.flags|=1,Fe(e,t,r,n),t.child;case 14:return r=t.type,o=vt(r,t.pendingProps),o=vt(r.type,o),jd(e,t,r,o,n);case 15:return Rh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),Zi(e,t),t.tag=1,Ke(r)?(e=!0,gs(t)):e=!1,Ar(t,n),zh(t,r,o),Fa(t,r,o,n),Ba(null,t,r,!0,e,n);case 19:return Hh(e,t,n);case 22:return Dh(e,t,n)}throw Error(B(156,t.tag))};function rm(e,t){return $p(e,t)}function nx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,n,r){return new nx(e,t,n,r)}function pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rx(e){if(typeof e=="function")return pc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bu)return 11;if(e===zu)return 14}return 2}function Sn(e,t){var n=e.alternate;return n===null?(n=ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ts(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")pc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case vr:return Yn(n.children,o,i,t);case Iu:s=8,o|=8;break;case ca:return e=ct(12,n,t,o|2),e.elementType=ca,e.lanes=i,e;case da:return e=ct(13,n,t,o),e.elementType=da,e.lanes=i,e;case fa:return e=ct(19,n,t,o),e.elementType=fa,e.lanes=i,e;case pp:return Js(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dp:s=10;break e;case fp:s=9;break e;case bu:s=11;break e;case zu:s=14;break e;case on:s=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=ct(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Yn(e,t,n,r){return e=ct(7,e,r,t),e.lanes=n,e}function Js(e,t,n,r){return e=ct(22,e,r,t),e.elementType=pp,e.lanes=n,e.stateNode={isHidden:!1},e}function Wl(e,t,n){return e=ct(6,e,null,t),e.lanes=n,e}function Ql(e,t,n){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ox(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function hc(e,t,n,r,o,i,s,l,a){return e=new ox(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gu(i),e}function ix(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function om(e){if(!e)return kn;e=e._reactInternals;e:{if(ir(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(Ke(n))return oh(e,n,t)}return t}function im(e,t,n,r,o,i,s,l,a){return e=hc(n,r,!0,e,o,i,s,l,a),e.context=om(null),n=e.current,r=He(),o=wn(n),i=Yt(r,o),i.callback=t??null,vn(n,i,o),e.current.lanes=o,ci(e,o,r),qe(e,r),e}function el(e,t,n,r){var o=t.current,i=He(),s=wn(o);return n=om(n),t.context===null?t.context=n:t.pendingContext=n,t=Yt(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=vn(o,t,s),e!==null&&(kt(e,o,s,i),qi(e,o,s)),s}function Ms(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mc(e,t){Yd(e,t),(e=e.alternate)&&Yd(e,t)}function sx(){return null}var sm=typeof reportError=="function"?reportError:function(e){console.error(e)};function gc(e){this._internalRoot=e}tl.prototype.render=gc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));el(e,t,null,null)};tl.prototype.unmount=gc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;er(function(){el(null,e,null,null)}),t[Xt]=null}};function tl(e){this._internalRoot=e}tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<un.length&&t!==0&&t<un[n].priority;n++);un.splice(n,0,e),n===0&&Op(e)}};function yc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kd(){}function lx(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=Ms(s);i.call(u)}}var s=im(t,r,e,0,null,!1,!1,"",Kd);return e._reactRootContainer=s,e[Xt]=s.current,Uo(e.nodeType===8?e.parentNode:e),er(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=Ms(a);l.call(u)}}var a=hc(e,0,!1,null,null,!1,!1,"",Kd);return e._reactRootContainer=a,e[Xt]=a.current,Uo(e.nodeType===8?e.parentNode:e),er(function(){el(t,a,n,r)}),a}function rl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var a=Ms(s);l.call(a)}}el(t,s,e,o)}else s=lx(n,t,e,o,r);return Ms(s)}jp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=No(t.pendingLanes);n!==0&&(Ru(t,n|1),qe(t,ve()),!(ne&6)&&(Wr=ve()+500,Mn()))}break;case 13:er(function(){var r=Gt(e,1);if(r!==null){var o=He();kt(r,e,1,o)}}),mc(e,1)}};Du=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var n=He();kt(t,e,134217728,n)}mc(e,134217728)}};Rp=function(e){if(e.tag===13){var t=wn(e),n=Gt(e,t);if(n!==null){var r=He();kt(n,e,t,r)}mc(e,t)}};Dp=function(){return re};Lp=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};Na=function(e,t,n){switch(t){case"input":if(ma(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Ys(r);if(!o)throw Error(B(90));mp(r),ma(r,o)}}}break;case"textarea":yp(e,n);break;case"select":t=n.value,t!=null&&$r(e,!!n.multiple,t,!1)}};_p=cc;kp=er;var ax={usingClientEntryPoint:!1,Events:[fi,Nr,Ys,Np,Ep,cc]},po={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ux={bundleType:po.bundleType,version:po.version,rendererPackageName:po.rendererPackageName,rendererConfig:po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tp(e),e===null?null:e.stateNode},findFiberByHostInstance:po.findFiberByHostInstance||sx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ai=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ai.isDisabled&&Ai.supportsFiber)try{Bs=Ai.inject(ux),bt=Ai}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ax;ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yc(t))throw Error(B(200));return ix(e,t,null,n)};ot.createRoot=function(e,t){if(!yc(e))throw Error(B(299));var n=!1,r="",o=sm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=hc(e,1,!1,null,null,n,!1,r,o),e[Xt]=t.current,Uo(e.nodeType===8?e.parentNode:e),new gc(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=Tp(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return er(e)};ot.hydrate=function(e,t,n){if(!nl(t))throw Error(B(200));return rl(null,e,t,!0,n)};ot.hydrateRoot=function(e,t,n){if(!yc(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=sm;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=im(t,null,e,1,n??null,o,!1,i,s),e[Xt]=t.current,Uo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new tl(t)};ot.render=function(e,t,n){if(!nl(t))throw Error(B(200));return rl(null,e,t,!1,n)};ot.unmountComponentAtNode=function(e){if(!nl(e))throw Error(B(40));return e._reactRootContainer?(er(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};ot.unstable_batchedUpdates=cc;ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return rl(e,t,n,!1,r)};ot.version="18.3.1-next-f1338f8080-20240426";function lm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lm)}catch(e){console.error(e)}}lm(),lp.exports=ot;var cx=lp.exports,qd=cx;aa.createRoot=qd.createRoot,aa.hydrateRoot=qd.hydrateRoot;function ze(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=ze(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var am={exports:{}},um={},cm={exports:{}},dm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qr=z;function dx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fx=typeof Object.is=="function"?Object.is:dx,px=Qr.useState,hx=Qr.useEffect,mx=Qr.useLayoutEffect,gx=Qr.useDebugValue;function yx(e,t){var n=t(),r=px({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return mx(function(){o.value=n,o.getSnapshot=t,Yl(o)&&i({inst:o})},[e,n,t]),hx(function(){return Yl(o)&&i({inst:o}),e(function(){Yl(o)&&i({inst:o})})},[e]),gx(n),n}function Yl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fx(e,n)}catch{return!0}}function vx(e,t){return t()}var xx=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vx:yx;dm.useSyncExternalStore=Qr.useSyncExternalStore!==void 0?Qr.useSyncExternalStore:xx;cm.exports=dm;var wx=cm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=z,Sx=wx;function Nx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ex=typeof Object.is=="function"?Object.is:Nx,_x=Sx.useSyncExternalStore,kx=ol.useRef,Cx=ol.useEffect,Px=ol.useMemo,Tx=ol.useDebugValue;um.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=kx(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Px(function(){function a(m){if(!u){if(u=!0,c=m,m=r(m),o!==void 0&&s.hasValue){var w=s.value;if(o(w,m))return d=w}return d=m}if(w=d,Ex(c,m))return w;var v=r(m);return o!==void 0&&o(w,v)?(c=m,w):(c=m,d=v)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return a(t())},f===null?void 0:function(){return a(f())}]},[t,n,r,o]);var l=_x(e,i[0],i[1]);return Cx(function(){s.hasValue=!0,s.value=l},[l]),Tx(l),l};am.exports=um;var Mx=am.exports;const fm=qf(Mx),$x={},Xd=e=>{let t;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const m=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(w=>w(t,m))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{($x?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,a);return a},pm=e=>e?Xd(e):Xd,{useDebugValue:Ix}=D,{useSyncExternalStoreWithSelector:bx}=fm,zx=e=>e;function hm(e,t=zx,n){const r=bx(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Ix(r),r}const Gd=(e,t)=>{const n=pm(e),r=(o,i=t)=>hm(n,o,i);return Object.assign(r,n),r},Ax=(e,t)=>e?Gd(e,t):Gd;function Pe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var jx={value:()=>{}};function il(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ns(n)}function ns(e){this._=e}function Rx(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ns.prototype=il.prototype={constructor:ns,on:function(e,t){var n=this._,r=Rx(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=Dx(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=Zd(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Zd(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ns(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function Dx(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Zd(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=jx,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var tu="http://www.w3.org/1999/xhtml";const Jd={svg:"http://www.w3.org/2000/svg",xhtml:tu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Jd.hasOwnProperty(t)?{space:Jd[t],local:e}:e}function Lx(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===tu&&t.documentElement.namespaceURI===tu?t.createElement(e):t.createElementNS(n,e)}}function Ox(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function mm(e){var t=sl(e);return(t.local?Ox:Lx)(t)}function Fx(){}function vc(e){return e==null?Fx:function(){return this.querySelector(e)}}function Hx(e){typeof e!="function"&&(e=vc(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=new Array(s),a,u,c=0;c<s;++c)(a=i[c])&&(u=e.call(a,a.__data__,c,i))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new tt(r,this._parents)}function Vx(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Bx(){return[]}function gm(e){return e==null?Bx:function(){return this.querySelectorAll(e)}}function Ux(e){return function(){return Vx(e.apply(this,arguments))}}function Wx(e){typeof e=="function"?e=Ux(e):e=gm(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),o.push(a));return new tt(r,o)}function ym(e){return function(){return this.matches(e)}}function vm(e){return function(t){return t.matches(e)}}var Qx=Array.prototype.find;function Yx(e){return function(){return Qx.call(this.children,e)}}function Kx(){return this.firstElementChild}function qx(e){return this.select(e==null?Kx:Yx(typeof e=="function"?e:vm(e)))}var Xx=Array.prototype.filter;function Gx(){return Array.from(this.children)}function Zx(e){return function(){return Xx.call(this.children,e)}}function Jx(e){return this.selectAll(e==null?Gx:Zx(typeof e=="function"?e:vm(e)))}function e1(e){typeof e!="function"&&(e=ym(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new tt(r,this._parents)}function xm(e){return new Array(e.length)}function t1(){return new tt(this._enter||this._groups.map(xm),this._parents)}function $s(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}$s.prototype={constructor:$s,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function n1(e){return function(){return e}}function r1(e,t,n,r,o,i){for(var s=0,l,a=t.length,u=i.length;s<u;++s)(l=t[s])?(l.__data__=i[s],r[s]=l):n[s]=new $s(e,i[s]);for(;s<a;++s)(l=t[s])&&(o[s]=l)}function o1(e,t,n,r,o,i,s){var l,a,u=new Map,c=t.length,d=i.length,f=new Array(c),m;for(l=0;l<c;++l)(a=t[l])&&(f[l]=m=s.call(a,a.__data__,l,t)+"",u.has(m)?o[l]=a:u.set(m,a));for(l=0;l<d;++l)m=s.call(e,i[l],l,i)+"",(a=u.get(m))?(r[l]=a,a.__data__=i[l],u.delete(m)):n[l]=new $s(e,i[l]);for(l=0;l<c;++l)(a=t[l])&&u.get(f[l])===a&&(o[l]=a)}function i1(e){return e.__data__}function s1(e,t){if(!arguments.length)return Array.from(this,i1);var n=t?o1:r1,r=this._parents,o=this._groups;typeof e!="function"&&(e=n1(e));for(var i=o.length,s=new Array(i),l=new Array(i),a=new Array(i),u=0;u<i;++u){var c=r[u],d=o[u],f=d.length,m=l1(e.call(c,c&&c.__data__,u,r)),w=m.length,v=l[u]=new Array(w),k=s[u]=new Array(w),p=a[u]=new Array(f);n(c,d,v,k,p,m,t);for(var h=0,y=0,g,N;h<w;++h)if(g=v[h]){for(h>=y&&(y=h+1);!(N=k[y])&&++y<w;);g._next=N||null}}return s=new tt(s,r),s._enter=l,s._exit=a,s}function l1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function a1(){return new tt(this._exit||this._groups.map(xm),this._parents)}function u1(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function c1(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),l=new Array(o),a=0;a<s;++a)for(var u=n[a],c=r[a],d=u.length,f=l[a]=new Array(d),m,w=0;w<d;++w)(m=u[w]||c[w])&&(f[w]=m);for(;a<o;++a)l[a]=n[a];return new tt(l,this._parents)}function d1(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function f1(e){e||(e=p1);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],l=s.length,a=o[i]=new Array(l),u,c=0;c<l;++c)(u=s[c])&&(a[c]=u);a.sort(t)}return new tt(o,this._parents).order()}function p1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function h1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function m1(){return Array.from(this)}function g1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function y1(){let e=0;for(const t of this)++e;return e}function v1(){return!this.node()}function x1(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,l;i<s;++i)(l=o[i])&&e.call(l,l.__data__,i,o);return this}function w1(e){return function(){this.removeAttribute(e)}}function S1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function N1(e,t){return function(){this.setAttribute(e,t)}}function E1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function _1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function k1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function C1(e,t){var n=sl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?S1:w1:typeof t=="function"?n.local?k1:_1:n.local?E1:N1)(n,t))}function wm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function P1(e){return function(){this.style.removeProperty(e)}}function T1(e,t,n){return function(){this.style.setProperty(e,t,n)}}function M1(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function $1(e,t,n){return arguments.length>1?this.each((t==null?P1:typeof t=="function"?M1:T1)(e,t,n??"")):Yr(this.node(),e)}function Yr(e,t){return e.style.getPropertyValue(t)||wm(e).getComputedStyle(e,null).getPropertyValue(t)}function I1(e){return function(){delete this[e]}}function b1(e,t){return function(){this[e]=t}}function z1(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function A1(e,t){return arguments.length>1?this.each((t==null?I1:typeof t=="function"?z1:b1)(e,t)):this.node()[e]}function Sm(e){return e.trim().split(/^|\s+/)}function xc(e){return e.classList||new Nm(e)}function Nm(e){this._node=e,this._names=Sm(e.getAttribute("class")||"")}Nm.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Em(e,t){for(var n=xc(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function _m(e,t){for(var n=xc(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function j1(e){return function(){Em(this,e)}}function R1(e){return function(){_m(this,e)}}function D1(e,t){return function(){(t.apply(this,arguments)?Em:_m)(this,e)}}function L1(e,t){var n=Sm(e+"");if(arguments.length<2){for(var r=xc(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?D1:t?j1:R1)(n,t))}function O1(){this.textContent=""}function F1(e){return function(){this.textContent=e}}function H1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function V1(e){return arguments.length?this.each(e==null?O1:(typeof e=="function"?H1:F1)(e)):this.node().textContent}function B1(){this.innerHTML=""}function U1(e){return function(){this.innerHTML=e}}function W1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Q1(e){return arguments.length?this.each(e==null?B1:(typeof e=="function"?W1:U1)(e)):this.node().innerHTML}function Y1(){this.nextSibling&&this.parentNode.appendChild(this)}function K1(){return this.each(Y1)}function q1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function X1(){return this.each(q1)}function G1(e){var t=typeof e=="function"?e:mm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Z1(){return null}function J1(e,t){var n=typeof e=="function"?e:mm(e),r=t==null?Z1:typeof t=="function"?t:vc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ew(){var e=this.parentNode;e&&e.removeChild(this)}function tw(){return this.each(ew)}function nw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function rw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ow(e){return this.select(e?rw:nw)}function iw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function sw(e){return function(t){e.call(this,t,this.__data__)}}function lw(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function aw(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function uw(e,t,n){return function(){var r=this.__on,o,i=sw(t);if(r){for(var s=0,l=r.length;s<l;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function cw(e,t,n){var r=lw(e+""),o,i=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(o=0,c=l[a];o<i;++o)if((s=r[o]).type===c.type&&s.name===c.name)return c.value}return}for(l=t?uw:aw,o=0;o<i;++o)this.each(l(r[o],t,n));return this}function km(e,t,n){var r=wm(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function dw(e,t){return function(){return km(this,e,t)}}function fw(e,t){return function(){return km(this,e,t.apply(this,arguments))}}function pw(e,t){return this.each((typeof t=="function"?fw:dw)(e,t))}function*hw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var Cm=[null];function tt(e,t){this._groups=e,this._parents=t}function hi(){return new tt([[document.documentElement]],Cm)}function mw(){return this}tt.prototype=hi.prototype={constructor:tt,select:Hx,selectAll:Wx,selectChild:qx,selectChildren:Jx,filter:e1,data:s1,enter:t1,exit:a1,join:u1,merge:c1,selection:mw,order:d1,sort:f1,call:h1,nodes:m1,node:g1,size:y1,empty:v1,each:x1,attr:C1,style:$1,property:A1,classed:L1,text:V1,html:Q1,raise:K1,lower:X1,append:G1,insert:J1,remove:tw,clone:ow,datum:iw,on:cw,dispatch:pw,[Symbol.iterator]:hw};function at(e){return typeof e=="string"?new tt([[document.querySelector(e)]],[document.documentElement]):new tt([[e]],Cm)}function gw(e){let t;for(;t=e.sourceEvent;)e=t;return e}function wt(e,t){if(e=gw(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const yw={passive:!1},Jo={capture:!0,passive:!1};function Kl(e){e.stopImmediatePropagation()}function Rr(e){e.preventDefault(),e.stopImmediatePropagation()}function Pm(e){var t=e.document.documentElement,n=at(e).on("dragstart.drag",Rr,Jo);"onselectstart"in t?n.on("selectstart.drag",Rr,Jo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Tm(e,t){var n=e.document.documentElement,r=at(e).on("dragstart.drag",null);t&&(r.on("click.drag",Rr,Jo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ji=e=>()=>e;function nu(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}nu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function vw(e){return!e.ctrlKey&&!e.button}function xw(){return this.parentNode}function ww(e,t){return t??{x:e.x,y:e.y}}function Sw(){return navigator.maxTouchPoints||"ontouchstart"in this}function Nw(){var e=vw,t=xw,n=ww,r=Sw,o={},i=il("start","drag","end"),s=0,l,a,u,c,d=0;function f(g){g.on("mousedown.drag",m).filter(r).on("touchstart.drag",k).on("touchmove.drag",p,yw).on("touchend.drag touchcancel.drag",h).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(g,N){if(!(c||!e.call(this,g,N))){var T=y(this,t.call(this,g,N),g,N,"mouse");T&&(at(g.view).on("mousemove.drag",w,Jo).on("mouseup.drag",v,Jo),Pm(g.view),Kl(g),u=!1,l=g.clientX,a=g.clientY,T("start",g))}}function w(g){if(Rr(g),!u){var N=g.clientX-l,T=g.clientY-a;u=N*N+T*T>d}o.mouse("drag",g)}function v(g){at(g.view).on("mousemove.drag mouseup.drag",null),Tm(g.view,u),Rr(g),o.mouse("end",g)}function k(g,N){if(e.call(this,g,N)){var T=g.changedTouches,C=t.call(this,g,N),M=T.length,_,I;for(_=0;_<M;++_)(I=y(this,C,g,N,T[_].identifier,T[_]))&&(Kl(g),I("start",g,T[_]))}}function p(g){var N=g.changedTouches,T=N.length,C,M;for(C=0;C<T;++C)(M=o[N[C].identifier])&&(Rr(g),M("drag",g,N[C]))}function h(g){var N=g.changedTouches,T=N.length,C,M;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),C=0;C<T;++C)(M=o[N[C].identifier])&&(Kl(g),M("end",g,N[C]))}function y(g,N,T,C,M,_){var I=i.copy(),O=wt(_||T,N),F,H,S;if((S=n.call(g,new nu("beforestart",{sourceEvent:T,target:f,identifier:M,active:s,x:O[0],y:O[1],dx:0,dy:0,dispatch:I}),C))!=null)return F=S.x-O[0]||0,H=S.y-O[1]||0,function A($,L,P){var E=O,b;switch($){case"start":o[M]=A,b=s++;break;case"end":delete o[M],--s;case"drag":O=wt(P||L,N),b=s;break}I.call($,g,new nu($,{sourceEvent:L,subject:S,target:f,identifier:M,active:b,x:O[0]+F,y:O[1]+H,dx:O[0]-E[0],dy:O[1]-E[1],dispatch:I}),C)}}return f.filter=function(g){return arguments.length?(e=typeof g=="function"?g:ji(!!g),f):e},f.container=function(g){return arguments.length?(t=typeof g=="function"?g:ji(g),f):t},f.subject=function(g){return arguments.length?(n=typeof g=="function"?g:ji(g),f):n},f.touchable=function(g){return arguments.length?(r=typeof g=="function"?g:ji(!!g),f):r},f.on=function(){var g=i.on.apply(i,arguments);return g===i?f:g},f.clickDistance=function(g){return arguments.length?(d=(g=+g)*g,f):Math.sqrt(d)},f}function wc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Mm(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function mi(){}var ei=.7,Is=1/ei,Dr="\\s*([+-]?\\d+)\\s*",ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",At="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ew=/^#([0-9a-f]{3,8})$/,_w=new RegExp(`^rgb\\(${Dr},${Dr},${Dr}\\)$`),kw=new RegExp(`^rgb\\(${At},${At},${At}\\)$`),Cw=new RegExp(`^rgba\\(${Dr},${Dr},${Dr},${ti}\\)$`),Pw=new RegExp(`^rgba\\(${At},${At},${At},${ti}\\)$`),Tw=new RegExp(`^hsl\\(${ti},${At},${At}\\)$`),Mw=new RegExp(`^hsla\\(${ti},${At},${At},${ti}\\)$`),ef={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wc(mi,ni,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tf,formatHex:tf,formatHex8:$w,formatHsl:Iw,formatRgb:nf,toString:nf});function tf(){return this.rgb().formatHex()}function $w(){return this.rgb().formatHex8()}function Iw(){return $m(this).formatHsl()}function nf(){return this.rgb().formatRgb()}function ni(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ew.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?rf(t):n===3?new Qe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ri(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ri(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_w.exec(e))?new Qe(t[1],t[2],t[3],1):(t=kw.exec(e))?new Qe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Cw.exec(e))?Ri(t[1],t[2],t[3],t[4]):(t=Pw.exec(e))?Ri(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Tw.exec(e))?lf(t[1],t[2]/100,t[3]/100,1):(t=Mw.exec(e))?lf(t[1],t[2]/100,t[3]/100,t[4]):ef.hasOwnProperty(e)?rf(ef[e]):e==="transparent"?new Qe(NaN,NaN,NaN,0):null}function rf(e){return new Qe(e>>16&255,e>>8&255,e&255,1)}function Ri(e,t,n,r){return r<=0&&(e=t=n=NaN),new Qe(e,t,n,r)}function bw(e){return e instanceof mi||(e=ni(e)),e?(e=e.rgb(),new Qe(e.r,e.g,e.b,e.opacity)):new Qe}function ru(e,t,n,r){return arguments.length===1?bw(e):new Qe(e,t,n,r??1)}function Qe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}wc(Qe,ru,Mm(mi,{brighter(e){return e=e==null?Is:Math.pow(Is,e),new Qe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ei:Math.pow(ei,e),new Qe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qe(Kn(this.r),Kn(this.g),Kn(this.b),bs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:of,formatHex:of,formatHex8:zw,formatRgb:sf,toString:sf}));function of(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}`}function zw(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}${Un((isNaN(this.opacity)?1:this.opacity)*255)}`}function sf(){const e=bs(this.opacity);return`${e===1?"rgb(":"rgba("}${Kn(this.r)}, ${Kn(this.g)}, ${Kn(this.b)}${e===1?")":`, ${e})`}`}function bs(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Un(e){return e=Kn(e),(e<16?"0":"")+e.toString(16)}function lf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Nt(e,t,n,r)}function $m(e){if(e instanceof Nt)return new Nt(e.h,e.s,e.l,e.opacity);if(e instanceof mi||(e=ni(e)),!e)return new Nt;if(e instanceof Nt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,l=i-o,a=(i+o)/2;return l?(t===i?s=(n-r)/l+(n<r)*6:n===i?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?i+o:2-i-o,s*=60):l=a>0&&a<1?0:s,new Nt(s,l,a,e.opacity)}function Aw(e,t,n,r){return arguments.length===1?$m(e):new Nt(e,t,n,r??1)}function Nt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}wc(Nt,Aw,Mm(mi,{brighter(e){return e=e==null?Is:Math.pow(Is,e),new Nt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ei:Math.pow(ei,e),new Nt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Qe(ql(e>=240?e-240:e+120,o,r),ql(e,o,r),ql(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Nt(af(this.h),Di(this.s),Di(this.l),bs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bs(this.opacity);return`${e===1?"hsl(":"hsla("}${af(this.h)}, ${Di(this.s)*100}%, ${Di(this.l)*100}%${e===1?")":`, ${e})`}`}}));function af(e){return e=(e||0)%360,e<0?e+360:e}function Di(e){return Math.max(0,Math.min(1,e||0))}function ql(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Im=e=>()=>e;function jw(e,t){return function(n){return e+n*t}}function Rw(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Dw(e){return(e=+e)==1?bm:function(t,n){return n-t?Rw(t,n,e):Im(isNaN(t)?n:t)}}function bm(e,t){var n=t-e;return n?jw(e,n):Im(isNaN(e)?t:e)}const uf=function e(t){var n=Dw(t);function r(o,i){var s=n((o=ru(o)).r,(i=ru(i)).r),l=n(o.g,i.g),a=n(o.b,i.b),u=bm(o.opacity,i.opacity);return function(c){return o.r=s(c),o.g=l(c),o.b=a(c),o.opacity=u(c),o+""}}return r.gamma=e,r}(1);function ln(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ou=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xl=new RegExp(ou.source,"g");function Lw(e){return function(){return e}}function Ow(e){return function(t){return e(t)+""}}function Fw(e,t){var n=ou.lastIndex=Xl.lastIndex=0,r,o,i,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=ou.exec(e))&&(o=Xl.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[s]?l[s]+=i:l[++s]=i),(r=r[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:ln(r,o)})),n=Xl.lastIndex;return n<t.length&&(i=t.slice(n),l[s]?l[s]+=i:l[++s]=i),l.length<2?a[0]?Ow(a[0].x):Lw(t):(t=a.length,function(u){for(var c=0,d;c<t;++c)l[(d=a[c]).i]=d.x(u);return l.join("")})}var cf=180/Math.PI,iu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zm(e,t,n,r,o,i){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*cf,skewX:Math.atan(a)*cf,scaleX:s,scaleY:l}}var Li;function Hw(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?iu:zm(t.a,t.b,t.c,t.d,t.e,t.f)}function Vw(e){return e==null||(Li||(Li=document.createElementNS("http://www.w3.org/2000/svg","g")),Li.setAttribute("transform",e),!(e=Li.transform.baseVal.consolidate()))?iu:(e=e.matrix,zm(e.a,e.b,e.c,e.d,e.e,e.f))}function Am(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,c,d,f,m,w){if(u!==d||c!==f){var v=m.push("translate(",null,t,null,n);w.push({i:v-4,x:ln(u,d)},{i:v-2,x:ln(c,f)})}else(d||f)&&m.push("translate("+d+t+f+n)}function s(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(o(d)+"rotate(",null,r)-2,x:ln(u,c)})):c&&d.push(o(d)+"rotate("+c+r)}function l(u,c,d,f){u!==c?f.push({i:d.push(o(d)+"skewX(",null,r)-2,x:ln(u,c)}):c&&d.push(o(d)+"skewX("+c+r)}function a(u,c,d,f,m,w){if(u!==d||c!==f){var v=m.push(o(m)+"scale(",null,",",null,")");w.push({i:v-4,x:ln(u,d)},{i:v-2,x:ln(c,f)})}else(d!==1||f!==1)&&m.push(o(m)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),i(u.translateX,u.translateY,c.translateX,c.translateY,d,f),s(u.rotate,c.rotate,d,f),l(u.skewX,c.skewX,d,f),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(m){for(var w=-1,v=f.length,k;++w<v;)d[(k=f[w]).i]=k.x(m);return d.join("")}}}var Bw=Am(Hw,"px, ","px)","deg)"),Uw=Am(Vw,", ",")",")"),Ww=1e-12;function df(e){return((e=Math.exp(e))+1/e)/2}function Qw(e){return((e=Math.exp(e))-1/e)/2}function Yw(e){return((e=Math.exp(2*e))-1)/(e+1)}const Kw=function e(t,n,r){function o(i,s){var l=i[0],a=i[1],u=i[2],c=s[0],d=s[1],f=s[2],m=c-l,w=d-a,v=m*m+w*w,k,p;if(v<Ww)p=Math.log(f/u)/t,k=function(C){return[l+C*m,a+C*w,u*Math.exp(t*C*p)]};else{var h=Math.sqrt(v),y=(f*f-u*u+r*v)/(2*u*n*h),g=(f*f-u*u-r*v)/(2*f*n*h),N=Math.log(Math.sqrt(y*y+1)-y),T=Math.log(Math.sqrt(g*g+1)-g);p=(T-N)/t,k=function(C){var M=C*p,_=df(N),I=u/(n*h)*(_*Yw(t*M+N)-Qw(N));return[l+I*m,a+I*w,u*_/df(t*M+N)]}}return k.duration=p*1e3*t/Math.SQRT2,k}return o.rho=function(i){var s=Math.max(.001,+i),l=s*s,a=l*l;return e(s,l,a)},o}(Math.SQRT2,2,4);var Kr=0,_o=0,ho=0,jm=1e3,zs,ko,As=0,tr=0,ll=0,ri=typeof performance=="object"&&performance.now?performance:Date,Rm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Sc(){return tr||(Rm(qw),tr=ri.now()+ll)}function qw(){tr=0}function js(){this._call=this._time=this._next=null}js.prototype=Dm.prototype={constructor:js,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Sc():+n)+(t==null?0:+t),!this._next&&ko!==this&&(ko?ko._next=this:zs=this,ko=this),this._call=e,this._time=n,su()},stop:function(){this._call&&(this._call=null,this._time=1/0,su())}};function Dm(e,t,n){var r=new js;return r.restart(e,t,n),r}function Xw(){Sc(),++Kr;for(var e=zs,t;e;)(t=tr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Kr}function ff(){tr=(As=ri.now())+ll,Kr=_o=0;try{Xw()}finally{Kr=0,Zw(),tr=0}}function Gw(){var e=ri.now(),t=e-As;t>jm&&(ll-=t,As=e)}function Zw(){for(var e,t=zs,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:zs=n);ko=e,su(r)}function su(e){if(!Kr){_o&&(_o=clearTimeout(_o));var t=e-tr;t>24?(e<1/0&&(_o=setTimeout(ff,e-ri.now()-ll)),ho&&(ho=clearInterval(ho))):(ho||(As=ri.now(),ho=setInterval(Gw,jm)),Kr=1,Rm(ff))}}function pf(e,t,n){var r=new js;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var Jw=il("start","end","cancel","interrupt"),e2=[],Lm=0,hf=1,lu=2,rs=3,mf=4,au=5,os=6;function al(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;t2(e,n,{name:t,index:r,group:o,on:Jw,tween:e2,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Lm})}function Nc(e,t){var n=Pt(e,t);if(n.state>Lm)throw new Error("too late; already scheduled");return n}function Rt(e,t){var n=Pt(e,t);if(n.state>rs)throw new Error("too late; already running");return n}function Pt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function t2(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Dm(i,0,n.time);function i(u){n.state=hf,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,d,f,m;if(n.state!==hf)return a();for(c in r)if(m=r[c],m.name===n.name){if(m.state===rs)return pf(s);m.state===mf?(m.state=os,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[c]):+c<t&&(m.state=os,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[c])}if(pf(function(){n.state===rs&&(n.state=mf,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=lu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===lu){for(n.state=rs,o=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(m=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=m);o.length=d+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=au,1),d=-1,f=o.length;++d<f;)o[d].call(e,c);n.state===au&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=os,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function is(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>lu&&r.state<au,r.state=os,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function n2(e){return this.each(function(){is(this,e)})}function r2(e,t){var n,r;return function(){var o=Rt(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function o2(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Rt(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}i.tween=o}}function i2(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Pt(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?r2:o2)(n,e,t))}function Ec(e,t,n){var r=e._id;return e.each(function(){var o=Rt(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Pt(o,r).value[t]}}function Om(e,t){var n;return(typeof t=="number"?ln:t instanceof ni?uf:(n=ni(t))?(t=n,uf):Fw)(e,t)}function s2(e){return function(){this.removeAttribute(e)}}function l2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function a2(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function u2(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function c2(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function d2(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function f2(e,t){var n=sl(e),r=n==="transform"?Uw:Om;return this.attrTween(e,typeof t=="function"?(n.local?d2:c2)(n,r,Ec(this,"attr."+e,t)):t==null?(n.local?l2:s2)(n):(n.local?u2:a2)(n,r,t))}function p2(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function h2(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function m2(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&h2(e,i)),n}return o._value=t,o}function g2(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&p2(e,i)),n}return o._value=t,o}function y2(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=sl(e);return this.tween(n,(r.local?m2:g2)(r,t))}function v2(e,t){return function(){Nc(this,e).delay=+t.apply(this,arguments)}}function x2(e,t){return t=+t,function(){Nc(this,e).delay=t}}function w2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?v2:x2)(t,e)):Pt(this.node(),t).delay}function S2(e,t){return function(){Rt(this,e).duration=+t.apply(this,arguments)}}function N2(e,t){return t=+t,function(){Rt(this,e).duration=t}}function E2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?S2:N2)(t,e)):Pt(this.node(),t).duration}function _2(e,t){if(typeof t!="function")throw new Error;return function(){Rt(this,e).ease=t}}function k2(e){var t=this._id;return arguments.length?this.each(_2(t,e)):Pt(this.node(),t).ease}function C2(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Rt(this,e).ease=n}}function P2(e){if(typeof e!="function")throw new Error;return this.each(C2(this._id,e))}function T2(e){typeof e!="function"&&(e=ym(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new Jt(r,this._parents,this._name,this._id)}function M2(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),l=0;l<i;++l)for(var a=t[l],u=n[l],c=a.length,d=s[l]=new Array(c),f,m=0;m<c;++m)(f=a[m]||u[m])&&(d[m]=f);for(;l<r;++l)s[l]=t[l];return new Jt(s,this._parents,this._name,this._id)}function $2(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function I2(e,t,n){var r,o,i=$2(t)?Nc:Rt;return function(){var s=i(this,e),l=s.on;l!==r&&(o=(r=l).copy()).on(t,n),s.on=o}}function b2(e,t){var n=this._id;return arguments.length<2?Pt(this.node(),n).on.on(e):this.each(I2(n,e,t))}function z2(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function A2(){return this.on("end.remove",z2(this._id))}function j2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vc(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var l=r[s],a=l.length,u=i[s]=new Array(a),c,d,f=0;f<a;++f)(c=l[f])&&(d=e.call(c,c.__data__,f,l))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,al(u[f],t,n,f,u,Pt(c,n)));return new Jt(i,this._parents,t,n)}function R2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=gm(e));for(var r=this._groups,o=r.length,i=[],s=[],l=0;l<o;++l)for(var a=r[l],u=a.length,c,d=0;d<u;++d)if(c=a[d]){for(var f=e.call(c,c.__data__,d,a),m,w=Pt(c,n),v=0,k=f.length;v<k;++v)(m=f[v])&&al(m,t,n,v,f,w);i.push(f),s.push(c)}return new Jt(i,s,t,n)}var D2=hi.prototype.constructor;function L2(){return new D2(this._groups,this._parents)}function O2(e,t){var n,r,o;return function(){var i=Yr(this,e),s=(this.style.removeProperty(e),Yr(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function Fm(e){return function(){this.style.removeProperty(e)}}function F2(e,t,n){var r,o=n+"",i;return function(){var s=Yr(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function H2(e,t,n){var r,o,i;return function(){var s=Yr(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Yr(this,e))),s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l))}}function V2(e,t){var n,r,o,i="style."+t,s="end."+i,l;return function(){var a=Rt(this,e),u=a.on,c=a.value[i]==null?l||(l=Fm(t)):void 0;(u!==n||o!==c)&&(r=(n=u).copy()).on(s,o=c),a.on=r}}function B2(e,t,n){var r=(e+="")=="transform"?Bw:Om;return t==null?this.styleTween(e,O2(e,r)).on("end.style."+e,Fm(e)):typeof t=="function"?this.styleTween(e,H2(e,r,Ec(this,"style."+e,t))).each(V2(this._id,e)):this.styleTween(e,F2(e,r,t),n).on("end.style."+e,null)}function U2(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function W2(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&U2(e,s,n)),r}return i._value=t,i}function Q2(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,W2(e,t,n??""))}function Y2(e){return function(){this.textContent=e}}function K2(e){return function(){var t=e(this);this.textContent=t??""}}function q2(e){return this.tween("text",typeof e=="function"?K2(Ec(this,"text",e)):Y2(e==null?"":e+""))}function X2(e){return function(t){this.textContent=e.call(this,t)}}function G2(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&X2(o)),t}return r._value=e,r}function Z2(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,G2(e))}function J2(){for(var e=this._name,t=this._id,n=Hm(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var c=Pt(a,t);al(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Jt(r,this._parents,e,n)}function eS(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var l={value:s},a={value:function(){--o===0&&i()}};n.each(function(){var u=Rt(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&i()})}var tS=0;function Jt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Hm(){return++tS}var Ft=hi.prototype;Jt.prototype={constructor:Jt,select:j2,selectAll:R2,selectChild:Ft.selectChild,selectChildren:Ft.selectChildren,filter:T2,merge:M2,selection:L2,transition:J2,call:Ft.call,nodes:Ft.nodes,node:Ft.node,size:Ft.size,empty:Ft.empty,each:Ft.each,on:b2,attr:f2,attrTween:y2,style:B2,styleTween:Q2,text:q2,textTween:Z2,remove:A2,tween:i2,delay:w2,duration:E2,ease:k2,easeVarying:P2,end:eS,[Symbol.iterator]:Ft[Symbol.iterator]};function nS(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var rS={time:null,delay:0,duration:250,ease:nS};function oS(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function iS(e){var t,n;e instanceof Jt?(t=e._id,e=e._name):(t=Hm(),(n=rS).time=Sc(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&al(a,e,t,u,s,n||oS(a,t));return new Jt(r,this._parents,e,t)}hi.prototype.interrupt=n2;hi.prototype.transition=iS;const Oi=e=>()=>e;function sS(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Wt(e,t,n){this.k=e,this.x=t,this.y=n}Wt.prototype={constructor:Wt,scale:function(e){return e===1?this:new Wt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Wt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Kt=new Wt(1,0,0);Wt.prototype;function Gl(e){e.stopImmediatePropagation()}function mo(e){e.preventDefault(),e.stopImmediatePropagation()}function lS(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function aS(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function gf(){return this.__zoom||Kt}function uS(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function cS(){return navigator.maxTouchPoints||"ontouchstart"in this}function dS(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function Vm(){var e=lS,t=aS,n=dS,r=uS,o=cS,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Kw,u=il("start","zoom","end"),c,d,f,m=500,w=150,v=0,k=10;function p(S){S.property("__zoom",gf).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",_).on("dblclick.zoom",I).filter(o).on("touchstart.zoom",O).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",H).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(S,A,$,L){var P=S.selection?S.selection():S;P.property("__zoom",gf),S!==P?N(S,A,$,L):P.interrupt().each(function(){T(this,arguments).event(L).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},p.scaleBy=function(S,A,$,L){p.scaleTo(S,function(){var P=this.__zoom.k,E=typeof A=="function"?A.apply(this,arguments):A;return P*E},$,L)},p.scaleTo=function(S,A,$,L){p.transform(S,function(){var P=t.apply(this,arguments),E=this.__zoom,b=$==null?g(P):typeof $=="function"?$.apply(this,arguments):$,R=E.invert(b),j=typeof A=="function"?A.apply(this,arguments):A;return n(y(h(E,j),b,R),P,s)},$,L)},p.translateBy=function(S,A,$,L){p.transform(S,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof $=="function"?$.apply(this,arguments):$),t.apply(this,arguments),s)},null,L)},p.translateTo=function(S,A,$,L,P){p.transform(S,function(){var E=t.apply(this,arguments),b=this.__zoom,R=L==null?g(E):typeof L=="function"?L.apply(this,arguments):L;return n(Kt.translate(R[0],R[1]).scale(b.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof $=="function"?-$.apply(this,arguments):-$),E,s)},L,P)};function h(S,A){return A=Math.max(i[0],Math.min(i[1],A)),A===S.k?S:new Wt(A,S.x,S.y)}function y(S,A,$){var L=A[0]-$[0]*S.k,P=A[1]-$[1]*S.k;return L===S.x&&P===S.y?S:new Wt(S.k,L,P)}function g(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function N(S,A,$,L){S.on("start.zoom",function(){T(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(L).end()}).tween("zoom",function(){var P=this,E=arguments,b=T(P,E).event(L),R=t.apply(P,E),j=$==null?g(R):typeof $=="function"?$.apply(P,E):$,V=Math.max(R[1][0]-R[0][0],R[1][1]-R[0][1]),U=P.__zoom,Q=typeof A=="function"?A.apply(P,E):A,W=a(U.invert(j).concat(V/U.k),Q.invert(j).concat(V/Q.k));return function(q){if(q===1)q=Q;else{var G=W(q),te=V/G[2];q=new Wt(te,j[0]-G[0]*te,j[1]-G[1]*te)}b.zoom(null,q)}})}function T(S,A,$){return!$&&S.__zooming||new C(S,A)}function C(S,A){this.that=S,this.args=A,this.active=0,this.sourceEvent=null,this.extent=t.apply(S,A),this.taps=0}C.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,A){return this.mouse&&S!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var A=at(this.that).datum();u.call(S,this.that,new sS(S,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:u}),A)}};function M(S,...A){if(!e.apply(this,arguments))return;var $=T(this,A).event(S),L=this.__zoom,P=Math.max(i[0],Math.min(i[1],L.k*Math.pow(2,r.apply(this,arguments)))),E=wt(S);if($.wheel)($.mouse[0][0]!==E[0]||$.mouse[0][1]!==E[1])&&($.mouse[1]=L.invert($.mouse[0]=E)),clearTimeout($.wheel);else{if(L.k===P)return;$.mouse=[E,L.invert(E)],is(this),$.start()}mo(S),$.wheel=setTimeout(b,w),$.zoom("mouse",n(y(h(L,P),$.mouse[0],$.mouse[1]),$.extent,s));function b(){$.wheel=null,$.end()}}function _(S,...A){if(f||!e.apply(this,arguments))return;var $=S.currentTarget,L=T(this,A,!0).event(S),P=at(S.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",V,!0),E=wt(S,$),b=S.clientX,R=S.clientY;Pm(S.view),Gl(S),L.mouse=[E,this.__zoom.invert(E)],is(this),L.start();function j(U){if(mo(U),!L.moved){var Q=U.clientX-b,W=U.clientY-R;L.moved=Q*Q+W*W>v}L.event(U).zoom("mouse",n(y(L.that.__zoom,L.mouse[0]=wt(U,$),L.mouse[1]),L.extent,s))}function V(U){P.on("mousemove.zoom mouseup.zoom",null),Tm(U.view,L.moved),mo(U),L.event(U).end()}}function I(S,...A){if(e.apply(this,arguments)){var $=this.__zoom,L=wt(S.changedTouches?S.changedTouches[0]:S,this),P=$.invert(L),E=$.k*(S.shiftKey?.5:2),b=n(y(h($,E),L,P),t.apply(this,A),s);mo(S),l>0?at(this).transition().duration(l).call(N,b,L,S):at(this).call(p.transform,b,L,S)}}function O(S,...A){if(e.apply(this,arguments)){var $=S.touches,L=$.length,P=T(this,A,S.changedTouches.length===L).event(S),E,b,R,j;for(Gl(S),b=0;b<L;++b)R=$[b],j=wt(R,this),j=[j,this.__zoom.invert(j),R.identifier],P.touch0?!P.touch1&&P.touch0[2]!==j[2]&&(P.touch1=j,P.taps=0):(P.touch0=j,E=!0,P.taps=1+!!c);c&&(c=clearTimeout(c)),E&&(P.taps<2&&(d=j[0],c=setTimeout(function(){c=null},m)),is(this),P.start())}}function F(S,...A){if(this.__zooming){var $=T(this,A).event(S),L=S.changedTouches,P=L.length,E,b,R,j;for(mo(S),E=0;E<P;++E)b=L[E],R=wt(b,this),$.touch0&&$.touch0[2]===b.identifier?$.touch0[0]=R:$.touch1&&$.touch1[2]===b.identifier&&($.touch1[0]=R);if(b=$.that.__zoom,$.touch1){var V=$.touch0[0],U=$.touch0[1],Q=$.touch1[0],W=$.touch1[1],q=(q=Q[0]-V[0])*q+(q=Q[1]-V[1])*q,G=(G=W[0]-U[0])*G+(G=W[1]-U[1])*G;b=h(b,Math.sqrt(q/G)),R=[(V[0]+Q[0])/2,(V[1]+Q[1])/2],j=[(U[0]+W[0])/2,(U[1]+W[1])/2]}else if($.touch0)R=$.touch0[0],j=$.touch0[1];else return;$.zoom("touch",n(y(b,R,j),$.extent,s))}}function H(S,...A){if(this.__zooming){var $=T(this,A).event(S),L=S.changedTouches,P=L.length,E,b;for(Gl(S),f&&clearTimeout(f),f=setTimeout(function(){f=null},m),E=0;E<P;++E)b=L[E],$.touch0&&$.touch0[2]===b.identifier?delete $.touch0:$.touch1&&$.touch1[2]===b.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(b=wt(b,this),Math.hypot(d[0]-b[0],d[1]-b[1])<k)){var R=at(this).on("dblclick.zoom");R&&R.apply(this,arguments)}}}return p.wheelDelta=function(S){return arguments.length?(r=typeof S=="function"?S:Oi(+S),p):r},p.filter=function(S){return arguments.length?(e=typeof S=="function"?S:Oi(!!S),p):e},p.touchable=function(S){return arguments.length?(o=typeof S=="function"?S:Oi(!!S),p):o},p.extent=function(S){return arguments.length?(t=typeof S=="function"?S:Oi([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),p):t},p.scaleExtent=function(S){return arguments.length?(i[0]=+S[0],i[1]=+S[1],p):[i[0],i[1]]},p.translateExtent=function(S){return arguments.length?(s[0][0]=+S[0][0],s[1][0]=+S[1][0],s[0][1]=+S[0][1],s[1][1]=+S[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(S){return arguments.length?(n=S,p):n},p.duration=function(S){return arguments.length?(l=+S,p):l},p.interpolate=function(S){return arguments.length?(a=S,p):a},p.on=function(){var S=u.on.apply(u,arguments);return S===u?p:S},p.clickDistance=function(S){return arguments.length?(v=(S=+S)*S,p):Math.sqrt(v)},p.tapDistance=function(S){return arguments.length?(k=+S,p):k},p}const ul=z.createContext(null),fS=ul.Provider,en={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Bm=en.error001();function se(e,t){const n=z.useContext(ul);if(n===null)throw new Error(Bm);return hm(n,e,t)}const Ne=()=>{const e=z.useContext(ul);if(e===null)throw new Error(Bm);return z.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},pS=e=>e.userSelectionActive?"none":"all";function cl({position:e,children:t,className:n,style:r,...o}){const i=se(pS),s=`${e}`.split("-");return D.createElement("div",{className:ze(["react-flow__panel",n,...s]),style:{...r,pointerEvents:i},...o},t)}function hS({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:D.createElement(cl,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},D.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const mS=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:i={},labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...c})=>{const d=z.useRef(null),[f,m]=z.useState({x:0,y:0,width:0,height:0}),w=ze(["react-flow__edge-textwrapper",u]);return z.useEffect(()=>{if(d.current){const v=d.current.getBBox();m({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:D.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:w,visibility:f.width?"visible":"hidden",...c},o&&D.createElement("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),D.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:d,style:r},n),a)};var gS=z.memo(mS);const _c=e=>({width:e.offsetWidth,height:e.offsetHeight}),qr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),kc=(e={x:0,y:0},t)=>({x:qr(e.x,t[0][0],t[1][0]),y:qr(e.y,t[0][1],t[1][1])}),yf=(e,t,n)=>e<t?qr(Math.abs(e-t),1,50)/50:e>n?-qr(Math.abs(e-n),1,50)/50:0,Um=(e,t)=>{const n=yf(e.x,35,t.width-35)*20,r=yf(e.y,35,t.height-35)*20;return[n,r]},Wm=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Qm=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),oi=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Ym=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),vf=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),yS=(e,t)=>Ym(Qm(oi(e),oi(t))),uu=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},vS=e=>dt(e.width)&&dt(e.height)&&dt(e.x)&&dt(e.y),dt=e=>!isNaN(e)&&isFinite(e),ye=Symbol.for("internals"),Km=["Enter"," ","Escape"],xS=(e,t)=>{},wS=e=>"nativeEvent"in e;function cu(e){var o,i;const t=wS(e)?e.nativeEvent:e,n=((i=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const qm=e=>"clientX"in e,Nn=(e,t)=>{var i,s;const n=qm(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Rs=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},gi=({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m=20})=>D.createElement(D.Fragment,null,D.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:f}),m&&D.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),o&&dt(n)&&dt(r)?D.createElement(gS,{x:n,y:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u}):null);gi.displayName="BaseEdge";function go(e,t,n){return n===void 0?n:r=>{const o=t().edges.find(i=>i.id===e);o&&n(r,{...o})}}function Xm({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[i,l,o,s]}function Gm({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:l}){const a=e*.125+o*.375+s*.375+n*.125,u=t*.125+i*.375+l*.375+r*.125,c=Math.abs(a-e),d=Math.abs(u-t);return[a,u,c,d]}var Cn;(function(e){e.Strict="strict",e.Loose="loose"})(Cn||(Cn={}));var Wn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Wn||(Wn={}));var ii;(function(e){e.Partial="partial",e.Full="full"})(ii||(ii={}));var dn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(dn||(dn={}));var Ds;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ds||(Ds={}));var K;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(K||(K={}));function xf({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===K.Left||e===K.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function Zm({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:o,targetPosition:i=K.Top}){const[s,l]=xf({pos:n,x1:e,y1:t,x2:r,y2:o}),[a,u]=xf({pos:i,x1:r,y1:o,x2:e,y2:t}),[c,d,f,m]=Gm({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${s},${l} ${a},${u} ${r},${o}`,c,d,f,m]}const Cc=z.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=K.Bottom,targetPosition:i=K.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:w,interactionWidth:v})=>{const[k,p,h]=Zm({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i});return D.createElement(gi,{path:k,labelX:p,labelY:h,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:w,interactionWidth:v})});Cc.displayName="SimpleBezierEdge";const wf={[K.Left]:{x:-1,y:0},[K.Right]:{x:1,y:0},[K.Top]:{x:0,y:-1},[K.Bottom]:{x:0,y:1}},SS=({source:e,sourcePosition:t=K.Bottom,target:n})=>t===K.Left||t===K.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Sf=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function NS({source:e,sourcePosition:t=K.Bottom,target:n,targetPosition:r=K.Top,center:o,offset:i}){const s=wf[t],l=wf[r],a={x:e.x+s.x*i,y:e.y+s.y*i},u={x:n.x+l.x*i,y:n.y+l.y*i},c=SS({source:a,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",f=c[d];let m=[],w,v;const k={x:0,y:0},p={x:0,y:0},[h,y,g,N]=Xm({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){w=o.x??h,v=o.y??y;const C=[{x:w,y:a.y},{x:w,y:u.y}],M=[{x:a.x,y:v},{x:u.x,y:v}];s[d]===f?m=d==="x"?C:M:m=d==="x"?M:C}else{const C=[{x:a.x,y:u.y}],M=[{x:u.x,y:a.y}];if(d==="x"?m=s.x===f?M:C:m=s.y===f?C:M,t===r){const H=Math.abs(e[d]-n[d]);if(H<=i){const S=Math.min(i-1,i-H);s[d]===f?k[d]=(a[d]>e[d]?-1:1)*S:p[d]=(u[d]>n[d]?-1:1)*S}}if(t!==r){const H=d==="x"?"y":"x",S=s[d]===l[H],A=a[H]>u[H],$=a[H]<u[H];(s[d]===1&&(!S&&A||S&&$)||s[d]!==1&&(!S&&$||S&&A))&&(m=d==="x"?C:M)}const _={x:a.x+k.x,y:a.y+k.y},I={x:u.x+p.x,y:u.y+p.y},O=Math.max(Math.abs(_.x-m[0].x),Math.abs(I.x-m[0].x)),F=Math.max(Math.abs(_.y-m[0].y),Math.abs(I.y-m[0].y));O>=F?(w=(_.x+I.x)/2,v=m[0].y):(w=m[0].x,v=(_.y+I.y)/2)}return[[e,{x:a.x+k.x,y:a.y+k.y},...m,{x:u.x+p.x,y:u.y+p.y},n],w,v,g,N]}function ES(e,t,n,r){const o=Math.min(Sf(e,t)/2,Sf(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${i+o*u},${s}Q ${i},${s} ${i},${s+o*c}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${i},${s+o*a}Q ${i},${s} ${i+o*l},${s}`}function du({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:o,targetPosition:i=K.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[c,d,f,m,w]=NS({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:l,y:a},offset:u});return[c.reduce((k,p,h)=>{let y="";return h>0&&h<c.length-1?y=ES(c[h-1],p,c[h+1],s):y=`${h===0?"M":"L"}${p.x} ${p.y}`,k+=y,k},""),d,f,m,w]}const dl=z.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,sourcePosition:d=K.Bottom,targetPosition:f=K.Top,markerEnd:m,markerStart:w,pathOptions:v,interactionWidth:k})=>{const[p,h,y]=du({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:f,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return D.createElement(gi,{path:p,labelX:h,labelY:y,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:m,markerStart:w,interactionWidth:k})});dl.displayName="SmoothStepEdge";const Pc=z.memo(e=>{var t;return D.createElement(dl,{...e,pathOptions:z.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Pc.displayName="StepEdge";function _S({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,l]=Xm({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,l]}const Tc=z.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m})=>{const[w,v,k]=_S({sourceX:e,sourceY:t,targetX:n,targetY:r});return D.createElement(gi,{path:w,labelX:v,labelY:k,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m})});Tc.displayName="StraightEdge";function Fi(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Nf({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case K.Left:return[t-Fi(t-r,i),n];case K.Right:return[t+Fi(r-t,i),n];case K.Top:return[t,n-Fi(n-o,i)];case K.Bottom:return[t,n+Fi(o-n,i)]}}function Jm({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:o,targetPosition:i=K.Top,curvature:s=.25}){const[l,a]=Nf({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[u,c]=Nf({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[d,f,m,w]=Gm({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${l},${a} ${u},${c} ${r},${o}`,d,f,m,w]}const Ls=z.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=K.Bottom,targetPosition:i=K.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:w,pathOptions:v,interactionWidth:k})=>{const[p,h,y]=Jm({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i,curvature:v==null?void 0:v.curvature});return D.createElement(gi,{path:p,labelX:h,labelY:y,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:w,interactionWidth:k})});Ls.displayName="BezierEdge";const Mc=z.createContext(null),kS=Mc.Provider;Mc.Consumer;const CS=()=>z.useContext(Mc),PS=e=>"id"in e&&"source"in e&&"target"in e,TS=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,fu=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,MS=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),$S=(e,t)=>{if(!e.source||!e.target)return t;let n;return PS(e)?n={...e}:n={...e,id:TS(e)},MS(n,t)?t:t.concat(n)},pu=({x:e,y:t},[n,r,o],i,[s,l])=>{const a={x:(e-n)/o,y:(t-r)/o};return i?{x:s*Math.round(a.x/s),y:l*Math.round(a.y/l)}:a},eg=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),qn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},fl=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const{x:i,y:s}=qn(o,t).positionAbsolute;return Qm(r,oi({x:i,y:s,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ym(n)},tg=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1,l=[0,0])=>{const a={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},u=[];return e.forEach(c=>{const{width:d,height:f,selectable:m=!0,hidden:w=!1}=c;if(s&&!m||w)return!1;const{positionAbsolute:v}=qn(c,l),k={x:v.x,y:v.y,width:d||0,height:f||0},p=uu(a,k),h=typeof d>"u"||typeof f>"u"||d===null||f===null,y=i&&p>0,g=(d||0)*(f||0);(h||y||p>=g||c.dragging)&&u.push(c)}),u},ng=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},rg=(e,t,n,r,o,i=.1)=>{const s=t/(e.width*(1+i)),l=n/(e.height*(1+i)),a=Math.min(s,l),u=qr(a,r,o),c=e.x+e.width/2,d=e.y+e.height/2,f=t/2-c*u,m=n/2-d*u;return{x:f,y:m,zoom:u}},Ln=(e,t=0)=>e.transition().duration(t);function Ef(e,t,n,r){return(t[n]||[]).reduce((o,i)=>{var s,l;return`${e.id}-${i.id}-${n}`!==r&&o.push({id:i.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+i.x+i.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+i.y+i.height/2}),o},[])}function IS(e,t,n,r,o,i){const{x:s,y:l}=Nn(e),u=t.elementsFromPoint(s,l).find(w=>w.classList.contains("react-flow__handle"));if(u){const w=u.getAttribute("data-nodeid");if(w){const v=$c(void 0,u),k=u.getAttribute("data-handleid"),p=i({nodeId:w,id:k,type:v});if(p){const h=o.find(y=>y.nodeId===w&&y.type===v&&y.id===k);return{handle:{id:k,type:v,nodeId:w,x:(h==null?void 0:h.x)||n.x,y:(h==null?void 0:h.y)||n.y},validHandleResult:p}}}}let c=[],d=1/0;if(o.forEach(w=>{const v=Math.sqrt((w.x-n.x)**2+(w.y-n.y)**2);if(v<=r){const k=i(w);v<=d&&(v<d?c=[{handle:w,validHandleResult:k}]:v===d&&c.push({handle:w,validHandleResult:k}),d=v)}}),!c.length)return{handle:null,validHandleResult:og()};if(c.length===1)return c[0];const f=c.some(({validHandleResult:w})=>w.isValid),m=c.some(({handle:w})=>w.type==="target");return c.find(({handle:w,validHandleResult:v})=>m?w.type==="target":f?v.isValid:!0)||c[0]}const bS={source:null,target:null,sourceHandle:null,targetHandle:null},og=()=>({handleDomNode:null,isValid:!1,connection:bS,endHandle:null});function ig(e,t,n,r,o,i,s){const l=o==="target",a=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...og(),handleDomNode:a};if(a){const c=$c(void 0,a),d=a.getAttribute("data-nodeid"),f=a.getAttribute("data-handleid"),m=a.classList.contains("connectable"),w=a.classList.contains("connectableend"),v={source:l?d:n,sourceHandle:l?f:r,target:l?n:d,targetHandle:l?r:f};u.connection=v,m&&w&&(t===Cn.Strict?l&&c==="source"||!l&&c==="target":d!==n||f!==r)&&(u.endHandle={nodeId:d,handleId:f,type:c},u.isValid=i(v))}return u}function zS({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((o,i)=>{if(i[ye]){const{handleBounds:s}=i[ye];let l=[],a=[];s&&(l=Ef(i,s,"source",`${t}-${n}-${r}`),a=Ef(i,s,"target",`${t}-${n}-${r}`)),o.push(...l,...a)}return o},[])}function $c(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Zl(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function AS(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function sg({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:i,setState:s,isValidConnection:l,edgeUpdaterType:a,onReconnectEnd:u}){const c=Wm(e.target),{connectionMode:d,domNode:f,autoPanOnConnect:m,connectionRadius:w,onConnectStart:v,panBy:k,getNodes:p,cancelConnection:h}=i();let y=0,g;const{x:N,y:T}=Nn(e),C=c==null?void 0:c.elementFromPoint(N,T),M=$c(a,C),_=f==null?void 0:f.getBoundingClientRect();if(!_||!M)return;let I,O=Nn(e,_),F=!1,H=null,S=!1,A=null;const $=zS({nodes:p(),nodeId:n,handleId:t,handleType:M}),L=()=>{if(!m)return;const[b,R]=Um(O,_);k({x:b,y:R}),y=requestAnimationFrame(L)};s({connectionPosition:O,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:M,connectionStartHandle:{nodeId:n,handleId:t,type:M},connectionEndHandle:null}),v==null||v(e,{nodeId:n,handleId:t,handleType:M});function P(b){const{transform:R}=i();O=Nn(b,_);const{handle:j,validHandleResult:V}=IS(b,c,pu(O,R,!1,[1,1]),w,$,U=>ig(U,d,n,t,o?"target":"source",l,c));if(g=j,F||(L(),F=!0),A=V.handleDomNode,H=V.connection,S=V.isValid,s({connectionPosition:g&&S?eg({x:g.x,y:g.y},R):O,connectionStatus:AS(!!g,S),connectionEndHandle:V.endHandle}),!g&&!S&&!A)return Zl(I);H.source!==H.target&&A&&(Zl(I),I=A,A.classList.add("connecting","react-flow__handle-connecting"),A.classList.toggle("valid",S),A.classList.toggle("react-flow__handle-valid",S))}function E(b){var R,j;(g||A)&&H&&S&&(r==null||r(H)),(j=(R=i()).onConnectEnd)==null||j.call(R,b),a&&(u==null||u(b)),Zl(I),h(),cancelAnimationFrame(y),F=!1,S=!1,H=null,A=null,c.removeEventListener("mousemove",P),c.removeEventListener("mouseup",E),c.removeEventListener("touchmove",P),c.removeEventListener("touchend",E)}c.addEventListener("mousemove",P),c.addEventListener("mouseup",E),c.addEventListener("touchmove",P),c.addEventListener("touchend",E)}const _f=()=>!0,jS=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),RS=(e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:i,connectionClickStartHandle:s}=r;return{connecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},lg=z.forwardRef(({type:e="source",position:t=K.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:l,children:a,className:u,onMouseDown:c,onTouchStart:d,...f},m)=>{var _,I;const w=s||null,v=e==="target",k=Ne(),p=CS(),{connectOnClick:h,noPanClassName:y}=se(jS,Pe),{connecting:g,clickConnecting:N}=se(RS(p,w,e),Pe);p||(I=(_=k.getState()).onError)==null||I.call(_,"010",en.error010());const T=O=>{const{defaultEdgeOptions:F,onConnect:H,hasDefaultEdges:S}=k.getState(),A={...F,...O};if(S){const{edges:$,setEdges:L}=k.getState();L($S(A,$))}H==null||H(A),l==null||l(A)},C=O=>{if(!p)return;const F=qm(O);o&&(F&&O.button===0||!F)&&sg({event:O,handleId:w,nodeId:p,onConnect:T,isTarget:v,getState:k.getState,setState:k.setState,isValidConnection:n||k.getState().isValidConnection||_f}),F?c==null||c(O):d==null||d(O)},M=O=>{const{onClickConnectStart:F,onClickConnectEnd:H,connectionClickStartHandle:S,connectionMode:A,isValidConnection:$}=k.getState();if(!p||!S&&!o)return;if(!S){F==null||F(O,{nodeId:p,handleId:w,handleType:e}),k.setState({connectionClickStartHandle:{nodeId:p,type:e,handleId:w}});return}const L=Wm(O.target),P=n||$||_f,{connection:E,isValid:b}=ig({nodeId:p,id:w,type:e},A,S.nodeId,S.handleId||null,S.type,P,L);b&&T(E),H==null||H(O),k.setState({connectionClickStartHandle:null})};return D.createElement("div",{"data-handleid":w,"data-nodeid":p,"data-handlepos":t,"data-id":`${p}-${w}-${e}`,className:ze(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,u,{source:!v,target:v,connectable:r,connectablestart:o,connectableend:i,connecting:N,connectionindicator:r&&(o&&!g||i&&g)}]),onMouseDown:C,onTouchStart:C,onClick:h?M:void 0,ref:m,...f},a)});lg.displayName="Handle";var jt=z.memo(lg);const ag=({data:e,isConnectable:t,targetPosition:n=K.Top,sourcePosition:r=K.Bottom})=>D.createElement(D.Fragment,null,D.createElement(jt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,D.createElement(jt,{type:"source",position:r,isConnectable:t}));ag.displayName="DefaultNode";var hu=z.memo(ag);const ug=({data:e,isConnectable:t,sourcePosition:n=K.Bottom})=>D.createElement(D.Fragment,null,e==null?void 0:e.label,D.createElement(jt,{type:"source",position:n,isConnectable:t}));ug.displayName="InputNode";var cg=z.memo(ug);const dg=({data:e,isConnectable:t,targetPosition:n=K.Top})=>D.createElement(D.Fragment,null,D.createElement(jt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);dg.displayName="OutputNode";var fg=z.memo(dg);const Ic=()=>null;Ic.displayName="GroupNode";const DS=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Hi=e=>e.id;function LS(e,t){return Pe(e.selectedNodes.map(Hi),t.selectedNodes.map(Hi))&&Pe(e.selectedEdges.map(Hi),t.selectedEdges.map(Hi))}const pg=z.memo(({onSelectionChange:e})=>{const t=Ne(),{selectedNodes:n,selectedEdges:r}=se(DS,LS);return z.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChange.forEach(i=>i(o))},[n,r,e]),null});pg.displayName="SelectionListener";const OS=e=>!!e.onSelectionChange;function FS({onSelectionChange:e}){const t=se(OS);return e||t?D.createElement(pg,{onSelectionChange:e}):null}const HS=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function fr(e,t){z.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function J(e,t,n){z.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const VS=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:i,onConnectEnd:s,onClickConnectStart:l,onClickConnectEnd:a,nodesDraggable:u,nodesConnectable:c,nodesFocusable:d,edgesFocusable:f,edgesUpdatable:m,elevateNodesOnSelect:w,minZoom:v,maxZoom:k,nodeExtent:p,onNodesChange:h,onEdgesChange:y,elementsSelectable:g,connectionMode:N,snapGrid:T,snapToGrid:C,translateExtent:M,connectOnClick:_,defaultEdgeOptions:I,fitView:O,fitViewOptions:F,onNodesDelete:H,onEdgesDelete:S,onNodeDrag:A,onNodeDragStart:$,onNodeDragStop:L,onSelectionDrag:P,onSelectionDragStart:E,onSelectionDragStop:b,noPanClassName:R,nodeOrigin:j,rfId:V,autoPanOnConnect:U,autoPanOnNodeDrag:Q,onError:W,connectionRadius:q,isValidConnection:G,nodeDragThreshold:te})=>{const{setNodes:Z,setEdges:le,setDefaultNodesAndEdges:de,setMinZoom:Te,setMaxZoom:Me,setTranslateExtent:fe,setNodeExtent:Xe,reset:oe}=se(HS,Pe),X=Ne();return z.useEffect(()=>{const Oe=r==null?void 0:r.map(Dt=>({...Dt,...I}));return de(n,Oe),()=>{oe()}},[]),J("defaultEdgeOptions",I,X.setState),J("connectionMode",N,X.setState),J("onConnect",o,X.setState),J("onConnectStart",i,X.setState),J("onConnectEnd",s,X.setState),J("onClickConnectStart",l,X.setState),J("onClickConnectEnd",a,X.setState),J("nodesDraggable",u,X.setState),J("nodesConnectable",c,X.setState),J("nodesFocusable",d,X.setState),J("edgesFocusable",f,X.setState),J("edgesUpdatable",m,X.setState),J("elementsSelectable",g,X.setState),J("elevateNodesOnSelect",w,X.setState),J("snapToGrid",C,X.setState),J("snapGrid",T,X.setState),J("onNodesChange",h,X.setState),J("onEdgesChange",y,X.setState),J("connectOnClick",_,X.setState),J("fitViewOnInit",O,X.setState),J("fitViewOnInitOptions",F,X.setState),J("onNodesDelete",H,X.setState),J("onEdgesDelete",S,X.setState),J("onNodeDrag",A,X.setState),J("onNodeDragStart",$,X.setState),J("onNodeDragStop",L,X.setState),J("onSelectionDrag",P,X.setState),J("onSelectionDragStart",E,X.setState),J("onSelectionDragStop",b,X.setState),J("noPanClassName",R,X.setState),J("nodeOrigin",j,X.setState),J("rfId",V,X.setState),J("autoPanOnConnect",U,X.setState),J("autoPanOnNodeDrag",Q,X.setState),J("onError",W,X.setState),J("connectionRadius",q,X.setState),J("isValidConnection",G,X.setState),J("nodeDragThreshold",te,X.setState),fr(e,Z),fr(t,le),fr(v,Te),fr(k,Me),fr(M,fe),fr(p,Xe),null},kf={display:"none"},BS={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},hg="react-flow__node-desc",mg="react-flow__edge-desc",US="react-flow__aria-live",WS=e=>e.ariaLiveMessage;function QS({rfId:e}){const t=se(WS);return D.createElement("div",{id:`${US}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:BS},t)}function YS({rfId:e,disableKeyboardA11y:t}){return D.createElement(D.Fragment,null,D.createElement("div",{id:`${hg}-${e}`,style:kf},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),D.createElement("div",{id:`${mg}-${e}`,style:kf},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&D.createElement(QS,{rfId:e}))}var si=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=z.useState(!1),o=z.useRef(!1),i=z.useRef(new Set([])),[s,l]=z.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),c=u.reduce((d,f)=>d.concat(...f),[]);return[u,c]}return[[],[]]},[e]);return z.useEffect(()=>{const a=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||a;if(e!==null){const c=m=>{if(o.current=m.ctrlKey||m.metaKey||m.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&cu(m))return!1;const v=Pf(m.code,l);i.current.add(m[v]),Cf(s,i.current,!1)&&(m.preventDefault(),r(!0))},d=m=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&cu(m))return!1;const v=Pf(m.code,l);Cf(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(m[v]),m.key==="Meta"&&i.current.clear(),o.current=!1},f=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",f)}}},[e,r]),n};function Cf(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function Pf(e,t){return t.includes(e)?"code":"key"}function gg(e,t,n,r){var l,a;const o=e.parentNode||e.parentId;if(!o)return n;const i=t.get(o),s=qn(i,r);return gg(i,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((l=i[ye])==null?void 0:l.z)??0)>(n.z??0)?((a=i[ye])==null?void 0:a.z)??0:n.z??0},r)}function yg(e,t,n){e.forEach(r=>{var i;const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n!=null&&n[r.id]){const{x:s,y:l,z:a}=gg(r,e,{...r.position,z:((i=r[ye])==null?void 0:i.z)??0},t);r.positionAbsolute={x:s,y:l},r[ye].z=a,n!=null&&n[r.id]&&(r[ye].isParent=!0)}})}function Jl(e,t,n,r){const o=new Map,i={},s=r?1e3:0;return e.forEach(l=>{var m;const a=(dt(l.zIndex)?l.zIndex:0)+(l.selected?s:0),u=t.get(l.id),c={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},d=l.parentNode||l.parentId;d&&(i[d]=!0);const f=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(c,ye,{enumerable:!1,value:{handleBounds:f||(m=u==null?void 0:u[ye])==null?void 0:m.handleBounds,z:a}}),o.set(l.id,c)}),yg(o,n,i),o}function vg(e,t={}){const{getNodes:n,width:r,height:o,minZoom:i,maxZoom:s,d3Zoom:l,d3Selection:a,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=e(),f=t.initial&&!u&&c;if(l&&a&&(f||!t.initial)){const w=n().filter(k=>{var h;const p=t.includeHiddenNodes?k.width&&k.height:!k.hidden;return(h=t.nodes)!=null&&h.length?p&&t.nodes.some(y=>y.id===k.id):p}),v=w.every(k=>k.width&&k.height);if(w.length>0&&v){const k=fl(w,d),{x:p,y:h,zoom:y}=rg(k,r,o,t.minZoom??i,t.maxZoom??s,t.padding??.1),g=Kt.translate(p,h).scale(y);return typeof t.duration=="number"&&t.duration>0?l.transform(Ln(a,t.duration),g):l.transform(a,g),!0}}return!1}function KS(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[ye]:r[ye],selected:n.selected})}),new Map(t)}function qS(e,t){return t.map(n=>{const r=e.find(o=>o.id===n.id);return r&&(n.selected=r.selected),n})}function Vi({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:i,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:a,hasDefaultEdges:u}=n();e!=null&&e.length&&(a&&r({nodeInternals:KS(e,o)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:qS(t,i)}),l==null||l(t))}const pr=()=>{},XS={zoomIn:pr,zoomOut:pr,zoomTo:pr,getZoom:()=>1,setViewport:pr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:pr,fitBounds:pr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},GS=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),ZS=()=>{const e=Ne(),{d3Zoom:t,d3Selection:n}=se(GS,Pe);return z.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(Ln(n,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(Ln(n,o==null?void 0:o.duration),1/1.2),zoomTo:(o,i)=>t.scaleTo(Ln(n,i==null?void 0:i.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,i)=>{const[s,l,a]=e.getState().transform,u=Kt.translate(o.x??s,o.y??l).scale(o.zoom??a);t.transform(Ln(n,i==null?void 0:i.duration),u)},getViewport:()=>{const[o,i,s]=e.getState().transform;return{x:o,y:i,zoom:s}},fitView:o=>vg(e.getState,o),setCenter:(o,i,s)=>{const{width:l,height:a,maxZoom:u}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,d=l/2-o*c,f=a/2-i*c,m=Kt.translate(d,f).scale(c);t.transform(Ln(n,s==null?void 0:s.duration),m)},fitBounds:(o,i)=>{const{width:s,height:l,minZoom:a,maxZoom:u}=e.getState(),{x:c,y:d,zoom:f}=rg(o,s,l,a,u,(i==null?void 0:i.padding)??.1),m=Kt.translate(c,d).scale(f);t.transform(Ln(n,i==null?void 0:i.duration),m)},project:o=>{const{transform:i,snapToGrid:s,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),pu(o,i,s,l)},screenToFlowPosition:o=>{const{transform:i,snapToGrid:s,snapGrid:l,domNode:a}=e.getState();if(!a)return o;const{x:u,y:c}=a.getBoundingClientRect(),d={x:o.x-u,y:o.y-c};return pu(d,i,s,l)},flowToScreenPosition:o=>{const{transform:i,domNode:s}=e.getState();if(!s)return o;const{x:l,y:a}=s.getBoundingClientRect(),u=eg(o,i);return{x:u.x+l,y:u.y+a}},viewportInitialized:!0}:XS,[t,n])};function pl(){const e=ZS(),t=Ne(),n=z.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),r=z.useCallback(v=>t.getState().nodeInternals.get(v),[]),o=z.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(k=>({...k}))},[]),i=z.useCallback(v=>{const{edges:k=[]}=t.getState();return k.find(p=>p.id===v)},[]),s=z.useCallback(v=>{const{getNodes:k,setNodes:p,hasDefaultNodes:h,onNodesChange:y}=t.getState(),g=k(),N=typeof v=="function"?v(g):v;if(h)p(N);else if(y){const T=N.length===0?g.map(C=>({type:"remove",id:C.id})):N.map(C=>({item:C,type:"reset"}));y(T)}},[]),l=z.useCallback(v=>{const{edges:k=[],setEdges:p,hasDefaultEdges:h,onEdgesChange:y}=t.getState(),g=typeof v=="function"?v(k):v;if(h)p(g);else if(y){const N=g.length===0?k.map(T=>({type:"remove",id:T.id})):g.map(T=>({item:T,type:"reset"}));y(N)}},[]),a=z.useCallback(v=>{const k=Array.isArray(v)?v:[v],{getNodes:p,setNodes:h,hasDefaultNodes:y,onNodesChange:g}=t.getState();if(y){const T=[...p(),...k];h(T)}else if(g){const N=k.map(T=>({item:T,type:"add"}));g(N)}},[]),u=z.useCallback(v=>{const k=Array.isArray(v)?v:[v],{edges:p=[],setEdges:h,hasDefaultEdges:y,onEdgesChange:g}=t.getState();if(y)h([...p,...k]);else if(g){const N=k.map(T=>({item:T,type:"add"}));g(N)}},[]),c=z.useCallback(()=>{const{getNodes:v,edges:k=[],transform:p}=t.getState(),[h,y,g]=p;return{nodes:v().map(N=>({...N})),edges:k.map(N=>({...N})),viewport:{x:h,y,zoom:g}}},[]),d=z.useCallback(({nodes:v,edges:k})=>{const{nodeInternals:p,getNodes:h,edges:y,hasDefaultNodes:g,hasDefaultEdges:N,onNodesDelete:T,onEdgesDelete:C,onNodesChange:M,onEdgesChange:_}=t.getState(),I=(v||[]).map(A=>A.id),O=(k||[]).map(A=>A.id),F=h().reduce((A,$)=>{const L=$.parentNode||$.parentId,P=!I.includes($.id)&&L&&A.find(b=>b.id===L);return(typeof $.deletable=="boolean"?$.deletable:!0)&&(I.includes($.id)||P)&&A.push($),A},[]),H=y.filter(A=>typeof A.deletable=="boolean"?A.deletable:!0),S=H.filter(A=>O.includes(A.id));if(F||S){const A=ng(F,H),$=[...S,...A],L=$.reduce((P,E)=>(P.includes(E.id)||P.push(E.id),P),[]);if((N||g)&&(N&&t.setState({edges:y.filter(P=>!L.includes(P.id))}),g&&(F.forEach(P=>{p.delete(P.id)}),t.setState({nodeInternals:new Map(p)}))),L.length>0&&(C==null||C($),_&&_(L.map(P=>({id:P,type:"remove"})))),F.length>0&&(T==null||T(F),M)){const P=F.map(E=>({id:E.id,type:"remove"}));M(P)}}},[]),f=z.useCallback(v=>{const k=vS(v),p=k?null:t.getState().nodeInternals.get(v.id);return!k&&!p?[null,null,k]:[k?v:vf(p),p,k]},[]),m=z.useCallback((v,k=!0,p)=>{const[h,y,g]=f(v);return h?(p||t.getState().getNodes()).filter(N=>{if(!g&&(N.id===y.id||!N.positionAbsolute))return!1;const T=vf(N),C=uu(T,h);return k&&C>0||C>=h.width*h.height}):[]},[]),w=z.useCallback((v,k,p=!0)=>{const[h]=f(v);if(!h)return!1;const y=uu(h,k);return p&&y>0||y>=h.width*h.height},[]);return z.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:o,getEdge:i,setNodes:s,setEdges:l,addNodes:a,addEdges:u,toObject:c,deleteElements:d,getIntersectingNodes:m,isNodeIntersecting:w}),[e,n,r,o,i,s,l,a,u,c,d,m,w])}const JS={actInsideInputWithModifier:!1};var eN=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Ne(),{deleteElements:r}=pl(),o=si(e,JS),i=si(t);z.useEffect(()=>{if(o){const{edges:s,getNodes:l}=n.getState(),a=l().filter(c=>c.selected),u=s.filter(c=>c.selected);r({nodes:a,edges:u}),n.setState({nodesSelectionActive:!1})}},[o]),z.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function tN(e){const t=Ne();z.useEffect(()=>{let n;const r=()=>{var i,s;if(!e.current)return;const o=_c(e.current);(o.height===0||o.width===0)&&((s=(i=t.getState()).onError)==null||s.call(i,"004",en.error004())),t.setState({width:o.width||500,height:o.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const bc={position:"absolute",width:"100%",height:"100%",top:0,left:0},nN=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Bi=e=>({x:e.x,y:e.y,zoom:e.k}),hr=(e,t)=>e.target.closest(`.${t}`),Tf=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Mf=e=>{const t=e.ctrlKey&&Rs()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},rN=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),oN=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:o=!0,zoomOnPinch:i=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:a=Wn.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:d=!0,defaultViewport:f,translateExtent:m,minZoom:w,maxZoom:v,zoomActivationKeyCode:k,preventScrolling:p=!0,children:h,noWheelClassName:y,noPanClassName:g})=>{const N=z.useRef(),T=Ne(),C=z.useRef(!1),M=z.useRef(!1),_=z.useRef(null),I=z.useRef({x:0,y:0,zoom:0}),{d3Zoom:O,d3Selection:F,d3ZoomHandler:H,userSelectionActive:S}=se(rN,Pe),A=si(k),$=z.useRef(0),L=z.useRef(!1),P=z.useRef();return tN(_),z.useEffect(()=>{if(_.current){const E=_.current.getBoundingClientRect(),b=Vm().scaleExtent([w,v]).translateExtent(m),R=at(_.current).call(b),j=Kt.translate(f.x,f.y).scale(qr(f.zoom,w,v)),V=[[0,0],[E.width,E.height]],U=b.constrain()(j,V,m);b.transform(R,U),b.wheelDelta(Mf),T.setState({d3Zoom:b,d3Selection:R,d3ZoomHandler:R.on("wheel.zoom"),transform:[U.x,U.y,U.k],domNode:_.current.closest(".react-flow")})}},[]),z.useEffect(()=>{F&&O&&(s&&!A&&!S?F.on("wheel.zoom",E=>{if(hr(E,y))return!1;E.preventDefault(),E.stopImmediatePropagation();const b=F.property("__zoom").k||1;if(E.ctrlKey&&i){const G=wt(E),te=Mf(E),Z=b*Math.pow(2,te);O.scaleTo(F,Z,G,E);return}const R=E.deltaMode===1?20:1;let j=a===Wn.Vertical?0:E.deltaX*R,V=a===Wn.Horizontal?0:E.deltaY*R;!Rs()&&E.shiftKey&&a!==Wn.Vertical&&(j=E.deltaY*R,V=0),O.translateBy(F,-(j/b)*l,-(V/b)*l,{internal:!0});const U=Bi(F.property("__zoom")),{onViewportChangeStart:Q,onViewportChange:W,onViewportChangeEnd:q}=T.getState();clearTimeout(P.current),L.current||(L.current=!0,t==null||t(E,U),Q==null||Q(U)),L.current&&(e==null||e(E,U),W==null||W(U),P.current=setTimeout(()=>{n==null||n(E,U),q==null||q(U),L.current=!1},150))},{passive:!1}):typeof H<"u"&&F.on("wheel.zoom",function(E,b){if(!p&&E.type==="wheel"&&!E.ctrlKey||hr(E,y))return null;E.preventDefault(),H.call(this,E,b)},{passive:!1}))},[S,s,a,F,O,H,A,i,p,y,t,e,n]),z.useEffect(()=>{O&&O.on("start",E=>{var j,V;if(!E.sourceEvent||E.sourceEvent.internal)return null;$.current=(j=E.sourceEvent)==null?void 0:j.button;const{onViewportChangeStart:b}=T.getState(),R=Bi(E.transform);C.current=!0,I.current=R,((V=E.sourceEvent)==null?void 0:V.type)==="mousedown"&&T.setState({paneDragging:!0}),b==null||b(R),t==null||t(E.sourceEvent,R)})},[O,t]),z.useEffect(()=>{O&&(S&&!C.current?O.on("zoom",null):S||O.on("zoom",E=>{var R;const{onViewportChange:b}=T.getState();if(T.setState({transform:[E.transform.x,E.transform.y,E.transform.k]}),M.current=!!(r&&Tf(d,$.current??0)),(e||b)&&!((R=E.sourceEvent)!=null&&R.internal)){const j=Bi(E.transform);b==null||b(j),e==null||e(E.sourceEvent,j)}}))},[S,O,e,d,r]),z.useEffect(()=>{O&&O.on("end",E=>{if(!E.sourceEvent||E.sourceEvent.internal)return null;const{onViewportChangeEnd:b}=T.getState();if(C.current=!1,T.setState({paneDragging:!1}),r&&Tf(d,$.current??0)&&!M.current&&r(E.sourceEvent),M.current=!1,(n||b)&&nN(I.current,E.transform)){const R=Bi(E.transform);I.current=R,clearTimeout(N.current),N.current=setTimeout(()=>{b==null||b(R),n==null||n(E.sourceEvent,R)},s?150:0)}})},[O,s,d,n,r]),z.useEffect(()=>{O&&O.filter(E=>{const b=A||o,R=i&&E.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&E.button===1&&E.type==="mousedown"&&(hr(E,"react-flow__node")||hr(E,"react-flow__edge")))return!0;if(!d&&!b&&!s&&!u&&!i||S||!u&&E.type==="dblclick"||hr(E,y)&&E.type==="wheel"||hr(E,g)&&(E.type!=="wheel"||s&&E.type==="wheel"&&!A)||!i&&E.ctrlKey&&E.type==="wheel"||!b&&!s&&!R&&E.type==="wheel"||!d&&(E.type==="mousedown"||E.type==="touchstart")||Array.isArray(d)&&!d.includes(E.button)&&E.type==="mousedown")return!1;const j=Array.isArray(d)&&d.includes(E.button)||!E.button||E.button<=1;return(!E.ctrlKey||E.type==="wheel")&&j})},[S,O,o,i,s,u,d,c,A]),D.createElement("div",{className:"react-flow__renderer",ref:_,style:bc},h)},iN=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function sN(){const{userSelectionActive:e,userSelectionRect:t}=se(iN,Pe);return e&&t?D.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function $f(e,t){const n=t.parentNode||t.parentId,r=e.find(o=>o.id===n);if(r){const o=t.position.x+t.width-r.width,i=t.position.y+t.height-r.height;if(o>0||i>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,o>0&&(r.style.width+=o),i>0&&(r.style.height+=i),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function xg(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,o)=>{const i=e.filter(l=>l.id===o.id);if(i.length===0)return r.push(o),r;const s={...o};for(const l of i)if(l)switch(l.type){case"select":{s.selected=l.selected;break}case"position":{typeof l.position<"u"&&(s.position=l.position),typeof l.positionAbsolute<"u"&&(s.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(s.dragging=l.dragging),s.expandParent&&$f(r,s);break}case"dimensions":{typeof l.dimensions<"u"&&(s.width=l.dimensions.width,s.height=l.dimensions.height),typeof l.updateStyle<"u"&&(s.style={...s.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(s.resizing=l.resizing),s.expandParent&&$f(r,s);break}case"remove":return r}return r.push(s),r},n)}function wg(e,t){return xg(e,t)}function lN(e,t){return xg(e,t)}const an=(e,t)=>({id:e,type:"select",selected:t});function Mr(e,t){return e.reduce((n,r)=>{const o=t.includes(r.id);return!r.selected&&o?(r.selected=!0,n.push(an(r.id,!0))):r.selected&&!o&&(r.selected=!1,n.push(an(r.id,!1))),n},[])}const ea=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},aN=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Sg=z.memo(({isSelecting:e,selectionMode:t=ii.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:o,onPaneClick:i,onPaneContextMenu:s,onPaneScroll:l,onPaneMouseEnter:a,onPaneMouseMove:u,onPaneMouseLeave:c,children:d})=>{const f=z.useRef(null),m=Ne(),w=z.useRef(0),v=z.useRef(0),k=z.useRef(),{userSelectionActive:p,elementsSelectable:h,dragging:y}=se(aN,Pe),g=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),w.current=0,v.current=0},N=H=>{i==null||i(H),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},T=H=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){H.preventDefault();return}s==null||s(H)},C=l?H=>l(H):void 0,M=H=>{const{resetSelectedElements:S,domNode:A}=m.getState();if(k.current=A==null?void 0:A.getBoundingClientRect(),!h||!e||H.button!==0||H.target!==f.current||!k.current)return;const{x:$,y:L}=Nn(H,k.current);S(),m.setState({userSelectionRect:{width:0,height:0,startX:$,startY:L,x:$,y:L}}),r==null||r(H)},_=H=>{const{userSelectionRect:S,nodeInternals:A,edges:$,transform:L,onNodesChange:P,onEdgesChange:E,nodeOrigin:b,getNodes:R}=m.getState();if(!e||!k.current||!S)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const j=Nn(H,k.current),V=S.startX??0,U=S.startY??0,Q={...S,x:j.x<V?j.x:V,y:j.y<U?j.y:U,width:Math.abs(j.x-V),height:Math.abs(j.y-U)},W=R(),q=tg(A,Q,L,t===ii.Partial,!0,b),G=ng(q,$).map(Z=>Z.id),te=q.map(Z=>Z.id);if(w.current!==te.length){w.current=te.length;const Z=Mr(W,te);Z.length&&(P==null||P(Z))}if(v.current!==G.length){v.current=G.length;const Z=Mr($,G);Z.length&&(E==null||E(Z))}m.setState({userSelectionRect:Q})},I=H=>{if(H.button!==0)return;const{userSelectionRect:S}=m.getState();!p&&S&&H.target===f.current&&(N==null||N(H)),m.setState({nodesSelectionActive:w.current>0}),g(),o==null||o(H)},O=H=>{p&&(m.setState({nodesSelectionActive:w.current>0}),o==null||o(H)),g()},F=h&&(e||p);return D.createElement("div",{className:ze(["react-flow__pane",{dragging:y,selection:e}]),onClick:F?void 0:ea(N,f),onContextMenu:ea(T,f),onWheel:ea(C,f),onMouseEnter:F?void 0:a,onMouseDown:F?M:void 0,onMouseMove:F?_:u,onMouseUp:F?I:void 0,onMouseLeave:F?O:c,ref:f,style:bc},d,D.createElement(sN,null))});Sg.displayName="Pane";function Ng(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:Ng(r,t):!1}function If(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function uN(e,t,n,r){return Array.from(e.values()).filter(o=>(o.selected||o.id===r)&&(!o.parentNode||o.parentId||!Ng(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var i,s;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=o.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((s=o.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}})}function cN(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Eg(e,t,n,r,o=[0,0],i){const s=cN(e,e.extent||r);let l=s;const a=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(a&&e.width&&e.height){const d=n.get(a),{x:f,y:m}=qn(d,o).positionAbsolute;l=d&&dt(f)&&dt(m)&&dt(d.width)&&dt(d.height)?[[f+e.width*o[0],m+e.height*o[1]],[f+d.width-e.width+e.width*o[0],m+d.height-e.height+e.height*o[1]]]:l}else i==null||i("005",en.error005()),l=s;else if(e.extent&&a&&e.extent!=="parent"){const d=n.get(a),{x:f,y:m}=qn(d,o).positionAbsolute;l=[[e.extent[0][0]+f,e.extent[0][1]+m],[e.extent[1][0]+f,e.extent[1][1]+m]]}let u={x:0,y:0};if(a){const d=n.get(a);u=qn(d,o).positionAbsolute}const c=l&&l!=="parent"?kc(t,l):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function ta({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?r.find(o=>o.id===e):r[0],r]}const bf=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const i=Array.from(o),s=t.getBoundingClientRect(),l={x:s.width*r[0],y:s.height*r[1]};return i.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-s.left-l.x)/n,y:(u.top-s.top-l.y)/n,..._c(a)}})};function yo(e,t,n){return n===void 0?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function mu({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeInternals:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",en.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):o([e])}function dN(){const e=Ne();return z.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:o,snapToGrid:i}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,a={x:(s-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:i?o[0]*Math.round(a.x/o[0]):a.x,ySnapped:i?o[1]*Math.round(a.y/o[1]):a.y,...a}},[])}function na(e){return(t,n,r)=>e==null?void 0:e(t,r)}function _g({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,selectNodesOnDrag:s}){const l=Ne(),[a,u]=z.useState(!1),c=z.useRef([]),d=z.useRef({x:null,y:null}),f=z.useRef(0),m=z.useRef(null),w=z.useRef({x:0,y:0}),v=z.useRef(null),k=z.useRef(!1),p=z.useRef(!1),h=z.useRef(!1),y=dN();return z.useEffect(()=>{if(e!=null&&e.current){const g=at(e.current),N=({x:M,y:_})=>{const{nodeInternals:I,onNodeDrag:O,onSelectionDrag:F,updateNodePositions:H,nodeExtent:S,snapGrid:A,snapToGrid:$,nodeOrigin:L,onError:P}=l.getState();d.current={x:M,y:_};let E=!1,b={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&S){const j=fl(c.current,L);b=oi(j)}if(c.current=c.current.map(j=>{const V={x:M-j.distance.x,y:_-j.distance.y};$&&(V.x=A[0]*Math.round(V.x/A[0]),V.y=A[1]*Math.round(V.y/A[1]));const U=[[S[0][0],S[0][1]],[S[1][0],S[1][1]]];c.current.length>1&&S&&!j.extent&&(U[0][0]=j.positionAbsolute.x-b.x+S[0][0],U[1][0]=j.positionAbsolute.x+(j.width??0)-b.x2+S[1][0],U[0][1]=j.positionAbsolute.y-b.y+S[0][1],U[1][1]=j.positionAbsolute.y+(j.height??0)-b.y2+S[1][1]);const Q=Eg(j,V,I,U,L,P);return E=E||j.position.x!==Q.position.x||j.position.y!==Q.position.y,j.position=Q.position,j.positionAbsolute=Q.positionAbsolute,j}),!E)return;H(c.current,!0,!0),u(!0);const R=o?O:na(F);if(R&&v.current){const[j,V]=ta({nodeId:o,dragItems:c.current,nodeInternals:I});R(v.current,j,V)}},T=()=>{if(!m.current)return;const[M,_]=Um(w.current,m.current);if(M!==0||_!==0){const{transform:I,panBy:O}=l.getState();d.current.x=(d.current.x??0)-M/I[2],d.current.y=(d.current.y??0)-_/I[2],O({x:M,y:_})&&N(d.current)}f.current=requestAnimationFrame(T)},C=M=>{var L;const{nodeInternals:_,multiSelectionActive:I,nodesDraggable:O,unselectNodesAndEdges:F,onNodeDragStart:H,onSelectionDragStart:S}=l.getState();p.current=!0;const A=o?H:na(S);(!s||!i)&&!I&&o&&((L=_.get(o))!=null&&L.selected||F()),o&&i&&s&&mu({id:o,store:l,nodeRef:e});const $=y(M);if(d.current=$,c.current=uN(_,O,$,o),A&&c.current){const[P,E]=ta({nodeId:o,dragItems:c.current,nodeInternals:_});A(M.sourceEvent,P,E)}};if(t)g.on(".drag",null);else{const M=Nw().on("start",_=>{const{domNode:I,nodeDragThreshold:O}=l.getState();O===0&&C(_),h.current=!1;const F=y(_);d.current=F,m.current=(I==null?void 0:I.getBoundingClientRect())||null,w.current=Nn(_.sourceEvent,m.current)}).on("drag",_=>{var H,S;const I=y(_),{autoPanOnNodeDrag:O,nodeDragThreshold:F}=l.getState();if(_.sourceEvent.type==="touchmove"&&_.sourceEvent.touches.length>1&&(h.current=!0),!h.current){if(!k.current&&p.current&&O&&(k.current=!0,T()),!p.current){const A=I.xSnapped-(((H=d==null?void 0:d.current)==null?void 0:H.x)??0),$=I.ySnapped-(((S=d==null?void 0:d.current)==null?void 0:S.y)??0);Math.sqrt(A*A+$*$)>F&&C(_)}(d.current.x!==I.xSnapped||d.current.y!==I.ySnapped)&&c.current&&p.current&&(v.current=_.sourceEvent,w.current=Nn(_.sourceEvent,m.current),N(I))}}).on("end",_=>{if(!(!p.current||h.current)&&(u(!1),k.current=!1,p.current=!1,cancelAnimationFrame(f.current),c.current)){const{updateNodePositions:I,nodeInternals:O,onNodeDragStop:F,onSelectionDragStop:H}=l.getState(),S=o?F:na(H);if(I(c.current,!1,!1),S){const[A,$]=ta({nodeId:o,dragItems:c.current,nodeInternals:O});S(_.sourceEvent,A,$)}}}).filter(_=>{const I=_.target;return!_.button&&(!n||!If(I,`.${n}`,e))&&(!r||If(I,r,e))});return g.call(M),()=>{g.on(".drag",null)}}}},[e,t,n,r,i,l,o,s,y]),a}function kg(){const e=Ne();return z.useCallback(n=>{const{nodeInternals:r,nodeExtent:o,updateNodePositions:i,getNodes:s,snapToGrid:l,snapGrid:a,onError:u,nodesDraggable:c}=e.getState(),d=s().filter(h=>h.selected&&(h.draggable||c&&typeof h.draggable>"u")),f=l?a[0]:5,m=l?a[1]:5,w=n.isShiftPressed?4:1,v=n.x*f*w,k=n.y*m*w,p=d.map(h=>{if(h.positionAbsolute){const y={x:h.positionAbsolute.x+v,y:h.positionAbsolute.y+k};l&&(y.x=a[0]*Math.round(y.x/a[0]),y.y=a[1]*Math.round(y.y/a[1]));const{positionAbsolute:g,position:N}=Eg(h,y,r,o,void 0,u);h.position=N,h.positionAbsolute=g}return h});i(p,!0,!1)},[])}const Lr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var vo=e=>{const t=({id:n,type:r,data:o,xPos:i,yPos:s,xPosOrigin:l,yPosOrigin:a,selected:u,onClick:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:m,onContextMenu:w,onDoubleClick:v,style:k,className:p,isDraggable:h,isSelectable:y,isConnectable:g,isFocusable:N,selectNodesOnDrag:T,sourcePosition:C,targetPosition:M,hidden:_,resizeObserver:I,dragHandle:O,zIndex:F,isParent:H,noDragClassName:S,noPanClassName:A,initialized:$,disableKeyboardA11y:L,ariaLabel:P,rfId:E,hasHandleBounds:b})=>{const R=Ne(),j=z.useRef(null),V=z.useRef(null),U=z.useRef(C),Q=z.useRef(M),W=z.useRef(r),q=y||h||c||d||f||m,G=kg(),te=yo(n,R.getState,d),Z=yo(n,R.getState,f),le=yo(n,R.getState,m),de=yo(n,R.getState,w),Te=yo(n,R.getState,v),Me=oe=>{const{nodeDragThreshold:X}=R.getState();if(y&&(!T||!h||X>0)&&mu({id:n,store:R,nodeRef:j}),c){const Oe=R.getState().nodeInternals.get(n);Oe&&c(oe,{...Oe})}},fe=oe=>{if(!cu(oe)&&!L)if(Km.includes(oe.key)&&y){const X=oe.key==="Escape";mu({id:n,store:R,unselect:X,nodeRef:j})}else h&&u&&Object.prototype.hasOwnProperty.call(Lr,oe.key)&&(R.setState({ariaLiveMessage:`Moved selected node ${oe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~s}`}),G({x:Lr[oe.key].x,y:Lr[oe.key].y,isShiftPressed:oe.shiftKey}))};z.useEffect(()=>()=>{V.current&&(I==null||I.unobserve(V.current),V.current=null)},[]),z.useEffect(()=>{if(j.current&&!_){const oe=j.current;(!$||!b||V.current!==oe)&&(V.current&&(I==null||I.unobserve(V.current)),I==null||I.observe(oe),V.current=oe)}},[_,$,b]),z.useEffect(()=>{const oe=W.current!==r,X=U.current!==C,Oe=Q.current!==M;j.current&&(oe||X||Oe)&&(oe&&(W.current=r),X&&(U.current=C),Oe&&(Q.current=M),R.getState().updateNodeDimensions([{id:n,nodeElement:j.current,forceUpdate:!0}]))},[n,r,C,M]);const Xe=_g({nodeRef:j,disabled:_||!h,noDragClassName:S,handleSelector:O,nodeId:n,isSelectable:y,selectNodesOnDrag:T});return _?null:D.createElement("div",{className:ze(["react-flow__node",`react-flow__node-${r}`,{[A]:h},p,{selected:u,selectable:y,parent:H,dragging:Xe}]),ref:j,style:{zIndex:F,transform:`translate(${l}px,${a}px)`,pointerEvents:q?"all":"none",visibility:$?"visible":"hidden",...k},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:te,onMouseMove:Z,onMouseLeave:le,onContextMenu:de,onClick:Me,onDoubleClick:Te,onKeyDown:N?fe:void 0,tabIndex:N?0:void 0,role:N?"button":void 0,"aria-describedby":L?void 0:`${hg}-${E}`,"aria-label":P},D.createElement(kS,{value:n},D.createElement(e,{id:n,data:o,type:r,xPos:i,yPos:s,selected:u,isConnectable:g,sourcePosition:C,targetPosition:M,dragging:Xe,dragHandle:O,zIndex:F})))};return t.displayName="NodeWrapper",z.memo(t)};const fN=e=>{const t=e.getNodes().filter(n=>n.selected);return{...fl(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function pN({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ne(),{width:o,height:i,x:s,y:l,transformString:a,userSelectionActive:u}=se(fN,Pe),c=kg(),d=z.useRef(null);if(z.useEffect(()=>{var w;n||(w=d.current)==null||w.focus({preventScroll:!0})},[n]),_g({nodeRef:d}),u||!o||!i)return null;const f=e?w=>{const v=r.getState().getNodes().filter(k=>k.selected);e(w,v)}:void 0,m=w=>{Object.prototype.hasOwnProperty.call(Lr,w.key)&&c({x:Lr[w.key].x,y:Lr[w.key].y,isShiftPressed:w.shiftKey})};return D.createElement("div",{className:ze(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a}},D.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:o,height:i,top:l,left:s}}))}var hN=z.memo(pN);const mN=e=>e.nodesSelectionActive,Cg=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,deleteKeyCode:l,onMove:a,onMoveStart:u,onMoveEnd:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:m,onSelectionStart:w,onSelectionEnd:v,multiSelectionKeyCode:k,panActivationKeyCode:p,zoomActivationKeyCode:h,elementsSelectable:y,zoomOnScroll:g,zoomOnPinch:N,panOnScroll:T,panOnScrollSpeed:C,panOnScrollMode:M,zoomOnDoubleClick:_,panOnDrag:I,defaultViewport:O,translateExtent:F,minZoom:H,maxZoom:S,preventScrolling:A,onSelectionContextMenu:$,noWheelClassName:L,noPanClassName:P,disableKeyboardA11y:E})=>{const b=se(mN),R=si(d),j=si(p),V=j||I,U=j||T,Q=R||f&&V!==!0;return eN({deleteKeyCode:l,multiSelectionKeyCode:k}),D.createElement(oN,{onMove:a,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:i,elementsSelectable:y,zoomOnScroll:g,zoomOnPinch:N,panOnScroll:U,panOnScrollSpeed:C,panOnScrollMode:M,zoomOnDoubleClick:_,panOnDrag:!R&&V,defaultViewport:O,translateExtent:F,minZoom:H,maxZoom:S,zoomActivationKeyCode:h,preventScrolling:A,noWheelClassName:L,noPanClassName:P},D.createElement(Sg,{onSelectionStart:w,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:V,isSelecting:!!Q,selectionMode:m},e,b&&D.createElement(hN,{onSelectionContextMenu:$,noPanClassName:P,disableKeyboardA11y:E})))};Cg.displayName="FlowRenderer";var gN=z.memo(Cg);function yN(e){return se(z.useCallback(n=>e?tg(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function vN(e){const t={input:vo(e.input||cg),default:vo(e.default||hu),output:vo(e.output||fg),group:vo(e.group||Ic)},n={},r=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,i)=>(o[i]=vo(e[i]||hu),o),n);return{...t,...r}}const xN=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},wN=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Pg=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:i,onError:s}=se(wN,Pe),l=yN(e.onlyRenderVisibleElements),a=z.useRef(),u=z.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(d=>{const f=d.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));i(f)});return a.current=c,c},[]);return z.useEffect(()=>()=>{var c;(c=a==null?void 0:a.current)==null||c.disconnect()},[]),D.createElement("div",{className:"react-flow__nodes",style:bc},l.map(c=>{var N,T,C;let d=c.type||"default";e.nodeTypes[d]||(s==null||s("003",en.error003(d)),d="default");const f=e.nodeTypes[d]||e.nodeTypes.default,m=!!(c.draggable||t&&typeof c.draggable>"u"),w=!!(c.selectable||o&&typeof c.selectable>"u"),v=!!(c.connectable||n&&typeof c.connectable>"u"),k=!!(c.focusable||r&&typeof c.focusable>"u"),p=e.nodeExtent?kc(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,h=(p==null?void 0:p.x)??0,y=(p==null?void 0:p.y)??0,g=xN({x:h,y,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return D.createElement(f,{key:c.id,id:c.id,className:c.className,style:c.style,type:d,data:c.data,sourcePosition:c.sourcePosition||K.Bottom,targetPosition:c.targetPosition||K.Top,hidden:c.hidden,xPos:h,yPos:y,xPosOrigin:g.x,yPosOrigin:g.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:m,isSelectable:w,isConnectable:v,isFocusable:k,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((N=c[ye])==null?void 0:N.z)??0,isParent:!!((T=c[ye])!=null&&T.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((C=c[ye])!=null&&C.handleBounds)})}))};Pg.displayName="NodeRenderer";var SN=z.memo(Pg);const NN=(e,t,n)=>n===K.Left?e-t:n===K.Right?e+t:e,EN=(e,t,n)=>n===K.Top?e-t:n===K.Bottom?e+t:e,zf="react-flow__edgeupdater",Af=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:l})=>D.createElement("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:ze([zf,`${zf}-${l}`]),cx:NN(t,r,e),cy:EN(n,r,e),r,stroke:"transparent",fill:"transparent"}),_N=()=>!0;var mr=e=>{const t=({id:n,className:r,type:o,data:i,onClick:s,onEdgeDoubleClick:l,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:w,labelBgBorderRadius:v,style:k,source:p,target:h,sourceX:y,sourceY:g,targetX:N,targetY:T,sourcePosition:C,targetPosition:M,elementsSelectable:_,hidden:I,sourceHandleId:O,targetHandleId:F,onContextMenu:H,onMouseEnter:S,onMouseMove:A,onMouseLeave:$,reconnectRadius:L,onReconnect:P,onReconnectStart:E,onReconnectEnd:b,markerEnd:R,markerStart:j,rfId:V,ariaLabel:U,isFocusable:Q,isReconnectable:W,pathOptions:q,interactionWidth:G,disableKeyboardA11y:te})=>{const Z=z.useRef(null),[le,de]=z.useState(!1),[Te,Me]=z.useState(!1),fe=Ne(),Xe=z.useMemo(()=>`url('#${fu(j,V)}')`,[j,V]),oe=z.useMemo(()=>`url('#${fu(R,V)}')`,[R,V]);if(I)return null;const X=Ae=>{var Tt;const{edges:gt,addSelectedEdges:bn,unselectNodesAndEdges:zn,multiSelectionActive:An}=fe.getState(),Ot=gt.find(ro=>ro.id===n);Ot&&(_&&(fe.setState({nodesSelectionActive:!1}),Ot.selected&&An?(zn({nodes:[],edges:[Ot]}),(Tt=Z.current)==null||Tt.blur()):bn([n])),s&&s(Ae,Ot))},Oe=go(n,fe.getState,l),Dt=go(n,fe.getState,H),to=go(n,fe.getState,S),sr=go(n,fe.getState,A),lr=go(n,fe.getState,$),Lt=(Ae,gt)=>{if(Ae.button!==0)return;const{edges:bn,isValidConnection:zn}=fe.getState(),An=gt?h:p,Ot=(gt?F:O)||null,Tt=gt?"target":"source",ro=zn||_N,vl=gt,oo=bn.find(jn=>jn.id===n);Me(!0),E==null||E(Ae,oo,Tt);const xl=jn=>{Me(!1),b==null||b(jn,oo,Tt)};sg({event:Ae,handleId:Ot,nodeId:An,onConnect:jn=>P==null?void 0:P(oo,jn),isTarget:vl,getState:fe.getState,setState:fe.setState,isValidConnection:ro,edgeUpdaterType:Tt,onReconnectEnd:xl})},ar=Ae=>Lt(Ae,!0),$n=Ae=>Lt(Ae,!1),In=()=>de(!0),ur=()=>de(!1),cr=!_&&!s,no=Ae=>{var gt;if(!te&&Km.includes(Ae.key)&&_){const{unselectNodesAndEdges:bn,addSelectedEdges:zn,edges:An}=fe.getState();Ae.key==="Escape"?((gt=Z.current)==null||gt.blur(),bn({edges:[An.find(Tt=>Tt.id===n)]})):zn([n])}};return D.createElement("g",{className:ze(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:a,animated:u,inactive:cr,updating:le}]),onClick:X,onDoubleClick:Oe,onContextMenu:Dt,onMouseEnter:to,onMouseMove:sr,onMouseLeave:lr,onKeyDown:Q?no:void 0,tabIndex:Q?0:void 0,role:Q?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":U===null?void 0:U||`Edge from ${p} to ${h}`,"aria-describedby":Q?`${mg}-${V}`:void 0,ref:Z},!Te&&D.createElement(e,{id:n,source:p,target:h,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:w,labelBgBorderRadius:v,data:i,style:k,sourceX:y,sourceY:g,targetX:N,targetY:T,sourcePosition:C,targetPosition:M,sourceHandleId:O,targetHandleId:F,markerStart:Xe,markerEnd:oe,pathOptions:q,interactionWidth:G}),W&&D.createElement(D.Fragment,null,(W==="source"||W===!0)&&D.createElement(Af,{position:C,centerX:y,centerY:g,radius:L,onMouseDown:ar,onMouseEnter:In,onMouseOut:ur,type:"source"}),(W==="target"||W===!0)&&D.createElement(Af,{position:M,centerX:N,centerY:T,radius:L,onMouseDown:$n,onMouseEnter:In,onMouseOut:ur,type:"target"})))};return t.displayName="EdgeWrapper",z.memo(t)};function kN(e){const t={default:mr(e.default||Ls),straight:mr(e.bezier||Tc),step:mr(e.step||Pc),smoothstep:mr(e.step||dl),simplebezier:mr(e.simplebezier||Cc)},n={},r=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,i)=>(o[i]=mr(e[i]||Ls),o),n);return{...t,...r}}function jf(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case K.Top:return{x:r+i/2,y:o};case K.Right:return{x:r+i,y:o+s/2};case K.Bottom:return{x:r+i/2,y:o+s};case K.Left:return{x:r,y:o+s/2}}}function Rf(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const CN=(e,t,n,r,o,i)=>{const s=jf(n,e,t),l=jf(i,r,o);return{sourceX:s.x,sourceY:s.y,targetX:l.x,targetY:l.y}};function PN({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:i,width:s,height:l,transform:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=oi({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:s/a[2],height:l/a[2]}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),f=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*f)>0}function Df(e){var r,o,i,s,l;const t=((r=e==null?void 0:e[ye])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const TN=[{level:0,isMaxLevel:!0,edges:[]}];function MN(e,t,n=!1){let r=-1;const o=e.reduce((s,l)=>{var c,d;const a=dt(l.zIndex);let u=a?l.zIndex:0;if(n){const f=t.get(l.target),m=t.get(l.source),w=l.selected||(f==null?void 0:f.selected)||(m==null?void 0:m.selected),v=Math.max(((c=m==null?void 0:m[ye])==null?void 0:c.z)||0,((d=f==null?void 0:f[ye])==null?void 0:d.z)||0,1e3);u=(a?l.zIndex:0)+(w?v:0)}return s[u]?s[u].push(l):s[u]=[l],r=u>r?u:r,s},{}),i=Object.entries(o).map(([s,l])=>{const a=+s;return{edges:l,level:a,isMaxLevel:a===r}});return i.length===0?TN:i}function $N(e,t,n){const r=se(z.useCallback(o=>e?o.edges.filter(i=>{const s=t.get(i.source),l=t.get(i.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&PN({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:l.width,targetHeight:l.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return MN(r,t,n)}const IN=({color:e="none",strokeWidth:t=1})=>D.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),bN=({color:e="none",strokeWidth:t=1})=>D.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Lf={[Ds.Arrow]:IN,[Ds.ArrowClosed]:bN};function zN(e){const t=Ne();return z.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(Lf,e)?Lf[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",en.error009(e)),null)},[e])}const AN=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=zN(t);return a?D.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0"},D.createElement(a,{color:n,strokeWidth:s})):null},jN=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((o,i)=>([i.markerStart,i.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const l=fu(s,t);r.includes(l)||(o.push({id:l,color:s.color||e,...s}),r.push(l))}}),o),[]).sort((o,i)=>o.id.localeCompare(i.id))},Tg=({defaultColor:e,rfId:t})=>{const n=se(z.useCallback(jN({defaultColor:e,rfId:t}),[e,t]),(r,o)=>!(r.length!==o.length||r.some((i,s)=>i.id!==o[s].id)));return D.createElement("defs",null,n.map(r=>D.createElement(AN,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Tg.displayName="MarkerDefinitions";var RN=z.memo(Tg);const DN=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Mg=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:o,noPanClassName:i,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:w,reconnectRadius:v,children:k,disableKeyboardA11y:p})=>{const{edgesFocusable:h,edgesUpdatable:y,elementsSelectable:g,width:N,height:T,connectionMode:C,nodeInternals:M,onError:_}=se(DN,Pe),I=$N(t,M,n);return N?D.createElement(D.Fragment,null,I.map(({level:O,edges:F,isMaxLevel:H})=>D.createElement("svg",{key:O,style:{zIndex:O},width:N,height:T,className:"react-flow__edges react-flow__container"},H&&D.createElement(RN,{defaultColor:e,rfId:r}),D.createElement("g",null,F.map(S=>{const[A,$,L]=Df(M.get(S.source)),[P,E,b]=Df(M.get(S.target));if(!L||!b)return null;let R=S.type||"default";o[R]||(_==null||_("011",en.error011(R)),R="default");const j=o[R]||o.default,V=C===Cn.Strict?E.target:(E.target??[]).concat(E.source??[]),U=Rf($.source,S.sourceHandle),Q=Rf(V,S.targetHandle),W=(U==null?void 0:U.position)||K.Bottom,q=(Q==null?void 0:Q.position)||K.Top,G=!!(S.focusable||h&&typeof S.focusable>"u"),te=S.reconnectable||S.updatable,Z=typeof f<"u"&&(te||y&&typeof te>"u");if(!U||!Q)return _==null||_("008",en.error008(U,S)),null;const{sourceX:le,sourceY:de,targetX:Te,targetY:Me}=CN(A,U,W,P,Q,q);return D.createElement(j,{key:S.id,id:S.id,className:ze([S.className,i]),type:R,data:S.data,selected:!!S.selected,animated:!!S.animated,hidden:!!S.hidden,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,style:S.style,source:S.source,target:S.target,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerEnd:S.markerEnd,markerStart:S.markerStart,sourceX:le,sourceY:de,targetX:Te,targetY:Me,sourcePosition:W,targetPosition:q,elementsSelectable:g,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:w,reconnectRadius:v,rfId:r,ariaLabel:S.ariaLabel,isFocusable:G,isReconnectable:Z,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth,disableKeyboardA11y:p})})))),k):null};Mg.displayName="EdgeRenderer";var LN=z.memo(Mg);const ON=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function FN({children:e}){const t=se(ON);return D.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function HN(e){const t=pl(),n=z.useRef(!1);z.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const VN={[K.Left]:K.Right,[K.Right]:K.Left,[K.Top]:K.Bottom,[K.Bottom]:K.Top},$g=({nodeId:e,handleType:t,style:n,type:r=dn.Bezier,CustomComponent:o,connectionStatus:i})=>{var T,C,M;const{fromNode:s,handleId:l,toX:a,toY:u,connectionMode:c}=se(z.useCallback(_=>({fromNode:_.nodeInternals.get(e),handleId:_.connectionHandleId,toX:(_.connectionPosition.x-_.transform[0])/_.transform[2],toY:(_.connectionPosition.y-_.transform[1])/_.transform[2],connectionMode:_.connectionMode}),[e]),Pe),d=(T=s==null?void 0:s[ye])==null?void 0:T.handleBounds;let f=d==null?void 0:d[t];if(c===Cn.Loose&&(f=f||(d==null?void 0:d[t==="source"?"target":"source"])),!s||!f)return null;const m=l?f.find(_=>_.id===l):f[0],w=m?m.x+m.width/2:(s.width??0)/2,v=m?m.y+m.height/2:s.height??0,k=(((C=s.positionAbsolute)==null?void 0:C.x)??0)+w,p=(((M=s.positionAbsolute)==null?void 0:M.y)??0)+v,h=m==null?void 0:m.position,y=h?VN[h]:null;if(!h||!y)return null;if(o)return D.createElement(o,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:m,fromX:k,fromY:p,toX:a,toY:u,fromPosition:h,toPosition:y,connectionStatus:i});let g="";const N={sourceX:k,sourceY:p,sourcePosition:h,targetX:a,targetY:u,targetPosition:y};return r===dn.Bezier?[g]=Jm(N):r===dn.Step?[g]=du({...N,borderRadius:0}):r===dn.SmoothStep?[g]=du(N):r===dn.SimpleBezier?[g]=Zm(N):g=`M${k},${p} ${a},${u}`,D.createElement("path",{d:g,fill:"none",className:"react-flow__connection-path",style:n})};$g.displayName="ConnectionLine";const BN=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function UN({containerStyle:e,style:t,type:n,component:r}){const{nodeId:o,handleType:i,nodesConnectable:s,width:l,height:a,connectionStatus:u}=se(BN,Pe);return!(o&&i&&l&&s)?null:D.createElement("svg",{style:e,width:l,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},D.createElement("g",{className:ze(["react-flow__connection",u])},D.createElement($g,{nodeId:o,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Of(e,t){return z.useRef(null),Ne(),z.useMemo(()=>t(e),[e])}const Ig=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:i,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:w,onSelectionStart:v,onSelectionEnd:k,connectionLineType:p,connectionLineStyle:h,connectionLineComponent:y,connectionLineContainerStyle:g,selectionKeyCode:N,selectionOnDrag:T,selectionMode:C,multiSelectionKeyCode:M,panActivationKeyCode:_,zoomActivationKeyCode:I,deleteKeyCode:O,onlyRenderVisibleElements:F,elementsSelectable:H,selectNodesOnDrag:S,defaultViewport:A,translateExtent:$,minZoom:L,maxZoom:P,preventScrolling:E,defaultMarkerColor:b,zoomOnScroll:R,zoomOnPinch:j,panOnScroll:V,panOnScrollSpeed:U,panOnScrollMode:Q,zoomOnDoubleClick:W,panOnDrag:q,onPaneClick:G,onPaneMouseEnter:te,onPaneMouseMove:Z,onPaneMouseLeave:le,onPaneScroll:de,onPaneContextMenu:Te,onEdgeContextMenu:Me,onEdgeMouseEnter:fe,onEdgeMouseMove:Xe,onEdgeMouseLeave:oe,onReconnect:X,onReconnectStart:Oe,onReconnectEnd:Dt,reconnectRadius:to,noDragClassName:sr,noWheelClassName:lr,noPanClassName:Lt,elevateEdgesOnSelect:ar,disableKeyboardA11y:$n,nodeOrigin:In,nodeExtent:ur,rfId:cr})=>{const no=Of(e,vN),Ae=Of(t,kN);return HN(i),D.createElement(gN,{onPaneClick:G,onPaneMouseEnter:te,onPaneMouseMove:Z,onPaneMouseLeave:le,onPaneContextMenu:Te,onPaneScroll:de,deleteKeyCode:O,selectionKeyCode:N,selectionOnDrag:T,selectionMode:C,onSelectionStart:v,onSelectionEnd:k,multiSelectionKeyCode:M,panActivationKeyCode:_,zoomActivationKeyCode:I,elementsSelectable:H,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:R,zoomOnPinch:j,zoomOnDoubleClick:W,panOnScroll:V,panOnScrollSpeed:U,panOnScrollMode:Q,panOnDrag:q,defaultViewport:A,translateExtent:$,minZoom:L,maxZoom:P,onSelectionContextMenu:w,preventScrolling:E,noDragClassName:sr,noWheelClassName:lr,noPanClassName:Lt,disableKeyboardA11y:$n},D.createElement(FN,null,D.createElement(LN,{edgeTypes:Ae,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:F,onEdgeContextMenu:Me,onEdgeMouseEnter:fe,onEdgeMouseMove:Xe,onEdgeMouseLeave:oe,onReconnect:X,onReconnectStart:Oe,onReconnectEnd:Dt,reconnectRadius:to,defaultMarkerColor:b,noPanClassName:Lt,elevateEdgesOnSelect:!!ar,disableKeyboardA11y:$n,rfId:cr},D.createElement(UN,{style:h,type:p,component:y,containerStyle:g})),D.createElement("div",{className:"react-flow__edgelabel-renderer"}),D.createElement(SN,{nodeTypes:no,onNodeClick:s,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,selectNodesOnDrag:S,onlyRenderVisibleElements:F,noPanClassName:Lt,noDragClassName:sr,disableKeyboardA11y:$n,nodeOrigin:In,nodeExtent:ur,rfId:cr})))};Ig.displayName="GraphView";var WN=z.memo(Ig);const gu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],rn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:gu,nodeExtent:gu,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Cn.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:xS,isValidConnection:void 0},QN=()=>Ax((e,t)=>({...rn,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:i}=t();e({nodeInternals:Jl(n,r,o,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(o=>({...r,...o}))})},setDefaultNodesAndEdges:(n,r)=>{const o=typeof n<"u",i=typeof r<"u",s=o?Jl(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:i?r:[],hasDefaultNodes:o,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:i,fitViewOnInitDone:s,fitViewOnInitOptions:l,domNode:a,nodeOrigin:u}=t(),c=a==null?void 0:a.querySelector(".react-flow__viewport");if(!c)return;const d=window.getComputedStyle(c),{m22:f}=new window.DOMMatrixReadOnly(d.transform),m=n.reduce((v,k)=>{const p=o.get(k.id);if(p!=null&&p.hidden)o.set(p.id,{...p,[ye]:{...p[ye],handleBounds:void 0}});else if(p){const h=_c(k.nodeElement);!!(h.width&&h.height&&(p.width!==h.width||p.height!==h.height||k.forceUpdate))&&(o.set(p.id,{...p,[ye]:{...p[ye],handleBounds:{source:bf(".source",k.nodeElement,f,u),target:bf(".target",k.nodeElement,f,u)}},...h}),v.push({id:p.id,type:"dimensions",dimensions:h}))}return v},[]);yg(o,u);const w=s||i&&!s&&vg(t,{initial:!0,...l});e({nodeInternals:new Map(o),fitViewOnInitDone:w}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,o=!1)=>{const{triggerNodeChanges:i}=t(),s=n.map(l=>{const a={id:l.id,type:"position",dragging:o};return r&&(a.positionAbsolute=l.positionAbsolute,a.position=l.position),a});i(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:i,nodeOrigin:s,getNodes:l,elevateNodesOnSelect:a}=t();if(n!=null&&n.length){if(i){const u=wg(n,l()),c=Jl(u,o,s,a);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,l=null;r?s=n.map(a=>an(a,!0)):(s=Mr(i(),n),l=Mr(o,[])),Vi({changedNodes:s,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,l=null;r?s=n.map(a=>an(a,!0)):(s=Mr(o,n),l=Mr(i(),[])),Vi({changedNodes:l,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:o,getNodes:i}=t(),s=n||i(),l=r||o,a=s.map(c=>(c.selected=!1,an(c.id,!1))),u=l.map(c=>an(c.id,!1));Vi({changedNodes:a,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r==null||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r==null||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(l=>l.selected).map(l=>an(l.id,!1)),s=n.filter(l=>l.selected).map(l=>an(l.id,!1));Vi({changedNodes:i,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(o=>{o.positionAbsolute=kc(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:o,height:i,d3Zoom:s,d3Selection:l,translateExtent:a}=t();if(!s||!l||!n.x&&!n.y)return!1;const u=Kt.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[o,i]],d=s==null?void 0:s.constrain()(u,c,a);return s.transform(l,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:rn.connectionNodeId,connectionHandleId:rn.connectionHandleId,connectionHandleType:rn.connectionHandleType,connectionStatus:rn.connectionStatus,connectionStartHandle:rn.connectionStartHandle,connectionEndHandle:rn.connectionEndHandle}),reset:()=>e({...rn})}),Object.is),zc=({children:e})=>{const t=z.useRef(null);return t.current||(t.current=QN()),D.createElement(fS,{value:t.current},e)};zc.displayName="ReactFlowProvider";const bg=({children:e})=>z.useContext(ul)?D.createElement(D.Fragment,null,e):D.createElement(zc,null,e);bg.displayName="ReactFlowWrapper";const YN={input:cg,default:hu,output:fg,group:Ic},KN={default:Ls,straight:Tc,step:Pc,smoothstep:dl,simplebezier:Cc},qN=[0,0],XN=[15,15],GN={x:0,y:0,zoom:1},ZN={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},zg=z.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i=YN,edgeTypes:s=KN,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onConnect:m,onConnectStart:w,onConnectEnd:v,onClickConnectStart:k,onClickConnectEnd:p,onNodeMouseEnter:h,onNodeMouseMove:y,onNodeMouseLeave:g,onNodeContextMenu:N,onNodeDoubleClick:T,onNodeDragStart:C,onNodeDrag:M,onNodeDragStop:_,onNodesDelete:I,onEdgesDelete:O,onSelectionChange:F,onSelectionDragStart:H,onSelectionDrag:S,onSelectionDragStop:A,onSelectionContextMenu:$,onSelectionStart:L,onSelectionEnd:P,connectionMode:E=Cn.Strict,connectionLineType:b=dn.Bezier,connectionLineStyle:R,connectionLineComponent:j,connectionLineContainerStyle:V,deleteKeyCode:U="Backspace",selectionKeyCode:Q="Shift",selectionOnDrag:W=!1,selectionMode:q=ii.Full,panActivationKeyCode:G="Space",multiSelectionKeyCode:te=Rs()?"Meta":"Control",zoomActivationKeyCode:Z=Rs()?"Meta":"Control",snapToGrid:le=!1,snapGrid:de=XN,onlyRenderVisibleElements:Te=!1,selectNodesOnDrag:Me=!0,nodesDraggable:fe,nodesConnectable:Xe,nodesFocusable:oe,nodeOrigin:X=qN,edgesFocusable:Oe,edgesUpdatable:Dt,elementsSelectable:to,defaultViewport:sr=GN,minZoom:lr=.5,maxZoom:Lt=2,translateExtent:ar=gu,preventScrolling:$n=!0,nodeExtent:In,defaultMarkerColor:ur="#b1b1b7",zoomOnScroll:cr=!0,zoomOnPinch:no=!0,panOnScroll:Ae=!1,panOnScrollSpeed:gt=.5,panOnScrollMode:bn=Wn.Free,zoomOnDoubleClick:zn=!0,panOnDrag:An=!0,onPaneClick:Ot,onPaneMouseEnter:Tt,onPaneMouseMove:ro,onPaneMouseLeave:vl,onPaneScroll:oo,onPaneContextMenu:xl,children:Dc,onEdgeContextMenu:jn,onEdgeDoubleClick:o0,onEdgeMouseEnter:i0,onEdgeMouseMove:s0,onEdgeMouseLeave:l0,onEdgeUpdate:a0,onEdgeUpdateStart:u0,onEdgeUpdateEnd:c0,onReconnect:d0,onReconnectStart:f0,onReconnectEnd:p0,reconnectRadius:h0=10,edgeUpdaterRadius:m0=10,onNodesChange:g0,onEdgesChange:y0,noDragClassName:v0="nodrag",noWheelClassName:x0="nowheel",noPanClassName:Lc="nopan",fitView:w0=!1,fitViewOptions:S0,connectOnClick:N0=!0,attributionPosition:E0,proOptions:_0,defaultEdgeOptions:k0,elevateNodesOnSelect:C0=!0,elevateEdgesOnSelect:P0=!1,disableKeyboardA11y:Oc=!1,autoPanOnConnect:T0=!0,autoPanOnNodeDrag:M0=!0,connectionRadius:$0=20,isValidConnection:I0,onError:b0,style:z0,id:Fc,nodeDragThreshold:A0,...j0},R0)=>{const wl=Fc||"1";return D.createElement("div",{...j0,style:{...z0,...ZN},ref:R0,className:ze(["react-flow",o]),"data-testid":"rf__wrapper",id:Fc},D.createElement(bg,null,D.createElement(WN,{onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:h,onNodeMouseMove:y,onNodeMouseLeave:g,onNodeContextMenu:N,onNodeDoubleClick:T,nodeTypes:i,edgeTypes:s,connectionLineType:b,connectionLineStyle:R,connectionLineComponent:j,connectionLineContainerStyle:V,selectionKeyCode:Q,selectionOnDrag:W,selectionMode:q,deleteKeyCode:U,multiSelectionKeyCode:te,panActivationKeyCode:G,zoomActivationKeyCode:Z,onlyRenderVisibleElements:Te,selectNodesOnDrag:Me,defaultViewport:sr,translateExtent:ar,minZoom:lr,maxZoom:Lt,preventScrolling:$n,zoomOnScroll:cr,zoomOnPinch:no,zoomOnDoubleClick:zn,panOnScroll:Ae,panOnScrollSpeed:gt,panOnScrollMode:bn,panOnDrag:An,onPaneClick:Ot,onPaneMouseEnter:Tt,onPaneMouseMove:ro,onPaneMouseLeave:vl,onPaneScroll:oo,onPaneContextMenu:xl,onSelectionContextMenu:$,onSelectionStart:L,onSelectionEnd:P,onEdgeContextMenu:jn,onEdgeDoubleClick:o0,onEdgeMouseEnter:i0,onEdgeMouseMove:s0,onEdgeMouseLeave:l0,onReconnect:d0??a0,onReconnectStart:f0??u0,onReconnectEnd:p0??c0,reconnectRadius:h0??m0,defaultMarkerColor:ur,noDragClassName:v0,noWheelClassName:x0,noPanClassName:Lc,elevateEdgesOnSelect:P0,rfId:wl,disableKeyboardA11y:Oc,nodeOrigin:X,nodeExtent:In}),D.createElement(VS,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:w,onConnectEnd:v,onClickConnectStart:k,onClickConnectEnd:p,nodesDraggable:fe,nodesConnectable:Xe,nodesFocusable:oe,edgesFocusable:Oe,edgesUpdatable:Dt,elementsSelectable:to,elevateNodesOnSelect:C0,minZoom:lr,maxZoom:Lt,nodeExtent:In,onNodesChange:g0,onEdgesChange:y0,snapToGrid:le,snapGrid:de,connectionMode:E,translateExtent:ar,connectOnClick:N0,defaultEdgeOptions:k0,fitView:w0,fitViewOptions:S0,onNodesDelete:I,onEdgesDelete:O,onNodeDragStart:C,onNodeDrag:M,onNodeDragStop:_,onSelectionDrag:S,onSelectionDragStart:H,onSelectionDragStop:A,noPanClassName:Lc,nodeOrigin:X,rfId:wl,autoPanOnConnect:T0,autoPanOnNodeDrag:M0,onError:b0,connectionRadius:$0,isValidConnection:I0,nodeDragThreshold:A0}),D.createElement(FS,{onSelectionChange:F}),Dc,D.createElement(hS,{proOptions:_0,position:E0}),D.createElement(YS,{rfId:wl,disableKeyboardA11y:Oc})))});zg.displayName="ReactFlow";function Ag(e){return t=>{const[n,r]=z.useState(t),o=z.useCallback(i=>r(s=>e(i,s)),[]);return[n,r,o]}}const JN=Ag(wg),eE=Ag(lN),jg=({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:l,strokeWidth:a,className:u,borderRadius:c,shapeRendering:d,onClick:f,selected:m})=>{const{background:w,backgroundColor:v}=i||{},k=s||w||v;return D.createElement("rect",{className:ze(["react-flow__minimap-node",{selected:m},u]),x:t,y:n,rx:c,ry:c,width:r,height:o,fill:k,stroke:l,strokeWidth:a,shapeRendering:d,onClick:f?p=>f(p,e):void 0})};jg.displayName="MiniMapNode";var tE=z.memo(jg);const nE=e=>e.nodeOrigin,rE=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),ra=e=>e instanceof Function?e:()=>e;function oE({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:i=tE,onClick:s}){const l=se(rE,Pe),a=se(nE),u=ra(t),c=ra(e),d=ra(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return D.createElement(D.Fragment,null,l.map(m=>{const{x:w,y:v}=qn(m,a).positionAbsolute;return D.createElement(i,{key:m.id,x:w,y:v,width:m.width,height:m.height,style:m.style,selected:m.selected,className:d(m),color:u(m),borderRadius:r,strokeColor:c(m),strokeWidth:o,shapeRendering:f,onClick:s,id:m.id})}))}var iE=z.memo(oE);const sE=200,lE=150,aE=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?yS(fl(t,e.nodeOrigin),n):n,rfId:e.rfId}},uE="react-flow__minimap-desc";function Rg({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s=2,nodeComponent:l,maskColor:a="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:d="bottom-right",onClick:f,onNodeClick:m,pannable:w=!1,zoomable:v=!1,ariaLabel:k="React Flow mini map",inversePan:p=!1,zoomStep:h=10,offsetScale:y=5}){const g=Ne(),N=z.useRef(null),{boundingRect:T,viewBB:C,rfId:M}=se(aE,Pe),_=(e==null?void 0:e.width)??sE,I=(e==null?void 0:e.height)??lE,O=T.width/_,F=T.height/I,H=Math.max(O,F),S=H*_,A=H*I,$=y*H,L=T.x-(S-T.width)/2-$,P=T.y-(A-T.height)/2-$,E=S+$*2,b=A+$*2,R=`${uE}-${M}`,j=z.useRef(0);j.current=H,z.useEffect(()=>{if(N.current){const Q=at(N.current),W=te=>{const{transform:Z,d3Selection:le,d3Zoom:de}=g.getState();if(te.sourceEvent.type!=="wheel"||!le||!de)return;const Te=-te.sourceEvent.deltaY*(te.sourceEvent.deltaMode===1?.05:te.sourceEvent.deltaMode?1:.002)*h,Me=Z[2]*Math.pow(2,Te);de.scaleTo(le,Me)},q=te=>{const{transform:Z,d3Selection:le,d3Zoom:de,translateExtent:Te,width:Me,height:fe}=g.getState();if(te.sourceEvent.type!=="mousemove"||!le||!de)return;const Xe=j.current*Math.max(1,Z[2])*(p?-1:1),oe={x:Z[0]-te.sourceEvent.movementX*Xe,y:Z[1]-te.sourceEvent.movementY*Xe},X=[[0,0],[Me,fe]],Oe=Kt.translate(oe.x,oe.y).scale(Z[2]),Dt=de.constrain()(Oe,X,Te);de.transform(le,Dt)},G=Vm().on("zoom",w?q:null).on("zoom.wheel",v?W:null);return Q.call(G),()=>{Q.on("zoom",null)}}},[w,v,p,h]);const V=f?Q=>{const W=wt(Q);f(Q,{x:W[0],y:W[1]})}:void 0,U=m?(Q,W)=>{const q=g.getState().nodeInternals.get(W);m(Q,q)}:void 0;return D.createElement(cl,{position:d,style:e,className:ze(["react-flow__minimap",t]),"data-testid":"rf__minimap"},D.createElement("svg",{width:_,height:I,viewBox:`${L} ${P} ${E} ${b}`,role:"img","aria-labelledby":R,ref:N,onClick:V},k&&D.createElement("title",{id:R},k),D.createElement(iE,{onClick:U,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:l}),D.createElement("path",{className:"react-flow__minimap-mask",d:`M${L-$},${P-$}h${E+$*2}v${b+$*2}h${-E-$*2}z
        M${C.x},${C.y}h${C.width}v${C.height}h${-C.width}z`,fill:a,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}Rg.displayName="MiniMap";var cE=z.memo(Rg);function dE(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},D.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function fE(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},D.createElement("path",{d:"M0 0h32v4.2H0z"}))}function pE(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},D.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function hE(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},D.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function mE(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},D.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Co=({children:e,className:t,...n})=>D.createElement("button",{type:"button",className:ze(["react-flow__controls-button",t]),...n},e);Co.displayName="ControlButton";const gE=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Dg=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:l,onInteractiveChange:a,className:u,children:c,position:d="bottom-left"})=>{const f=Ne(),[m,w]=z.useState(!1),{isInteractive:v,minZoomReached:k,maxZoomReached:p}=se(gE,Pe),{zoomIn:h,zoomOut:y,fitView:g}=pl();if(z.useEffect(()=>{w(!0)},[]),!m)return null;const N=()=>{h(),i==null||i()},T=()=>{y(),s==null||s()},C=()=>{g(o),l==null||l()},M=()=>{f.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),a==null||a(!v)};return D.createElement(cl,{className:ze(["react-flow__controls",u]),position:d,style:e,"data-testid":"rf__controls"},t&&D.createElement(D.Fragment,null,D.createElement(Co,{onClick:N,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:p},D.createElement(dE,null)),D.createElement(Co,{onClick:T,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:k},D.createElement(fE,null))),n&&D.createElement(Co,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view"},D.createElement(pE,null)),r&&D.createElement(Co,{className:"react-flow__controls-interactive",onClick:M,title:"toggle interactivity","aria-label":"toggle interactivity"},v?D.createElement(mE,null):D.createElement(hE,null)),c)};Dg.displayName="Controls";var yE=z.memo(Dg),pt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(pt||(pt={}));function vE({color:e,dimensions:t,lineWidth:n}){return D.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function xE({color:e,radius:t}){return D.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const wE={[pt.Dots]:"#91919a",[pt.Lines]:"#eee",[pt.Cross]:"#e2e2e2"},SE={[pt.Dots]:1,[pt.Lines]:1,[pt.Cross]:6},NE=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Lg({id:e,variant:t=pt.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=2,color:s,style:l,className:a}){const u=z.useRef(null),{transform:c,patternId:d}=se(NE,Pe),f=s||wE[t],m=r||SE[t],w=t===pt.Dots,v=t===pt.Cross,k=Array.isArray(n)?n:[n,n],p=[k[0]*c[2]||1,k[1]*c[2]||1],h=m*c[2],y=v?[h,h]:p,g=w?[h/i,h/i]:[y[0]/i,y[1]/i];return D.createElement("svg",{className:ze(["react-flow__background",a]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},D.createElement("pattern",{id:d+e,x:c[0]%p[0],y:c[1]%p[1],width:p[0],height:p[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${g[0]},-${g[1]})`},w?D.createElement(xE,{color:f,radius:h/i}):D.createElement(vE,{dimensions:y,color:f,lineWidth:o})),D.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}Lg.displayName="Background";var EE=z.memo(Lg);const Og={},{useDebugValue:_E}=D,{useSyncExternalStoreWithSelector:kE}=fm;let Ff=!1;const CE=e=>e;function PE(e,t=CE,n){(Og?"production":void 0)!=="production"&&n&&!Ff&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ff=!0);const r=kE(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return _E(r),r}const TE=e=>{(Og?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?pm(e):e,n=(r,o)=>PE(t,r,o);return Object.assign(n,t),n},ME=e=>TE;var Fg=Symbol.for("immer-nothing"),Hf=Symbol.for("immer-draftable"),nt=Symbol.for("immer-state");function Et(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Xr=Object.getPrototypeOf;function Gr(e){return!!e&&!!e[nt]}function nr(e){var t;return e?Hg(e)||Array.isArray(e)||!!e[Hf]||!!((t=e.constructor)!=null&&t[Hf])||ml(e)||gl(e):!1}var $E=Object.prototype.constructor.toString();function Hg(e){if(!e||typeof e!="object")return!1;const t=Xr(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===$E}function Os(e,t){hl(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function hl(e){const t=e[nt];return t?t.type_:Array.isArray(e)?1:ml(e)?2:gl(e)?3:0}function yu(e,t){return hl(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Vg(e,t,n){const r=hl(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function IE(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ml(e){return e instanceof Map}function gl(e){return e instanceof Set}function On(e){return e.copy_||e.base_}function vu(e,t){if(ml(e))return new Map(e);if(gl(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Hg(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[nt];let o=Reflect.ownKeys(r);for(let i=0;i<o.length;i++){const s=o[i],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(Xr(e),r)}else{const r=Xr(e);if(r!==null&&n)return{...e};const o=Object.create(r);return Object.assign(o,e)}}function Ac(e,t=!1){return yl(e)||Gr(e)||!nr(e)||(hl(e)>1&&(e.set=e.add=e.clear=e.delete=bE),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Ac(r,!0))),e}function bE(){Et(2)}function yl(e){return Object.isFrozen(e)}var zE={};function rr(e){const t=zE[e];return t||Et(0,e),t}var li;function Bg(){return li}function AE(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Vf(e,t){t&&(rr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xu(e){wu(e),e.drafts_.forEach(jE),e.drafts_=null}function wu(e){e===li&&(li=e.parent_)}function Bf(e){return li=AE(li,e)}function jE(e){const t=e[nt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Uf(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[nt].modified_&&(xu(t),Et(4)),nr(e)&&(e=Fs(t,e),t.parent_||Hs(t,e)),t.patches_&&rr("Patches").generateReplacementPatches_(n[nt].base_,e,t.patches_,t.inversePatches_)):e=Fs(t,n,[]),xu(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Fg?e:void 0}function Fs(e,t,n){if(yl(t))return t;const r=t[nt];if(!r)return Os(t,(o,i)=>Wf(e,r,t,o,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Hs(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let i=o,s=!1;r.type_===3&&(i=new Set(o),o.clear(),s=!0),Os(i,(l,a)=>Wf(e,r,o,l,a,n,s)),Hs(e,o,!1),n&&e.patches_&&rr("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Wf(e,t,n,r,o,i,s){if(Gr(o)){const l=i&&t&&t.type_!==3&&!yu(t.assigned_,r)?i.concat(r):void 0,a=Fs(e,o,l);if(Vg(n,r,a),Gr(a))e.canAutoFreeze_=!1;else return}else s&&n.add(o);if(nr(o)&&!yl(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Fs(e,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Hs(e,o)}}function Hs(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ac(t,n)}function RE(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Bg(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=jc;n&&(o=[r],i=ai);const{revoke:s,proxy:l}=Proxy.revocable(o,i);return r.draft_=l,r.revoke_=s,l}var jc={get(e,t){if(t===nt)return e;const n=On(e);if(!yu(n,t))return DE(e,n,t);const r=n[t];return e.finalized_||!nr(r)?r:r===oa(e.base_,t)?(ia(e),e.copy_[t]=Nu(r,e)):r},has(e,t){return t in On(e)},ownKeys(e){return Reflect.ownKeys(On(e))},set(e,t,n){const r=Ug(On(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=oa(On(e),t),i=o==null?void 0:o[nt];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(IE(n,o)&&(n!==void 0||yu(e.base_,t)))return!0;ia(e),Su(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return oa(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ia(e),Su(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=On(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Et(11)},getPrototypeOf(e){return Xr(e.base_)},setPrototypeOf(){Et(12)}},ai={};Os(jc,(e,t)=>{ai[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ai.deleteProperty=function(e,t){return ai.set.call(this,e,t,void 0)};ai.set=function(e,t,n){return jc.set.call(this,e[0],t,n,e[0])};function oa(e,t){const n=e[nt];return(n?On(n):e)[t]}function DE(e,t,n){var o;const r=Ug(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function Ug(e,t){if(!(t in e))return;let n=Xr(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Xr(n)}}function Su(e){e.modified_||(e.modified_=!0,e.parent_&&Su(e.parent_))}function ia(e){e.copy_||(e.copy_=vu(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var LE=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const s=this;return function(a=i,...u){return s.produce(a,c=>n.call(this,c,...u))}}typeof n!="function"&&Et(6),r!==void 0&&typeof r!="function"&&Et(7);let o;if(nr(t)){const i=Bf(this),s=Nu(t,void 0);let l=!0;try{o=n(s),l=!1}finally{l?xu(i):wu(i)}return Vf(i,r),Uf(o,i)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===Fg&&(o=void 0),this.autoFreeze_&&Ac(o,!0),r){const i=[],s=[];rr("Patches").generateReplacementPatches_(t,o,i,s),r(i,s)}return o}else Et(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,a=>t(a,...l));let r,o;return[this.produce(t,n,(s,l)=>{r=s,o=l}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){nr(e)||Et(8),Gr(e)&&(e=OE(e));const t=Bf(this),n=Nu(e,void 0);return n[nt].isManual_=!0,wu(t),n}finishDraft(e,t){const n=e&&e[nt];(!n||!n.isManual_)&&Et(9);const{scope_:r}=n;return Vf(r,t),Uf(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=rr("Patches").applyPatches_;return Gr(e)?r(e,t):this.produce(e,o=>r(o,t))}};function Nu(e,t){const n=ml(e)?rr("MapSet").proxyMap_(e,t):gl(e)?rr("MapSet").proxySet_(e,t):RE(e,t);return(t?t.scope_:Bg()).drafts_.push(n),n}function OE(e){return Gr(e)||Et(10,e),Wg(e)}function Wg(e){if(!nr(e)||yl(e))return e;const t=e[nt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=vu(e,t.scope_.immer_.useStrictShallowCopy_)}else n=vu(e,!0);return Os(n,(r,o)=>{Vg(n,r,Wg(o))}),t&&(t.finalized_=!1),n}var rt=new LE,FE=rt.produce;rt.produceWithPatches.bind(rt);rt.setAutoFreeze.bind(rt);rt.setUseStrictShallowCopy.bind(rt);rt.applyPatches.bind(rt);rt.createDraft.bind(rt);rt.finishDraft.bind(rt);const HE=e=>(t,n,r)=>(r.setState=(o,i,...s)=>{const l=typeof o=="function"?FE(o):o;return t(l,i,...s)},e(r.setState,n,r)),VE=HE,Fn=class Fn{constructor(){yi(this,"counters",new Map);yi(this,"pathRegistry",{nodeToPathsMap:new Map,pathToNodeMap:new Map})}static getInstance(){return Fn.instance||(Fn.instance=new Fn),Fn.instance}generateQuestionPathId(t,n,r){return t?`${t.pathId}-Q${n}`:`${r}-Q${n}`}generateAnswerPathId(t,n){return`${t.pathId}-A${n}`}generateOutcomePathId(t,n){return`${t.pathId}-E${n}`}generateVariantPathId(t,n){return`${t}-V${n+1}`}parseVariantFromPath(t){const n=t.match(/(.*-A\d+)-V(\d+)/);return n?{answerPath:n[1],variantNumber:parseInt(n[2])}:null}parsePathId(t){const n=t.split("-"),r=n[0],o=[];for(let i=1;i<n.length;i++){const s=n[i];s.startsWith("Q")?o.push({type:"Q",number:parseInt(s.substring(1))}):s.startsWith("A")&&o.push({type:"A",number:parseInt(s.substring(1))})}return{topic:r,segments:o}}parsePathIdWithVariants(t){const n=t.split("-"),r=n[0],o=[];for(let i=1;i<n.length;i++){const s=n[i];s.startsWith("Q")?o.push({type:"Q",number:parseInt(s.substring(1))}):s.startsWith("A")?o.push({type:"A",number:parseInt(s.substring(1))}):s.startsWith("V")?o.push({type:"V",number:parseInt(s.substring(1))}):s.startsWith("E")&&o.push({type:"E",number:parseInt(s.substring(1))})}return{topic:r,segments:o}}getPathLevel(t){return this.parsePathId(t).segments.filter(r=>r.type==="Q").length}getParentPathId(t){const n=t.split("-");return n.length<=2?null:n.slice(0,-1).join("-")}generateEdgeId(t,n,r){const o=r?`-${r}`:"";return`edge-${t}-${n}${o}`}registerNode(t,n){this.pathRegistry.pathToNodeMap.set(n,t);const r=this.pathRegistry.nodeToPathsMap.get(t)||[];r.includes(n)||this.pathRegistry.nodeToPathsMap.set(t,[...r,n])}getNodePaths(t){return this.pathRegistry.nodeToPathsMap.get(t)||[]}getNodeForPath(t){return this.pathRegistry.pathToNodeMap.get(t)||null}recalculatePathIds(t,n,r){const o=[],i={nodeToPathsMap:new Map,pathToNodeMap:new Map},s=new Map,l=new Map;t.forEach(d=>{s.set(d.id,d)}),n.forEach(d=>{const f=l.get(d.source)||[];f.push(d),l.set(d.source,f)});const a=t.filter(d=>d.type==="question"&&!n.some(f=>f.target===d.id));this.counters.clear();const u=new Set,c=(d,f=null,m=1,w)=>{if(u.has(d.id))return;u.add(d.id);let v;if(d.type==="question")if(w&&w.startsWith("variant-")){const y=parseInt(w.replace("variant-","")),g=`${f}-V${y+1}`,N=this.getNextQuestionNumber(g);v=`${g}-Q${N}`}else{const y=this.getNextQuestionNumber(f);f===null?v=`${r}-Q${y}`:v=`${f}-Q${y}`}else if(d.type==="answer"){const y=this.getNextAnswerNumber(f||"STANDALONE");v=`${f||"STANDALONE"}-A${y}`}else if(d.type==="outcome"){const y=this.getNextOutcomeNumber(f||"STANDALONE");v=`${f||"STANDALONE"}-E${y}`}else v=`${f||"STANDALONE"}-NODE`;const k={...d,data:{...d.data,pathId:v,topic:r,isRoot:f===null&&d.type==="question",questionLevel:m}};o.push(k),i.pathToNodeMap.set(v,d.id);const p=i.nodeToPathsMap.get(d.id)||[];i.nodeToPathsMap.set(d.id,[...p,v]),(l.get(d.id)||[]).forEach(y=>{const g=s.get(y.target);if(g&&!u.has(g.id)){const N=d.type==="question"?m:m+1;c(g,v,N,y.sourceHandle||void 0)}})};return a.forEach(d=>{c(d,null,1)}),t.forEach(d=>{u.has(d.id)||c(d,null,1)}),this.pathRegistry=i,{nodes:o,registry:i}}getNextQuestionNumber(t){const n=`Q-${t||"ROOT"}`,r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}getNextAnswerNumber(t){const n=`A-${t}`,r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}getNextOutcomeNumber(t){const n=`E-${t}`,r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}reset(){this.counters.clear(),this.pathRegistry={nodeToPathsMap:new Map,pathToNodeMap:new Map}}getRegistry(){return this.pathRegistry}getDisplayLabel(t,n){const r=this.parsePathId(t),o=[];switch(r.segments.forEach(i=>{i.type==="Q"&&o.push(i.number)}),n){case"question":return`Q${o.join(".")}`;case"answer":const i=r.segments.filter(s=>s.type==="A").pop();return`A${(i==null?void 0:i.number)||"?"}`;case"outcome":return`Outcome ${this.getPathLevel(t)}`;default:return t}}calculatePathScore(t,n){const r=this.parsePathIdWithVariants(t);let o=0,i=r.topic;for(let s=0;s<r.segments.length;s++){const l=r.segments[s];if(i+=`-${l.type}${l.number}`,l.type==="V"&&s>0){const a=i.substring(0,i.lastIndexOf("-V")),u=this.getNodeForPath(a);if(u){const c=n.find(d=>d.id===u);if(c&&c.data.variants){const d=l.number-1,f=c.data.variants[d];f&&(o+=f.score||0)}}}}return o}getHumanReadablePath(t,n){const r=this.parsePathIdWithVariants(t),o=[];let i="";return r.segments.forEach((s,l)=>{if(s.type==="Q"){i=l===0?`${r.topic}-Q${s.number}`:i+`-Q${s.number}`;const a=this.getNodeForPath(i),u=n.find(c=>c.id===a);u&&o.push(`Q${s.number}: ${u.data.questionText||"Question"}`)}else if(s.type==="A")i+=`-A${s.number}`,o.push(`Answer ${s.number}`);else if(s.type==="V"){const a=i;i+=`-V${s.number}`;const u=this.getNodeForPath(a),c=n.find(d=>d.id===u);if(c&&c.data.variants){const d=c.data.variants[s.number-1];d&&o.push(`→ "${d.text}"`)}}}),o.join(" ")}printPathStructure(t){console.log("=== Path Structure Debug ==="),t.forEach(n=>{n.data.pathId&&console.log(`Node ${n.id} (${n.type}): ${n.data.pathId}`)}),console.log("=== Counters ==="),this.counters.forEach((n,r)=>{console.log(`${r}: ${n}`)})}};yi(Fn,"instance");let ut=Fn;const ke=ME()(VE((e,t)=>({nodes:[],edges:[],selectedNodeId:null,history:[{nodes:[],edges:[]}],historyIndex:0,addNode:n=>{t().saveToHistory(),e(r=>{r.nodes.push(n)})},updateNode:(n,r)=>e(o=>{const i=o.nodes.findIndex(s=>s.id===n);i!==-1&&(o.nodes[i].data={...o.nodes[i].data,...r})}),updateNodePosition:(n,r)=>e(o=>{const i=o.nodes.findIndex(s=>s.id===n);i!==-1&&(o.nodes[i].position=r)}),deleteNode:n=>{t().saveToHistory(),e(r=>{r.nodes=r.nodes.filter(i=>i.id!==n);const o=r.edges.filter(i=>i.source===n||i.target===n);r.edges=r.edges.filter(i=>i.source!==n&&i.target!==n),r.selectedNodeId===n&&(r.selectedNodeId=null),o.length>0&&console.log(`Cleaned up ${o.length} edges for deleted node ${n}`)})},addEdge:n=>{t().saveToHistory(),e(r=>{var i;if(!r.edges.some(s=>s.source===n.source&&s.target===n.target&&s.sourceHandle===n.sourceHandle&&s.targetHandle===n.targetHandle)){r.edges.push(n);const s=r.nodes.find(a=>a.id===n.target),l=r.nodes.find(a=>a.id===n.source);if(s&&s.type==="outcome"&&l){const a=r.nodes.findIndex(u=>u.id===n.target);if(a!==-1){const u=ut.getInstance(),c=((i=l.data)==null?void 0:i.pathId)||"PATH",d=u.getNextOutcomeNumber(c),f=`${c}-E${d}`;r.nodes[a].data={...r.nodes[a].data,pathId:f},console.log(`Updated outcome node path ID to: ${f}`)}}}})},deleteEdge:n=>{t().saveToHistory(),e(r=>{r.edges=r.edges.filter(o=>o.id!==n)})},setNodes:n=>e(r=>{r.nodes=n}),setEdges:n=>e(r=>{r.edges=n}),setSelectedNodeId:n=>e(r=>{r.selectedNodeId=n}),cleanupDuplicateEdges:()=>e(n=>{const r=[],o=new Set;n.edges.forEach(s=>{const l=`${s.source}-${s.target}-${s.sourceHandle||""}-${s.targetHandle||""}`;o.has(l)||(o.add(l),r.push(s))});const i=n.edges.length-r.length;n.edges=r,i>0&&console.log(`Removed ${i} duplicate edges`)}),recalculateFlowIds:(n,r)=>e(o=>{const s=ut.getInstance().recalculatePathIds(o.nodes,o.edges,r);o.nodes=s.nodes,console.log(`Recalculated path IDs for topic: ${r}`)}),propagateTopicOnConnection:(n,r)=>e(o=>{var u;const i=o.nodes.find(c=>c.id===n),s=o.nodes.find(c=>c.id===r);if(!i||!s)return;const l=(c,d=new Set)=>{var w,v,k;if(d.has(c))return null;d.add(c);const f=o.nodes.find(p=>p.id===c);if(!f)return null;if((w=f.data)!=null&&w.topic&&((v=f.data)!=null&&v.isRoot)||(k=f.data)!=null&&k.topic)return f.data.topic;const m=o.edges.find(p=>p.target===c);return m?l(m.source,d):null},a=l(n);if(a&&(!((u=s.data)!=null&&u.topic)||s.data.topic!==a)){const c=o.nodes.findIndex(d=>d.id===r);c!==-1&&(o.nodes[c].data={...o.nodes[c].data,topic:a},console.log(`Propagated topic "${a}" to node ${r}`))}}),createLinkedQuestion:(n,r)=>e(o=>{var y,g,N,T,C,M,_;const i=o.nodes.find(I=>I.id===n);if(!i)return;const s=ut.getInstance(),l=s.getNextQuestionNumber(((y=i.data)==null?void 0:y.pathId)||null),a=((g=i.data)==null?void 0:g.topic)||"NEW-TOPIC",u=(N=i.data)!=null&&N.pathId?{nodeId:i.id,pathId:i.data.pathId,parentPathId:null,level:((T=i.data)==null?void 0:T.questionLevel)||1,topic:a}:null,c=s.generateQuestionPathId(u,l,a),d=`q-${Date.now()}`,f={id:d,type:"question",position:r,data:{pathId:c,topic:a,questionText:"New Question",questionLevel:(((C=i.data)==null?void 0:C.questionLevel)||1)+1,elementId:"NEW",subElementId:"NEW"}},m=s.getNextAnswerNumber(c),w={nodeId:d,pathId:c,parentPathId:((M=i.data)==null?void 0:M.pathId)||null,level:(((_=i.data)==null?void 0:_.questionLevel)||1)+1,topic:a},v=s.generateAnswerPathId(w,m),k=`a-${Date.now()}`,p={id:k,type:"answer",position:{x:r.x,y:r.y+120},data:{pathId:v,answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}},h={id:s.generateEdgeId(d,k),source:d,target:k,animated:!0};o.nodes.push(f,p),o.edges.push(h)}),importFromExcel:n=>e(r=>{r.nodes=n.nodes,r.edges=n.edges}),exportToFormat:n=>{const{nodes:r,edges:o}=t();return n==="json"?{nodes:r,edges:o}:null},clearFlow:()=>e(n=>{n.nodes=[],n.edges=[],n.selectedNodeId=null,n.history=[{nodes:[],edges:[]}],n.historyIndex=0,ut.getInstance().reset()}),saveToHistory:()=>e(n=>{const r={nodes:JSON.parse(JSON.stringify(n.nodes)),edges:JSON.parse(JSON.stringify(n.edges))};n.history=n.history.slice(0,n.historyIndex+1),n.history.push(r),n.historyIndex=n.history.length-1,n.history.length>50&&(n.history.shift(),n.historyIndex=n.history.length-1)}),undo:()=>e(n=>{if(n.historyIndex>0){n.historyIndex--;const r=n.history[n.historyIndex];n.nodes=JSON.parse(JSON.stringify(r.nodes)),n.edges=JSON.parse(JSON.stringify(r.edges)),console.log("Undo: Restored state from history index",n.historyIndex)}}),redo:()=>e(n=>{if(n.historyIndex<n.history.length-1){n.historyIndex++;const r=n.history[n.historyIndex];n.nodes=JSON.parse(JSON.stringify(r.nodes)),n.edges=JSON.parse(JSON.stringify(r.edges)),console.log("Redo: Restored state from history index",n.historyIndex)}}),propagatePathToAll:()=>{t().saveToHistory(),e(n=>{const r=n.nodes.filter(o=>{var i,s;return((i=o.data)==null?void 0:i.isRoot)&&((s=o.data)==null?void 0:s.topic)});if(r.length===0){console.log("No root nodes with topics found");return}console.log(`Found ${r.length} root nodes with topics`),r.forEach(o=>{const i=o.data.topic;console.log(`Recalculating path IDs for topic "${i}" from root node ${o.id}`);const l=ut.getInstance().recalculatePathIds(n.nodes,n.edges,i);n.nodes=l.nodes,console.log(`Recalculated path IDs for topic "${i}"`)}),console.log("Path ID propagation completed")})}}))),Qg=["shift","alt","meta","mod","ctrl","control"],BE={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function En(e){return(BE[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function Yg(e){return Qg.includes(e)}function sa(e,t=","){return e.toLowerCase().split(t)}function la(e,t="+",n=">",r=!1,o){let i=[],s=!1;e.includes(n)?(s=!0,i=e.toLocaleLowerCase().split(n).map(u=>En(u))):i=e.toLocaleLowerCase().split(t).map(u=>En(u));const l={alt:i.includes("alt"),ctrl:i.includes("ctrl")||i.includes("control"),shift:i.includes("shift"),meta:i.includes("meta"),mod:i.includes("mod"),useKey:r},a=i.filter(u=>!Qg.includes(u));return{...l,keys:a,description:o,isSequence:s}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&Kg([En(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&qg([En(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{Qt.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{Qt.clear()},0)}));const Qt=new Set;function Rc(e){return Array.isArray(e)}function UE(e,t=","){return(Rc(e)?e:e.split(t)).every(n=>Qt.has(n.trim().toLowerCase()))}function Kg(e){const t=Array.isArray(e)?e:[e];Qt.has("meta")&&Qt.forEach(n=>!Yg(n)&&Qt.delete(n.toLowerCase())),t.forEach(n=>Qt.add(n.toLowerCase()))}function qg(e){const t=Array.isArray(e)?e:[e];e==="meta"?Qt.clear():t.forEach(n=>Qt.delete(n.toLowerCase()))}function WE(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function QE(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function YE(e){return Xg(e,["input","textarea","select"])}function Xg(e,t=!1){const{target:n,composed:r}=e;let o;return KE(n)&&r?o=e.composedPath()[0]&&e.composedPath()[0].tagName:o=n&&n.tagName,Rc(t)?!!(o&&t&&t.some(i=>i.toLowerCase()===o.toLowerCase())):!!(o&&t&&t)}function KE(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function qE(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(n=>t.includes(n))||e.includes("*"):!0}const XE=(e,t,n=!1)=>{const{alt:r,meta:o,mod:i,shift:s,ctrl:l,keys:a,useKey:u}=t,{code:c,key:d,ctrlKey:f,metaKey:m,shiftKey:w,altKey:v}=e,k=En(c);if(u&&(a==null?void 0:a.length)===1&&a.includes(d))return!0;if(!(a!=null&&a.includes(k))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(k))return!1;if(!n){if(r!==v&&k!=="alt"||s!==w&&k!=="shift")return!1;if(i){if(!m&&!f)return!1}else if(o!==m&&k!=="meta"&&k!=="os"||l!==f&&k!=="ctrl"&&k!=="control")return!1}return a&&a.length===1&&a.includes(k)?!0:a?UE(a):!a},GE=z.createContext(void 0),ZE=()=>z.useContext(GE);function Gg(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((n,r)=>n&&Gg(e[r],t[r]),!0):e===t}const JE=z.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),e_=()=>z.useContext(JE);function t_(e){const t=z.useRef(void 0);return Gg(t.current,e)||(t.current=e),t.current}const Qf=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},n_=typeof window<"u"?z.useLayoutEffect:z.useEffect;function xo(e,t,n,r){const o=z.useRef(null),i=z.useRef(!1),s=n instanceof Array?r instanceof Array?void 0:r:n,l=Rc(e)?e.join(s==null?void 0:s.delimiter):e,a=n instanceof Array?n:r instanceof Array?r:void 0,u=z.useCallback(t,a??[]),c=z.useRef(u);a?c.current=u:c.current=t;const d=t_(s),{activeScopes:f}=e_(),m=ZE();return n_(()=>{if((d==null?void 0:d.enabled)===!1||!qE(f,d==null?void 0:d.scopes))return;let w=[],v;const k=(g,N=!1)=>{var T;if(!(YE(g)&&!Xg(g,d==null?void 0:d.enableOnFormTags))){if(o.current!==null){const C=o.current.getRootNode();if((C instanceof Document||C instanceof ShadowRoot)&&C.activeElement!==o.current&&!o.current.contains(C.activeElement)){Qf(g);return}}(T=g.target)!=null&&T.isContentEditable&&!(d!=null&&d.enableOnContentEditable)||sa(l,d==null?void 0:d.delimiter).forEach(C=>{var M,_,I,O;if(C.includes((d==null?void 0:d.splitKey)??"+")&&C.includes((d==null?void 0:d.sequenceSplitKey)??">")){console.warn(`Hotkey ${C} contains both ${(d==null?void 0:d.splitKey)??"+"} and ${(d==null?void 0:d.sequenceSplitKey)??">"} which is not supported.`);return}const F=la(C,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description);if(F.isSequence){v=setTimeout(()=>{w=[]},(d==null?void 0:d.sequenceTimeoutMs)??1e3);const H=F.useKey?g.key:En(g.code);if(Yg(H.toLowerCase()))return;w.push(H);const S=(M=F.keys)==null?void 0:M[w.length-1];if(H!==S){w=[],v&&clearTimeout(v);return}w.length===((_=F.keys)==null?void 0:_.length)&&(c.current(g,F),v&&clearTimeout(v),w=[])}else if(XE(g,F,d==null?void 0:d.ignoreModifiers)||(I=F.keys)!=null&&I.includes("*")){if((O=d==null?void 0:d.ignoreEventWhen)!=null&&O.call(d,g)||N&&i.current)return;if(WE(g,F,d==null?void 0:d.preventDefault),!QE(g,F,d==null?void 0:d.enabled)){Qf(g);return}c.current(g,F),N||(i.current=!0)}})}},p=g=>{g.code!==void 0&&(Kg(En(g.code)),((d==null?void 0:d.keydown)===void 0&&(d==null?void 0:d.keyup)!==!0||d!=null&&d.keydown)&&k(g))},h=g=>{g.code!==void 0&&(qg(En(g.code)),i.current=!1,d!=null&&d.keyup&&k(g,!0))},y=o.current||(s==null?void 0:s.document)||document;return y.addEventListener("keyup",h,s==null?void 0:s.eventListenerOptions),y.addEventListener("keydown",p,s==null?void 0:s.eventListenerOptions),m&&sa(l,d==null?void 0:d.delimiter).forEach(g=>m.addHotkey(la(g,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description))),()=>{y.removeEventListener("keyup",h,s==null?void 0:s.eventListenerOptions),y.removeEventListener("keydown",p,s==null?void 0:s.eventListenerOptions),m&&sa(l,d==null?void 0:d.delimiter).forEach(g=>m.removeHotkey(la(g,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description))),w=[],v&&clearTimeout(v)}},[l,d,f]),o}function r_(){const{selectedNodeId:e,createLinkedQuestion:t,deleteNode:n,undo:r,redo:o}=ke();xo("tab",i=>{if(i.preventDefault(),e){const s=ke.getState().nodes.find(l=>l.id===e);if(s){const l={x:s.position.x+300,y:s.position.y};t(e,l)}}}),xo("delete, backspace",()=>{e&&n(e)}),xo("ctrl+z, cmd+z",i=>{i.preventDefault(),r()}),xo("ctrl+y, cmd+shift+z",i=>{i.preventDefault(),o()}),xo("escape",()=>{ke.getState().setSelectedNodeId(null)})}function o_({id:e,data:t,selected:n}){const{setSelectedNodeId:r,updateNode:o,recalculateFlowIds:i,propagateTopicOnConnection:s}=ke(),l=()=>{r(e)},a=f=>{o(e,{questionText:f.target.value})},u=f=>{const m=f.target.value;o(e,{topic:m}),t.isRoot&&i(e,m)},c=f=>{f.stopPropagation()},d=()=>{const{nodes:f,addNode:m,addEdge:w,edges:v}=ke.getState();if(v.find(M=>M.source===e)){console.log("This question already has a connection. Only one outgoing connection is allowed.");return}const p=f.find(M=>M.id===e);if(!p)return;const h=ut.getInstance(),y=h.getNextAnswerNumber(t.pathId),g=h.generateAnswerPathId({nodeId:e,pathId:t.pathId,parentPathId:null,level:t.questionLevel||1,topic:t.topic},y),N=`answer-${Date.now()}`,T={id:N,type:"answer",position:{x:p.position.x+150,y:p.position.y+150},data:{pathId:g,answerType:"single",topic:t.topic,variants:[{id:`var-${Date.now()}`,text:"Answer option",score:0}]}};m(T);const C={id:`edge-${e}-${N}`,source:e,target:N,sourceHandle:null,targetHandle:null,animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};w(C),s(e,N)};return x.jsxs("div",{className:`
        bg-white rounded-lg shadow-lg border-2 p-4 min-w-[280px] max-w-[350px]
        ${n?"border-blue-500 shadow-xl ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer
      `,onClick:l,children:[x.jsx(jt,{type:"target",position:K.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),x.jsx("span",{className:"text-xs font-semibold text-blue-600",children:t.isRoot?"Root Question":"Question"})]}),x.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:["Level ",t.questionLevel]})]}),x.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathId}),t.isRoot&&x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Topic"}),x.jsx("div",{onClick:c,onMouseDown:c,children:x.jsx("input",{type:"text",value:t.topic||"",onChange:u,className:"w-full p-2 border border-gray-200 rounded text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter topic...",onFocus:c,onKeyDown:c})})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Question"}),x.jsx("div",{onClick:c,onMouseDown:c,children:x.jsx("textarea",{value:t.questionText,onChange:a,className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm bg-gray-50 hover:bg-white transition-colors",rows:3,placeholder:"Enter your question here...",onFocus:c,onKeyDown:c})})]}),x.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[x.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:t.elementId}),x.jsx("span",{className:"text-gray-400",children:"|"}),x.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:t.subElementId})]})]}),x.jsx(jt,{type:"source",position:K.Bottom,className:"w-3 h-3 bg-green-500 border-2 border-white cursor-pointer hover:bg-green-600 transition-colors",style:{background:"#22c55e"},onClick:f=>{f.stopPropagation(),d()}})]})}/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zg=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=z.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:s,...l},a)=>z.createElement("svg",{ref:a,...s_,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Zg("lucide",o),...l},[...s.map(([u,c])=>z.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(e,t)=>{const n=z.forwardRef(({className:r,...o},i)=>z.createElement(l_,{ref:i,iconNode:t,className:Zg(`lucide-${i_(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=Ee("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=Ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=Ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=Ee("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Ee("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=Ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=Ee("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=Ee("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=Ee("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=Ee("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=Ee("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=Ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function w_({id:e,data:t,selected:n}){var y;const{setSelectedNodeId:r,updateNode:o,nodes:i,addNode:s,addEdge:l,propagateTopicOnConnection:a}=ke(),[u,c]=z.useState(t.answerType||"single");z.useEffect(()=>{c(t.answerType||"single")},[t.answerType]);const d=()=>{r(e)},f=g=>{const{edges:N}=ke.getState();if(N.find(F=>F.source===e&&F.sourceHandle===(g||"default"))){console.log("This answer variant already has a connection. Only one connection per variant is allowed.");return}const C=i.find(F=>F.id===e);if(!C)return;let M=t.topic;if(!M){const F=H=>{var $;const S=i.find(L=>L.id===H);if(!S)return"Topic";if(($=S.data)!=null&&$.topic)return S.data.topic;const A=ke.getState().edges.find(L=>L.target===H);return A?F(A.source):"Topic"};M=F(e)}const _=`question-${Date.now()}`,I={id:_,type:"question",position:{x:g==="default"?C.position.x:C.position.x+200,y:C.position.y+200},data:{pathId:"path-id-will-be-generated",topic:M,isRoot:!1,questionText:"",questionLevel:2,elementId:"E01",subElementId:"SE01"}};s(I);const O={id:`edge-${e}-${_}`,source:e,target:_,sourceHandle:g||"default",targetHandle:null,animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};l(O),a(e,_)},m=()=>{const g={id:`var-${Date.now()}`,text:"New Answer",score:0},N=t.variants||[];o(e,{variants:[...N,g]})},w=(g,N)=>{const C=(t.variants||[]).map(M=>M.id===g?{...M,...N}:M);o(e,{variants:C})},v=g=>{const N=t.variants||[];if(N.length>1){const T=N.filter(C=>C.id!==g);o(e,{variants:T})}},k=g=>{c(g),o(e,{answerType:g});const{edges:N,deleteEdge:T}=ke.getState();if(g==="single"){const C=N.filter(M=>M.source===e&&M.sourceHandle&&M.sourceHandle.startsWith("variant-"));console.log(`Switching to single mode: removing ${C.length} variant edges`),C.forEach(M=>T(M.id))}else{const C=N.filter(M=>M.source===e&&M.sourceHandle==="default");console.log(`Switching to multiple mode: removing ${C.length} default edges`),C.forEach(M=>T(M.id))}},p=g=>{g.stopPropagation()},h=t.variants||[];return x.jsxs("div",{className:`
        bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg shadow-lg border-2 p-4 w-[350px]
        ${n?"border-purple-500 shadow-xl ring-2 ring-purple-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer relative
      `,onClick:d,children:[x.jsx(jt,{type:"target",position:K.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),x.jsx("span",{className:"text-xs font-semibold text-purple-600",children:"Answer"})]}),t.answerLevel&&x.jsxs("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:["Level ",t.answerLevel]}),x.jsxs("div",{className:"flex items-center space-x-2 text-xs",onClick:p,onMouseDown:p,children:[x.jsxs("label",{className:"flex items-center cursor-pointer",children:[x.jsx("input",{type:"radio",value:"single",checked:u==="single",onChange:g=>k(g.target.value),className:"mr-1"}),"Single"]}),x.jsxs("label",{className:"flex items-center cursor-pointer",children:[x.jsx("input",{type:"radio",value:"multiple",checked:u==="multiple",onChange:g=>k(g.target.value),className:"mr-1"}),"Multiple"]})]})]}),t.pathId&&x.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathId}),x.jsx("div",{className:`text-xs rounded px-2 py-1 text-center font-medium ${u==="single"?"bg-blue-50 text-blue-600":"bg-green-50 text-green-600"}`,children:u==="single"?"↓ Single path (bottom)":"→ Multiple paths (variants)"}),x.jsx("div",{className:"space-y-2",children:h.map((g,N)=>{var M;const T=`variant-${N}`,C=(M=t.orphanedVariants)==null?void 0:M.includes(T);return x.jsxs("div",{className:"relative",children:[x.jsxs("div",{className:`flex items-center space-x-2 bg-white rounded-lg p-3 shadow-sm border ${u==="multiple"?"border-green-200 hover:border-green-300":"border-gray-100"} ${C?"ring-1 ring-orange-400 border-orange-300":""} transition-colors`,onClick:p,onMouseDown:p,children:[x.jsx("input",{type:"text",value:g.text,onChange:_=>w(g.id,{text:_.target.value}),className:"flex-1 text-sm bg-transparent focus:outline-none",placeholder:"Answer text...",onFocus:p,onKeyDown:p}),x.jsx("input",{type:"number",value:g.score,onChange:_=>w(g.id,{score:Number(_.target.value)}),className:"w-12 text-xs text-center bg-gray-50 rounded px-1 py-1 focus:outline-none focus:bg-white border border-gray-200 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [-moz-appearance:textfield]",placeholder:"0",title:"Score",min:"-999",max:"999",onFocus:p,onKeyDown:p,onWheel:_=>{_.currentTarget.blur(),_.stopPropagation()},onClick:p,onMouseDown:p}),h.length>1&&x.jsx("button",{onClick:_=>{_.stopPropagation(),v(g.id)},className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:x.jsx(v_,{size:12})})]}),u==="multiple"&&x.jsx(jt,{type:"source",position:K.Right,id:`variant-${N}`,style:{top:"50%",right:"-5px",transform:"translateY(-50%)",background:C?"#fb923c":"#22c55e",width:"10px",height:"10px",zIndex:10,cursor:"pointer"},className:"border-2 border-white hover:scale-125 transition-transform",onClick:_=>{_.stopPropagation(),f(`variant-${N}`)}})]},g.id)})}),x.jsxs("button",{onClick:g=>{g.stopPropagation(),m()},className:"w-full flex items-center justify-center space-x-2 p-2 border-2 border-dashed border-purple-300 rounded-lg text-sm text-purple-600 hover:border-purple-500 hover:bg-purple-50 transition-colors font-medium",children:[x.jsx(h_,{size:14}),x.jsx("span",{children:"Add Answer"})]})]}),u==="single"&&x.jsx(jt,{type:"source",position:K.Bottom,id:"default",className:"w-3 h-3 border-2 border-white cursor-pointer hover:scale-125 transition-transform",style:{background:(y=t.orphanedVariants)!=null&&y.includes("default")?"#fb923c":"#22c55e"},onClick:g=>{g.stopPropagation(),f("default")}})]})}function S_({id:e,data:t,selected:n}){const{setSelectedNodeId:r,updateNode:o}=ke(),i=()=>{r(e)},s=a=>{o(e,{recommendation:a.target.value})},l=a=>{a.stopPropagation()};return x.jsxs("div",{className:`
        bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg shadow-lg border-2 p-4 min-w-[280px] max-w-[350px]
        ${n?"border-green-500 shadow-xl ring-2 ring-green-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer
      `,onClick:i,children:[x.jsx(jt,{type:"target",position:K.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),x.jsx("span",{className:"text-xs font-semibold text-green-600",children:"Outcome"})]}),x.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Final"})]}),x.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathId}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Recommendation"}),x.jsx("div",{onClick:l,onMouseDown:l,children:x.jsx("textarea",{value:t.recommendation||"",onChange:s,className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm bg-gray-50 hover:bg-white transition-colors",rows:4,placeholder:"Enter recommendation text...",onFocus:l,onKeyDown:l})})]}),x.jsx("div",{className:"text-xs rounded px-2 py-1 text-center font-medium bg-green-50 text-green-600 border border-green-200",children:"🎯 Final Outcome"})]})]})}const N_={question:o_,answer:w_,outcome:S_},E_={animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};function __({shouldAutoOrganize:e=!1,onAutoOrganizeComplete:t}){const{nodes:n,edges:r,addEdge:o,updateNodePosition:i,deleteEdge:s,propagateTopicOnConnection:l,selectedNodeId:a,setNodes:u}=ke(),[c,d,f]=JN(n),[m,w,v]=eE(r),k=pl(),p=D.useRef(!1),h=D.useRef(null);r_(),D.useEffect(()=>{const{cleanupDuplicateEdges:_}=ke.getState();_()},[]),D.useEffect(()=>{d(_=>{if(p.current)return console.log("Bulk update detected - using store positions directly"),n;if(_.length===0)return n;const O=(()=>{const P=new Set,E=new Set;return r.forEach(b=>{P.add(b.target),E.add(b.source)}),n.filter(b=>{var V;if(b.type==="question"&&((V=b.data)!=null&&V.isRoot))return!E.has(b.id);if(b.type==="outcome")return!P.has(b.id);const R=P.has(b.id),j=E.has(b.id);return!R||!j}).map(b=>b.id)})(),H=(()=>{const P=new Map;return n.forEach(E=>{var b;if(E.type==="answer"&&((b=E.data)!=null&&b.variants)){const R=E.data.variants,j=E.data.answerType||"single",V=[];j==="multiple"&&R.forEach((U,Q)=>{const W=`variant-${Q}`;r.some(G=>G.source===E.id&&G.sourceHandle===W)||V.push(W)}),j==="single"&&(r.some(Q=>Q.source===E.id&&Q.sourceHandle==="default")||V.push("default")),V.length>0&&P.set(E.id,V)}}),P})(),S=P=>{if(!P)return{parents:[],children:[]};const E=r.filter(R=>R.target===P).map(R=>R.source),b=r.filter(R=>R.source===P).map(R=>R.target);return{parents:E,children:b}},{parents:A,children:$}=S(a),L=new Map;return _.forEach(P=>{L.set(P.id,P.position)}),n.map(P=>{const E=L.get(P.id);return{...P,position:E||P.position,data:{...P.data,isOrphaned:O.includes(P.id),isParent:A.includes(P.id),isChild:$.includes(P.id),isSelected:a===P.id,orphanedVariants:H.get(P.id)||[]}}})})},[n,r,d,a]),D.useEffect(()=>{const _=r.map(I=>{let O="#9ca3af",F={stroke:O,strokeWidth:2};return a&&(I.source===a||I.target===a)&&(O="#2563eb",F={stroke:O,strokeWidth:2,filter:"drop-shadow(0 0 16px #2563ebcc)",opacity:1}),{...I,style:{...I.style,...F}}});w(_)},[r,w,a]);const y=z.useCallback(_=>{if(!_.source||!_.target)return;console.log("Creating edge:",_);const I=n.find(A=>A.id===_.source),O=n.find(A=>A.id===_.target);if(!I||!O){console.log("Source or target node not found");return}if(I.type==="answer"&&O.type!=="question"&&O.type!=="outcome"){console.log("Answer nodes can only connect to Question nodes or Outcome nodes");return}if(I.type==="question"&&O.type!=="answer"){console.log("Question nodes can only connect to Answer nodes");return}if(I.type==="answer"&&r.find($=>$.source===_.source&&$.sourceHandle===_.sourceHandle)){console.log("Answer variant already has a connection. Only one connection per variant is allowed.");return}if(I.type==="question"&&r.find($=>$.source===_.source)){console.log("Question node already has a connection. Only one outgoing connection is allowed.");return}if(((A,$)=>{if(A===$)return!0;const L=new Set,P=[$];for(;P.length>0;){const E=P.pop();if(L.has(E))continue;if(L.add(E),E===A)return!0;r.filter(R=>R.source===E).forEach(R=>{L.has(R.target)||P.push(R.target)})}return!1})(_.source,_.target)){console.log("Connection would create a loop, preventing connection");return}const H=ut.getInstance(),S={..._,source:_.source,target:_.target,id:H.generateEdgeId(_.source,_.target,_.sourceHandle||void 0),animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};console.log("Generated edge:",S),o(S),l(_.source,_.target)},[o,r,l,n]),g=z.useCallback((_,I)=>{ke.getState().setSelectedNodeId(I.id)},[]),N=z.useCallback(()=>{ke.getState().setSelectedNodeId(null)},[]),T=z.useCallback(_=>{if(f(_),p.current){console.log("Skipping position sync during bulk update");return}_.forEach(I=>{I.type==="position"&&I.position&&i&&i(I.id,I.position)})},[f,i]),C=z.useCallback(_=>{v(_),_.forEach(I=>{I.type==="remove"&&I.id&&(console.log("Edge deleted:",I.id),s(I.id))})},[v,s]);D.useEffect(()=>(window.flowCanvasSetBulkUpdate=()=>{console.log("Setting bulk update flag"),p.current=!0,h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{console.log("Resetting bulk update flag"),p.current=!1,h.current=null},500)},()=>{h.current&&clearTimeout(h.current),delete window.flowCanvasSetBulkUpdate}),[]),z.useEffect(()=>{if(e&&k&&n.length>0){console.log("Auto-organizing nodes...");const _=setTimeout(()=>{M(),setTimeout(()=>{k.fitView({padding:.2,maxZoom:.8,minZoom:.1,duration:1e3}),t==null||t()},500)},1e3);return()=>clearTimeout(_)}},[e,k,n.length,t]);const M=()=>{if(console.log("Organizing nodes..."),n.length<2){console.log("Not enough nodes to organize");return}const _=400,I=420,O=150,F=150,H=4,S=new Map,A=new Map,$=new Map;n.forEach(W=>{S.set(W.id,[]),$.set(W.id,0)}),r.forEach(W=>{const q=S.get(W.source)||[];q.push(W.target),S.set(W.source,q),A.set(W.target,W.source);const G=$.get(W.target)||0;$.set(W.target,G+1)});const L=n.filter(W=>($.get(W.id)||0)===0);L.length===0&&n.length>0&&L.push(n[0]);const P=new Map,E=new Map,b=new Set;let R=0;const j=[];for(L.forEach(W=>{j.push({node:W,level:0}),P.set(W.id,0)});j.length>0;){const{node:W,level:q}=j.shift();if(b.has(W.id))continue;b.add(W.id),R=Math.max(R,q);const G=E.get(q)||[];G.push(W),E.set(q,G),(S.get(W.id)||[]).forEach(Z=>{const le=n.find(de=>de.id===Z);le&&!b.has(Z)&&(j.push({node:le,level:q+1}),P.set(Z,q+1))})}const V=[];for(let W=0;W<=R;W++){const q=E.get(W)||[];V.push(...q)}const U=n.filter(W=>!b.has(W.id));V.push(...U);const Q=V.map((W,q)=>{const G=Math.floor(q/H),te=q%H,Z=Math.min(V.length,H),de=(Math.min(V.length-G*H,H)-1)*_,Te=(Z-1)*_,fe={x:O+(Te-de)/2+te*_,y:F+G*I};return{...W,position:fe}});window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),setTimeout(()=>{u(Q),console.log("Organization complete!")},50)};return x.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-50 to-gray-100",children:x.jsxs(zg,{nodes:c,edges:m,onNodesChange:T,onEdgesChange:C,onConnect:y,onNodeClick:g,onPaneClick:N,nodeTypes:N_,connectionMode:Cn.Loose,defaultEdgeOptions:E_,className:"bg-transparent",nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,selectNodesOnDrag:!1,panOnDrag:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!1,preventScrolling:!1,children:[x.jsx(EE,{variant:pt.Dots,gap:16,size:1,color:"#e5e7eb"}),x.jsx(yE,{className:"bg-white shadow-lg rounded-lg border border-gray-200"}),x.jsx(cE,{className:"bg-white shadow-lg rounded-lg border border-gray-200",nodeColor:_=>{var I;if((I=_.data)!=null&&I.isOrphaned)return"#fb923c";switch(_.type){case"question":return"#2563eb";case"answer":return"#8b5cf6";case"outcome":return"#22c55e";default:return"#9ca3af"}},maskColor:"rgba(255, 255, 255, 0.8)",pannable:!0,zoomable:!0}),x.jsx(cl,{position:"top-right",className:"bg-white/95 backdrop-blur shadow-lg rounded-lg p-4 m-4 border border-gray-200",children:x.jsxs("div",{className:"text-sm space-y-1",children:[x.jsx("div",{className:"font-semibold text-gray-700 mb-2",children:"Flow Stats"}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),x.jsxs("span",{children:["Questions: ",c.filter(_=>_.type==="question").length]})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),x.jsxs("span",{children:["Answers: ",c.filter(_=>_.type==="answer").length]})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),x.jsxs("span",{children:["Outcomes: ",c.filter(_=>_.type==="outcome").length]})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),x.jsxs("span",{children:["Connections: ",m.length]})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),x.jsxs("span",{children:["Orphaned: ",c.filter(_=>{var I;return(I=_.data)==null?void 0:I.isOrphaned}).length]})]})]})})]})})}class Eu{exportToJson(t,n){const r=t.filter(f=>f.type==="question"),o=t.filter(f=>f.type==="answer"),i=t.filter(f=>f.type==="outcome"),s=r.find(f=>f.data.isRoot),a={topic:(s==null?void 0:s.data.topic)||"UNTITLED",version:"1.0.0",createdAt:new Date().toISOString(),totalQuestions:r.length},u={};r.forEach(f=>{u[f.id]={id:f.id,type:"question",pathId:f.data.pathId,content:f.data.questionText,level:f.data.questionLevel,position:f.position,topic:f.data.topic}}),o.forEach(f=>{var m,w;u[f.id]={id:f.id,type:"answer",pathId:f.data.pathId,content:`${((m=f.data.variants)==null?void 0:m.length)||0} variants`,level:0,position:f.position,topic:f.data.topic,answerType:f.data.answerType,variants:(w=f.data.variants)==null?void 0:w.map(v=>({id:v.id,text:v.text,score:v.score,allowsInput:v.allowsInput,inputValidation:v.inputValidation})),combinationRules:f.data.combinationRules}}),i.forEach(f=>{u[f.id]={id:f.id,type:"outcome",pathId:f.data.pathId,content:f.data.recommendation||"No recommendation provided",level:0,position:f.position,topic:f.data.topic,recommendation:f.data.recommendation}});const c={},d={};return n.forEach(f=>{const m=t.find(v=>v.id===f.source),w=t.find(v=>v.id===f.target);!m||!w||(c[f.source]||(c[f.source]={}),f.sourceHandle&&f.sourceHandle.startsWith("variant-")?(c[f.source].variants||(c[f.source].variants={}),c[f.source].variants[f.sourceHandle]=w.data.pathId):c[f.source].default=w.data.pathId)}),o.forEach(f=>{f.data.answerType==="multiple"&&f.data.combinationRules&&(d[f.id]=f.data.combinationRules.map((m,w)=>({condition:m.selectedVariants,nextNode:m.nextNode,priority:w+1})))}),{metadata:a,nodes:u,navigation:c,multipleChoiceRules:d}}exportToExcel(t){const n=this.convertToCSV(t);return new Blob([n],{type:"text/csv"})}convertToCSV(t){const r=[["Path ID","Clean Path ID","Type","Content","Level","Variants","Scores","Next Path"]];return Object.values(t.nodes).forEach(o=>{var i,s;o.type==="question"?r.push([o.pathId,this.cleanPathId(o.pathId),"Question",o.content,o.level.toString(),"","",((i=t.navigation[o.id])==null?void 0:i.default)||""]):o.type==="answer"?(s=o.variants)==null||s.forEach((l,a)=>{var c,d;const u=((d=(c=t.navigation[o.id])==null?void 0:c.variants)==null?void 0:d[`variant-${a}`])||"";r.push([o.pathId,this.cleanPathId(o.pathId),"Answer",l.text,"0",l.text,l.score.toString(),u])}):o.type==="outcome"&&r.push([o.pathId,this.cleanPathId(o.pathId),"Outcome",o.recommendation||"No recommendation","0","","",""])}),r.map(o=>o.map(i=>`"${i.replace(/"/g,'""')}"`).join(",")).join(`
`)}cleanPathId(t){const n=t.split("-");return n.length<=2?t:n.slice(1).join("-")}importFromJson(t){const n=[],r=[];return Object.values(t.nodes).forEach((o,i)=>{const s=o.position||{x:200+i%3*400,y:200+Math.floor(i/3)*300};o.type==="question"?n.push({id:o.id,type:"question",position:s,data:{pathId:o.pathId,topic:o.topic||"IMPORTED",isRoot:o.level===1,questionText:o.content,questionLevel:o.level,elementId:"IMPORTED",subElementId:"IMPORTED"}}):o.type==="answer"?n.push({id:o.id,type:"answer",position:s,data:{pathId:o.pathId,answerType:o.answerType||"single",variants:o.variants||[],combinationRules:o.combinationRules,topic:o.topic||"IMPORTED"}}):o.type==="outcome"&&n.push({id:o.id,type:"outcome",position:s,data:{pathId:o.pathId,recommendation:o.recommendation||"No recommendation provided",topic:o.topic||"IMPORTED"}})}),Object.entries(t.navigation).forEach(([o,i])=>{if(i.default){const s=n.find(l=>l.data.pathId===i.default);s&&r.push({id:`edge-${o}-${s.id}`,source:o,target:s.id,sourceHandle:"default",animated:!0})}i.variants&&Object.entries(i.variants).forEach(([s,l])=>{const a=n.find(u=>u.data.pathId===l);a&&r.push({id:`edge-${o}-${a.id}-${s}`,source:o,target:a.id,sourceHandle:s,animated:!0})})}),{nodes:n,edges:r}}}function k_({onAddNode:e,onLoadDemo:t,onClearAll:n,onSetNodes:r,nodes:o=[]}){const{setEdges:i,edges:s,nodes:l,setNodes:a,propagatePathToAll:u}=ke(),c=o.length>0?o:l,d=()=>{const N=c.map(I=>I.position);let T=200,C=200;const M=350,_=4;for(let I=0;I<c.length+1;I++){const O=I%_,F=Math.floor(I/_);if(T=200+O*M,C=200+F*M,!N.some(S=>Math.abs(S.x-T)<250&&Math.abs(S.y-C)<200))break}return{x:T,y:C}},f=()=>{const N=ut.getInstance(),T=d(),C=N.getNextQuestionNumber(null),M="NEW-TOPIC",_=N.generateQuestionPathId(null,C,M),I={id:`q-${Date.now()}`,type:"question",position:T,data:{pathId:_,topic:M,isRoot:!0,questionText:"New Question",questionLevel:1,elementId:"NEW",subElementId:"NEW"}};N.registerNode(I.id,_),e==null||e(I)},m=()=>{const N=ut.getInstance(),T=d(),M=`STANDALONE-A${N.getNextAnswerNumber("STANDALONE")}`,_={id:`a-${Date.now()}`,type:"answer",position:T,data:{pathId:M,answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}};e==null||e(_)},w=()=>{const N=ut.getInstance(),T=d(),M=`STANDALONE-E${N.getNextOutcomeNumber("STANDALONE")}`,_={id:`o-${Date.now()}`,type:"outcome",position:T,data:{pathId:M,recommendation:"Enter your recommendation here...",topic:"General"}};e==null||e(_)},v=()=>{const N=ke.getState(),C=new Eu().exportToJson(c,N.edges),M=new Blob([JSON.stringify(C,null,2)],{type:"application/json"}),_=URL.createObjectURL(M),I=document.createElement("a");I.href=_,I.download=`flow-${C.metadata.topic}-${Date.now()}.json`,I.click(),URL.revokeObjectURL(_)},k=()=>{const N=document.createElement("input");N.type="file",N.accept=".json",N.onchange=T=>{var M;const C=(M=T.target.files)==null?void 0:M[0];if(C){const _=new FileReader;_.onload=I=>{var O;try{const F=JSON.parse((O=I.target)==null?void 0:O.result);if(F.metadata&&F.nodes&&F.navigation){const H=new Eu,{nodes:S,edges:A}=H.importFromJson(F);window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),r==null||r(S),i(A)}else F.nodes&&F.edges?(window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),r==null||r(F.nodes),i(F.edges)):console.error("Invalid file format")}catch(F){console.error("Error importing flow:",F)}},_.readAsText(C)}},N.click()},p=()=>{t==null||t()},h=()=>{n==null||n()},y=()=>{u()},g=()=>{if(console.log("Organize button clicked!"),console.log("actualNodes:",c),console.log("actualNodes.length:",c.length),c.length<2){console.log("Not enough nodes to organize");return}console.log("Organizing",c.length,"nodes");const N=400,T=420,C=150,M=150,_=4,I=new Map,O=new Map,F=new Map;c.forEach(j=>{I.set(j.id,[]),F.set(j.id,0)}),s.forEach(j=>{const V=I.get(j.source)||[];V.push(j.target),I.set(j.source,V),O.set(j.target,j.source);const U=F.get(j.target)||0;F.set(j.target,U+1)}),console.log("Parent-child relationships:",{children:I,parents:O});const H=c.filter(j=>(F.get(j.id)||0)===0);H.length===0&&c.length>0&&H.push(c[0]),console.log("Root nodes:",H.map(j=>j.id));const S=new Map,A=new Map,$=new Set;let L=0;const P=[];for(H.forEach(j=>{P.push({node:j,level:0}),S.set(j.id,0)});P.length>0;){const{node:j,level:V}=P.shift();if($.has(j.id))continue;$.add(j.id),L=Math.max(L,V);const U=A.get(V)||[];U.push(j),A.set(V,U),(I.get(j.id)||[]).forEach(W=>{const q=c.find(G=>G.id===W);q&&!$.has(W)&&(P.push({node:q,level:V+1}),S.set(W,V+1))})}console.log("Nodes by level:",A);const E=[];for(let j=0;j<=L;j++){const V=A.get(j)||[];E.push(...V)}const b=c.filter(j=>!$.has(j.id));E.push(...b),console.log("Ordered nodes:",E.map(j=>j.id));const R=E.map((j,V)=>{const U=Math.floor(V/_),Q=V%_,W=Math.min(E.length,_),G=(Math.min(E.length-U*_,_)-1)*N,te=(W-1)*N,le={x:C+(te-G)/2+Q*N,y:M+U*T};return console.log(`Node ${j.id} (index ${V}): row ${U}, col ${Q} -> position ${le.x},${le.y}`),{...j,position:le}});console.log("Updated nodes:",R),window.flowCanvasSetBulkUpdate?(window.flowCanvasSetBulkUpdate(),console.log("Bulk update flag set")):console.log("flowCanvasSetBulkUpdate not found on window"),setTimeout(()=>{console.log("About to call setNodes..."),a(R),console.log("setNodes called"),r&&(console.log("Also calling onSetNodes callback..."),r(R)),console.log("Organization complete!")},50)};return x.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 bg-white border-b border-gray-200",children:[x.jsx("div",{className:"flex items-center gap-1",children:x.jsxs("button",{onClick:g,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors text-sm font-medium w-[140px] h-10",title:"Organize nodes in a hierarchical layout",children:[x.jsx(p_,{size:16}),x.jsx("span",{children:"Organize"})]})}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsxs("button",{onClick:f,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[x.jsx(Jg,{size:16}),x.jsx("span",{children:"Add Question"})]}),x.jsxs("button",{onClick:m,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[x.jsx(t0,{size:16}),x.jsx("span",{children:"Add Answer"})]}),x.jsxs("button",{onClick:w,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[x.jsx(n0,{size:16}),x.jsx("span",{children:"Add Outcome"})]})]}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsxs("button",{onClick:v,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",children:[x.jsx(e0,{size:16}),x.jsx("span",{children:"Export JSON"})]}),x.jsxs("button",{onClick:k,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",children:[x.jsx(r0,{size:16}),x.jsx("span",{children:"Import JSON"})]}),x.jsxs("button",{onClick:y,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",title:"Propagate path IDs from root nodes to all connected nodes",children:[x.jsx(m_,{size:16}),x.jsx("span",{children:"Propagate Path"})]})]}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsxs("button",{onClick:p,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-slate-500 text-white rounded-lg hover:bg-slate-600 transition-colors text-sm font-medium w-[140px] h-10",children:[x.jsx(a_,{size:16}),x.jsx("span",{children:"Load Demo"})]}),x.jsxs("button",{onClick:h,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm font-medium w-[140px] h-10",children:[x.jsx(y_,{size:16}),x.jsx("span",{children:"Clear All"})]})]})]})}function C_({onEnterApp:e}){return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[x.jsxs("div",{className:"relative overflow-hidden",children:[x.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10"}),x.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"flex items-center justify-center mb-6",children:x.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl shadow-lg",children:x.jsx(c_,{className:"w-8 h-8 text-white"})})}),x.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Question Flow Builder"}),x.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Create interactive questionnaire flows with a powerful visual interface. Design complex decision trees, manage answer variants, and export your work seamlessly."}),x.jsxs("button",{onClick:e,className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[x.jsx(Kf,{className:"w-5 h-5 mr-2"}),"Start Building",x.jsx(Yf,{className:"w-5 h-5 ml-2"})]})]})})]}),x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Powerful Features"}),x.jsx("p",{className:"text-lg text-gray-600",children:"Everything you need to create professional questionnaire flows"})]}),x.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[x.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[x.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:x.jsx(f_,{className:"w-6 h-6 text-blue-600"})}),x.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Visual Flow Builder"}),x.jsx("p",{className:"text-gray-600",children:"Drag and drop nodes to create complex questionnaire flows. Connect questions, answers, and outcomes with intuitive visual connections."})]}),x.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[x.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:x.jsx(d_,{className:"w-6 h-6 text-green-600"})}),x.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Keyboard Shortcuts"}),x.jsx("p",{className:"text-gray-600",children:"Work efficiently with keyboard shortcuts: Tab to create nodes, Delete to remove, Cmd/Ctrl+Z for undo, and more."})]}),x.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[x.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:x.jsxs("div",{className:"flex items-center space-x-1",children:[x.jsx(r0,{className:"w-3 h-3 text-purple-600"}),x.jsx(e0,{className:"w-3 h-3 text-purple-600"})]})}),x.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Import & Export"}),x.jsx("p",{className:"text-gray-600",children:"Import Excel files or JSON flows. Export your work to share or backup. Seamless integration with existing workflows."})]}),x.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[x.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-4",children:x.jsx(u_,{className:"w-6 h-6 text-orange-600"})}),x.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Real-time Validation"}),x.jsx("p",{className:"text-gray-600",children:"Instant visual feedback for orphaned nodes, missing connections, and flow integrity issues. Orange highlights show problems."})]}),x.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[x.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mb-4",children:x.jsx(x_,{className:"w-6 h-6 text-indigo-600"})}),x.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Smart Path IDs"}),x.jsx("p",{className:"text-gray-600",children:"Automatic generation of hierarchical path IDs (Q1, Q2, A1, A2, E1, E2) for questions, answers, and outcomes."})]}),x.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[x.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center mb-4",children:x.jsx(g_,{className:"w-6 h-6 text-emerald-600"})}),x.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Undo/Redo System"}),x.jsx("p",{className:"text-gray-600",children:"50-state history with standard keyboard shortcuts. Never lose your work with comprehensive undo/redo functionality."})]})]})]}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Node Types & Visual Guide"}),x.jsx("p",{className:"text-lg text-gray-600",children:"Understanding the visual language of your flows"})]}),x.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-lg p-6 shadow-lg mb-4 max-w-sm mx-auto",children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[x.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),x.jsx("span",{className:"text-sm font-semibold text-blue-600",children:"Question"})]}),x.jsx("div",{className:"text-sm text-gray-700 mb-3",children:"What is your experience level?"}),x.jsx("div",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full inline-block",children:"Topic-Q1"})]}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[x.jsx(Jg,{className:"w-5 h-5 inline mr-2 text-blue-500"}),"Question Nodes"]}),x.jsx("p",{className:"text-gray-600 text-sm",children:"Blue theme • Single outgoing connection • Contains question text and level information"})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 rounded-lg p-6 shadow-lg mb-4 max-w-sm mx-auto",children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[x.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),x.jsx("span",{className:"text-sm font-semibold text-purple-600",children:"Answer"})]}),x.jsxs("div",{className:"space-y-2 mb-3",children:[x.jsx("div",{className:"text-xs bg-white rounded px-2 py-1 border",children:"Yes (Score: 1)"}),x.jsx("div",{className:"text-xs bg-white rounded px-2 py-1 border",children:"No (Score: 0)"})]}),x.jsx("div",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full inline-block",children:"Topic-Q1-A1"})]}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[x.jsx(t0,{className:"w-5 h-5 inline mr-2 text-purple-500"}),"Answer Nodes"]}),x.jsx("p",{className:"text-gray-600 text-sm",children:"Purple theme • Multiple variants • Single or multiple choice modes • Scoring system"})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-lg p-6 shadow-lg mb-4 max-w-sm mx-auto",children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[x.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),x.jsx("span",{className:"text-sm font-semibold text-green-600",children:"Outcome"})]}),x.jsx("div",{className:"text-sm text-gray-700 mb-3",children:"You should explore visual tools..."}),x.jsx("div",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full inline-block",children:"Topic-Q1-A1-E1"})]}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[x.jsx(n0,{className:"w-5 h-5 inline mr-2 text-green-500"}),"Outcome Nodes"]}),x.jsx("p",{className:"text-gray-600 text-sm",children:"Green theme • End points • Contains recommendations • No outgoing connections"})]})]})]})}),x.jsx("div",{className:"bg-gray-50 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Visual Indicators & Alerts"}),x.jsx("p",{className:"text-lg text-gray-600",children:"Understand what the colors and effects mean"})]}),x.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[x.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-orange-100 rounded-lg border-2 border-orange-300 ring-2 ring-orange-400 flex items-center justify-center",children:x.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"})}),x.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Orange Glow"}),x.jsx("p",{className:"text-sm text-gray-600",children:"Orphaned nodes or variants missing connections"})]}),x.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[x.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-green-100 rounded-lg border-2 border-green-300 ring-2 ring-green-400 flex items-center justify-center",children:x.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})}),x.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Green Glow"}),x.jsx("p",{className:"text-sm text-gray-600",children:"Selected node and its connected parent/child nodes"})]}),x.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[x.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-blue-100 rounded-lg flex items-center justify-center",children:x.jsx("div",{className:"w-12 h-1 bg-blue-500 rounded shadow-lg",style:{boxShadow:"0 0 8px rgba(37, 99, 235, 0.6)"}})}),x.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Blue Edges"}),x.jsx("p",{className:"text-sm text-gray-600",children:"Connections from selected nodes with blue glow effect"})]}),x.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[x.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gray-100 rounded-lg flex items-center justify-center",children:x.jsx("div",{className:"w-12 h-1 bg-gray-400 rounded"})}),x.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Gray Edges"}),x.jsx("p",{className:"text-sm text-gray-600",children:"Default connection lines between nodes"})]})]})]})}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Keyboard Shortcuts"}),x.jsx("p",{className:"text-lg text-gray-600",children:"Work faster with these essential shortcuts"})]}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Navigation & Selection"}),x.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[x.jsx("span",{className:"text-gray-700",children:"Create linked question"}),x.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Tab"})]}),x.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[x.jsx("span",{className:"text-gray-700",children:"Delete selected node"}),x.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Delete"})]}),x.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[x.jsx("span",{className:"text-gray-700",children:"Deselect all"}),x.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Escape"})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Undo & Redo"}),x.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[x.jsx("span",{className:"text-gray-700",children:"Undo (Windows)"}),x.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Ctrl + Z"})]}),x.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[x.jsx("span",{className:"text-gray-700",children:"Undo (Mac)"}),x.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"⌘ + Z"})]}),x.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[x.jsx("span",{className:"text-gray-700",children:"Redo (Windows)"}),x.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Ctrl + Y"})]}),x.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[x.jsx("span",{className:"text-gray-700",children:"Redo (Mac)"}),x.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"⌘ + ⇧ + Z"})]})]})]})]})}),x.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 py-16",children:x.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[x.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Build Your First Flow?"}),x.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Start with our pre-loaded example or create your own from scratch"}),x.jsxs("button",{onClick:e,className:"inline-flex items-center px-8 py-4 bg-white text-blue-600 font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[x.jsx(Kf,{className:"w-5 h-5 mr-2"}),"Launch Flow Builder",x.jsx(Yf,{className:"w-5 h-5 ml-2"})]})]})})]})}const P_=[{id:"q1",type:"question",position:{x:100,y:100},data:{pathId:"DEMO-Q1",topic:"DEMO",isRoot:!0,questionText:"What is your experience level with React?",questionLevel:1,elementId:"DEMO",subElementId:"REACT"}},{id:"a1",type:"answer",position:{x:100,y:250},data:{pathId:"DEMO-Q1-A1",answerType:"single",variants:[{id:"var1",text:"Beginner",score:1},{id:"var2",text:"Intermediate",score:2},{id:"var3",text:"Advanced",score:3}]}},{id:"q2",type:"question",position:{x:450,y:100},data:{pathId:"DEMO-Q1-A1-Q2",topic:"DEMO",isRoot:!1,questionText:"Do you prefer TypeScript over JavaScript?",questionLevel:2,elementId:"DEMO",subElementId:"TYPESCRIPT"}},{id:"a2",type:"answer",position:{x:450,y:250},data:{pathId:"DEMO-Q1-A1-Q2-A1",answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}}],T_=[{id:"e1",source:"q1",target:"a1",animated:!0},{id:"e2",source:"a1",target:"q2",sourceHandle:"var2",animated:!0},{id:"e3",source:"q2",target:"a2",animated:!0}],gr={nodes:P_,edges:T_};function M_(){const[e,t]=z.useState(!0),[n,r]=z.useState(!1),o=z.useRef(!1),{nodes:i,addNode:s,setNodes:l,setEdges:a,clearFlow:u}=ke(),c=z.useCallback(async()=>{try{const p=await fetch("/qnatool/flow-Topic-1752233651561.json");if(p.ok){const h=await p.json(),y=new Eu,{nodes:g,edges:N}=y.importFromJson(h);window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),l(g),a(N),console.log("Default flow loaded successfully")}else console.warn("Default flow not found, loading demo data instead"),l(gr.nodes),a(gr.edges)}catch(p){console.error("Error loading default flow:",p),l(gr.nodes),a(gr.edges)}t(!1),r(!0)},[l,a]),d=z.useCallback(p=>{s(p)},[s]),f=z.useCallback(()=>{r(!1),o.current=!0,console.log("Auto-organize completed")},[]),m=z.useCallback(()=>{l(gr.nodes),a(gr.edges),setTimeout(()=>{const{cleanupDuplicateEdges:p}=ke.getState();p()},100)},[l,a]),w=z.useCallback(()=>{u()},[u]),v=z.useCallback(p=>{l(p)},[l]),k=z.useCallback(()=>{t(!0)},[]);return e?x.jsx(C_,{onEnterApp:c}):x.jsxs("div",{className:"h-screen flex flex-col bg-gray-100",children:[x.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-2 flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsx("button",{onClick:k,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"← Back to Home"}),x.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Question Flow Builder"})]}),x.jsxs("div",{className:"text-sm text-gray-500",children:[i.length," nodes • Auto-loaded flow"]})]}),x.jsx(k_,{onAddNode:d,onLoadDemo:m,onClearAll:w,onSetNodes:v,nodes:i}),x.jsx("div",{className:"flex-1",children:x.jsx(zc,{children:x.jsx(__,{shouldAutoOrganize:n&&!o.current,onAutoOrganizeComplete:f})})})]})}aa.createRoot(document.getElementById("root")).render(x.jsx(D.StrictMode,{children:x.jsx(M_,{})}));
