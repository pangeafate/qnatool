var D0=Object.defineProperty;var L0=(e,t,n)=>t in e?D0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yi=(e,t,n)=>L0(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Kf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qf={exports:{}},Vs={},Xf={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ui=Symbol.for("react.element"),O0=Symbol.for("react.portal"),F0=Symbol.for("react.fragment"),H0=Symbol.for("react.strict_mode"),V0=Symbol.for("react.profiler"),B0=Symbol.for("react.provider"),U0=Symbol.for("react.context"),W0=Symbol.for("react.forward_ref"),Q0=Symbol.for("react.suspense"),Y0=Symbol.for("react.memo"),K0=Symbol.for("react.lazy"),Fc=Symbol.iterator;function q0(e){return e===null||typeof e!="object"?null:(e=Fc&&e[Fc]||e["@@iterator"],typeof e=="function"?e:null)}var Gf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zf=Object.assign,Jf={};function Zr(e,t,n){this.props=e,this.context=t,this.refs=Jf,this.updater=n||Gf}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ep(){}ep.prototype=Zr.prototype;function Eu(e,t,n){this.props=e,this.context=t,this.refs=Jf,this.updater=n||Gf}var _u=Eu.prototype=new ep;_u.constructor=Eu;Zf(_u,Zr.prototype);_u.isPureReactComponent=!0;var Hc=Array.isArray,tp=Object.prototype.hasOwnProperty,ku={current:null},np={key:!0,ref:!0,__self:!0,__source:!0};function rp(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)tp.call(t,r)&&!np.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:ui,type:e,key:i,ref:s,props:o,_owner:ku.current}}function X0(e,t){return{$$typeof:ui,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ui}function G0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Vc=/\/+/g;function wl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?G0(""+e.key):t.toString(36)}function Ui(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ui:case O0:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+wl(s,0):r,Hc(o)?(n="",e!=null&&(n=e.replace(Vc,"$&/")+"/"),Ui(o,t,n,"",function(u){return u})):o!=null&&(Cu(o)&&(o=X0(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Vc,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Hc(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+wl(i,l);s+=Ui(i,t,n,a,o)}else if(a=q0(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+wl(i,l++),s+=Ui(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function vi(e,t,n){if(e==null)return e;var r=[],o=0;return Ui(e,r,"","",function(i){return t.call(n,i,o++)}),r}function Z0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ve={current:null},Wi={transition:null},J0={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:Wi,ReactCurrentOwner:ku};function op(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:vi,forEach:function(e,t,n){vi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vi(e,function(){t++}),t},toArray:function(e){return vi(e,function(t){return t})||[]},only:function(e){if(!Cu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Zr;Z.Fragment=F0;Z.Profiler=V0;Z.PureComponent=Eu;Z.StrictMode=H0;Z.Suspense=Q0;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J0;Z.act=op;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Zf({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=ku.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)tp.call(t,a)&&!np.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ui,type:e.type,key:o,ref:i,props:r,_owner:s}};Z.createContext=function(e){return e={$$typeof:U0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:B0,_context:e},e.Consumer=e};Z.createElement=rp;Z.createFactory=function(e){var t=rp.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:W0,render:e}};Z.isValidElement=Cu;Z.lazy=function(e){return{$$typeof:K0,_payload:{_status:-1,_result:e},_init:Z0}};Z.memo=function(e,t){return{$$typeof:Y0,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Wi.transition;Wi.transition={};try{e()}finally{Wi.transition=t}};Z.unstable_act=op;Z.useCallback=function(e,t){return Ve.current.useCallback(e,t)};Z.useContext=function(e){return Ve.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return Ve.current.useDeferredValue(e)};Z.useEffect=function(e,t){return Ve.current.useEffect(e,t)};Z.useId=function(){return Ve.current.useId()};Z.useImperativeHandle=function(e,t,n){return Ve.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return Ve.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Ve.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Ve.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return Ve.current.useReducer(e,t,n)};Z.useRef=function(e){return Ve.current.useRef(e)};Z.useState=function(e){return Ve.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return Ve.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return Ve.current.useTransition()};Z.version="18.3.1";Xf.exports=Z;var I=Xf.exports;const R=Kf(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey=I,ty=Symbol.for("react.element"),ny=Symbol.for("react.fragment"),ry=Object.prototype.hasOwnProperty,oy=ey.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iy={key:!0,ref:!0,__self:!0,__source:!0};function ip(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)ry.call(t,r)&&!iy.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:ty,type:e,key:i,ref:s,props:o,_owner:oy.current}}Vs.Fragment=ny;Vs.jsx=ip;Vs.jsxs=ip;qf.exports=Vs;var w=qf.exports,la={},sp={exports:{}},ot={},lp={exports:{}},ap={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,_){var A=$.length;$.push(_);e:for(;0<A;){var O=A-1>>>1,j=$[O];if(0<o(j,_))$[O]=_,$[A]=j,A=O;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var _=$[0],A=$.pop();if(A!==_){$[0]=A;e:for(var O=0,j=$.length,B=j>>>1;O<B;){var U=2*(O+1)-1,Q=$[U],K=U+1,X=$[K];if(0>o(Q,A))K<j&&0>o(X,Q)?($[O]=X,$[K]=A,O=K):($[O]=Q,$[U]=A,O=U);else if(K<j&&0>o(X,A))$[O]=X,$[K]=A,O=K;else break e}}return _}function o($,_){var A=$.sortIndex-_.sortIndex;return A!==0?A:$.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,d=null,f=3,m=!1,S=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y($){for(var _=n(u);_!==null;){if(_.callback===null)r(u);else if(_.startTime<=$)r(u),_.sortIndex=_.expirationTime,t(a,_);else break;_=n(u)}}function h($){if(v=!1,y($),!S)if(n(a)!==null)S=!0,T(N);else{var _=n(u);_!==null&&L(h,_.startTime-$)}}function N($,_){S=!1,v&&(v=!1,p(P),P=-1),m=!0;var A=f;try{for(y(_),d=n(a);d!==null&&(!(d.expirationTime>_)||$&&!H());){var O=d.callback;if(typeof O=="function"){d.callback=null,f=d.priorityLevel;var j=O(d.expirationTime<=_);_=e.unstable_now(),typeof j=="function"?d.callback=j:d===n(a)&&r(a),y(_)}else r(a);d=n(a)}if(d!==null)var B=!0;else{var U=n(u);U!==null&&L(h,U.startTime-_),B=!1}return B}finally{d=null,f=A,m=!1}}var C=!1,k=null,P=-1,M=5,z=-1;function H(){return!(e.unstable_now()-z<M)}function F(){if(k!==null){var $=e.unstable_now();z=$;var _=!0;try{_=k(!0,$)}finally{_?D():(C=!1,k=null)}}else C=!1}var D;if(typeof g=="function")D=function(){g(F)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,b=x.port2;x.port1.onmessage=F,D=function(){b.postMessage(null)}}else D=function(){E(F,0)};function T($){k=$,C||(C=!0,D())}function L($,_){P=E(function(){$(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){S||m||(S=!0,T(N))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function($){switch(f){case 1:case 2:case 3:var _=3;break;default:_=f}var A=f;f=_;try{return $()}finally{f=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,_){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var A=f;f=$;try{return _()}finally{f=A}},e.unstable_scheduleCallback=function($,_,A){var O=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?O+A:O):A=O,$){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=A+j,$={id:c++,callback:_,priorityLevel:$,startTime:A,expirationTime:j,sortIndex:-1},A>O?($.sortIndex=A,t(u,$),n(a)===null&&$===n(u)&&(v?(p(P),P=-1):v=!0,L(h,A-O))):($.sortIndex=j,t(a,$),S||m||(S=!0,T(N))),$},e.unstable_shouldYield=H,e.unstable_wrapCallback=function($){var _=f;return function(){var A=f;f=_;try{return $.apply(this,arguments)}finally{f=A}}}})(ap);lp.exports=ap;var sy=lp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly=I,et=sy;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var up=new Set,Ro={};function or(e,t){Or(e,t),Or(e+"Capture",t)}function Or(e,t){for(Ro[e]=t,e=0;e<t.length;e++)up.add(t[e])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aa=Object.prototype.hasOwnProperty,ay=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bc={},Uc={};function uy(e){return aa.call(Uc,e)?!0:aa.call(Bc,e)?!1:ay.test(e)?Uc[e]=!0:(Bc[e]=!0,!1)}function cy(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dy(e,t,n,r){if(t===null||typeof t>"u"||cy(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pu=/[\-:]([a-z])/g;function Tu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pu,Tu);$e[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pu,Tu);$e[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pu,Tu);$e[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mu(e,t,n,r){var o=$e.hasOwnProperty(t)?$e[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dy(t,n,o,r)&&(n=null),r||o===null?uy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tn=ly.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xi=Symbol.for("react.element"),yr=Symbol.for("react.portal"),vr=Symbol.for("react.fragment"),$u=Symbol.for("react.strict_mode"),ua=Symbol.for("react.profiler"),cp=Symbol.for("react.provider"),dp=Symbol.for("react.context"),Iu=Symbol.for("react.forward_ref"),ca=Symbol.for("react.suspense"),da=Symbol.for("react.suspense_list"),bu=Symbol.for("react.memo"),on=Symbol.for("react.lazy"),fp=Symbol.for("react.offscreen"),Wc=Symbol.iterator;function io(e){return e===null||typeof e!="object"?null:(e=Wc&&e[Wc]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,Sl;function wo(e){if(Sl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sl=t&&t[1]||""}return`
`+Sl+e}var Nl=!1;function El(e,t){if(!e||Nl)return"";Nl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var a=`
`+o[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Nl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wo(e):""}function fy(e){switch(e.tag){case 5:return wo(e.type);case 16:return wo("Lazy");case 13:return wo("Suspense");case 19:return wo("SuspenseList");case 0:case 2:case 15:return e=El(e.type,!1),e;case 11:return e=El(e.type.render,!1),e;case 1:return e=El(e.type,!0),e;default:return""}}function fa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vr:return"Fragment";case yr:return"Portal";case ua:return"Profiler";case $u:return"StrictMode";case ca:return"Suspense";case da:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dp:return(e.displayName||"Context")+".Consumer";case cp:return(e._context.displayName||"Context")+".Provider";case Iu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bu:return t=e.displayName||null,t!==null?t:fa(e.type)||"Memo";case on:t=e._payload,e=e._init;try{return fa(e(t))}catch{}}return null}function py(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fa(t);case 8:return t===$u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _n(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hy(e){var t=pp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wi(e){e._valueTracker||(e._valueTracker=hy(e))}function hp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pa(e,t){var n=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Qc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_n(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mp(e,t){t=t.checked,t!=null&&Mu(e,"checked",t,!1)}function ha(e,t){mp(e,t);var n=_n(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ma(e,t.type,n):t.hasOwnProperty("defaultValue")&&ma(e,t.type,_n(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ma(e,t,n){(t!=="number"||ss(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var So=Array.isArray;function $r(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_n(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ga(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(So(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_n(n)}}function gp(e,t){var n=_n(t.value),r=_n(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function qc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ya(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Si,vp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Si=Si||document.createElement("div"),Si.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Si.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Do(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},my=["Webkit","ms","Moz","O"];Object.keys(Po).forEach(function(e){my.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Po[t]=Po[e]})});function xp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Po.hasOwnProperty(e)&&Po[e]?(""+t).trim():t+"px"}function wp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=xp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var gy=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function va(e,t){if(t){if(gy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function xa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wa=null;function zu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sa=null,Ir=null,br=null;function Xc(e){if(e=fi(e)){if(typeof Sa!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Ys(t),Sa(e.stateNode,e.type,t))}}function Sp(e){Ir?br?br.push(e):br=[e]:Ir=e}function Np(){if(Ir){var e=Ir,t=br;if(br=Ir=null,Xc(e),t)for(e=0;e<t.length;e++)Xc(t[e])}}function Ep(e,t){return e(t)}function _p(){}var _l=!1;function kp(e,t,n){if(_l)return e(t,n);_l=!0;try{return Ep(e,t,n)}finally{_l=!1,(Ir!==null||br!==null)&&(_p(),Np())}}function Lo(e,t){var n=e.stateNode;if(n===null)return null;var r=Ys(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Na=!1;if(qt)try{var so={};Object.defineProperty(so,"passive",{get:function(){Na=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Na=!1}function yy(e,t,n,r,o,i,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var To=!1,ls=null,as=!1,Ea=null,vy={onError:function(e){To=!0,ls=e}};function xy(e,t,n,r,o,i,s,l,a){To=!1,ls=null,yy.apply(vy,arguments)}function wy(e,t,n,r,o,i,s,l,a){if(xy.apply(this,arguments),To){if(To){var u=ls;To=!1,ls=null}else throw Error(V(198));as||(as=!0,Ea=u)}}function ir(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Cp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gc(e){if(ir(e)!==e)throw Error(V(188))}function Sy(e){var t=e.alternate;if(!t){if(t=ir(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Gc(o),e;if(i===r)return Gc(o),t;i=i.sibling}throw Error(V(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function Pp(e){return e=Sy(e),e!==null?Tp(e):null}function Tp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tp(e);if(t!==null)return t;e=e.sibling}return null}var Mp=et.unstable_scheduleCallback,Zc=et.unstable_cancelCallback,Ny=et.unstable_shouldYield,Ey=et.unstable_requestPaint,ye=et.unstable_now,_y=et.unstable_getCurrentPriorityLevel,Au=et.unstable_ImmediatePriority,$p=et.unstable_UserBlockingPriority,us=et.unstable_NormalPriority,ky=et.unstable_LowPriority,Ip=et.unstable_IdlePriority,Bs=null,bt=null;function Cy(e){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Bs,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:My,Py=Math.log,Ty=Math.LN2;function My(e){return e>>>=0,e===0?32:31-(Py(e)/Ty|0)|0}var Ni=64,Ei=4194304;function No(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=No(l):(i&=s,i!==0&&(r=No(i)))}else s=n&~o,s!==0?r=No(s):i!==0&&(r=No(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_t(t),o=1<<n,r|=e[n],t&=~o;return r}function $y(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-_t(i),l=1<<s,a=o[s];a===-1?(!(l&n)||l&r)&&(o[s]=$y(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function _a(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bp(){var e=Ni;return Ni<<=1,!(Ni&4194240)&&(Ni=64),e}function kl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ci(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function by(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-_t(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function ju(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_t(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var re=0;function zp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ap,Ru,jp,Rp,Dp,ka=!1,_i=[],hn=null,mn=null,gn=null,Oo=new Map,Fo=new Map,un=[],zy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jc(e,t){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":Oo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(t.pointerId)}}function lo(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=fi(t),t!==null&&Ru(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ay(e,t,n,r,o){switch(t){case"focusin":return hn=lo(hn,e,t,n,r,o),!0;case"dragenter":return mn=lo(mn,e,t,n,r,o),!0;case"mouseover":return gn=lo(gn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Oo.set(i,lo(Oo.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Fo.set(i,lo(Fo.get(i)||null,e,t,n,r,o)),!0}return!1}function Lp(e){var t=Hn(e.target);if(t!==null){var n=ir(t);if(n!==null){if(t=n.tag,t===13){if(t=Cp(n),t!==null){e.blockedOn=t,Dp(e.priority,function(){jp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ca(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);wa=r,n.target.dispatchEvent(r),wa=null}else return t=fi(n),t!==null&&Ru(t),e.blockedOn=n,!1;t.shift()}return!0}function ed(e,t,n){Qi(e)&&n.delete(t)}function jy(){ka=!1,hn!==null&&Qi(hn)&&(hn=null),mn!==null&&Qi(mn)&&(mn=null),gn!==null&&Qi(gn)&&(gn=null),Oo.forEach(ed),Fo.forEach(ed)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,ka||(ka=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,jy)))}function Ho(e){function t(o){return ao(o,e)}if(0<_i.length){ao(_i[0],e);for(var n=1;n<_i.length;n++){var r=_i[n];r.blockedOn===e&&(r.blockedOn=null)}}for(hn!==null&&ao(hn,e),mn!==null&&ao(mn,e),gn!==null&&ao(gn,e),Oo.forEach(t),Fo.forEach(t),n=0;n<un.length;n++)r=un[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)Lp(n),n.blockedOn===null&&un.shift()}var zr=tn.ReactCurrentBatchConfig,ds=!0;function Ry(e,t,n,r){var o=re,i=zr.transition;zr.transition=null;try{re=1,Du(e,t,n,r)}finally{re=o,zr.transition=i}}function Dy(e,t,n,r){var o=re,i=zr.transition;zr.transition=null;try{re=4,Du(e,t,n,r)}finally{re=o,zr.transition=i}}function Du(e,t,n,r){if(ds){var o=Ca(e,t,n,r);if(o===null)jl(e,t,r,fs,n),Jc(e,r);else if(Ay(o,e,t,n,r))r.stopPropagation();else if(Jc(e,r),t&4&&-1<zy.indexOf(e)){for(;o!==null;){var i=fi(o);if(i!==null&&Ap(i),i=Ca(e,t,n,r),i===null&&jl(e,t,r,fs,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else jl(e,t,r,null,n)}}var fs=null;function Ca(e,t,n,r){if(fs=null,e=zu(r),e=Hn(e),e!==null)if(t=ir(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Cp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fs=e,null}function Op(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_y()){case Au:return 1;case $p:return 4;case us:case ky:return 16;case Ip:return 536870912;default:return 16}default:return 16}}var fn=null,Lu=null,Yi=null;function Fp(){if(Yi)return Yi;var e,t=Lu,n=t.length,r,o="value"in fn?fn.value:fn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Yi=o.slice(e,1<r?1-r:void 0)}function Ki(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function td(){return!1}function it(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ki:td,this.isPropagationStopped=td,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),t}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ou=it(Jr),di=fe({},Jr,{view:0,detail:0}),Ly=it(di),Cl,Pl,uo,Us=fe({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uo&&(uo&&e.type==="mousemove"?(Cl=e.screenX-uo.screenX,Pl=e.screenY-uo.screenY):Pl=Cl=0,uo=e),Cl)},movementY:function(e){return"movementY"in e?e.movementY:Pl}}),nd=it(Us),Oy=fe({},Us,{dataTransfer:0}),Fy=it(Oy),Hy=fe({},di,{relatedTarget:0}),Tl=it(Hy),Vy=fe({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),By=it(Vy),Uy=fe({},Jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wy=it(Uy),Qy=fe({},Jr,{data:0}),rd=it(Qy),Yy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ky={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qy[e])?!!t[e]:!1}function Fu(){return Xy}var Gy=fe({},di,{key:function(e){if(e.key){var t=Yy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ki(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ky[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fu,charCode:function(e){return e.type==="keypress"?Ki(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ki(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zy=it(Gy),Jy=fe({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),od=it(Jy),ev=fe({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fu}),tv=it(ev),nv=fe({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rv=it(nv),ov=fe({},Us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iv=it(ov),sv=[9,13,27,32],Hu=qt&&"CompositionEvent"in window,Mo=null;qt&&"documentMode"in document&&(Mo=document.documentMode);var lv=qt&&"TextEvent"in window&&!Mo,Hp=qt&&(!Hu||Mo&&8<Mo&&11>=Mo),id=" ",sd=!1;function Vp(e,t){switch(e){case"keyup":return sv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xr=!1;function av(e,t){switch(e){case"compositionend":return Bp(t);case"keypress":return t.which!==32?null:(sd=!0,id);case"textInput":return e=t.data,e===id&&sd?null:e;default:return null}}function uv(e,t){if(xr)return e==="compositionend"||!Hu&&Vp(e,t)?(e=Fp(),Yi=Lu=fn=null,xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hp&&t.locale!=="ko"?null:t.data;default:return null}}var cv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cv[e.type]:t==="textarea"}function Up(e,t,n,r){Sp(r),t=ps(t,"onChange"),0<t.length&&(n=new Ou("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $o=null,Vo=null;function dv(e){th(e,0)}function Ws(e){var t=Nr(e);if(hp(t))return e}function fv(e,t){if(e==="change")return t}var Wp=!1;if(qt){var Ml;if(qt){var $l="oninput"in document;if(!$l){var ad=document.createElement("div");ad.setAttribute("oninput","return;"),$l=typeof ad.oninput=="function"}Ml=$l}else Ml=!1;Wp=Ml&&(!document.documentMode||9<document.documentMode)}function ud(){$o&&($o.detachEvent("onpropertychange",Qp),Vo=$o=null)}function Qp(e){if(e.propertyName==="value"&&Ws(Vo)){var t=[];Up(t,Vo,e,zu(e)),kp(dv,t)}}function pv(e,t,n){e==="focusin"?(ud(),$o=t,Vo=n,$o.attachEvent("onpropertychange",Qp)):e==="focusout"&&ud()}function hv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ws(Vo)}function mv(e,t){if(e==="click")return Ws(t)}function gv(e,t){if(e==="input"||e==="change")return Ws(t)}function yv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:yv;function Bo(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!aa.call(t,o)||!Ct(e[o],t[o]))return!1}return!0}function cd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dd(e,t){var n=cd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cd(n)}}function Yp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kp(){for(var e=window,t=ss();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ss(e.document)}return t}function Vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vv(e){var t=Kp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Yp(n.ownerDocument.documentElement,n)){if(r!==null&&Vu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=dd(n,i);var s=dd(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xv=qt&&"documentMode"in document&&11>=document.documentMode,wr=null,Pa=null,Io=null,Ta=!1;function fd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ta||wr==null||wr!==ss(r)||(r=wr,"selectionStart"in r&&Vu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Io&&Bo(Io,r)||(Io=r,r=ps(Pa,"onSelect"),0<r.length&&(t=new Ou("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wr)))}function Ci(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionend:Ci("Transition","TransitionEnd")},Il={},qp={};qt&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function Qs(e){if(Il[e])return Il[e];if(!Sr[e])return e;var t=Sr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qp)return Il[e]=t[n];return e}var Xp=Qs("animationend"),Gp=Qs("animationiteration"),Zp=Qs("animationstart"),Jp=Qs("transitionend"),eh=new Map,pd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){eh.set(e,t),or(t,[e])}for(var bl=0;bl<pd.length;bl++){var zl=pd[bl],wv=zl.toLowerCase(),Sv=zl[0].toUpperCase()+zl.slice(1);Pn(wv,"on"+Sv)}Pn(Xp,"onAnimationEnd");Pn(Gp,"onAnimationIteration");Pn(Zp,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(Jp,"onTransitionEnd");Or("onMouseEnter",["mouseout","mouseover"]);Or("onMouseLeave",["mouseout","mouseover"]);Or("onPointerEnter",["pointerout","pointerover"]);Or("onPointerLeave",["pointerout","pointerover"]);or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));or("onBeforeInput",["compositionend","keypress","textInput","paste"]);or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function hd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,wy(r,t,void 0,e),e.currentTarget=null}function th(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&o.isPropagationStopped())break e;hd(o,l,u),i=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&o.isPropagationStopped())break e;hd(o,l,u),i=a}}}if(as)throw e=Ea,as=!1,Ea=null,e}function le(e,t){var n=t[za];n===void 0&&(n=t[za]=new Set);var r=e+"__bubble";n.has(r)||(nh(t,e,2,!1),n.add(r))}function Al(e,t,n){var r=0;t&&(r|=4),nh(n,e,r,t)}var Pi="_reactListening"+Math.random().toString(36).slice(2);function Uo(e){if(!e[Pi]){e[Pi]=!0,up.forEach(function(n){n!=="selectionchange"&&(Nv.has(n)||Al(n,!1,e),Al(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pi]||(t[Pi]=!0,Al("selectionchange",!1,t))}}function nh(e,t,n,r){switch(Op(t)){case 1:var o=Ry;break;case 4:o=Dy;break;default:o=Du}n=o.bind(null,t,n,e),o=void 0,!Na||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function jl(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;s=s.return}for(;l!==null;){if(s=Hn(l),s===null)return;if(a=s.tag,a===5||a===6){r=i=s;continue e}l=l.parentNode}}r=r.return}kp(function(){var u=i,c=zu(n),d=[];e:{var f=eh.get(e);if(f!==void 0){var m=Ou,S=e;switch(e){case"keypress":if(Ki(n)===0)break e;case"keydown":case"keyup":m=Zy;break;case"focusin":S="focus",m=Tl;break;case"focusout":S="blur",m=Tl;break;case"beforeblur":case"afterblur":m=Tl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Fy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=tv;break;case Xp:case Gp:case Zp:m=By;break;case Jp:m=rv;break;case"scroll":m=Ly;break;case"wheel":m=iv;break;case"copy":case"cut":case"paste":m=Wy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=od}var v=(t&4)!==0,E=!v&&e==="scroll",p=v?f!==null?f+"Capture":null:f;v=[];for(var g=u,y;g!==null;){y=g;var h=y.stateNode;if(y.tag===5&&h!==null&&(y=h,p!==null&&(h=Lo(g,p),h!=null&&v.push(Wo(g,h,y)))),E)break;g=g.return}0<v.length&&(f=new m(f,S,null,n,c),d.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==wa&&(S=n.relatedTarget||n.fromElement)&&(Hn(S)||S[Xt]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(S=n.relatedTarget||n.toElement,m=u,S=S?Hn(S):null,S!==null&&(E=ir(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(m=null,S=u),m!==S)){if(v=nd,h="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=od,h="onPointerLeave",p="onPointerEnter",g="pointer"),E=m==null?f:Nr(m),y=S==null?f:Nr(S),f=new v(h,g+"leave",m,n,c),f.target=E,f.relatedTarget=y,h=null,Hn(c)===u&&(v=new v(p,g+"enter",S,n,c),v.target=y,v.relatedTarget=E,h=v),E=h,m&&S)t:{for(v=m,p=S,g=0,y=v;y;y=dr(y))g++;for(y=0,h=p;h;h=dr(h))y++;for(;0<g-y;)v=dr(v),g--;for(;0<y-g;)p=dr(p),y--;for(;g--;){if(v===p||p!==null&&v===p.alternate)break t;v=dr(v),p=dr(p)}v=null}else v=null;m!==null&&md(d,f,m,v,!1),S!==null&&E!==null&&md(d,E,S,v,!0)}}e:{if(f=u?Nr(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=fv;else if(ld(f))if(Wp)N=gv;else{N=hv;var C=pv}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=mv);if(N&&(N=N(e,u))){Up(d,N,n,c);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&ma(f,"number",f.value)}switch(C=u?Nr(u):window,e){case"focusin":(ld(C)||C.contentEditable==="true")&&(wr=C,Pa=u,Io=null);break;case"focusout":Io=Pa=wr=null;break;case"mousedown":Ta=!0;break;case"contextmenu":case"mouseup":case"dragend":Ta=!1,fd(d,n,c);break;case"selectionchange":if(xv)break;case"keydown":case"keyup":fd(d,n,c)}var k;if(Hu)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else xr?Vp(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Hp&&n.locale!=="ko"&&(xr||P!=="onCompositionStart"?P==="onCompositionEnd"&&xr&&(k=Fp()):(fn=c,Lu="value"in fn?fn.value:fn.textContent,xr=!0)),C=ps(u,P),0<C.length&&(P=new rd(P,e,null,n,c),d.push({event:P,listeners:C}),k?P.data=k:(k=Bp(n),k!==null&&(P.data=k)))),(k=lv?av(e,n):uv(e,n))&&(u=ps(u,"onBeforeInput"),0<u.length&&(c=new rd("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}th(d,t)})}function Wo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ps(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Lo(e,n),i!=null&&r.unshift(Wo(e,i,o)),i=Lo(e,t),i!=null&&r.push(Wo(e,i,o))),e=e.return}return r}function dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function md(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=Lo(n,i),a!=null&&s.unshift(Wo(n,a,l))):o||(a=Lo(n,i),a!=null&&s.push(Wo(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Ev=/\r\n?/g,_v=/\u0000|\uFFFD/g;function gd(e){return(typeof e=="string"?e:""+e).replace(Ev,`
`).replace(_v,"")}function Ti(e,t,n){if(t=gd(t),gd(e)!==t&&n)throw Error(V(425))}function hs(){}var Ma=null,$a=null;function Ia(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ba=typeof setTimeout=="function"?setTimeout:void 0,kv=typeof clearTimeout=="function"?clearTimeout:void 0,yd=typeof Promise=="function"?Promise:void 0,Cv=typeof queueMicrotask=="function"?queueMicrotask:typeof yd<"u"?function(e){return yd.resolve(null).then(e).catch(Pv)}:ba;function Pv(e){setTimeout(function(){throw e})}function Rl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Ho(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ho(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var eo=Math.random().toString(36).slice(2),It="__reactFiber$"+eo,Qo="__reactProps$"+eo,Xt="__reactContainer$"+eo,za="__reactEvents$"+eo,Tv="__reactListeners$"+eo,Mv="__reactHandles$"+eo;function Hn(e){var t=e[It];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xt]||n[It]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vd(e);e!==null;){if(n=e[It])return n;e=vd(e)}return t}e=n,n=e.parentNode}return null}function fi(e){return e=e[It]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Ys(e){return e[Qo]||null}var Aa=[],Er=-1;function Tn(e){return{current:e}}function ae(e){0>Er||(e.current=Aa[Er],Aa[Er]=null,Er--)}function ie(e,t){Er++,Aa[Er]=e.current,e.current=t}var kn={},De=Tn(kn),Ye=Tn(!1),Xn=kn;function Fr(e,t){var n=e.type.contextTypes;if(!n)return kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ke(e){return e=e.childContextTypes,e!=null}function ms(){ae(Ye),ae(De)}function xd(e,t,n){if(De.current!==kn)throw Error(V(168));ie(De,t),ie(Ye,n)}function rh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(V(108,py(e)||"Unknown",o));return fe({},n,r)}function gs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Xn=De.current,ie(De,e),ie(Ye,Ye.current),!0}function wd(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=rh(e,t,Xn),r.__reactInternalMemoizedMergedChildContext=e,ae(Ye),ae(De),ie(De,e)):ae(Ye),ie(Ye,n)}var Vt=null,Ks=!1,Dl=!1;function oh(e){Vt===null?Vt=[e]:Vt.push(e)}function $v(e){Ks=!0,oh(e)}function Mn(){if(!Dl&&Vt!==null){Dl=!0;var e=0,t=re;try{var n=Vt;for(re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vt=null,Ks=!1}catch(o){throw Vt!==null&&(Vt=Vt.slice(e+1)),Mp(Au,Mn),o}finally{re=t,Dl=!1}}return null}var _r=[],kr=0,ys=null,vs=0,st=[],lt=0,Gn=null,Bt=1,Ut="";function Rn(e,t){_r[kr++]=vs,_r[kr++]=ys,ys=e,vs=t}function ih(e,t,n){st[lt++]=Bt,st[lt++]=Ut,st[lt++]=Gn,Gn=e;var r=Bt;e=Ut;var o=32-_t(r)-1;r&=~(1<<o),n+=1;var i=32-_t(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Bt=1<<32-_t(t)+o|n<<o|r,Ut=i+e}else Bt=1<<i|n<<o|r,Ut=e}function Bu(e){e.return!==null&&(Rn(e,1),ih(e,1,0))}function Uu(e){for(;e===ys;)ys=_r[--kr],_r[kr]=null,vs=_r[--kr],_r[kr]=null;for(;e===Gn;)Gn=st[--lt],st[lt]=null,Ut=st[--lt],st[lt]=null,Bt=st[--lt],st[lt]=null}var Je=null,Ze=null,ue=!1,St=null;function sh(e,t){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ze=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gn!==null?{id:Bt,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Ze=null,!0):!1;default:return!1}}function ja(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ra(e){if(ue){var t=Ze;if(t){var n=t;if(!Sd(e,t)){if(ja(e))throw Error(V(418));t=yn(n.nextSibling);var r=Je;t&&Sd(e,t)?sh(r,n):(e.flags=e.flags&-4097|2,ue=!1,Je=e)}}else{if(ja(e))throw Error(V(418));e.flags=e.flags&-4097|2,ue=!1,Je=e}}}function Nd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Mi(e){if(e!==Je)return!1;if(!ue)return Nd(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ia(e.type,e.memoizedProps)),t&&(t=Ze)){if(ja(e))throw lh(),Error(V(418));for(;t;)sh(e,t),t=yn(t.nextSibling)}if(Nd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=Je?yn(e.stateNode.nextSibling):null;return!0}function lh(){for(var e=Ze;e;)e=yn(e.nextSibling)}function Hr(){Ze=Je=null,ue=!1}function Wu(e){St===null?St=[e]:St.push(e)}var Iv=tn.ReactCurrentBatchConfig;function co(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function $i(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ed(e){var t=e._init;return t(e._payload)}function ah(e){function t(p,g){if(e){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function o(p,g){return p=Sn(p,g),p.index=0,p.sibling=null,p}function i(p,g,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=2,g):y):(p.flags|=2,g)):(p.flags|=1048576,g)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,g,y,h){return g===null||g.tag!==6?(g=Ul(y,p.mode,h),g.return=p,g):(g=o(g,y),g.return=p,g)}function a(p,g,y,h){var N=y.type;return N===vr?c(p,g,y.props.children,h,y.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===on&&Ed(N)===g.type)?(h=o(g,y.props),h.ref=co(p,g,y),h.return=p,h):(h=ts(y.type,y.key,y.props,null,p.mode,h),h.ref=co(p,g,y),h.return=p,h)}function u(p,g,y,h){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Wl(y,p.mode,h),g.return=p,g):(g=o(g,y.children||[]),g.return=p,g)}function c(p,g,y,h,N){return g===null||g.tag!==7?(g=Yn(y,p.mode,h,N),g.return=p,g):(g=o(g,y),g.return=p,g)}function d(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ul(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case xi:return y=ts(g.type,g.key,g.props,null,p.mode,y),y.ref=co(p,null,g),y.return=p,y;case yr:return g=Wl(g,p.mode,y),g.return=p,g;case on:var h=g._init;return d(p,h(g._payload),y)}if(So(g)||io(g))return g=Yn(g,p.mode,y,null),g.return=p,g;$i(p,g)}return null}function f(p,g,y,h){var N=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:l(p,g,""+y,h);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xi:return y.key===N?a(p,g,y,h):null;case yr:return y.key===N?u(p,g,y,h):null;case on:return N=y._init,f(p,g,N(y._payload),h)}if(So(y)||io(y))return N!==null?null:c(p,g,y,h,null);$i(p,y)}return null}function m(p,g,y,h,N){if(typeof h=="string"&&h!==""||typeof h=="number")return p=p.get(y)||null,l(g,p,""+h,N);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case xi:return p=p.get(h.key===null?y:h.key)||null,a(g,p,h,N);case yr:return p=p.get(h.key===null?y:h.key)||null,u(g,p,h,N);case on:var C=h._init;return m(p,g,y,C(h._payload),N)}if(So(h)||io(h))return p=p.get(y)||null,c(g,p,h,N,null);$i(g,h)}return null}function S(p,g,y,h){for(var N=null,C=null,k=g,P=g=0,M=null;k!==null&&P<y.length;P++){k.index>P?(M=k,k=null):M=k.sibling;var z=f(p,k,y[P],h);if(z===null){k===null&&(k=M);break}e&&k&&z.alternate===null&&t(p,k),g=i(z,g,P),C===null?N=z:C.sibling=z,C=z,k=M}if(P===y.length)return n(p,k),ue&&Rn(p,P),N;if(k===null){for(;P<y.length;P++)k=d(p,y[P],h),k!==null&&(g=i(k,g,P),C===null?N=k:C.sibling=k,C=k);return ue&&Rn(p,P),N}for(k=r(p,k);P<y.length;P++)M=m(k,p,P,y[P],h),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?P:M.key),g=i(M,g,P),C===null?N=M:C.sibling=M,C=M);return e&&k.forEach(function(H){return t(p,H)}),ue&&Rn(p,P),N}function v(p,g,y,h){var N=io(y);if(typeof N!="function")throw Error(V(150));if(y=N.call(y),y==null)throw Error(V(151));for(var C=N=null,k=g,P=g=0,M=null,z=y.next();k!==null&&!z.done;P++,z=y.next()){k.index>P?(M=k,k=null):M=k.sibling;var H=f(p,k,z.value,h);if(H===null){k===null&&(k=M);break}e&&k&&H.alternate===null&&t(p,k),g=i(H,g,P),C===null?N=H:C.sibling=H,C=H,k=M}if(z.done)return n(p,k),ue&&Rn(p,P),N;if(k===null){for(;!z.done;P++,z=y.next())z=d(p,z.value,h),z!==null&&(g=i(z,g,P),C===null?N=z:C.sibling=z,C=z);return ue&&Rn(p,P),N}for(k=r(p,k);!z.done;P++,z=y.next())z=m(k,p,P,z.value,h),z!==null&&(e&&z.alternate!==null&&k.delete(z.key===null?P:z.key),g=i(z,g,P),C===null?N=z:C.sibling=z,C=z);return e&&k.forEach(function(F){return t(p,F)}),ue&&Rn(p,P),N}function E(p,g,y,h){if(typeof y=="object"&&y!==null&&y.type===vr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case xi:e:{for(var N=y.key,C=g;C!==null;){if(C.key===N){if(N=y.type,N===vr){if(C.tag===7){n(p,C.sibling),g=o(C,y.props.children),g.return=p,p=g;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===on&&Ed(N)===C.type){n(p,C.sibling),g=o(C,y.props),g.ref=co(p,C,y),g.return=p,p=g;break e}n(p,C);break}else t(p,C);C=C.sibling}y.type===vr?(g=Yn(y.props.children,p.mode,h,y.key),g.return=p,p=g):(h=ts(y.type,y.key,y.props,null,p.mode,h),h.ref=co(p,g,y),h.return=p,p=h)}return s(p);case yr:e:{for(C=y.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(p,g.sibling),g=o(g,y.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else t(p,g);g=g.sibling}g=Wl(y,p.mode,h),g.return=p,p=g}return s(p);case on:return C=y._init,E(p,g,C(y._payload),h)}if(So(y))return S(p,g,y,h);if(io(y))return v(p,g,y,h);$i(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(p,g.sibling),g=o(g,y),g.return=p,p=g):(n(p,g),g=Ul(y,p.mode,h),g.return=p,p=g),s(p)):n(p,g)}return E}var Vr=ah(!0),uh=ah(!1),xs=Tn(null),ws=null,Cr=null,Qu=null;function Yu(){Qu=Cr=ws=null}function Ku(e){var t=xs.current;ae(xs),e._currentValue=t}function Da(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ar(e,t){ws=e,Qu=Cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(Qu!==e)if(e={context:e,memoizedValue:t,next:null},Cr===null){if(ws===null)throw Error(V(308));Cr=e,ws.dependencies={lanes:0,firstContext:e}}else Cr=Cr.next=e;return t}var Vn=null;function qu(e){Vn===null?Vn=[e]:Vn.push(e)}function ch(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,qu(t)):(n.next=o.next,o.next=n),t.interleaved=n,Gt(e,r)}function Gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sn=!1;function Xu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Gt(e,n)}return o=r.interleaved,o===null?(t.next=t,qu(r)):(t.next=o.next,o.next=t),r.interleaved=t,Gt(e,n)}function qi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ju(e,n)}}function _d(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ss(e,t,n,r){var o=e.updateQueue;sn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?i=u:s.next=u,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var d=o.baseState;s=0,c=u=a=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=e,v=l;switch(f=t,m=n,v.tag){case 1:if(S=v.payload,typeof S=="function"){d=S.call(m,d,f);break e}d=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=v.payload,f=typeof S=="function"?S.call(m,d,f):S,f==null)break e;d=fe({},d,f);break e;case 2:sn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=m,a=d):c=c.next=m,s|=f;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;f=l,l=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(c===null&&(a=d),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Jn|=s,e.lanes=s,e.memoizedState=d}}function kd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(V(191,o));o.call(r)}}}var pi={},zt=Tn(pi),Yo=Tn(pi),Ko=Tn(pi);function Bn(e){if(e===pi)throw Error(V(174));return e}function Gu(e,t){switch(ie(Ko,t),ie(Yo,e),ie(zt,pi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ya(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ya(t,e)}ae(zt),ie(zt,t)}function Br(){ae(zt),ae(Yo),ae(Ko)}function fh(e){Bn(Ko.current);var t=Bn(zt.current),n=ya(t,e.type);t!==n&&(ie(Yo,e),ie(zt,n))}function Zu(e){Yo.current===e&&(ae(zt),ae(Yo))}var ce=Tn(0);function Ns(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ll=[];function Ju(){for(var e=0;e<Ll.length;e++)Ll[e]._workInProgressVersionPrimary=null;Ll.length=0}var Xi=tn.ReactCurrentDispatcher,Ol=tn.ReactCurrentBatchConfig,Zn=0,de=null,we=null,_e=null,Es=!1,bo=!1,qo=0,bv=0;function Ae(){throw Error(V(321))}function ec(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ct(e[n],t[n]))return!1;return!0}function tc(e,t,n,r,o,i){if(Zn=i,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xi.current=e===null||e.memoizedState===null?Rv:Dv,e=n(r,o),bo){i=0;do{if(bo=!1,qo=0,25<=i)throw Error(V(301));i+=1,_e=we=null,t.updateQueue=null,Xi.current=Lv,e=n(r,o)}while(bo)}if(Xi.current=_s,t=we!==null&&we.next!==null,Zn=0,_e=we=de=null,Es=!1,t)throw Error(V(300));return e}function nc(){var e=qo!==0;return qo=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?de.memoizedState=_e=e:_e=_e.next=e,_e}function mt(){if(we===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=_e===null?de.memoizedState:_e.next;if(t!==null)_e=t,we=e;else{if(e===null)throw Error(V(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},_e===null?de.memoizedState=_e=e:_e=_e.next=e}return _e}function Xo(e,t){return typeof t=="function"?t(e):t}function Fl(e){var t=mt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=we,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,a=null,u=i;do{var c=u.lane;if((Zn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,s=r):a=a.next=d,de.lanes|=c,Jn|=c}u=u.next}while(u!==null&&u!==i);a===null?s=r:a.next=l,Ct(r,t.memoizedState)||(We=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,de.lanes|=i,Jn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hl(e){var t=mt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Ct(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ph(){}function hh(e,t){var n=de,r=mt(),o=t(),i=!Ct(r.memoizedState,o);if(i&&(r.memoizedState=o,We=!0),r=r.queue,rc(yh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,Go(9,gh.bind(null,n,r,o,t),void 0,null),Ce===null)throw Error(V(349));Zn&30||mh(n,t,o)}return o}function mh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gh(e,t,n,r){t.value=n,t.getSnapshot=r,vh(t)&&xh(e)}function yh(e,t,n){return n(function(){vh(t)&&xh(e)})}function vh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ct(e,n)}catch{return!0}}function xh(e){var t=Gt(e,1);t!==null&&kt(t,e,1,-1)}function Cd(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:e},t.queue=e,e=e.dispatch=jv.bind(null,de,e),[t.memoizedState,e]}function Go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function wh(){return mt().memoizedState}function Gi(e,t,n,r){var o=$t();de.flags|=e,o.memoizedState=Go(1|t,n,void 0,r===void 0?null:r)}function qs(e,t,n,r){var o=mt();r=r===void 0?null:r;var i=void 0;if(we!==null){var s=we.memoizedState;if(i=s.destroy,r!==null&&ec(r,s.deps)){o.memoizedState=Go(t,n,i,r);return}}de.flags|=e,o.memoizedState=Go(1|t,n,i,r)}function Pd(e,t){return Gi(8390656,8,e,t)}function rc(e,t){return qs(2048,8,e,t)}function Sh(e,t){return qs(4,2,e,t)}function Nh(e,t){return qs(4,4,e,t)}function Eh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _h(e,t,n){return n=n!=null?n.concat([e]):null,qs(4,4,Eh.bind(null,t,e),n)}function oc(){}function kh(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ec(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ch(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ec(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ph(e,t,n){return Zn&21?(Ct(n,t)||(n=bp(),de.lanes|=n,Jn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function zv(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var r=Ol.transition;Ol.transition={};try{e(!1),t()}finally{re=n,Ol.transition=r}}function Th(){return mt().memoizedState}function Av(e,t,n){var r=wn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mh(e))$h(t,n);else if(n=ch(e,t,n,r),n!==null){var o=He();kt(n,e,r,o),Ih(n,t,r)}}function jv(e,t,n){var r=wn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mh(e))$h(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,Ct(l,s)){var a=t.interleaved;a===null?(o.next=o,qu(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=ch(e,t,o,r),n!==null&&(o=He(),kt(n,e,r,o),Ih(n,t,r))}}function Mh(e){var t=e.alternate;return e===de||t!==null&&t===de}function $h(e,t){bo=Es=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ih(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ju(e,n)}}var _s={readContext:ht,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},Rv={readContext:ht,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:Pd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gi(4194308,4,Eh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gi(4,2,e,t)},useMemo:function(e,t){var n=$t();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$t();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Av.bind(null,de,e),[r.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:Cd,useDebugValue:oc,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=Cd(!1),t=e[0];return e=zv.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=de,o=$t();if(ue){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),Ce===null)throw Error(V(349));Zn&30||mh(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Pd(yh.bind(null,r,i,e),[e]),r.flags|=2048,Go(9,gh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=$t(),t=Ce.identifierPrefix;if(ue){var n=Ut,r=Bt;n=(r&~(1<<32-_t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=qo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dv={readContext:ht,useCallback:kh,useContext:ht,useEffect:rc,useImperativeHandle:_h,useInsertionEffect:Sh,useLayoutEffect:Nh,useMemo:Ch,useReducer:Fl,useRef:wh,useState:function(){return Fl(Xo)},useDebugValue:oc,useDeferredValue:function(e){var t=mt();return Ph(t,we.memoizedState,e)},useTransition:function(){var e=Fl(Xo)[0],t=mt().memoizedState;return[e,t]},useMutableSource:ph,useSyncExternalStore:hh,useId:Th,unstable_isNewReconciler:!1},Lv={readContext:ht,useCallback:kh,useContext:ht,useEffect:rc,useImperativeHandle:_h,useInsertionEffect:Sh,useLayoutEffect:Nh,useMemo:Ch,useReducer:Hl,useRef:wh,useState:function(){return Hl(Xo)},useDebugValue:oc,useDeferredValue:function(e){var t=mt();return we===null?t.memoizedState=e:Ph(t,we.memoizedState,e)},useTransition:function(){var e=Hl(Xo)[0],t=mt().memoizedState;return[e,t]},useMutableSource:ph,useSyncExternalStore:hh,useId:Th,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function La(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xs={isMounted:function(e){return(e=e._reactInternals)?ir(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=He(),o=wn(e),i=Yt(r,o);i.payload=t,n!=null&&(i.callback=n),t=vn(e,i,o),t!==null&&(kt(t,e,o,r),qi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=He(),o=wn(e),i=Yt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=vn(e,i,o),t!==null&&(kt(t,e,o,r),qi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=He(),r=wn(e),o=Yt(n,r);o.tag=2,t!=null&&(o.callback=t),t=vn(e,o,r),t!==null&&(kt(t,e,r,n),qi(t,e,r))}};function Td(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Bo(n,r)||!Bo(o,i):!0}function bh(e,t,n){var r=!1,o=kn,i=t.contextType;return typeof i=="object"&&i!==null?i=ht(i):(o=Ke(t)?Xn:De.current,r=t.contextTypes,i=(r=r!=null)?Fr(e,o):kn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Md(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xs.enqueueReplaceState(t,t.state,null)}function Oa(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Xu(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=ht(i):(i=Ke(t)?Xn:De.current,o.context=Fr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(La(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Xs.enqueueReplaceState(o,o.state,null),Ss(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ur(e,t){try{var n="",r=t;do n+=fy(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Vl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ov=typeof WeakMap=="function"?WeakMap:Map;function zh(e,t,n){n=Yt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Cs||(Cs=!0,Xa=r),Fa(e,t)},n}function Ah(e,t,n){n=Yt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Fa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Fa(e,t),typeof r!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function $d(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ov;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Jv.bind(null,e,t,n),t.then(e,e))}function Id(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yt(-1,1),t.tag=2,vn(n,t,1))),n.lanes|=1),e)}var Fv=tn.ReactCurrentOwner,We=!1;function Fe(e,t,n,r){t.child=e===null?uh(t,null,n,r):Vr(t,e.child,n,r)}function zd(e,t,n,r,o){n=n.render;var i=t.ref;return Ar(t,o),r=tc(e,t,n,r,i,o),n=nc(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(ue&&n&&Bu(t),t.flags|=1,Fe(e,t,r,o),t.child)}function Ad(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!fc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,jh(e,t,i,r,o)):(e=ts(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Bo,n(s,r)&&e.ref===t.ref)return Zt(e,t,o)}return t.flags|=1,e=Sn(i,r),e.ref=t.ref,e.return=t,t.child=e}function jh(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Bo(i,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Zt(e,t,o)}return Ha(e,t,n,r,o)}function Rh(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Tr,Ge),Ge|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(Tr,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ie(Tr,Ge),Ge|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ie(Tr,Ge),Ge|=r;return Fe(e,t,o,n),t.child}function Dh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ha(e,t,n,r,o){var i=Ke(n)?Xn:De.current;return i=Fr(t,i),Ar(t,o),n=tc(e,t,n,r,i,o),r=nc(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(ue&&r&&Bu(t),t.flags|=1,Fe(e,t,n,o),t.child)}function jd(e,t,n,r,o){if(Ke(n)){var i=!0;gs(t)}else i=!1;if(Ar(t,o),t.stateNode===null)Zi(e,t),bh(t,n,r),Oa(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ht(u):(u=Ke(n)?Xn:De.current,u=Fr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Md(t,s,r,u),sn=!1;var f=t.memoizedState;s.state=f,Ss(t,r,s,o),a=t.memoizedState,l!==r||f!==a||Ye.current||sn?(typeof c=="function"&&(La(t,n,c,r),a=t.memoizedState),(l=sn||Td(t,n,l,r,f,a,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,dh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:vt(t.type,l),s.props=u,d=t.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=ht(a):(a=Ke(n)?Xn:De.current,a=Fr(t,a));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||f!==a)&&Md(t,s,r,a),sn=!1,f=t.memoizedState,s.state=f,Ss(t,r,s,o);var S=t.memoizedState;l!==d||f!==S||Ye.current||sn?(typeof m=="function"&&(La(t,n,m,r),S=t.memoizedState),(u=sn||Td(t,n,u,r,f,S,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,S,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,S,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),s.props=r,s.state=S,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Va(e,t,n,r,i,o)}function Va(e,t,n,r,o,i){Dh(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&wd(t,n,!1),Zt(e,t,i);r=t.stateNode,Fv.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Vr(t,e.child,null,i),t.child=Vr(t,null,l,i)):Fe(e,t,l,i),t.memoizedState=r.state,o&&wd(t,n,!0),t.child}function Lh(e){var t=e.stateNode;t.pendingContext?xd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xd(e,t.context,!1),Gu(e,t.containerInfo)}function Rd(e,t,n,r,o){return Hr(),Wu(o),t.flags|=256,Fe(e,t,n,r),t.child}var Ba={dehydrated:null,treeContext:null,retryLane:0};function Ua(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oh(e,t,n){var r=t.pendingProps,o=ce.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ie(ce,o&1),e===null)return Ra(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Js(s,r,0,null),e=Yn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ua(n),t.memoizedState=Ba,e):ic(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Hv(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Sn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=Sn(l,i):(i=Yn(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Ua(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Ba,r}return i=e.child,e=i.sibling,r=Sn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ic(e,t){return t=Js({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ii(e,t,n,r){return r!==null&&Wu(r),Vr(t,e.child,null,n),e=ic(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hv(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Vl(Error(V(422))),Ii(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Js({mode:"visible",children:r.children},o,0,null),i=Yn(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Vr(t,e.child,null,s),t.child.memoizedState=Ua(s),t.memoizedState=Ba,i);if(!(t.mode&1))return Ii(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(V(419)),r=Vl(i,r,void 0),Ii(e,t,s,r)}if(l=(s&e.childLanes)!==0,We||l){if(r=Ce,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Gt(e,o),kt(r,e,o,-1))}return dc(),r=Vl(Error(V(421))),Ii(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=ex.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Ze=yn(o.nextSibling),Je=t,ue=!0,St=null,e!==null&&(st[lt++]=Bt,st[lt++]=Ut,st[lt++]=Gn,Bt=e.id,Ut=e.overflow,Gn=t),t=ic(t,r.children),t.flags|=4096,t)}function Dd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Da(e.return,t,n)}function Bl(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Fh(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Fe(e,t,r.children,n),r=ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dd(e,n,t);else if(e.tag===19)Dd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ie(ce,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ns(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Bl(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ns(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Bl(t,!0,n,null,i);break;case"together":Bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=Sn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Sn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vv(e,t,n){switch(t.tag){case 3:Lh(t),Hr();break;case 5:fh(t);break;case 1:Ke(t.type)&&gs(t);break;case 4:Gu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ie(xs,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ie(ce,ce.current&1),t.flags|=128,null):n&t.child.childLanes?Oh(e,t,n):(ie(ce,ce.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);ie(ce,ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Fh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ie(ce,ce.current),r)break;return null;case 22:case 23:return t.lanes=0,Rh(e,t,n)}return Zt(e,t,n)}var Hh,Wa,Vh,Bh;Hh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wa=function(){};Vh=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Bn(zt.current);var i=null;switch(n){case"input":o=pa(e,o),r=pa(e,r),i=[];break;case"select":o=fe({},o,{value:void 0}),r=fe({},r,{value:void 0}),i=[];break;case"textarea":o=ga(e,o),r=ga(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=hs)}va(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ro.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&le("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Bh=function(e,t,n,r){n!==r&&(t.flags|=4)};function fo(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bv(e,t,n){var r=t.pendingProps;switch(Uu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return Ke(t.type)&&ms(),je(t),null;case 3:return r=t.stateNode,Br(),ae(Ye),ae(De),Ju(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Mi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(Ja(St),St=null))),Wa(e,t),je(t),null;case 5:Zu(t);var o=Bn(Ko.current);if(n=t.type,e!==null&&t.stateNode!=null)Vh(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return je(t),null}if(e=Bn(zt.current),Mi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[It]=t,r[Qo]=i,e=(t.mode&1)!==0,n){case"dialog":le("cancel",r),le("close",r);break;case"iframe":case"object":case"embed":le("load",r);break;case"video":case"audio":for(o=0;o<Eo.length;o++)le(Eo[o],r);break;case"source":le("error",r);break;case"img":case"image":case"link":le("error",r),le("load",r);break;case"details":le("toggle",r);break;case"input":Qc(r,i),le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},le("invalid",r);break;case"textarea":Kc(r,i),le("invalid",r)}va(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ti(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ti(r.textContent,l,e),o=["children",""+l]):Ro.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&le("scroll",r)}switch(n){case"input":wi(r),Yc(r,i,!0);break;case"textarea":wi(r),qc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=hs)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[It]=t,e[Qo]=r,Hh(e,t,!1,!1),t.stateNode=e;e:{switch(s=xa(n,r),n){case"dialog":le("cancel",e),le("close",e),o=r;break;case"iframe":case"object":case"embed":le("load",e),o=r;break;case"video":case"audio":for(o=0;o<Eo.length;o++)le(Eo[o],e);o=r;break;case"source":le("error",e),o=r;break;case"img":case"image":case"link":le("error",e),le("load",e),o=r;break;case"details":le("toggle",e),o=r;break;case"input":Qc(e,r),o=pa(e,r),le("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=fe({},r,{value:void 0}),le("invalid",e);break;case"textarea":Kc(e,r),o=ga(e,r),le("invalid",e);break;default:o=r}va(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?wp(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&vp(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Do(e,a):typeof a=="number"&&Do(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ro.hasOwnProperty(i)?a!=null&&i==="onScroll"&&le("scroll",e):a!=null&&Mu(e,i,a,s))}switch(n){case"input":wi(e),Yc(e,r,!1);break;case"textarea":wi(e),qc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_n(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?$r(e,!!r.multiple,i,!1):r.defaultValue!=null&&$r(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=hs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)Bh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=Bn(Ko.current),Bn(zt.current),Mi(t)){if(r=t.stateNode,n=t.memoizedProps,r[It]=t,(i=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:Ti(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ti(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[It]=t,t.stateNode=r}return je(t),null;case 13:if(ae(ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&Ze!==null&&t.mode&1&&!(t.flags&128))lh(),Hr(),t.flags|=98560,i=!1;else if(i=Mi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(V(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(V(317));i[It]=t}else Hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),i=!1}else St!==null&&(Ja(St),St=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ce.current&1?Se===0&&(Se=3):dc())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return Br(),Wa(e,t),e===null&&Uo(t.stateNode.containerInfo),je(t),null;case 10:return Ku(t.type._context),je(t),null;case 17:return Ke(t.type)&&ms(),je(t),null;case 19:if(ae(ce),i=t.memoizedState,i===null)return je(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)fo(i,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ns(e),s!==null){for(t.flags|=128,fo(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(ce,ce.current&1|2),t.child}e=e.sibling}i.tail!==null&&ye()>Wr&&(t.flags|=128,r=!0,fo(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ns(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ue)return je(t),null}else 2*ye()-i.renderingStartTime>Wr&&n!==1073741824&&(t.flags|=128,r=!0,fo(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ye(),t.sibling=null,n=ce.current,ie(ce,r?n&1|2:n&1),t):(je(t),null);case 22:case 23:return cc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ge&1073741824&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function Uv(e,t){switch(Uu(t),t.tag){case 1:return Ke(t.type)&&ms(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Br(),ae(Ye),ae(De),Ju(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zu(t),null;case 13:if(ae(ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(ce),null;case 4:return Br(),null;case 10:return Ku(t.type._context),null;case 22:case 23:return cc(),null;case 24:return null;default:return null}}var bi=!1,Re=!1,Wv=typeof WeakSet=="function"?WeakSet:Set,W=null;function Pr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pe(e,t,r)}else n.current=null}function Qa(e,t,n){try{n()}catch(r){pe(e,t,r)}}var Ld=!1;function Qv(e,t){if(Ma=ds,e=Kp(),Vu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var m;d!==n||o!==0&&d.nodeType!==3||(l=s+o),d!==i||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++u===o&&(l=s),f===i&&++c===r&&(a=s),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for($a={focusedElem:e,selectionRange:n},ds=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var v=S.memoizedProps,E=S.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:vt(t.type,v),E);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(h){pe(t,t.return,h)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return S=Ld,Ld=!1,S}function zo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Qa(t,n,i)}o=o.next}while(o!==r)}}function Gs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ya(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Uh(e){var t=e.alternate;t!==null&&(e.alternate=null,Uh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[Qo],delete t[za],delete t[Tv],delete t[Mv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wh(e){return e.tag===5||e.tag===3||e.tag===4}function Od(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ka(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hs));else if(r!==4&&(e=e.child,e!==null))for(Ka(e,t,n),e=e.sibling;e!==null;)Ka(e,t,n),e=e.sibling}function qa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qa(e,t,n),e=e.sibling;e!==null;)qa(e,t,n),e=e.sibling}var Te=null,xt=!1;function nn(e,t,n){for(n=n.child;n!==null;)Qh(e,t,n),n=n.sibling}function Qh(e,t,n){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Bs,n)}catch{}switch(n.tag){case 5:Re||Pr(n,t);case 6:var r=Te,o=xt;Te=null,nn(e,t,n),Te=r,xt=o,Te!==null&&(xt?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(xt?(e=Te,n=n.stateNode,e.nodeType===8?Rl(e.parentNode,n):e.nodeType===1&&Rl(e,n),Ho(e)):Rl(Te,n.stateNode));break;case 4:r=Te,o=xt,Te=n.stateNode.containerInfo,xt=!0,nn(e,t,n),Te=r,xt=o;break;case 0:case 11:case 14:case 15:if(!Re&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Qa(n,t,s),o=o.next}while(o!==r)}nn(e,t,n);break;case 1:if(!Re&&(Pr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pe(n,t,l)}nn(e,t,n);break;case 21:nn(e,t,n);break;case 22:n.mode&1?(Re=(r=Re)||n.memoizedState!==null,nn(e,t,n),Re=r):nn(e,t,n);break;default:nn(e,t,n)}}function Fd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Wv),t.forEach(function(r){var o=tx.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function yt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Te=l.stateNode,xt=!1;break e;case 3:Te=l.stateNode.containerInfo,xt=!0;break e;case 4:Te=l.stateNode.containerInfo,xt=!0;break e}l=l.return}if(Te===null)throw Error(V(160));Qh(i,s,o),Te=null,xt=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){pe(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yh(t,e),t=t.sibling}function Yh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),Mt(e),r&4){try{zo(3,e,e.return),Gs(3,e)}catch(v){pe(e,e.return,v)}try{zo(5,e,e.return)}catch(v){pe(e,e.return,v)}}break;case 1:yt(t,e),Mt(e),r&512&&n!==null&&Pr(n,n.return);break;case 5:if(yt(t,e),Mt(e),r&512&&n!==null&&Pr(n,n.return),e.flags&32){var o=e.stateNode;try{Do(o,"")}catch(v){pe(e,e.return,v)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&mp(o,i),xa(l,s);var u=xa(l,i);for(s=0;s<a.length;s+=2){var c=a[s],d=a[s+1];c==="style"?wp(o,d):c==="dangerouslySetInnerHTML"?vp(o,d):c==="children"?Do(o,d):Mu(o,c,d,u)}switch(l){case"input":ha(o,i);break;case"textarea":gp(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?$r(o,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?$r(o,!!i.multiple,i.defaultValue,!0):$r(o,!!i.multiple,i.multiple?[]:"",!1))}o[Qo]=i}catch(v){pe(e,e.return,v)}}break;case 6:if(yt(t,e),Mt(e),r&4){if(e.stateNode===null)throw Error(V(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(v){pe(e,e.return,v)}}break;case 3:if(yt(t,e),Mt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ho(t.containerInfo)}catch(v){pe(e,e.return,v)}break;case 4:yt(t,e),Mt(e);break;case 13:yt(t,e),Mt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(ac=ye())),r&4&&Fd(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Re=(u=Re)||c,yt(t,e),Re=u):yt(t,e),Mt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(W=e,c=e.child;c!==null;){for(d=W=c;W!==null;){switch(f=W,m=f.child,f.tag){case 0:case 11:case 14:case 15:zo(4,f,f.return);break;case 1:Pr(f,f.return);var S=f.stateNode;if(typeof S.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(v){pe(r,n,v)}}break;case 5:Pr(f,f.return);break;case 22:if(f.memoizedState!==null){Vd(d);continue}}m!==null?(m.return=f,W=m):Vd(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=xp("display",s))}catch(v){pe(e,e.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){pe(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yt(t,e),Mt(e),r&4&&Fd(e);break;case 21:break;default:yt(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wh(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Do(o,""),r.flags&=-33);var i=Od(e);qa(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Od(e);Ka(e,l,s);break;default:throw Error(V(161))}}catch(a){pe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yv(e,t,n){W=e,Kh(e)}function Kh(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var o=W,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||bi;if(!s){var l=o.alternate,a=l!==null&&l.memoizedState!==null||Re;l=bi;var u=Re;if(bi=s,(Re=a)&&!u)for(W=o;W!==null;)s=W,a=s.child,s.tag===22&&s.memoizedState!==null?Bd(o):a!==null?(a.return=s,W=a):Bd(o);for(;i!==null;)W=i,Kh(i),i=i.sibling;W=o,bi=l,Re=u}Hd(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,W=i):Hd(e)}}function Hd(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||Gs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Re)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:vt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&kd(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kd(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ho(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Re||t.flags&512&&Ya(t)}catch(f){pe(t,t.return,f)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Vd(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function Bd(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gs(4,t)}catch(a){pe(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){pe(t,o,a)}}var i=t.return;try{Ya(t)}catch(a){pe(t,i,a)}break;case 5:var s=t.return;try{Ya(t)}catch(a){pe(t,s,a)}}}catch(a){pe(t,t.return,a)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var Kv=Math.ceil,ks=tn.ReactCurrentDispatcher,sc=tn.ReactCurrentOwner,ft=tn.ReactCurrentBatchConfig,ne=0,Ce=null,ve=null,Me=0,Ge=0,Tr=Tn(0),Se=0,Zo=null,Jn=0,Zs=0,lc=0,Ao=null,Ue=null,ac=0,Wr=1/0,Ht=null,Cs=!1,Xa=null,xn=null,zi=!1,pn=null,Ps=0,jo=0,Ga=null,Ji=-1,es=0;function He(){return ne&6?ye():Ji!==-1?Ji:Ji=ye()}function wn(e){return e.mode&1?ne&2&&Me!==0?Me&-Me:Iv.transition!==null?(es===0&&(es=bp()),es):(e=re,e!==0||(e=window.event,e=e===void 0?16:Op(e.type)),e):1}function kt(e,t,n,r){if(50<jo)throw jo=0,Ga=null,Error(V(185));ci(e,n,r),(!(ne&2)||e!==Ce)&&(e===Ce&&(!(ne&2)&&(Zs|=n),Se===4&&cn(e,Me)),qe(e,r),n===1&&ne===0&&!(t.mode&1)&&(Wr=ye()+500,Ks&&Mn()))}function qe(e,t){var n=e.callbackNode;Iy(e,t);var r=cs(e,e===Ce?Me:0);if(r===0)n!==null&&Zc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Zc(n),t===1)e.tag===0?$v(Ud.bind(null,e)):oh(Ud.bind(null,e)),Cv(function(){!(ne&6)&&Mn()}),n=null;else{switch(zp(r)){case 1:n=Au;break;case 4:n=$p;break;case 16:n=us;break;case 536870912:n=Ip;break;default:n=us}n=nm(n,qh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qh(e,t){if(Ji=-1,es=0,ne&6)throw Error(V(327));var n=e.callbackNode;if(jr()&&e.callbackNode!==n)return null;var r=cs(e,e===Ce?Me:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ts(e,r);else{t=r;var o=ne;ne|=2;var i=Gh();(Ce!==e||Me!==t)&&(Ht=null,Wr=ye()+500,Qn(e,t));do try{Gv();break}catch(l){Xh(e,l)}while(!0);Yu(),ks.current=i,ne=o,ve!==null?t=0:(Ce=null,Me=0,t=Se)}if(t!==0){if(t===2&&(o=_a(e),o!==0&&(r=o,t=Za(e,o))),t===1)throw n=Zo,Qn(e,0),cn(e,r),qe(e,ye()),n;if(t===6)cn(e,r);else{if(o=e.current.alternate,!(r&30)&&!qv(o)&&(t=Ts(e,r),t===2&&(i=_a(e),i!==0&&(r=i,t=Za(e,i))),t===1))throw n=Zo,Qn(e,0),cn(e,r),qe(e,ye()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:Dn(e,Ue,Ht);break;case 3:if(cn(e,r),(r&130023424)===r&&(t=ac+500-ye(),10<t)){if(cs(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){He(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ba(Dn.bind(null,e,Ue,Ht),t);break}Dn(e,Ue,Ht);break;case 4:if(cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-_t(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kv(r/1960))-r,10<r){e.timeoutHandle=ba(Dn.bind(null,e,Ue,Ht),r);break}Dn(e,Ue,Ht);break;case 5:Dn(e,Ue,Ht);break;default:throw Error(V(329))}}}return qe(e,ye()),e.callbackNode===n?qh.bind(null,e):null}function Za(e,t){var n=Ao;return e.current.memoizedState.isDehydrated&&(Qn(e,t).flags|=256),e=Ts(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&Ja(t)),e}function Ja(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function qv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Ct(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~lc,t&=~Zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),r=1<<n;e[n]=-1,t&=~r}}function Ud(e){if(ne&6)throw Error(V(327));jr();var t=cs(e,0);if(!(t&1))return qe(e,ye()),null;var n=Ts(e,t);if(e.tag!==0&&n===2){var r=_a(e);r!==0&&(t=r,n=Za(e,r))}if(n===1)throw n=Zo,Qn(e,0),cn(e,t),qe(e,ye()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dn(e,Ue,Ht),qe(e,ye()),null}function uc(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(Wr=ye()+500,Ks&&Mn())}}function er(e){pn!==null&&pn.tag===0&&!(ne&6)&&jr();var t=ne;ne|=1;var n=ft.transition,r=re;try{if(ft.transition=null,re=1,e)return e()}finally{re=r,ft.transition=n,ne=t,!(ne&6)&&Mn()}}function cc(){Ge=Tr.current,ae(Tr)}function Qn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kv(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(Uu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ms();break;case 3:Br(),ae(Ye),ae(De),Ju();break;case 5:Zu(r);break;case 4:Br();break;case 13:ae(ce);break;case 19:ae(ce);break;case 10:Ku(r.type._context);break;case 22:case 23:cc()}n=n.return}if(Ce=e,ve=e=Sn(e.current,null),Me=Ge=t,Se=0,Zo=null,lc=Zs=Jn=0,Ue=Ao=null,Vn!==null){for(t=0;t<Vn.length;t++)if(n=Vn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Vn=null}return e}function Xh(e,t){do{var n=ve;try{if(Yu(),Xi.current=_s,Es){for(var r=de.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Es=!1}if(Zn=0,_e=we=de=null,bo=!1,qo=0,sc.current=null,n===null||n.return===null){Se=1,Zo=t,ve=null;break}e:{var i=e,s=n.return,l=n,a=t;if(t=Me,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Id(s);if(m!==null){m.flags&=-257,bd(m,s,l,i,t),m.mode&1&&$d(i,u,t),t=m,a=u;var S=t.updateQueue;if(S===null){var v=new Set;v.add(a),t.updateQueue=v}else S.add(a);break e}else{if(!(t&1)){$d(i,u,t),dc();break e}a=Error(V(426))}}else if(ue&&l.mode&1){var E=Id(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),bd(E,s,l,i,t),Wu(Ur(a,l));break e}}i=a=Ur(a,l),Se!==4&&(Se=2),Ao===null?Ao=[i]:Ao.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=zh(i,a,t);_d(i,p);break e;case 1:l=a;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xn===null||!xn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var h=Ah(i,l,t);_d(i,h);break e}}i=i.return}while(i!==null)}Jh(n)}catch(N){t=N,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function Gh(){var e=ks.current;return ks.current=_s,e===null?_s:e}function dc(){(Se===0||Se===3||Se===2)&&(Se=4),Ce===null||!(Jn&268435455)&&!(Zs&268435455)||cn(Ce,Me)}function Ts(e,t){var n=ne;ne|=2;var r=Gh();(Ce!==e||Me!==t)&&(Ht=null,Qn(e,t));do try{Xv();break}catch(o){Xh(e,o)}while(!0);if(Yu(),ne=n,ks.current=r,ve!==null)throw Error(V(261));return Ce=null,Me=0,Se}function Xv(){for(;ve!==null;)Zh(ve)}function Gv(){for(;ve!==null&&!Ny();)Zh(ve)}function Zh(e){var t=tm(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?Jh(e):ve=t,sc.current=null}function Jh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Uv(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,ve=null;return}}else if(n=Bv(n,t,Ge),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);Se===0&&(Se=5)}function Dn(e,t,n){var r=re,o=ft.transition;try{ft.transition=null,re=1,Zv(e,t,n,r)}finally{ft.transition=o,re=r}return null}function Zv(e,t,n,r){do jr();while(pn!==null);if(ne&6)throw Error(V(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(by(e,i),e===Ce&&(ve=Ce=null,Me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zi||(zi=!0,nm(us,function(){return jr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ft.transition,ft.transition=null;var s=re;re=1;var l=ne;ne|=4,sc.current=null,Qv(e,n),Yh(n,e),vv($a),ds=!!Ma,$a=Ma=null,e.current=n,Yv(n),Ey(),ne=l,re=s,ft.transition=i}else e.current=n;if(zi&&(zi=!1,pn=e,Ps=o),i=e.pendingLanes,i===0&&(xn=null),Cy(n.stateNode),qe(e,ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Cs)throw Cs=!1,e=Xa,Xa=null,e;return Ps&1&&e.tag!==0&&jr(),i=e.pendingLanes,i&1?e===Ga?jo++:(jo=0,Ga=e):jo=0,Mn(),null}function jr(){if(pn!==null){var e=zp(Ps),t=ft.transition,n=re;try{if(ft.transition=null,re=16>e?16:e,pn===null)var r=!1;else{if(e=pn,pn=null,Ps=0,ne&6)throw Error(V(331));var o=ne;for(ne|=4,W=e.current;W!==null;){var i=W,s=i.child;if(W.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:zo(8,c,i)}var d=c.child;if(d!==null)d.return=c,W=d;else for(;W!==null;){c=W;var f=c.sibling,m=c.return;if(Uh(c),c===u){W=null;break}if(f!==null){f.return=m,W=f;break}W=m}}}var S=i.alternate;if(S!==null){var v=S.child;if(v!==null){S.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}W=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,W=s;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zo(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,W=p;break e}W=i.return}}var g=e.current;for(W=g;W!==null;){s=W;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,W=y;else e:for(s=g;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gs(9,l)}}catch(N){pe(l,l.return,N)}if(l===s){W=null;break e}var h=l.sibling;if(h!==null){h.return=l.return,W=h;break e}W=l.return}}if(ne=o,Mn(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Bs,e)}catch{}r=!0}return r}finally{re=n,ft.transition=t}}return!1}function Wd(e,t,n){t=Ur(n,t),t=zh(e,t,1),e=vn(e,t,1),t=He(),e!==null&&(ci(e,1,t),qe(e,t))}function pe(e,t,n){if(e.tag===3)Wd(e,e,n);else for(;t!==null;){if(t.tag===3){Wd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xn===null||!xn.has(r))){e=Ur(n,e),e=Ah(t,e,1),t=vn(t,e,1),e=He(),t!==null&&(ci(t,1,e),qe(t,e));break}}t=t.return}}function Jv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&n,Ce===e&&(Me&n)===n&&(Se===4||Se===3&&(Me&130023424)===Me&&500>ye()-ac?Qn(e,0):lc|=n),qe(e,t)}function em(e,t){t===0&&(e.mode&1?(t=Ei,Ei<<=1,!(Ei&130023424)&&(Ei=4194304)):t=1);var n=He();e=Gt(e,t),e!==null&&(ci(e,t,n),qe(e,n))}function ex(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),em(e,n)}function tx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),em(e,n)}var tm;tm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,Vv(e,t,n);We=!!(e.flags&131072)}else We=!1,ue&&t.flags&1048576&&ih(t,vs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zi(e,t),e=t.pendingProps;var o=Fr(t,De.current);Ar(t,n),o=tc(null,t,r,e,o,n);var i=nc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(r)?(i=!0,gs(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Xu(t),o.updater=Xs,t.stateNode=o,o._reactInternals=t,Oa(t,r,e,n),t=Va(null,t,r,!0,i,n)):(t.tag=0,ue&&i&&Bu(t),Fe(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zi(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=rx(r),e=vt(r,e),o){case 0:t=Ha(null,t,r,e,n);break e;case 1:t=jd(null,t,r,e,n);break e;case 11:t=zd(null,t,r,e,n);break e;case 14:t=Ad(null,t,r,vt(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),Ha(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),jd(e,t,r,o,n);case 3:e:{if(Lh(t),e===null)throw Error(V(387));r=t.pendingProps,i=t.memoizedState,o=i.element,dh(e,t),Ss(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Ur(Error(V(423)),t),t=Rd(e,t,r,n,o);break e}else if(r!==o){o=Ur(Error(V(424)),t),t=Rd(e,t,r,n,o);break e}else for(Ze=yn(t.stateNode.containerInfo.firstChild),Je=t,ue=!0,St=null,n=uh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hr(),r===o){t=Zt(e,t,n);break e}Fe(e,t,r,n)}t=t.child}return t;case 5:return fh(t),e===null&&Ra(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Ia(r,o)?s=null:i!==null&&Ia(r,i)&&(t.flags|=32),Dh(e,t),Fe(e,t,s,n),t.child;case 6:return e===null&&Ra(t),null;case 13:return Oh(e,t,n);case 4:return Gu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vr(t,null,r,n):Fe(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),zd(e,t,r,o,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,ie(xs,r._currentValue),r._currentValue=s,i!==null)if(Ct(i.value,s)){if(i.children===o.children&&!Ye.current){t=Zt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Yt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Da(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(V(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Da(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Fe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ar(t,n),o=ht(o),r=r(o),t.flags|=1,Fe(e,t,r,n),t.child;case 14:return r=t.type,o=vt(r,t.pendingProps),o=vt(r.type,o),Ad(e,t,r,o,n);case 15:return jh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),Zi(e,t),t.tag=1,Ke(r)?(e=!0,gs(t)):e=!1,Ar(t,n),bh(t,r,o),Oa(t,r,o,n),Va(null,t,r,!0,e,n);case 19:return Fh(e,t,n);case 22:return Rh(e,t,n)}throw Error(V(156,t.tag))};function nm(e,t){return Mp(e,t)}function nx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,n,r){return new nx(e,t,n,r)}function fc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rx(e){if(typeof e=="function")return fc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Iu)return 11;if(e===bu)return 14}return 2}function Sn(e,t){var n=e.alternate;return n===null?(n=ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ts(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")fc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case vr:return Yn(n.children,o,i,t);case $u:s=8,o|=8;break;case ua:return e=ct(12,n,t,o|2),e.elementType=ua,e.lanes=i,e;case ca:return e=ct(13,n,t,o),e.elementType=ca,e.lanes=i,e;case da:return e=ct(19,n,t,o),e.elementType=da,e.lanes=i,e;case fp:return Js(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cp:s=10;break e;case dp:s=9;break e;case Iu:s=11;break e;case bu:s=14;break e;case on:s=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=ct(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Yn(e,t,n,r){return e=ct(7,e,r,t),e.lanes=n,e}function Js(e,t,n,r){return e=ct(22,e,r,t),e.elementType=fp,e.lanes=n,e.stateNode={isHidden:!1},e}function Ul(e,t,n){return e=ct(6,e,null,t),e.lanes=n,e}function Wl(e,t,n){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ox(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function pc(e,t,n,r,o,i,s,l,a){return e=new ox(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xu(i),e}function ix(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rm(e){if(!e)return kn;e=e._reactInternals;e:{if(ir(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(Ke(n))return rh(e,n,t)}return t}function om(e,t,n,r,o,i,s,l,a){return e=pc(n,r,!0,e,o,i,s,l,a),e.context=rm(null),n=e.current,r=He(),o=wn(n),i=Yt(r,o),i.callback=t??null,vn(n,i,o),e.current.lanes=o,ci(e,o,r),qe(e,r),e}function el(e,t,n,r){var o=t.current,i=He(),s=wn(o);return n=rm(n),t.context===null?t.context=n:t.pendingContext=n,t=Yt(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=vn(o,t,s),e!==null&&(kt(e,o,s,i),qi(e,o,s)),s}function Ms(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hc(e,t){Qd(e,t),(e=e.alternate)&&Qd(e,t)}function sx(){return null}var im=typeof reportError=="function"?reportError:function(e){console.error(e)};function mc(e){this._internalRoot=e}tl.prototype.render=mc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));el(e,t,null,null)};tl.prototype.unmount=mc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;er(function(){el(null,e,null,null)}),t[Xt]=null}};function tl(e){this._internalRoot=e}tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<un.length&&t!==0&&t<un[n].priority;n++);un.splice(n,0,e),n===0&&Lp(e)}};function gc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yd(){}function lx(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=Ms(s);i.call(u)}}var s=om(t,r,e,0,null,!1,!1,"",Yd);return e._reactRootContainer=s,e[Xt]=s.current,Uo(e.nodeType===8?e.parentNode:e),er(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=Ms(a);l.call(u)}}var a=pc(e,0,!1,null,null,!1,!1,"",Yd);return e._reactRootContainer=a,e[Xt]=a.current,Uo(e.nodeType===8?e.parentNode:e),er(function(){el(t,a,n,r)}),a}function rl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var a=Ms(s);l.call(a)}}el(t,s,e,o)}else s=lx(n,t,e,o,r);return Ms(s)}Ap=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=No(t.pendingLanes);n!==0&&(ju(t,n|1),qe(t,ye()),!(ne&6)&&(Wr=ye()+500,Mn()))}break;case 13:er(function(){var r=Gt(e,1);if(r!==null){var o=He();kt(r,e,1,o)}}),hc(e,1)}};Ru=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var n=He();kt(t,e,134217728,n)}hc(e,134217728)}};jp=function(e){if(e.tag===13){var t=wn(e),n=Gt(e,t);if(n!==null){var r=He();kt(n,e,t,r)}hc(e,t)}};Rp=function(){return re};Dp=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};Sa=function(e,t,n){switch(t){case"input":if(ha(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Ys(r);if(!o)throw Error(V(90));hp(r),ha(r,o)}}}break;case"textarea":gp(e,n);break;case"select":t=n.value,t!=null&&$r(e,!!n.multiple,t,!1)}};Ep=uc;_p=er;var ax={usingClientEntryPoint:!1,Events:[fi,Nr,Ys,Sp,Np,uc]},po={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ux={bundleType:po.bundleType,version:po.version,rendererPackageName:po.rendererPackageName,rendererConfig:po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pp(e),e===null?null:e.stateNode},findFiberByHostInstance:po.findFiberByHostInstance||sx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ai=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ai.isDisabled&&Ai.supportsFiber)try{Bs=Ai.inject(ux),bt=Ai}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ax;ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gc(t))throw Error(V(200));return ix(e,t,null,n)};ot.createRoot=function(e,t){if(!gc(e))throw Error(V(299));var n=!1,r="",o=im;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=pc(e,1,!1,null,null,n,!1,r,o),e[Xt]=t.current,Uo(e.nodeType===8?e.parentNode:e),new mc(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=Pp(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return er(e)};ot.hydrate=function(e,t,n){if(!nl(t))throw Error(V(200));return rl(null,e,t,!0,n)};ot.hydrateRoot=function(e,t,n){if(!gc(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=im;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=om(t,null,e,1,n??null,o,!1,i,s),e[Xt]=t.current,Uo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new tl(t)};ot.render=function(e,t,n){if(!nl(t))throw Error(V(200));return rl(null,e,t,!1,n)};ot.unmountComponentAtNode=function(e){if(!nl(e))throw Error(V(40));return e._reactRootContainer?(er(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};ot.unstable_batchedUpdates=uc;ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return rl(e,t,n,!1,r)};ot.version="18.3.1-next-f1338f8080-20240426";function sm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sm)}catch(e){console.error(e)}}sm(),sp.exports=ot;var cx=sp.exports,Kd=cx;la.createRoot=Kd.createRoot,la.hydrateRoot=Kd.hydrateRoot;function Ie(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ie(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var lm={exports:{}},am={},um={exports:{}},cm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qr=I;function dx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fx=typeof Object.is=="function"?Object.is:dx,px=Qr.useState,hx=Qr.useEffect,mx=Qr.useLayoutEffect,gx=Qr.useDebugValue;function yx(e,t){var n=t(),r=px({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return mx(function(){o.value=n,o.getSnapshot=t,Ql(o)&&i({inst:o})},[e,n,t]),hx(function(){return Ql(o)&&i({inst:o}),e(function(){Ql(o)&&i({inst:o})})},[e]),gx(n),n}function Ql(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fx(e,n)}catch{return!0}}function vx(e,t){return t()}var xx=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vx:yx;cm.useSyncExternalStore=Qr.useSyncExternalStore!==void 0?Qr.useSyncExternalStore:xx;um.exports=cm;var wx=um.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=I,Sx=wx;function Nx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ex=typeof Object.is=="function"?Object.is:Nx,_x=Sx.useSyncExternalStore,kx=ol.useRef,Cx=ol.useEffect,Px=ol.useMemo,Tx=ol.useDebugValue;am.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=kx(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Px(function(){function a(m){if(!u){if(u=!0,c=m,m=r(m),o!==void 0&&s.hasValue){var S=s.value;if(o(S,m))return d=S}return d=m}if(S=d,Ex(c,m))return S;var v=r(m);return o!==void 0&&o(S,v)?(c=m,S):(c=m,d=v)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return a(t())},f===null?void 0:function(){return a(f())}]},[t,n,r,o]);var l=_x(e,i[0],i[1]);return Cx(function(){s.hasValue=!0,s.value=l},[l]),Tx(l),l};lm.exports=am;var Mx=lm.exports;const dm=Kf(Mx),$x={},qd=e=>{let t;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const m=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(S=>S(t,m))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{($x?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,a);return a},fm=e=>e?qd(e):qd,{useDebugValue:Ix}=R,{useSyncExternalStoreWithSelector:bx}=dm,zx=e=>e;function pm(e,t=zx,n){const r=bx(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Ix(r),r}const Xd=(e,t)=>{const n=fm(e),r=(o,i=t)=>pm(n,o,i);return Object.assign(r,n),r},Ax=(e,t)=>e?Xd(e,t):Xd;function Pe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var jx={value:()=>{}};function il(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ns(n)}function ns(e){this._=e}function Rx(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ns.prototype=il.prototype={constructor:ns,on:function(e,t){var n=this._,r=Rx(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=Dx(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=Gd(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Gd(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ns(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function Dx(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Gd(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=jx,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var eu="http://www.w3.org/1999/xhtml";const Zd={svg:"http://www.w3.org/2000/svg",xhtml:eu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Zd.hasOwnProperty(t)?{space:Zd[t],local:e}:e}function Lx(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===eu&&t.documentElement.namespaceURI===eu?t.createElement(e):t.createElementNS(n,e)}}function Ox(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function hm(e){var t=sl(e);return(t.local?Ox:Lx)(t)}function Fx(){}function yc(e){return e==null?Fx:function(){return this.querySelector(e)}}function Hx(e){typeof e!="function"&&(e=yc(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=new Array(s),a,u,c=0;c<s;++c)(a=i[c])&&(u=e.call(a,a.__data__,c,i))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new tt(r,this._parents)}function Vx(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Bx(){return[]}function mm(e){return e==null?Bx:function(){return this.querySelectorAll(e)}}function Ux(e){return function(){return Vx(e.apply(this,arguments))}}function Wx(e){typeof e=="function"?e=Ux(e):e=mm(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),o.push(a));return new tt(r,o)}function gm(e){return function(){return this.matches(e)}}function ym(e){return function(t){return t.matches(e)}}var Qx=Array.prototype.find;function Yx(e){return function(){return Qx.call(this.children,e)}}function Kx(){return this.firstElementChild}function qx(e){return this.select(e==null?Kx:Yx(typeof e=="function"?e:ym(e)))}var Xx=Array.prototype.filter;function Gx(){return Array.from(this.children)}function Zx(e){return function(){return Xx.call(this.children,e)}}function Jx(e){return this.selectAll(e==null?Gx:Zx(typeof e=="function"?e:ym(e)))}function e1(e){typeof e!="function"&&(e=gm(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new tt(r,this._parents)}function vm(e){return new Array(e.length)}function t1(){return new tt(this._enter||this._groups.map(vm),this._parents)}function $s(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}$s.prototype={constructor:$s,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function n1(e){return function(){return e}}function r1(e,t,n,r,o,i){for(var s=0,l,a=t.length,u=i.length;s<u;++s)(l=t[s])?(l.__data__=i[s],r[s]=l):n[s]=new $s(e,i[s]);for(;s<a;++s)(l=t[s])&&(o[s]=l)}function o1(e,t,n,r,o,i,s){var l,a,u=new Map,c=t.length,d=i.length,f=new Array(c),m;for(l=0;l<c;++l)(a=t[l])&&(f[l]=m=s.call(a,a.__data__,l,t)+"",u.has(m)?o[l]=a:u.set(m,a));for(l=0;l<d;++l)m=s.call(e,i[l],l,i)+"",(a=u.get(m))?(r[l]=a,a.__data__=i[l],u.delete(m)):n[l]=new $s(e,i[l]);for(l=0;l<c;++l)(a=t[l])&&u.get(f[l])===a&&(o[l]=a)}function i1(e){return e.__data__}function s1(e,t){if(!arguments.length)return Array.from(this,i1);var n=t?o1:r1,r=this._parents,o=this._groups;typeof e!="function"&&(e=n1(e));for(var i=o.length,s=new Array(i),l=new Array(i),a=new Array(i),u=0;u<i;++u){var c=r[u],d=o[u],f=d.length,m=l1(e.call(c,c&&c.__data__,u,r)),S=m.length,v=l[u]=new Array(S),E=s[u]=new Array(S),p=a[u]=new Array(f);n(c,d,v,E,p,m,t);for(var g=0,y=0,h,N;g<S;++g)if(h=v[g]){for(g>=y&&(y=g+1);!(N=E[y])&&++y<S;);h._next=N||null}}return s=new tt(s,r),s._enter=l,s._exit=a,s}function l1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function a1(){return new tt(this._exit||this._groups.map(vm),this._parents)}function u1(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function c1(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),l=new Array(o),a=0;a<s;++a)for(var u=n[a],c=r[a],d=u.length,f=l[a]=new Array(d),m,S=0;S<d;++S)(m=u[S]||c[S])&&(f[S]=m);for(;a<o;++a)l[a]=n[a];return new tt(l,this._parents)}function d1(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function f1(e){e||(e=p1);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],l=s.length,a=o[i]=new Array(l),u,c=0;c<l;++c)(u=s[c])&&(a[c]=u);a.sort(t)}return new tt(o,this._parents).order()}function p1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function h1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function m1(){return Array.from(this)}function g1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function y1(){let e=0;for(const t of this)++e;return e}function v1(){return!this.node()}function x1(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,l;i<s;++i)(l=o[i])&&e.call(l,l.__data__,i,o);return this}function w1(e){return function(){this.removeAttribute(e)}}function S1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function N1(e,t){return function(){this.setAttribute(e,t)}}function E1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function _1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function k1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function C1(e,t){var n=sl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?S1:w1:typeof t=="function"?n.local?k1:_1:n.local?E1:N1)(n,t))}function xm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function P1(e){return function(){this.style.removeProperty(e)}}function T1(e,t,n){return function(){this.style.setProperty(e,t,n)}}function M1(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function $1(e,t,n){return arguments.length>1?this.each((t==null?P1:typeof t=="function"?M1:T1)(e,t,n??"")):Yr(this.node(),e)}function Yr(e,t){return e.style.getPropertyValue(t)||xm(e).getComputedStyle(e,null).getPropertyValue(t)}function I1(e){return function(){delete this[e]}}function b1(e,t){return function(){this[e]=t}}function z1(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function A1(e,t){return arguments.length>1?this.each((t==null?I1:typeof t=="function"?z1:b1)(e,t)):this.node()[e]}function wm(e){return e.trim().split(/^|\s+/)}function vc(e){return e.classList||new Sm(e)}function Sm(e){this._node=e,this._names=wm(e.getAttribute("class")||"")}Sm.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Nm(e,t){for(var n=vc(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Em(e,t){for(var n=vc(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function j1(e){return function(){Nm(this,e)}}function R1(e){return function(){Em(this,e)}}function D1(e,t){return function(){(t.apply(this,arguments)?Nm:Em)(this,e)}}function L1(e,t){var n=wm(e+"");if(arguments.length<2){for(var r=vc(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?D1:t?j1:R1)(n,t))}function O1(){this.textContent=""}function F1(e){return function(){this.textContent=e}}function H1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function V1(e){return arguments.length?this.each(e==null?O1:(typeof e=="function"?H1:F1)(e)):this.node().textContent}function B1(){this.innerHTML=""}function U1(e){return function(){this.innerHTML=e}}function W1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Q1(e){return arguments.length?this.each(e==null?B1:(typeof e=="function"?W1:U1)(e)):this.node().innerHTML}function Y1(){this.nextSibling&&this.parentNode.appendChild(this)}function K1(){return this.each(Y1)}function q1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function X1(){return this.each(q1)}function G1(e){var t=typeof e=="function"?e:hm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Z1(){return null}function J1(e,t){var n=typeof e=="function"?e:hm(e),r=t==null?Z1:typeof t=="function"?t:yc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ew(){var e=this.parentNode;e&&e.removeChild(this)}function tw(){return this.each(ew)}function nw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function rw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ow(e){return this.select(e?rw:nw)}function iw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function sw(e){return function(t){e.call(this,t,this.__data__)}}function lw(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function aw(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function uw(e,t,n){return function(){var r=this.__on,o,i=sw(t);if(r){for(var s=0,l=r.length;s<l;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function cw(e,t,n){var r=lw(e+""),o,i=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(o=0,c=l[a];o<i;++o)if((s=r[o]).type===c.type&&s.name===c.name)return c.value}return}for(l=t?uw:aw,o=0;o<i;++o)this.each(l(r[o],t,n));return this}function _m(e,t,n){var r=xm(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function dw(e,t){return function(){return _m(this,e,t)}}function fw(e,t){return function(){return _m(this,e,t.apply(this,arguments))}}function pw(e,t){return this.each((typeof t=="function"?fw:dw)(e,t))}function*hw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var km=[null];function tt(e,t){this._groups=e,this._parents=t}function hi(){return new tt([[document.documentElement]],km)}function mw(){return this}tt.prototype=hi.prototype={constructor:tt,select:Hx,selectAll:Wx,selectChild:qx,selectChildren:Jx,filter:e1,data:s1,enter:t1,exit:a1,join:u1,merge:c1,selection:mw,order:d1,sort:f1,call:h1,nodes:m1,node:g1,size:y1,empty:v1,each:x1,attr:C1,style:$1,property:A1,classed:L1,text:V1,html:Q1,raise:K1,lower:X1,append:G1,insert:J1,remove:tw,clone:ow,datum:iw,on:cw,dispatch:pw,[Symbol.iterator]:hw};function at(e){return typeof e=="string"?new tt([[document.querySelector(e)]],[document.documentElement]):new tt([[e]],km)}function gw(e){let t;for(;t=e.sourceEvent;)e=t;return e}function wt(e,t){if(e=gw(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const yw={passive:!1},Jo={capture:!0,passive:!1};function Yl(e){e.stopImmediatePropagation()}function Rr(e){e.preventDefault(),e.stopImmediatePropagation()}function Cm(e){var t=e.document.documentElement,n=at(e).on("dragstart.drag",Rr,Jo);"onselectstart"in t?n.on("selectstart.drag",Rr,Jo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Pm(e,t){var n=e.document.documentElement,r=at(e).on("dragstart.drag",null);t&&(r.on("click.drag",Rr,Jo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ji=e=>()=>e;function tu(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}tu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function vw(e){return!e.ctrlKey&&!e.button}function xw(){return this.parentNode}function ww(e,t){return t??{x:e.x,y:e.y}}function Sw(){return navigator.maxTouchPoints||"ontouchstart"in this}function Nw(){var e=vw,t=xw,n=ww,r=Sw,o={},i=il("start","drag","end"),s=0,l,a,u,c,d=0;function f(h){h.on("mousedown.drag",m).filter(r).on("touchstart.drag",E).on("touchmove.drag",p,yw).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(h,N){if(!(c||!e.call(this,h,N))){var C=y(this,t.call(this,h,N),h,N,"mouse");C&&(at(h.view).on("mousemove.drag",S,Jo).on("mouseup.drag",v,Jo),Cm(h.view),Yl(h),u=!1,l=h.clientX,a=h.clientY,C("start",h))}}function S(h){if(Rr(h),!u){var N=h.clientX-l,C=h.clientY-a;u=N*N+C*C>d}o.mouse("drag",h)}function v(h){at(h.view).on("mousemove.drag mouseup.drag",null),Pm(h.view,u),Rr(h),o.mouse("end",h)}function E(h,N){if(e.call(this,h,N)){var C=h.changedTouches,k=t.call(this,h,N),P=C.length,M,z;for(M=0;M<P;++M)(z=y(this,k,h,N,C[M].identifier,C[M]))&&(Yl(h),z("start",h,C[M]))}}function p(h){var N=h.changedTouches,C=N.length,k,P;for(k=0;k<C;++k)(P=o[N[k].identifier])&&(Rr(h),P("drag",h,N[k]))}function g(h){var N=h.changedTouches,C=N.length,k,P;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),k=0;k<C;++k)(P=o[N[k].identifier])&&(Yl(h),P("end",h,N[k]))}function y(h,N,C,k,P,M){var z=i.copy(),H=wt(M||C,N),F,D,x;if((x=n.call(h,new tu("beforestart",{sourceEvent:C,target:f,identifier:P,active:s,x:H[0],y:H[1],dx:0,dy:0,dispatch:z}),k))!=null)return F=x.x-H[0]||0,D=x.y-H[1]||0,function b(T,L,$){var _=H,A;switch(T){case"start":o[P]=b,A=s++;break;case"end":delete o[P],--s;case"drag":H=wt($||L,N),A=s;break}z.call(T,h,new tu(T,{sourceEvent:L,subject:x,target:f,identifier:P,active:A,x:H[0]+F,y:H[1]+D,dx:H[0]-_[0],dy:H[1]-_[1],dispatch:z}),k)}}return f.filter=function(h){return arguments.length?(e=typeof h=="function"?h:ji(!!h),f):e},f.container=function(h){return arguments.length?(t=typeof h=="function"?h:ji(h),f):t},f.subject=function(h){return arguments.length?(n=typeof h=="function"?h:ji(h),f):n},f.touchable=function(h){return arguments.length?(r=typeof h=="function"?h:ji(!!h),f):r},f.on=function(){var h=i.on.apply(i,arguments);return h===i?f:h},f.clickDistance=function(h){return arguments.length?(d=(h=+h)*h,f):Math.sqrt(d)},f}function xc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Tm(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function mi(){}var ei=.7,Is=1/ei,Dr="\\s*([+-]?\\d+)\\s*",ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",At="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ew=/^#([0-9a-f]{3,8})$/,_w=new RegExp(`^rgb\\(${Dr},${Dr},${Dr}\\)$`),kw=new RegExp(`^rgb\\(${At},${At},${At}\\)$`),Cw=new RegExp(`^rgba\\(${Dr},${Dr},${Dr},${ti}\\)$`),Pw=new RegExp(`^rgba\\(${At},${At},${At},${ti}\\)$`),Tw=new RegExp(`^hsl\\(${ti},${At},${At}\\)$`),Mw=new RegExp(`^hsla\\(${ti},${At},${At},${ti}\\)$`),Jd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xc(mi,ni,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ef,formatHex:ef,formatHex8:$w,formatHsl:Iw,formatRgb:tf,toString:tf});function ef(){return this.rgb().formatHex()}function $w(){return this.rgb().formatHex8()}function Iw(){return Mm(this).formatHsl()}function tf(){return this.rgb().formatRgb()}function ni(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ew.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?nf(t):n===3?new Qe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ri(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ri(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_w.exec(e))?new Qe(t[1],t[2],t[3],1):(t=kw.exec(e))?new Qe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Cw.exec(e))?Ri(t[1],t[2],t[3],t[4]):(t=Pw.exec(e))?Ri(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Tw.exec(e))?sf(t[1],t[2]/100,t[3]/100,1):(t=Mw.exec(e))?sf(t[1],t[2]/100,t[3]/100,t[4]):Jd.hasOwnProperty(e)?nf(Jd[e]):e==="transparent"?new Qe(NaN,NaN,NaN,0):null}function nf(e){return new Qe(e>>16&255,e>>8&255,e&255,1)}function Ri(e,t,n,r){return r<=0&&(e=t=n=NaN),new Qe(e,t,n,r)}function bw(e){return e instanceof mi||(e=ni(e)),e?(e=e.rgb(),new Qe(e.r,e.g,e.b,e.opacity)):new Qe}function nu(e,t,n,r){return arguments.length===1?bw(e):new Qe(e,t,n,r??1)}function Qe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}xc(Qe,nu,Tm(mi,{brighter(e){return e=e==null?Is:Math.pow(Is,e),new Qe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ei:Math.pow(ei,e),new Qe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qe(Kn(this.r),Kn(this.g),Kn(this.b),bs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rf,formatHex:rf,formatHex8:zw,formatRgb:of,toString:of}));function rf(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}`}function zw(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}${Un((isNaN(this.opacity)?1:this.opacity)*255)}`}function of(){const e=bs(this.opacity);return`${e===1?"rgb(":"rgba("}${Kn(this.r)}, ${Kn(this.g)}, ${Kn(this.b)}${e===1?")":`, ${e})`}`}function bs(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Un(e){return e=Kn(e),(e<16?"0":"")+e.toString(16)}function sf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Nt(e,t,n,r)}function Mm(e){if(e instanceof Nt)return new Nt(e.h,e.s,e.l,e.opacity);if(e instanceof mi||(e=ni(e)),!e)return new Nt;if(e instanceof Nt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,l=i-o,a=(i+o)/2;return l?(t===i?s=(n-r)/l+(n<r)*6:n===i?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?i+o:2-i-o,s*=60):l=a>0&&a<1?0:s,new Nt(s,l,a,e.opacity)}function Aw(e,t,n,r){return arguments.length===1?Mm(e):new Nt(e,t,n,r??1)}function Nt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}xc(Nt,Aw,Tm(mi,{brighter(e){return e=e==null?Is:Math.pow(Is,e),new Nt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ei:Math.pow(ei,e),new Nt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Qe(Kl(e>=240?e-240:e+120,o,r),Kl(e,o,r),Kl(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Nt(lf(this.h),Di(this.s),Di(this.l),bs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bs(this.opacity);return`${e===1?"hsl(":"hsla("}${lf(this.h)}, ${Di(this.s)*100}%, ${Di(this.l)*100}%${e===1?")":`, ${e})`}`}}));function lf(e){return e=(e||0)%360,e<0?e+360:e}function Di(e){return Math.max(0,Math.min(1,e||0))}function Kl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const $m=e=>()=>e;function jw(e,t){return function(n){return e+n*t}}function Rw(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Dw(e){return(e=+e)==1?Im:function(t,n){return n-t?Rw(t,n,e):$m(isNaN(t)?n:t)}}function Im(e,t){var n=t-e;return n?jw(e,n):$m(isNaN(e)?t:e)}const af=function e(t){var n=Dw(t);function r(o,i){var s=n((o=nu(o)).r,(i=nu(i)).r),l=n(o.g,i.g),a=n(o.b,i.b),u=Im(o.opacity,i.opacity);return function(c){return o.r=s(c),o.g=l(c),o.b=a(c),o.opacity=u(c),o+""}}return r.gamma=e,r}(1);function ln(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ru=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ql=new RegExp(ru.source,"g");function Lw(e){return function(){return e}}function Ow(e){return function(t){return e(t)+""}}function Fw(e,t){var n=ru.lastIndex=ql.lastIndex=0,r,o,i,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=ru.exec(e))&&(o=ql.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[s]?l[s]+=i:l[++s]=i),(r=r[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:ln(r,o)})),n=ql.lastIndex;return n<t.length&&(i=t.slice(n),l[s]?l[s]+=i:l[++s]=i),l.length<2?a[0]?Ow(a[0].x):Lw(t):(t=a.length,function(u){for(var c=0,d;c<t;++c)l[(d=a[c]).i]=d.x(u);return l.join("")})}var uf=180/Math.PI,ou={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bm(e,t,n,r,o,i){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*uf,skewX:Math.atan(a)*uf,scaleX:s,scaleY:l}}var Li;function Hw(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ou:bm(t.a,t.b,t.c,t.d,t.e,t.f)}function Vw(e){return e==null||(Li||(Li=document.createElementNS("http://www.w3.org/2000/svg","g")),Li.setAttribute("transform",e),!(e=Li.transform.baseVal.consolidate()))?ou:(e=e.matrix,bm(e.a,e.b,e.c,e.d,e.e,e.f))}function zm(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,c,d,f,m,S){if(u!==d||c!==f){var v=m.push("translate(",null,t,null,n);S.push({i:v-4,x:ln(u,d)},{i:v-2,x:ln(c,f)})}else(d||f)&&m.push("translate("+d+t+f+n)}function s(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(o(d)+"rotate(",null,r)-2,x:ln(u,c)})):c&&d.push(o(d)+"rotate("+c+r)}function l(u,c,d,f){u!==c?f.push({i:d.push(o(d)+"skewX(",null,r)-2,x:ln(u,c)}):c&&d.push(o(d)+"skewX("+c+r)}function a(u,c,d,f,m,S){if(u!==d||c!==f){var v=m.push(o(m)+"scale(",null,",",null,")");S.push({i:v-4,x:ln(u,d)},{i:v-2,x:ln(c,f)})}else(d!==1||f!==1)&&m.push(o(m)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),i(u.translateX,u.translateY,c.translateX,c.translateY,d,f),s(u.rotate,c.rotate,d,f),l(u.skewX,c.skewX,d,f),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(m){for(var S=-1,v=f.length,E;++S<v;)d[(E=f[S]).i]=E.x(m);return d.join("")}}}var Bw=zm(Hw,"px, ","px)","deg)"),Uw=zm(Vw,", ",")",")"),Ww=1e-12;function cf(e){return((e=Math.exp(e))+1/e)/2}function Qw(e){return((e=Math.exp(e))-1/e)/2}function Yw(e){return((e=Math.exp(2*e))-1)/(e+1)}const Kw=function e(t,n,r){function o(i,s){var l=i[0],a=i[1],u=i[2],c=s[0],d=s[1],f=s[2],m=c-l,S=d-a,v=m*m+S*S,E,p;if(v<Ww)p=Math.log(f/u)/t,E=function(k){return[l+k*m,a+k*S,u*Math.exp(t*k*p)]};else{var g=Math.sqrt(v),y=(f*f-u*u+r*v)/(2*u*n*g),h=(f*f-u*u-r*v)/(2*f*n*g),N=Math.log(Math.sqrt(y*y+1)-y),C=Math.log(Math.sqrt(h*h+1)-h);p=(C-N)/t,E=function(k){var P=k*p,M=cf(N),z=u/(n*g)*(M*Yw(t*P+N)-Qw(N));return[l+z*m,a+z*S,u*M/cf(t*P+N)]}}return E.duration=p*1e3*t/Math.SQRT2,E}return o.rho=function(i){var s=Math.max(.001,+i),l=s*s,a=l*l;return e(s,l,a)},o}(Math.SQRT2,2,4);var Kr=0,_o=0,ho=0,Am=1e3,zs,ko,As=0,tr=0,ll=0,ri=typeof performance=="object"&&performance.now?performance:Date,jm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function wc(){return tr||(jm(qw),tr=ri.now()+ll)}function qw(){tr=0}function js(){this._call=this._time=this._next=null}js.prototype=Rm.prototype={constructor:js,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?wc():+n)+(t==null?0:+t),!this._next&&ko!==this&&(ko?ko._next=this:zs=this,ko=this),this._call=e,this._time=n,iu()},stop:function(){this._call&&(this._call=null,this._time=1/0,iu())}};function Rm(e,t,n){var r=new js;return r.restart(e,t,n),r}function Xw(){wc(),++Kr;for(var e=zs,t;e;)(t=tr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Kr}function df(){tr=(As=ri.now())+ll,Kr=_o=0;try{Xw()}finally{Kr=0,Zw(),tr=0}}function Gw(){var e=ri.now(),t=e-As;t>Am&&(ll-=t,As=e)}function Zw(){for(var e,t=zs,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:zs=n);ko=e,iu(r)}function iu(e){if(!Kr){_o&&(_o=clearTimeout(_o));var t=e-tr;t>24?(e<1/0&&(_o=setTimeout(df,e-ri.now()-ll)),ho&&(ho=clearInterval(ho))):(ho||(As=ri.now(),ho=setInterval(Gw,Am)),Kr=1,jm(df))}}function ff(e,t,n){var r=new js;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var Jw=il("start","end","cancel","interrupt"),e2=[],Dm=0,pf=1,su=2,rs=3,hf=4,lu=5,os=6;function al(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;t2(e,n,{name:t,index:r,group:o,on:Jw,tween:e2,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Dm})}function Sc(e,t){var n=Pt(e,t);if(n.state>Dm)throw new Error("too late; already scheduled");return n}function Rt(e,t){var n=Pt(e,t);if(n.state>rs)throw new Error("too late; already running");return n}function Pt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function t2(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Rm(i,0,n.time);function i(u){n.state=pf,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,d,f,m;if(n.state!==pf)return a();for(c in r)if(m=r[c],m.name===n.name){if(m.state===rs)return ff(s);m.state===hf?(m.state=os,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[c]):+c<t&&(m.state=os,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[c])}if(ff(function(){n.state===rs&&(n.state=hf,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=su,n.on.call("start",e,e.__data__,n.index,n.group),n.state===su){for(n.state=rs,o=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(m=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=m);o.length=d+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=lu,1),d=-1,f=o.length;++d<f;)o[d].call(e,c);n.state===lu&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=os,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function is(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>su&&r.state<lu,r.state=os,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function n2(e){return this.each(function(){is(this,e)})}function r2(e,t){var n,r;return function(){var o=Rt(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function o2(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Rt(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}i.tween=o}}function i2(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Pt(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?r2:o2)(n,e,t))}function Nc(e,t,n){var r=e._id;return e.each(function(){var o=Rt(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Pt(o,r).value[t]}}function Lm(e,t){var n;return(typeof t=="number"?ln:t instanceof ni?af:(n=ni(t))?(t=n,af):Fw)(e,t)}function s2(e){return function(){this.removeAttribute(e)}}function l2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function a2(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function u2(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function c2(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function d2(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function f2(e,t){var n=sl(e),r=n==="transform"?Uw:Lm;return this.attrTween(e,typeof t=="function"?(n.local?d2:c2)(n,r,Nc(this,"attr."+e,t)):t==null?(n.local?l2:s2)(n):(n.local?u2:a2)(n,r,t))}function p2(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function h2(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function m2(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&h2(e,i)),n}return o._value=t,o}function g2(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&p2(e,i)),n}return o._value=t,o}function y2(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=sl(e);return this.tween(n,(r.local?m2:g2)(r,t))}function v2(e,t){return function(){Sc(this,e).delay=+t.apply(this,arguments)}}function x2(e,t){return t=+t,function(){Sc(this,e).delay=t}}function w2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?v2:x2)(t,e)):Pt(this.node(),t).delay}function S2(e,t){return function(){Rt(this,e).duration=+t.apply(this,arguments)}}function N2(e,t){return t=+t,function(){Rt(this,e).duration=t}}function E2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?S2:N2)(t,e)):Pt(this.node(),t).duration}function _2(e,t){if(typeof t!="function")throw new Error;return function(){Rt(this,e).ease=t}}function k2(e){var t=this._id;return arguments.length?this.each(_2(t,e)):Pt(this.node(),t).ease}function C2(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Rt(this,e).ease=n}}function P2(e){if(typeof e!="function")throw new Error;return this.each(C2(this._id,e))}function T2(e){typeof e!="function"&&(e=gm(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new Jt(r,this._parents,this._name,this._id)}function M2(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),l=0;l<i;++l)for(var a=t[l],u=n[l],c=a.length,d=s[l]=new Array(c),f,m=0;m<c;++m)(f=a[m]||u[m])&&(d[m]=f);for(;l<r;++l)s[l]=t[l];return new Jt(s,this._parents,this._name,this._id)}function $2(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function I2(e,t,n){var r,o,i=$2(t)?Sc:Rt;return function(){var s=i(this,e),l=s.on;l!==r&&(o=(r=l).copy()).on(t,n),s.on=o}}function b2(e,t){var n=this._id;return arguments.length<2?Pt(this.node(),n).on.on(e):this.each(I2(n,e,t))}function z2(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function A2(){return this.on("end.remove",z2(this._id))}function j2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=yc(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var l=r[s],a=l.length,u=i[s]=new Array(a),c,d,f=0;f<a;++f)(c=l[f])&&(d=e.call(c,c.__data__,f,l))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,al(u[f],t,n,f,u,Pt(c,n)));return new Jt(i,this._parents,t,n)}function R2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=mm(e));for(var r=this._groups,o=r.length,i=[],s=[],l=0;l<o;++l)for(var a=r[l],u=a.length,c,d=0;d<u;++d)if(c=a[d]){for(var f=e.call(c,c.__data__,d,a),m,S=Pt(c,n),v=0,E=f.length;v<E;++v)(m=f[v])&&al(m,t,n,v,f,S);i.push(f),s.push(c)}return new Jt(i,s,t,n)}var D2=hi.prototype.constructor;function L2(){return new D2(this._groups,this._parents)}function O2(e,t){var n,r,o;return function(){var i=Yr(this,e),s=(this.style.removeProperty(e),Yr(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function Om(e){return function(){this.style.removeProperty(e)}}function F2(e,t,n){var r,o=n+"",i;return function(){var s=Yr(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function H2(e,t,n){var r,o,i;return function(){var s=Yr(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Yr(this,e))),s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l))}}function V2(e,t){var n,r,o,i="style."+t,s="end."+i,l;return function(){var a=Rt(this,e),u=a.on,c=a.value[i]==null?l||(l=Om(t)):void 0;(u!==n||o!==c)&&(r=(n=u).copy()).on(s,o=c),a.on=r}}function B2(e,t,n){var r=(e+="")=="transform"?Bw:Lm;return t==null?this.styleTween(e,O2(e,r)).on("end.style."+e,Om(e)):typeof t=="function"?this.styleTween(e,H2(e,r,Nc(this,"style."+e,t))).each(V2(this._id,e)):this.styleTween(e,F2(e,r,t),n).on("end.style."+e,null)}function U2(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function W2(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&U2(e,s,n)),r}return i._value=t,i}function Q2(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,W2(e,t,n??""))}function Y2(e){return function(){this.textContent=e}}function K2(e){return function(){var t=e(this);this.textContent=t??""}}function q2(e){return this.tween("text",typeof e=="function"?K2(Nc(this,"text",e)):Y2(e==null?"":e+""))}function X2(e){return function(t){this.textContent=e.call(this,t)}}function G2(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&X2(o)),t}return r._value=e,r}function Z2(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,G2(e))}function J2(){for(var e=this._name,t=this._id,n=Fm(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var c=Pt(a,t);al(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Jt(r,this._parents,e,n)}function eS(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var l={value:s},a={value:function(){--o===0&&i()}};n.each(function(){var u=Rt(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&i()})}var tS=0;function Jt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Fm(){return++tS}var Ft=hi.prototype;Jt.prototype={constructor:Jt,select:j2,selectAll:R2,selectChild:Ft.selectChild,selectChildren:Ft.selectChildren,filter:T2,merge:M2,selection:L2,transition:J2,call:Ft.call,nodes:Ft.nodes,node:Ft.node,size:Ft.size,empty:Ft.empty,each:Ft.each,on:b2,attr:f2,attrTween:y2,style:B2,styleTween:Q2,text:q2,textTween:Z2,remove:A2,tween:i2,delay:w2,duration:E2,ease:k2,easeVarying:P2,end:eS,[Symbol.iterator]:Ft[Symbol.iterator]};function nS(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var rS={time:null,delay:0,duration:250,ease:nS};function oS(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function iS(e){var t,n;e instanceof Jt?(t=e._id,e=e._name):(t=Fm(),(n=rS).time=wc(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&al(a,e,t,u,s,n||oS(a,t));return new Jt(r,this._parents,e,t)}hi.prototype.interrupt=n2;hi.prototype.transition=iS;const Oi=e=>()=>e;function sS(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Wt(e,t,n){this.k=e,this.x=t,this.y=n}Wt.prototype={constructor:Wt,scale:function(e){return e===1?this:new Wt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Wt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Kt=new Wt(1,0,0);Wt.prototype;function Xl(e){e.stopImmediatePropagation()}function mo(e){e.preventDefault(),e.stopImmediatePropagation()}function lS(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function aS(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function mf(){return this.__zoom||Kt}function uS(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function cS(){return navigator.maxTouchPoints||"ontouchstart"in this}function dS(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function Hm(){var e=lS,t=aS,n=dS,r=uS,o=cS,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Kw,u=il("start","zoom","end"),c,d,f,m=500,S=150,v=0,E=10;function p(x){x.property("__zoom",mf).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",z).filter(o).on("touchstart.zoom",H).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(x,b,T,L){var $=x.selection?x.selection():x;$.property("__zoom",mf),x!==$?N(x,b,T,L):$.interrupt().each(function(){C(this,arguments).event(L).start().zoom(null,typeof b=="function"?b.apply(this,arguments):b).end()})},p.scaleBy=function(x,b,T,L){p.scaleTo(x,function(){var $=this.__zoom.k,_=typeof b=="function"?b.apply(this,arguments):b;return $*_},T,L)},p.scaleTo=function(x,b,T,L){p.transform(x,function(){var $=t.apply(this,arguments),_=this.__zoom,A=T==null?h($):typeof T=="function"?T.apply(this,arguments):T,O=_.invert(A),j=typeof b=="function"?b.apply(this,arguments):b;return n(y(g(_,j),A,O),$,s)},T,L)},p.translateBy=function(x,b,T,L){p.transform(x,function(){return n(this.__zoom.translate(typeof b=="function"?b.apply(this,arguments):b,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),s)},null,L)},p.translateTo=function(x,b,T,L,$){p.transform(x,function(){var _=t.apply(this,arguments),A=this.__zoom,O=L==null?h(_):typeof L=="function"?L.apply(this,arguments):L;return n(Kt.translate(O[0],O[1]).scale(A.k).translate(typeof b=="function"?-b.apply(this,arguments):-b,typeof T=="function"?-T.apply(this,arguments):-T),_,s)},L,$)};function g(x,b){return b=Math.max(i[0],Math.min(i[1],b)),b===x.k?x:new Wt(b,x.x,x.y)}function y(x,b,T){var L=b[0]-T[0]*x.k,$=b[1]-T[1]*x.k;return L===x.x&&$===x.y?x:new Wt(x.k,L,$)}function h(x){return[(+x[0][0]+ +x[1][0])/2,(+x[0][1]+ +x[1][1])/2]}function N(x,b,T,L){x.on("start.zoom",function(){C(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(L).end()}).tween("zoom",function(){var $=this,_=arguments,A=C($,_).event(L),O=t.apply($,_),j=T==null?h(O):typeof T=="function"?T.apply($,_):T,B=Math.max(O[1][0]-O[0][0],O[1][1]-O[0][1]),U=$.__zoom,Q=typeof b=="function"?b.apply($,_):b,K=a(U.invert(j).concat(B/U.k),Q.invert(j).concat(B/Q.k));return function(X){if(X===1)X=Q;else{var J=K(X),ee=B/J[2];X=new Wt(ee,j[0]-J[0]*ee,j[1]-J[1]*ee)}A.zoom(null,X)}})}function C(x,b,T){return!T&&x.__zooming||new k(x,b)}function k(x,b){this.that=x,this.args=b,this.active=0,this.sourceEvent=null,this.extent=t.apply(x,b),this.taps=0}k.prototype={event:function(x){return x&&(this.sourceEvent=x),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(x,b){return this.mouse&&x!=="mouse"&&(this.mouse[1]=b.invert(this.mouse[0])),this.touch0&&x!=="touch"&&(this.touch0[1]=b.invert(this.touch0[0])),this.touch1&&x!=="touch"&&(this.touch1[1]=b.invert(this.touch1[0])),this.that.__zoom=b,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(x){var b=at(this.that).datum();u.call(x,this.that,new sS(x,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:u}),b)}};function P(x,...b){if(!e.apply(this,arguments))return;var T=C(this,b).event(x),L=this.__zoom,$=Math.max(i[0],Math.min(i[1],L.k*Math.pow(2,r.apply(this,arguments)))),_=wt(x);if(T.wheel)(T.mouse[0][0]!==_[0]||T.mouse[0][1]!==_[1])&&(T.mouse[1]=L.invert(T.mouse[0]=_)),clearTimeout(T.wheel);else{if(L.k===$)return;T.mouse=[_,L.invert(_)],is(this),T.start()}mo(x),T.wheel=setTimeout(A,S),T.zoom("mouse",n(y(g(L,$),T.mouse[0],T.mouse[1]),T.extent,s));function A(){T.wheel=null,T.end()}}function M(x,...b){if(f||!e.apply(this,arguments))return;var T=x.currentTarget,L=C(this,b,!0).event(x),$=at(x.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",B,!0),_=wt(x,T),A=x.clientX,O=x.clientY;Cm(x.view),Xl(x),L.mouse=[_,this.__zoom.invert(_)],is(this),L.start();function j(U){if(mo(U),!L.moved){var Q=U.clientX-A,K=U.clientY-O;L.moved=Q*Q+K*K>v}L.event(U).zoom("mouse",n(y(L.that.__zoom,L.mouse[0]=wt(U,T),L.mouse[1]),L.extent,s))}function B(U){$.on("mousemove.zoom mouseup.zoom",null),Pm(U.view,L.moved),mo(U),L.event(U).end()}}function z(x,...b){if(e.apply(this,arguments)){var T=this.__zoom,L=wt(x.changedTouches?x.changedTouches[0]:x,this),$=T.invert(L),_=T.k*(x.shiftKey?.5:2),A=n(y(g(T,_),L,$),t.apply(this,b),s);mo(x),l>0?at(this).transition().duration(l).call(N,A,L,x):at(this).call(p.transform,A,L,x)}}function H(x,...b){if(e.apply(this,arguments)){var T=x.touches,L=T.length,$=C(this,b,x.changedTouches.length===L).event(x),_,A,O,j;for(Xl(x),A=0;A<L;++A)O=T[A],j=wt(O,this),j=[j,this.__zoom.invert(j),O.identifier],$.touch0?!$.touch1&&$.touch0[2]!==j[2]&&($.touch1=j,$.taps=0):($.touch0=j,_=!0,$.taps=1+!!c);c&&(c=clearTimeout(c)),_&&($.taps<2&&(d=j[0],c=setTimeout(function(){c=null},m)),is(this),$.start())}}function F(x,...b){if(this.__zooming){var T=C(this,b).event(x),L=x.changedTouches,$=L.length,_,A,O,j;for(mo(x),_=0;_<$;++_)A=L[_],O=wt(A,this),T.touch0&&T.touch0[2]===A.identifier?T.touch0[0]=O:T.touch1&&T.touch1[2]===A.identifier&&(T.touch1[0]=O);if(A=T.that.__zoom,T.touch1){var B=T.touch0[0],U=T.touch0[1],Q=T.touch1[0],K=T.touch1[1],X=(X=Q[0]-B[0])*X+(X=Q[1]-B[1])*X,J=(J=K[0]-U[0])*J+(J=K[1]-U[1])*J;A=g(A,Math.sqrt(X/J)),O=[(B[0]+Q[0])/2,(B[1]+Q[1])/2],j=[(U[0]+K[0])/2,(U[1]+K[1])/2]}else if(T.touch0)O=T.touch0[0],j=T.touch0[1];else return;T.zoom("touch",n(y(A,O,j),T.extent,s))}}function D(x,...b){if(this.__zooming){var T=C(this,b).event(x),L=x.changedTouches,$=L.length,_,A;for(Xl(x),f&&clearTimeout(f),f=setTimeout(function(){f=null},m),_=0;_<$;++_)A=L[_],T.touch0&&T.touch0[2]===A.identifier?delete T.touch0:T.touch1&&T.touch1[2]===A.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(A=wt(A,this),Math.hypot(d[0]-A[0],d[1]-A[1])<E)){var O=at(this).on("dblclick.zoom");O&&O.apply(this,arguments)}}}return p.wheelDelta=function(x){return arguments.length?(r=typeof x=="function"?x:Oi(+x),p):r},p.filter=function(x){return arguments.length?(e=typeof x=="function"?x:Oi(!!x),p):e},p.touchable=function(x){return arguments.length?(o=typeof x=="function"?x:Oi(!!x),p):o},p.extent=function(x){return arguments.length?(t=typeof x=="function"?x:Oi([[+x[0][0],+x[0][1]],[+x[1][0],+x[1][1]]]),p):t},p.scaleExtent=function(x){return arguments.length?(i[0]=+x[0],i[1]=+x[1],p):[i[0],i[1]]},p.translateExtent=function(x){return arguments.length?(s[0][0]=+x[0][0],s[1][0]=+x[1][0],s[0][1]=+x[0][1],s[1][1]=+x[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(x){return arguments.length?(n=x,p):n},p.duration=function(x){return arguments.length?(l=+x,p):l},p.interpolate=function(x){return arguments.length?(a=x,p):a},p.on=function(){var x=u.on.apply(u,arguments);return x===u?p:x},p.clickDistance=function(x){return arguments.length?(v=(x=+x)*x,p):Math.sqrt(v)},p.tapDistance=function(x){return arguments.length?(E=+x,p):E},p}const ul=I.createContext(null),fS=ul.Provider,en={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Vm=en.error001();function se(e,t){const n=I.useContext(ul);if(n===null)throw new Error(Vm);return pm(n,e,t)}const Ne=()=>{const e=I.useContext(ul);if(e===null)throw new Error(Vm);return I.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},pS=e=>e.userSelectionActive?"none":"all";function cl({position:e,children:t,className:n,style:r,...o}){const i=se(pS),s=`${e}`.split("-");return R.createElement("div",{className:Ie(["react-flow__panel",n,...s]),style:{...r,pointerEvents:i},...o},t)}function hS({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:R.createElement(cl,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},R.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const mS=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:i={},labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...c})=>{const d=I.useRef(null),[f,m]=I.useState({x:0,y:0,width:0,height:0}),S=Ie(["react-flow__edge-textwrapper",u]);return I.useEffect(()=>{if(d.current){const v=d.current.getBBox();m({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:R.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:S,visibility:f.width?"visible":"hidden",...c},o&&R.createElement("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),R.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:d,style:r},n),a)};var gS=I.memo(mS);const Ec=e=>({width:e.offsetWidth,height:e.offsetHeight}),qr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),_c=(e={x:0,y:0},t)=>({x:qr(e.x,t[0][0],t[1][0]),y:qr(e.y,t[0][1],t[1][1])}),gf=(e,t,n)=>e<t?qr(Math.abs(e-t),1,50)/50:e>n?-qr(Math.abs(e-n),1,50)/50:0,Bm=(e,t)=>{const n=gf(e.x,35,t.width-35)*20,r=gf(e.y,35,t.height-35)*20;return[n,r]},Um=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Wm=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),oi=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Qm=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),yf=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),yS=(e,t)=>Qm(Wm(oi(e),oi(t))),au=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},vS=e=>dt(e.width)&&dt(e.height)&&dt(e.x)&&dt(e.y),dt=e=>!isNaN(e)&&isFinite(e),he=Symbol.for("internals"),Ym=["Enter"," ","Escape"],xS=(e,t)=>{},wS=e=>"nativeEvent"in e;function uu(e){var o,i;const t=wS(e)?e.nativeEvent:e,n=((i=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Km=e=>"clientX"in e,Nn=(e,t)=>{var i,s;const n=Km(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Rs=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},gi=({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m=20})=>R.createElement(R.Fragment,null,R.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:f}),m&&R.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),o&&dt(n)&&dt(r)?R.createElement(gS,{x:n,y:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u}):null);gi.displayName="BaseEdge";function go(e,t,n){return n===void 0?n:r=>{const o=t().edges.find(i=>i.id===e);o&&n(r,{...o})}}function qm({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[i,l,o,s]}function Xm({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:l}){const a=e*.125+o*.375+s*.375+n*.125,u=t*.125+i*.375+l*.375+r*.125,c=Math.abs(a-e),d=Math.abs(u-t);return[a,u,c,d]}var Cn;(function(e){e.Strict="strict",e.Loose="loose"})(Cn||(Cn={}));var Wn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Wn||(Wn={}));var ii;(function(e){e.Partial="partial",e.Full="full"})(ii||(ii={}));var dn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(dn||(dn={}));var Ds;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ds||(Ds={}));var Y;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Y||(Y={}));function vf({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Y.Left||e===Y.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function Gm({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top}){const[s,l]=vf({pos:n,x1:e,y1:t,x2:r,y2:o}),[a,u]=vf({pos:i,x1:r,y1:o,x2:e,y2:t}),[c,d,f,m]=Xm({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${s},${l} ${a},${u} ${r},${o}`,c,d,f,m]}const kc=I.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=Y.Bottom,targetPosition:i=Y.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:S,interactionWidth:v})=>{const[E,p,g]=Gm({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i});return R.createElement(gi,{path:E,labelX:p,labelY:g,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:S,interactionWidth:v})});kc.displayName="SimpleBezierEdge";const xf={[Y.Left]:{x:-1,y:0},[Y.Right]:{x:1,y:0},[Y.Top]:{x:0,y:-1},[Y.Bottom]:{x:0,y:1}},SS=({source:e,sourcePosition:t=Y.Bottom,target:n})=>t===Y.Left||t===Y.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},wf=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function NS({source:e,sourcePosition:t=Y.Bottom,target:n,targetPosition:r=Y.Top,center:o,offset:i}){const s=xf[t],l=xf[r],a={x:e.x+s.x*i,y:e.y+s.y*i},u={x:n.x+l.x*i,y:n.y+l.y*i},c=SS({source:a,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",f=c[d];let m=[],S,v;const E={x:0,y:0},p={x:0,y:0},[g,y,h,N]=qm({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){S=o.x??g,v=o.y??y;const k=[{x:S,y:a.y},{x:S,y:u.y}],P=[{x:a.x,y:v},{x:u.x,y:v}];s[d]===f?m=d==="x"?k:P:m=d==="x"?P:k}else{const k=[{x:a.x,y:u.y}],P=[{x:u.x,y:a.y}];if(d==="x"?m=s.x===f?P:k:m=s.y===f?k:P,t===r){const D=Math.abs(e[d]-n[d]);if(D<=i){const x=Math.min(i-1,i-D);s[d]===f?E[d]=(a[d]>e[d]?-1:1)*x:p[d]=(u[d]>n[d]?-1:1)*x}}if(t!==r){const D=d==="x"?"y":"x",x=s[d]===l[D],b=a[D]>u[D],T=a[D]<u[D];(s[d]===1&&(!x&&b||x&&T)||s[d]!==1&&(!x&&T||x&&b))&&(m=d==="x"?k:P)}const M={x:a.x+E.x,y:a.y+E.y},z={x:u.x+p.x,y:u.y+p.y},H=Math.max(Math.abs(M.x-m[0].x),Math.abs(z.x-m[0].x)),F=Math.max(Math.abs(M.y-m[0].y),Math.abs(z.y-m[0].y));H>=F?(S=(M.x+z.x)/2,v=m[0].y):(S=m[0].x,v=(M.y+z.y)/2)}return[[e,{x:a.x+E.x,y:a.y+E.y},...m,{x:u.x+p.x,y:u.y+p.y},n],S,v,h,N]}function ES(e,t,n,r){const o=Math.min(wf(e,t)/2,wf(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${i+o*u},${s}Q ${i},${s} ${i},${s+o*c}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${i},${s+o*a}Q ${i},${s} ${i+o*l},${s}`}function cu({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[c,d,f,m,S]=NS({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:l,y:a},offset:u});return[c.reduce((E,p,g)=>{let y="";return g>0&&g<c.length-1?y=ES(c[g-1],p,c[g+1],s):y=`${g===0?"M":"L"}${p.x} ${p.y}`,E+=y,E},""),d,f,m,S]}const dl=I.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,sourcePosition:d=Y.Bottom,targetPosition:f=Y.Top,markerEnd:m,markerStart:S,pathOptions:v,interactionWidth:E})=>{const[p,g,y]=cu({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:f,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return R.createElement(gi,{path:p,labelX:g,labelY:y,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:m,markerStart:S,interactionWidth:E})});dl.displayName="SmoothStepEdge";const Cc=I.memo(e=>{var t;return R.createElement(dl,{...e,pathOptions:I.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Cc.displayName="StepEdge";function _S({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,l]=qm({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,l]}const Pc=I.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m})=>{const[S,v,E]=_S({sourceX:e,sourceY:t,targetX:n,targetY:r});return R.createElement(gi,{path:S,labelX:v,labelY:E,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m})});Pc.displayName="StraightEdge";function Fi(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Sf({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case Y.Left:return[t-Fi(t-r,i),n];case Y.Right:return[t+Fi(r-t,i),n];case Y.Top:return[t,n-Fi(n-o,i)];case Y.Bottom:return[t,n+Fi(o-n,i)]}}function Zm({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top,curvature:s=.25}){const[l,a]=Sf({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[u,c]=Sf({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[d,f,m,S]=Xm({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${l},${a} ${u},${c} ${r},${o}`,d,f,m,S]}const Ls=I.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=Y.Bottom,targetPosition:i=Y.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:S,pathOptions:v,interactionWidth:E})=>{const[p,g,y]=Zm({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i,curvature:v==null?void 0:v.curvature});return R.createElement(gi,{path:p,labelX:g,labelY:y,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:S,interactionWidth:E})});Ls.displayName="BezierEdge";const Tc=I.createContext(null),kS=Tc.Provider;Tc.Consumer;const CS=()=>I.useContext(Tc),PS=e=>"id"in e&&"source"in e&&"target"in e,TS=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,du=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,MS=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),$S=(e,t)=>{if(!e.source||!e.target)return t;let n;return PS(e)?n={...e}:n={...e,id:TS(e)},MS(n,t)?t:t.concat(n)},fu=({x:e,y:t},[n,r,o],i,[s,l])=>{const a={x:(e-n)/o,y:(t-r)/o};return i?{x:s*Math.round(a.x/s),y:l*Math.round(a.y/l)}:a},Jm=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),qn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},fl=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const{x:i,y:s}=qn(o,t).positionAbsolute;return Wm(r,oi({x:i,y:s,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Qm(n)},eg=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1,l=[0,0])=>{const a={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},u=[];return e.forEach(c=>{const{width:d,height:f,selectable:m=!0,hidden:S=!1}=c;if(s&&!m||S)return!1;const{positionAbsolute:v}=qn(c,l),E={x:v.x,y:v.y,width:d||0,height:f||0},p=au(a,E),g=typeof d>"u"||typeof f>"u"||d===null||f===null,y=i&&p>0,h=(d||0)*(f||0);(g||y||p>=h||c.dragging)&&u.push(c)}),u},tg=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},ng=(e,t,n,r,o,i=.1)=>{const s=t/(e.width*(1+i)),l=n/(e.height*(1+i)),a=Math.min(s,l),u=qr(a,r,o),c=e.x+e.width/2,d=e.y+e.height/2,f=t/2-c*u,m=n/2-d*u;return{x:f,y:m,zoom:u}},Ln=(e,t=0)=>e.transition().duration(t);function Nf(e,t,n,r){return(t[n]||[]).reduce((o,i)=>{var s,l;return`${e.id}-${i.id}-${n}`!==r&&o.push({id:i.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+i.x+i.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+i.y+i.height/2}),o},[])}function IS(e,t,n,r,o,i){const{x:s,y:l}=Nn(e),u=t.elementsFromPoint(s,l).find(S=>S.classList.contains("react-flow__handle"));if(u){const S=u.getAttribute("data-nodeid");if(S){const v=Mc(void 0,u),E=u.getAttribute("data-handleid"),p=i({nodeId:S,id:E,type:v});if(p){const g=o.find(y=>y.nodeId===S&&y.type===v&&y.id===E);return{handle:{id:E,type:v,nodeId:S,x:(g==null?void 0:g.x)||n.x,y:(g==null?void 0:g.y)||n.y},validHandleResult:p}}}}let c=[],d=1/0;if(o.forEach(S=>{const v=Math.sqrt((S.x-n.x)**2+(S.y-n.y)**2);if(v<=r){const E=i(S);v<=d&&(v<d?c=[{handle:S,validHandleResult:E}]:v===d&&c.push({handle:S,validHandleResult:E}),d=v)}}),!c.length)return{handle:null,validHandleResult:rg()};if(c.length===1)return c[0];const f=c.some(({validHandleResult:S})=>S.isValid),m=c.some(({handle:S})=>S.type==="target");return c.find(({handle:S,validHandleResult:v})=>m?S.type==="target":f?v.isValid:!0)||c[0]}const bS={source:null,target:null,sourceHandle:null,targetHandle:null},rg=()=>({handleDomNode:null,isValid:!1,connection:bS,endHandle:null});function og(e,t,n,r,o,i,s){const l=o==="target",a=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...rg(),handleDomNode:a};if(a){const c=Mc(void 0,a),d=a.getAttribute("data-nodeid"),f=a.getAttribute("data-handleid"),m=a.classList.contains("connectable"),S=a.classList.contains("connectableend"),v={source:l?d:n,sourceHandle:l?f:r,target:l?n:d,targetHandle:l?r:f};u.connection=v,m&&S&&(t===Cn.Strict?l&&c==="source"||!l&&c==="target":d!==n||f!==r)&&(u.endHandle={nodeId:d,handleId:f,type:c},u.isValid=i(v))}return u}function zS({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((o,i)=>{if(i[he]){const{handleBounds:s}=i[he];let l=[],a=[];s&&(l=Nf(i,s,"source",`${t}-${n}-${r}`),a=Nf(i,s,"target",`${t}-${n}-${r}`)),o.push(...l,...a)}return o},[])}function Mc(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Gl(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function AS(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function ig({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:i,setState:s,isValidConnection:l,edgeUpdaterType:a,onReconnectEnd:u}){const c=Um(e.target),{connectionMode:d,domNode:f,autoPanOnConnect:m,connectionRadius:S,onConnectStart:v,panBy:E,getNodes:p,cancelConnection:g}=i();let y=0,h;const{x:N,y:C}=Nn(e),k=c==null?void 0:c.elementFromPoint(N,C),P=Mc(a,k),M=f==null?void 0:f.getBoundingClientRect();if(!M||!P)return;let z,H=Nn(e,M),F=!1,D=null,x=!1,b=null;const T=zS({nodes:p(),nodeId:n,handleId:t,handleType:P}),L=()=>{if(!m)return;const[A,O]=Bm(H,M);E({x:A,y:O}),y=requestAnimationFrame(L)};s({connectionPosition:H,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:P,connectionStartHandle:{nodeId:n,handleId:t,type:P},connectionEndHandle:null}),v==null||v(e,{nodeId:n,handleId:t,handleType:P});function $(A){const{transform:O}=i();H=Nn(A,M);const{handle:j,validHandleResult:B}=IS(A,c,fu(H,O,!1,[1,1]),S,T,U=>og(U,d,n,t,o?"target":"source",l,c));if(h=j,F||(L(),F=!0),b=B.handleDomNode,D=B.connection,x=B.isValid,s({connectionPosition:h&&x?Jm({x:h.x,y:h.y},O):H,connectionStatus:AS(!!h,x),connectionEndHandle:B.endHandle}),!h&&!x&&!b)return Gl(z);D.source!==D.target&&b&&(Gl(z),z=b,b.classList.add("connecting","react-flow__handle-connecting"),b.classList.toggle("valid",x),b.classList.toggle("react-flow__handle-valid",x))}function _(A){var O,j;(h||b)&&D&&x&&(r==null||r(D)),(j=(O=i()).onConnectEnd)==null||j.call(O,A),a&&(u==null||u(A)),Gl(z),g(),cancelAnimationFrame(y),F=!1,x=!1,D=null,b=null,c.removeEventListener("mousemove",$),c.removeEventListener("mouseup",_),c.removeEventListener("touchmove",$),c.removeEventListener("touchend",_)}c.addEventListener("mousemove",$),c.addEventListener("mouseup",_),c.addEventListener("touchmove",$),c.addEventListener("touchend",_)}const Ef=()=>!0,jS=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),RS=(e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:i,connectionClickStartHandle:s}=r;return{connecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},sg=I.forwardRef(({type:e="source",position:t=Y.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:l,children:a,className:u,onMouseDown:c,onTouchStart:d,...f},m)=>{var M,z;const S=s||null,v=e==="target",E=Ne(),p=CS(),{connectOnClick:g,noPanClassName:y}=se(jS,Pe),{connecting:h,clickConnecting:N}=se(RS(p,S,e),Pe);p||(z=(M=E.getState()).onError)==null||z.call(M,"010",en.error010());const C=H=>{const{defaultEdgeOptions:F,onConnect:D,hasDefaultEdges:x}=E.getState(),b={...F,...H};if(x){const{edges:T,setEdges:L}=E.getState();L($S(b,T))}D==null||D(b),l==null||l(b)},k=H=>{if(!p)return;const F=Km(H);o&&(F&&H.button===0||!F)&&ig({event:H,handleId:S,nodeId:p,onConnect:C,isTarget:v,getState:E.getState,setState:E.setState,isValidConnection:n||E.getState().isValidConnection||Ef}),F?c==null||c(H):d==null||d(H)},P=H=>{const{onClickConnectStart:F,onClickConnectEnd:D,connectionClickStartHandle:x,connectionMode:b,isValidConnection:T}=E.getState();if(!p||!x&&!o)return;if(!x){F==null||F(H,{nodeId:p,handleId:S,handleType:e}),E.setState({connectionClickStartHandle:{nodeId:p,type:e,handleId:S}});return}const L=Um(H.target),$=n||T||Ef,{connection:_,isValid:A}=og({nodeId:p,id:S,type:e},b,x.nodeId,x.handleId||null,x.type,$,L);A&&C(_),D==null||D(H),E.setState({connectionClickStartHandle:null})};return R.createElement("div",{"data-handleid":S,"data-nodeid":p,"data-handlepos":t,"data-id":`${p}-${S}-${e}`,className:Ie(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,u,{source:!v,target:v,connectable:r,connectablestart:o,connectableend:i,connecting:N,connectionindicator:r&&(o&&!h||i&&h)}]),onMouseDown:k,onTouchStart:k,onClick:g?P:void 0,ref:m,...f},a)});sg.displayName="Handle";var jt=I.memo(sg);const lg=({data:e,isConnectable:t,targetPosition:n=Y.Top,sourcePosition:r=Y.Bottom})=>R.createElement(R.Fragment,null,R.createElement(jt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,R.createElement(jt,{type:"source",position:r,isConnectable:t}));lg.displayName="DefaultNode";var pu=I.memo(lg);const ag=({data:e,isConnectable:t,sourcePosition:n=Y.Bottom})=>R.createElement(R.Fragment,null,e==null?void 0:e.label,R.createElement(jt,{type:"source",position:n,isConnectable:t}));ag.displayName="InputNode";var ug=I.memo(ag);const cg=({data:e,isConnectable:t,targetPosition:n=Y.Top})=>R.createElement(R.Fragment,null,R.createElement(jt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);cg.displayName="OutputNode";var dg=I.memo(cg);const $c=()=>null;$c.displayName="GroupNode";const DS=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Hi=e=>e.id;function LS(e,t){return Pe(e.selectedNodes.map(Hi),t.selectedNodes.map(Hi))&&Pe(e.selectedEdges.map(Hi),t.selectedEdges.map(Hi))}const fg=I.memo(({onSelectionChange:e})=>{const t=Ne(),{selectedNodes:n,selectedEdges:r}=se(DS,LS);return I.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChange.forEach(i=>i(o))},[n,r,e]),null});fg.displayName="SelectionListener";const OS=e=>!!e.onSelectionChange;function FS({onSelectionChange:e}){const t=se(OS);return e||t?R.createElement(fg,{onSelectionChange:e}):null}const HS=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function fr(e,t){I.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function G(e,t,n){I.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const VS=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:i,onConnectEnd:s,onClickConnectStart:l,onClickConnectEnd:a,nodesDraggable:u,nodesConnectable:c,nodesFocusable:d,edgesFocusable:f,edgesUpdatable:m,elevateNodesOnSelect:S,minZoom:v,maxZoom:E,nodeExtent:p,onNodesChange:g,onEdgesChange:y,elementsSelectable:h,connectionMode:N,snapGrid:C,snapToGrid:k,translateExtent:P,connectOnClick:M,defaultEdgeOptions:z,fitView:H,fitViewOptions:F,onNodesDelete:D,onEdgesDelete:x,onNodeDrag:b,onNodeDragStart:T,onNodeDragStop:L,onSelectionDrag:$,onSelectionDragStart:_,onSelectionDragStop:A,noPanClassName:O,nodeOrigin:j,rfId:B,autoPanOnConnect:U,autoPanOnNodeDrag:Q,onError:K,connectionRadius:X,isValidConnection:J,nodeDragThreshold:ee})=>{const{setNodes:te,setEdges:me,setDefaultNodesAndEdges:xe,setMinZoom:Le,setMaxZoom:be,setTranslateExtent:ge,setNodeExtent:Xe,reset:oe}=se(HS,Pe),q=Ne();return I.useEffect(()=>{const Oe=r==null?void 0:r.map(Dt=>({...Dt,...z}));return xe(n,Oe),()=>{oe()}},[]),G("defaultEdgeOptions",z,q.setState),G("connectionMode",N,q.setState),G("onConnect",o,q.setState),G("onConnectStart",i,q.setState),G("onConnectEnd",s,q.setState),G("onClickConnectStart",l,q.setState),G("onClickConnectEnd",a,q.setState),G("nodesDraggable",u,q.setState),G("nodesConnectable",c,q.setState),G("nodesFocusable",d,q.setState),G("edgesFocusable",f,q.setState),G("edgesUpdatable",m,q.setState),G("elementsSelectable",h,q.setState),G("elevateNodesOnSelect",S,q.setState),G("snapToGrid",k,q.setState),G("snapGrid",C,q.setState),G("onNodesChange",g,q.setState),G("onEdgesChange",y,q.setState),G("connectOnClick",M,q.setState),G("fitViewOnInit",H,q.setState),G("fitViewOnInitOptions",F,q.setState),G("onNodesDelete",D,q.setState),G("onEdgesDelete",x,q.setState),G("onNodeDrag",b,q.setState),G("onNodeDragStart",T,q.setState),G("onNodeDragStop",L,q.setState),G("onSelectionDrag",$,q.setState),G("onSelectionDragStart",_,q.setState),G("onSelectionDragStop",A,q.setState),G("noPanClassName",O,q.setState),G("nodeOrigin",j,q.setState),G("rfId",B,q.setState),G("autoPanOnConnect",U,q.setState),G("autoPanOnNodeDrag",Q,q.setState),G("onError",K,q.setState),G("connectionRadius",X,q.setState),G("isValidConnection",J,q.setState),G("nodeDragThreshold",ee,q.setState),fr(e,te),fr(t,me),fr(v,Le),fr(E,be),fr(P,ge),fr(p,Xe),null},_f={display:"none"},BS={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},pg="react-flow__node-desc",hg="react-flow__edge-desc",US="react-flow__aria-live",WS=e=>e.ariaLiveMessage;function QS({rfId:e}){const t=se(WS);return R.createElement("div",{id:`${US}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:BS},t)}function YS({rfId:e,disableKeyboardA11y:t}){return R.createElement(R.Fragment,null,R.createElement("div",{id:`${pg}-${e}`,style:_f},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),R.createElement("div",{id:`${hg}-${e}`,style:_f},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&R.createElement(QS,{rfId:e}))}var si=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=I.useState(!1),o=I.useRef(!1),i=I.useRef(new Set([])),[s,l]=I.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),c=u.reduce((d,f)=>d.concat(...f),[]);return[u,c]}return[[],[]]},[e]);return I.useEffect(()=>{const a=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||a;if(e!==null){const c=m=>{if(o.current=m.ctrlKey||m.metaKey||m.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&uu(m))return!1;const v=Cf(m.code,l);i.current.add(m[v]),kf(s,i.current,!1)&&(m.preventDefault(),r(!0))},d=m=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&uu(m))return!1;const v=Cf(m.code,l);kf(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(m[v]),m.key==="Meta"&&i.current.clear(),o.current=!1},f=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",f)}}},[e,r]),n};function kf(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function Cf(e,t){return t.includes(e)?"code":"key"}function mg(e,t,n,r){var l,a;const o=e.parentNode||e.parentId;if(!o)return n;const i=t.get(o),s=qn(i,r);return mg(i,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((l=i[he])==null?void 0:l.z)??0)>(n.z??0)?((a=i[he])==null?void 0:a.z)??0:n.z??0},r)}function gg(e,t,n){e.forEach(r=>{var i;const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n!=null&&n[r.id]){const{x:s,y:l,z:a}=mg(r,e,{...r.position,z:((i=r[he])==null?void 0:i.z)??0},t);r.positionAbsolute={x:s,y:l},r[he].z=a,n!=null&&n[r.id]&&(r[he].isParent=!0)}})}function Zl(e,t,n,r){const o=new Map,i={},s=r?1e3:0;return e.forEach(l=>{var m;const a=(dt(l.zIndex)?l.zIndex:0)+(l.selected?s:0),u=t.get(l.id),c={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},d=l.parentNode||l.parentId;d&&(i[d]=!0);const f=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(c,he,{enumerable:!1,value:{handleBounds:f||(m=u==null?void 0:u[he])==null?void 0:m.handleBounds,z:a}}),o.set(l.id,c)}),gg(o,n,i),o}function yg(e,t={}){const{getNodes:n,width:r,height:o,minZoom:i,maxZoom:s,d3Zoom:l,d3Selection:a,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=e(),f=t.initial&&!u&&c;if(l&&a&&(f||!t.initial)){const S=n().filter(E=>{var g;const p=t.includeHiddenNodes?E.width&&E.height:!E.hidden;return(g=t.nodes)!=null&&g.length?p&&t.nodes.some(y=>y.id===E.id):p}),v=S.every(E=>E.width&&E.height);if(S.length>0&&v){const E=fl(S,d),{x:p,y:g,zoom:y}=ng(E,r,o,t.minZoom??i,t.maxZoom??s,t.padding??.1),h=Kt.translate(p,g).scale(y);return typeof t.duration=="number"&&t.duration>0?l.transform(Ln(a,t.duration),h):l.transform(a,h),!0}}return!1}function KS(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[he]:r[he],selected:n.selected})}),new Map(t)}function qS(e,t){return t.map(n=>{const r=e.find(o=>o.id===n.id);return r&&(n.selected=r.selected),n})}function Vi({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:i,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:a,hasDefaultEdges:u}=n();e!=null&&e.length&&(a&&r({nodeInternals:KS(e,o)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:qS(t,i)}),l==null||l(t))}const pr=()=>{},XS={zoomIn:pr,zoomOut:pr,zoomTo:pr,getZoom:()=>1,setViewport:pr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:pr,fitBounds:pr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},GS=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),ZS=()=>{const e=Ne(),{d3Zoom:t,d3Selection:n}=se(GS,Pe);return I.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(Ln(n,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(Ln(n,o==null?void 0:o.duration),1/1.2),zoomTo:(o,i)=>t.scaleTo(Ln(n,i==null?void 0:i.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,i)=>{const[s,l,a]=e.getState().transform,u=Kt.translate(o.x??s,o.y??l).scale(o.zoom??a);t.transform(Ln(n,i==null?void 0:i.duration),u)},getViewport:()=>{const[o,i,s]=e.getState().transform;return{x:o,y:i,zoom:s}},fitView:o=>yg(e.getState,o),setCenter:(o,i,s)=>{const{width:l,height:a,maxZoom:u}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,d=l/2-o*c,f=a/2-i*c,m=Kt.translate(d,f).scale(c);t.transform(Ln(n,s==null?void 0:s.duration),m)},fitBounds:(o,i)=>{const{width:s,height:l,minZoom:a,maxZoom:u}=e.getState(),{x:c,y:d,zoom:f}=ng(o,s,l,a,u,(i==null?void 0:i.padding)??.1),m=Kt.translate(c,d).scale(f);t.transform(Ln(n,i==null?void 0:i.duration),m)},project:o=>{const{transform:i,snapToGrid:s,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),fu(o,i,s,l)},screenToFlowPosition:o=>{const{transform:i,snapToGrid:s,snapGrid:l,domNode:a}=e.getState();if(!a)return o;const{x:u,y:c}=a.getBoundingClientRect(),d={x:o.x-u,y:o.y-c};return fu(d,i,s,l)},flowToScreenPosition:o=>{const{transform:i,domNode:s}=e.getState();if(!s)return o;const{x:l,y:a}=s.getBoundingClientRect(),u=Jm(o,i);return{x:u.x+l,y:u.y+a}},viewportInitialized:!0}:XS,[t,n])};function Ic(){const e=ZS(),t=Ne(),n=I.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),r=I.useCallback(v=>t.getState().nodeInternals.get(v),[]),o=I.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(E=>({...E}))},[]),i=I.useCallback(v=>{const{edges:E=[]}=t.getState();return E.find(p=>p.id===v)},[]),s=I.useCallback(v=>{const{getNodes:E,setNodes:p,hasDefaultNodes:g,onNodesChange:y}=t.getState(),h=E(),N=typeof v=="function"?v(h):v;if(g)p(N);else if(y){const C=N.length===0?h.map(k=>({type:"remove",id:k.id})):N.map(k=>({item:k,type:"reset"}));y(C)}},[]),l=I.useCallback(v=>{const{edges:E=[],setEdges:p,hasDefaultEdges:g,onEdgesChange:y}=t.getState(),h=typeof v=="function"?v(E):v;if(g)p(h);else if(y){const N=h.length===0?E.map(C=>({type:"remove",id:C.id})):h.map(C=>({item:C,type:"reset"}));y(N)}},[]),a=I.useCallback(v=>{const E=Array.isArray(v)?v:[v],{getNodes:p,setNodes:g,hasDefaultNodes:y,onNodesChange:h}=t.getState();if(y){const C=[...p(),...E];g(C)}else if(h){const N=E.map(C=>({item:C,type:"add"}));h(N)}},[]),u=I.useCallback(v=>{const E=Array.isArray(v)?v:[v],{edges:p=[],setEdges:g,hasDefaultEdges:y,onEdgesChange:h}=t.getState();if(y)g([...p,...E]);else if(h){const N=E.map(C=>({item:C,type:"add"}));h(N)}},[]),c=I.useCallback(()=>{const{getNodes:v,edges:E=[],transform:p}=t.getState(),[g,y,h]=p;return{nodes:v().map(N=>({...N})),edges:E.map(N=>({...N})),viewport:{x:g,y,zoom:h}}},[]),d=I.useCallback(({nodes:v,edges:E})=>{const{nodeInternals:p,getNodes:g,edges:y,hasDefaultNodes:h,hasDefaultEdges:N,onNodesDelete:C,onEdgesDelete:k,onNodesChange:P,onEdgesChange:M}=t.getState(),z=(v||[]).map(b=>b.id),H=(E||[]).map(b=>b.id),F=g().reduce((b,T)=>{const L=T.parentNode||T.parentId,$=!z.includes(T.id)&&L&&b.find(A=>A.id===L);return(typeof T.deletable=="boolean"?T.deletable:!0)&&(z.includes(T.id)||$)&&b.push(T),b},[]),D=y.filter(b=>typeof b.deletable=="boolean"?b.deletable:!0),x=D.filter(b=>H.includes(b.id));if(F||x){const b=tg(F,D),T=[...x,...b],L=T.reduce(($,_)=>($.includes(_.id)||$.push(_.id),$),[]);if((N||h)&&(N&&t.setState({edges:y.filter($=>!L.includes($.id))}),h&&(F.forEach($=>{p.delete($.id)}),t.setState({nodeInternals:new Map(p)}))),L.length>0&&(k==null||k(T),M&&M(L.map($=>({id:$,type:"remove"})))),F.length>0&&(C==null||C(F),P)){const $=F.map(_=>({id:_.id,type:"remove"}));P($)}}},[]),f=I.useCallback(v=>{const E=vS(v),p=E?null:t.getState().nodeInternals.get(v.id);return!E&&!p?[null,null,E]:[E?v:yf(p),p,E]},[]),m=I.useCallback((v,E=!0,p)=>{const[g,y,h]=f(v);return g?(p||t.getState().getNodes()).filter(N=>{if(!h&&(N.id===y.id||!N.positionAbsolute))return!1;const C=yf(N),k=au(C,g);return E&&k>0||k>=g.width*g.height}):[]},[]),S=I.useCallback((v,E,p=!0)=>{const[g]=f(v);if(!g)return!1;const y=au(g,E);return p&&y>0||y>=g.width*g.height},[]);return I.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:o,getEdge:i,setNodes:s,setEdges:l,addNodes:a,addEdges:u,toObject:c,deleteElements:d,getIntersectingNodes:m,isNodeIntersecting:S}),[e,n,r,o,i,s,l,a,u,c,d,m,S])}const JS={actInsideInputWithModifier:!1};var eN=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Ne(),{deleteElements:r}=Ic(),o=si(e,JS),i=si(t);I.useEffect(()=>{if(o){const{edges:s,getNodes:l}=n.getState(),a=l().filter(c=>c.selected),u=s.filter(c=>c.selected);r({nodes:a,edges:u}),n.setState({nodesSelectionActive:!1})}},[o]),I.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function tN(e){const t=Ne();I.useEffect(()=>{let n;const r=()=>{var i,s;if(!e.current)return;const o=Ec(e.current);(o.height===0||o.width===0)&&((s=(i=t.getState()).onError)==null||s.call(i,"004",en.error004())),t.setState({width:o.width||500,height:o.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const bc={position:"absolute",width:"100%",height:"100%",top:0,left:0},nN=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Bi=e=>({x:e.x,y:e.y,zoom:e.k}),hr=(e,t)=>e.target.closest(`.${t}`),Pf=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Tf=e=>{const t=e.ctrlKey&&Rs()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},rN=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),oN=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:o=!0,zoomOnPinch:i=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:a=Wn.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:d=!0,defaultViewport:f,translateExtent:m,minZoom:S,maxZoom:v,zoomActivationKeyCode:E,preventScrolling:p=!0,children:g,noWheelClassName:y,noPanClassName:h})=>{const N=I.useRef(),C=Ne(),k=I.useRef(!1),P=I.useRef(!1),M=I.useRef(null),z=I.useRef({x:0,y:0,zoom:0}),{d3Zoom:H,d3Selection:F,d3ZoomHandler:D,userSelectionActive:x}=se(rN,Pe),b=si(E),T=I.useRef(0),L=I.useRef(!1),$=I.useRef();return tN(M),I.useEffect(()=>{if(M.current){const _=M.current.getBoundingClientRect(),A=Hm().scaleExtent([S,v]).translateExtent(m),O=at(M.current).call(A),j=Kt.translate(f.x,f.y).scale(qr(f.zoom,S,v)),B=[[0,0],[_.width,_.height]],U=A.constrain()(j,B,m);A.transform(O,U),A.wheelDelta(Tf),C.setState({d3Zoom:A,d3Selection:O,d3ZoomHandler:O.on("wheel.zoom"),transform:[U.x,U.y,U.k],domNode:M.current.closest(".react-flow")})}},[]),I.useEffect(()=>{F&&H&&(s&&!b&&!x?F.on("wheel.zoom",_=>{if(hr(_,y))return!1;_.preventDefault(),_.stopImmediatePropagation();const A=F.property("__zoom").k||1;if(_.ctrlKey&&i){const J=wt(_),ee=Tf(_),te=A*Math.pow(2,ee);H.scaleTo(F,te,J,_);return}const O=_.deltaMode===1?20:1;let j=a===Wn.Vertical?0:_.deltaX*O,B=a===Wn.Horizontal?0:_.deltaY*O;!Rs()&&_.shiftKey&&a!==Wn.Vertical&&(j=_.deltaY*O,B=0),H.translateBy(F,-(j/A)*l,-(B/A)*l,{internal:!0});const U=Bi(F.property("__zoom")),{onViewportChangeStart:Q,onViewportChange:K,onViewportChangeEnd:X}=C.getState();clearTimeout($.current),L.current||(L.current=!0,t==null||t(_,U),Q==null||Q(U)),L.current&&(e==null||e(_,U),K==null||K(U),$.current=setTimeout(()=>{n==null||n(_,U),X==null||X(U),L.current=!1},150))},{passive:!1}):typeof D<"u"&&F.on("wheel.zoom",function(_,A){if(!p&&_.type==="wheel"&&!_.ctrlKey||hr(_,y))return null;_.preventDefault(),D.call(this,_,A)},{passive:!1}))},[x,s,a,F,H,D,b,i,p,y,t,e,n]),I.useEffect(()=>{H&&H.on("start",_=>{var j,B;if(!_.sourceEvent||_.sourceEvent.internal)return null;T.current=(j=_.sourceEvent)==null?void 0:j.button;const{onViewportChangeStart:A}=C.getState(),O=Bi(_.transform);k.current=!0,z.current=O,((B=_.sourceEvent)==null?void 0:B.type)==="mousedown"&&C.setState({paneDragging:!0}),A==null||A(O),t==null||t(_.sourceEvent,O)})},[H,t]),I.useEffect(()=>{H&&(x&&!k.current?H.on("zoom",null):x||H.on("zoom",_=>{var O;const{onViewportChange:A}=C.getState();if(C.setState({transform:[_.transform.x,_.transform.y,_.transform.k]}),P.current=!!(r&&Pf(d,T.current??0)),(e||A)&&!((O=_.sourceEvent)!=null&&O.internal)){const j=Bi(_.transform);A==null||A(j),e==null||e(_.sourceEvent,j)}}))},[x,H,e,d,r]),I.useEffect(()=>{H&&H.on("end",_=>{if(!_.sourceEvent||_.sourceEvent.internal)return null;const{onViewportChangeEnd:A}=C.getState();if(k.current=!1,C.setState({paneDragging:!1}),r&&Pf(d,T.current??0)&&!P.current&&r(_.sourceEvent),P.current=!1,(n||A)&&nN(z.current,_.transform)){const O=Bi(_.transform);z.current=O,clearTimeout(N.current),N.current=setTimeout(()=>{A==null||A(O),n==null||n(_.sourceEvent,O)},s?150:0)}})},[H,s,d,n,r]),I.useEffect(()=>{H&&H.filter(_=>{const A=b||o,O=i&&_.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&_.button===1&&_.type==="mousedown"&&(hr(_,"react-flow__node")||hr(_,"react-flow__edge")))return!0;if(!d&&!A&&!s&&!u&&!i||x||!u&&_.type==="dblclick"||hr(_,y)&&_.type==="wheel"||hr(_,h)&&(_.type!=="wheel"||s&&_.type==="wheel"&&!b)||!i&&_.ctrlKey&&_.type==="wheel"||!A&&!s&&!O&&_.type==="wheel"||!d&&(_.type==="mousedown"||_.type==="touchstart")||Array.isArray(d)&&!d.includes(_.button)&&_.type==="mousedown")return!1;const j=Array.isArray(d)&&d.includes(_.button)||!_.button||_.button<=1;return(!_.ctrlKey||_.type==="wheel")&&j})},[x,H,o,i,s,u,d,c,b]),R.createElement("div",{className:"react-flow__renderer",ref:M,style:bc},g)},iN=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function sN(){const{userSelectionActive:e,userSelectionRect:t}=se(iN,Pe);return e&&t?R.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Mf(e,t){const n=t.parentNode||t.parentId,r=e.find(o=>o.id===n);if(r){const o=t.position.x+t.width-r.width,i=t.position.y+t.height-r.height;if(o>0||i>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,o>0&&(r.style.width+=o),i>0&&(r.style.height+=i),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function vg(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,o)=>{const i=e.filter(l=>l.id===o.id);if(i.length===0)return r.push(o),r;const s={...o};for(const l of i)if(l)switch(l.type){case"select":{s.selected=l.selected;break}case"position":{typeof l.position<"u"&&(s.position=l.position),typeof l.positionAbsolute<"u"&&(s.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(s.dragging=l.dragging),s.expandParent&&Mf(r,s);break}case"dimensions":{typeof l.dimensions<"u"&&(s.width=l.dimensions.width,s.height=l.dimensions.height),typeof l.updateStyle<"u"&&(s.style={...s.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(s.resizing=l.resizing),s.expandParent&&Mf(r,s);break}case"remove":return r}return r.push(s),r},n)}function xg(e,t){return vg(e,t)}function lN(e,t){return vg(e,t)}const an=(e,t)=>({id:e,type:"select",selected:t});function Mr(e,t){return e.reduce((n,r)=>{const o=t.includes(r.id);return!r.selected&&o?(r.selected=!0,n.push(an(r.id,!0))):r.selected&&!o&&(r.selected=!1,n.push(an(r.id,!1))),n},[])}const Jl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},aN=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),wg=I.memo(({isSelecting:e,selectionMode:t=ii.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:o,onPaneClick:i,onPaneContextMenu:s,onPaneScroll:l,onPaneMouseEnter:a,onPaneMouseMove:u,onPaneMouseLeave:c,children:d})=>{const f=I.useRef(null),m=Ne(),S=I.useRef(0),v=I.useRef(0),E=I.useRef(),{userSelectionActive:p,elementsSelectable:g,dragging:y}=se(aN,Pe),h=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),S.current=0,v.current=0},N=D=>{i==null||i(D),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},C=D=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){D.preventDefault();return}s==null||s(D)},k=l?D=>l(D):void 0,P=D=>{const{resetSelectedElements:x,domNode:b}=m.getState();if(E.current=b==null?void 0:b.getBoundingClientRect(),!g||!e||D.button!==0||D.target!==f.current||!E.current)return;const{x:T,y:L}=Nn(D,E.current);x(),m.setState({userSelectionRect:{width:0,height:0,startX:T,startY:L,x:T,y:L}}),r==null||r(D)},M=D=>{const{userSelectionRect:x,nodeInternals:b,edges:T,transform:L,onNodesChange:$,onEdgesChange:_,nodeOrigin:A,getNodes:O}=m.getState();if(!e||!E.current||!x)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const j=Nn(D,E.current),B=x.startX??0,U=x.startY??0,Q={...x,x:j.x<B?j.x:B,y:j.y<U?j.y:U,width:Math.abs(j.x-B),height:Math.abs(j.y-U)},K=O(),X=eg(b,Q,L,t===ii.Partial,!0,A),J=tg(X,T).map(te=>te.id),ee=X.map(te=>te.id);if(S.current!==ee.length){S.current=ee.length;const te=Mr(K,ee);te.length&&($==null||$(te))}if(v.current!==J.length){v.current=J.length;const te=Mr(T,J);te.length&&(_==null||_(te))}m.setState({userSelectionRect:Q})},z=D=>{if(D.button!==0)return;const{userSelectionRect:x}=m.getState();!p&&x&&D.target===f.current&&(N==null||N(D)),m.setState({nodesSelectionActive:S.current>0}),h(),o==null||o(D)},H=D=>{p&&(m.setState({nodesSelectionActive:S.current>0}),o==null||o(D)),h()},F=g&&(e||p);return R.createElement("div",{className:Ie(["react-flow__pane",{dragging:y,selection:e}]),onClick:F?void 0:Jl(N,f),onContextMenu:Jl(C,f),onWheel:Jl(k,f),onMouseEnter:F?void 0:a,onMouseDown:F?P:void 0,onMouseMove:F?M:u,onMouseUp:F?z:void 0,onMouseLeave:F?H:c,ref:f,style:bc},d,R.createElement(sN,null))});wg.displayName="Pane";function Sg(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:Sg(r,t):!1}function $f(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function uN(e,t,n,r){return Array.from(e.values()).filter(o=>(o.selected||o.id===r)&&(!o.parentNode||o.parentId||!Sg(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var i,s;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=o.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((s=o.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}})}function cN(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Ng(e,t,n,r,o=[0,0],i){const s=cN(e,e.extent||r);let l=s;const a=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(a&&e.width&&e.height){const d=n.get(a),{x:f,y:m}=qn(d,o).positionAbsolute;l=d&&dt(f)&&dt(m)&&dt(d.width)&&dt(d.height)?[[f+e.width*o[0],m+e.height*o[1]],[f+d.width-e.width+e.width*o[0],m+d.height-e.height+e.height*o[1]]]:l}else i==null||i("005",en.error005()),l=s;else if(e.extent&&a&&e.extent!=="parent"){const d=n.get(a),{x:f,y:m}=qn(d,o).positionAbsolute;l=[[e.extent[0][0]+f,e.extent[0][1]+m],[e.extent[1][0]+f,e.extent[1][1]+m]]}let u={x:0,y:0};if(a){const d=n.get(a);u=qn(d,o).positionAbsolute}const c=l&&l!=="parent"?_c(t,l):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function ea({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?r.find(o=>o.id===e):r[0],r]}const If=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const i=Array.from(o),s=t.getBoundingClientRect(),l={x:s.width*r[0],y:s.height*r[1]};return i.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-s.left-l.x)/n,y:(u.top-s.top-l.y)/n,...Ec(a)}})};function yo(e,t,n){return n===void 0?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function hu({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeInternals:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",en.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):o([e])}function dN(){const e=Ne();return I.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:o,snapToGrid:i}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,a={x:(s-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:i?o[0]*Math.round(a.x/o[0]):a.x,ySnapped:i?o[1]*Math.round(a.y/o[1]):a.y,...a}},[])}function ta(e){return(t,n,r)=>e==null?void 0:e(t,r)}function Eg({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,selectNodesOnDrag:s}){const l=Ne(),[a,u]=I.useState(!1),c=I.useRef([]),d=I.useRef({x:null,y:null}),f=I.useRef(0),m=I.useRef(null),S=I.useRef({x:0,y:0}),v=I.useRef(null),E=I.useRef(!1),p=I.useRef(!1),g=I.useRef(!1),y=dN();return I.useEffect(()=>{if(e!=null&&e.current){const h=at(e.current),N=({x:P,y:M})=>{const{nodeInternals:z,onNodeDrag:H,onSelectionDrag:F,updateNodePositions:D,nodeExtent:x,snapGrid:b,snapToGrid:T,nodeOrigin:L,onError:$}=l.getState();d.current={x:P,y:M};let _=!1,A={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&x){const j=fl(c.current,L);A=oi(j)}if(c.current=c.current.map(j=>{const B={x:P-j.distance.x,y:M-j.distance.y};T&&(B.x=b[0]*Math.round(B.x/b[0]),B.y=b[1]*Math.round(B.y/b[1]));const U=[[x[0][0],x[0][1]],[x[1][0],x[1][1]]];c.current.length>1&&x&&!j.extent&&(U[0][0]=j.positionAbsolute.x-A.x+x[0][0],U[1][0]=j.positionAbsolute.x+(j.width??0)-A.x2+x[1][0],U[0][1]=j.positionAbsolute.y-A.y+x[0][1],U[1][1]=j.positionAbsolute.y+(j.height??0)-A.y2+x[1][1]);const Q=Ng(j,B,z,U,L,$);return _=_||j.position.x!==Q.position.x||j.position.y!==Q.position.y,j.position=Q.position,j.positionAbsolute=Q.positionAbsolute,j}),!_)return;D(c.current,!0,!0),u(!0);const O=o?H:ta(F);if(O&&v.current){const[j,B]=ea({nodeId:o,dragItems:c.current,nodeInternals:z});O(v.current,j,B)}},C=()=>{if(!m.current)return;const[P,M]=Bm(S.current,m.current);if(P!==0||M!==0){const{transform:z,panBy:H}=l.getState();d.current.x=(d.current.x??0)-P/z[2],d.current.y=(d.current.y??0)-M/z[2],H({x:P,y:M})&&N(d.current)}f.current=requestAnimationFrame(C)},k=P=>{var L;const{nodeInternals:M,multiSelectionActive:z,nodesDraggable:H,unselectNodesAndEdges:F,onNodeDragStart:D,onSelectionDragStart:x}=l.getState();p.current=!0;const b=o?D:ta(x);(!s||!i)&&!z&&o&&((L=M.get(o))!=null&&L.selected||F()),o&&i&&s&&hu({id:o,store:l,nodeRef:e});const T=y(P);if(d.current=T,c.current=uN(M,H,T,o),b&&c.current){const[$,_]=ea({nodeId:o,dragItems:c.current,nodeInternals:M});b(P.sourceEvent,$,_)}};if(t)h.on(".drag",null);else{const P=Nw().on("start",M=>{const{domNode:z,nodeDragThreshold:H}=l.getState();H===0&&k(M),g.current=!1;const F=y(M);d.current=F,m.current=(z==null?void 0:z.getBoundingClientRect())||null,S.current=Nn(M.sourceEvent,m.current)}).on("drag",M=>{var D,x;const z=y(M),{autoPanOnNodeDrag:H,nodeDragThreshold:F}=l.getState();if(M.sourceEvent.type==="touchmove"&&M.sourceEvent.touches.length>1&&(g.current=!0),!g.current){if(!E.current&&p.current&&H&&(E.current=!0,C()),!p.current){const b=z.xSnapped-(((D=d==null?void 0:d.current)==null?void 0:D.x)??0),T=z.ySnapped-(((x=d==null?void 0:d.current)==null?void 0:x.y)??0);Math.sqrt(b*b+T*T)>F&&k(M)}(d.current.x!==z.xSnapped||d.current.y!==z.ySnapped)&&c.current&&p.current&&(v.current=M.sourceEvent,S.current=Nn(M.sourceEvent,m.current),N(z))}}).on("end",M=>{if(!(!p.current||g.current)&&(u(!1),E.current=!1,p.current=!1,cancelAnimationFrame(f.current),c.current)){const{updateNodePositions:z,nodeInternals:H,onNodeDragStop:F,onSelectionDragStop:D}=l.getState(),x=o?F:ta(D);if(z(c.current,!1,!1),x){const[b,T]=ea({nodeId:o,dragItems:c.current,nodeInternals:H});x(M.sourceEvent,b,T)}}}).filter(M=>{const z=M.target;return!M.button&&(!n||!$f(z,`.${n}`,e))&&(!r||$f(z,r,e))});return h.call(P),()=>{h.on(".drag",null)}}}},[e,t,n,r,i,l,o,s,y]),a}function _g(){const e=Ne();return I.useCallback(n=>{const{nodeInternals:r,nodeExtent:o,updateNodePositions:i,getNodes:s,snapToGrid:l,snapGrid:a,onError:u,nodesDraggable:c}=e.getState(),d=s().filter(g=>g.selected&&(g.draggable||c&&typeof g.draggable>"u")),f=l?a[0]:5,m=l?a[1]:5,S=n.isShiftPressed?4:1,v=n.x*f*S,E=n.y*m*S,p=d.map(g=>{if(g.positionAbsolute){const y={x:g.positionAbsolute.x+v,y:g.positionAbsolute.y+E};l&&(y.x=a[0]*Math.round(y.x/a[0]),y.y=a[1]*Math.round(y.y/a[1]));const{positionAbsolute:h,position:N}=Ng(g,y,r,o,void 0,u);g.position=N,g.positionAbsolute=h}return g});i(p,!0,!1)},[])}const Lr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var vo=e=>{const t=({id:n,type:r,data:o,xPos:i,yPos:s,xPosOrigin:l,yPosOrigin:a,selected:u,onClick:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:m,onContextMenu:S,onDoubleClick:v,style:E,className:p,isDraggable:g,isSelectable:y,isConnectable:h,isFocusable:N,selectNodesOnDrag:C,sourcePosition:k,targetPosition:P,hidden:M,resizeObserver:z,dragHandle:H,zIndex:F,isParent:D,noDragClassName:x,noPanClassName:b,initialized:T,disableKeyboardA11y:L,ariaLabel:$,rfId:_,hasHandleBounds:A})=>{const O=Ne(),j=I.useRef(null),B=I.useRef(null),U=I.useRef(k),Q=I.useRef(P),K=I.useRef(r),X=y||g||c||d||f||m,J=_g(),ee=yo(n,O.getState,d),te=yo(n,O.getState,f),me=yo(n,O.getState,m),xe=yo(n,O.getState,S),Le=yo(n,O.getState,v),be=oe=>{const{nodeDragThreshold:q}=O.getState();if(y&&(!C||!g||q>0)&&hu({id:n,store:O,nodeRef:j}),c){const Oe=O.getState().nodeInternals.get(n);Oe&&c(oe,{...Oe})}},ge=oe=>{if(!uu(oe)&&!L)if(Ym.includes(oe.key)&&y){const q=oe.key==="Escape";hu({id:n,store:O,unselect:q,nodeRef:j})}else g&&u&&Object.prototype.hasOwnProperty.call(Lr,oe.key)&&(O.setState({ariaLiveMessage:`Moved selected node ${oe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~s}`}),J({x:Lr[oe.key].x,y:Lr[oe.key].y,isShiftPressed:oe.shiftKey}))};I.useEffect(()=>()=>{B.current&&(z==null||z.unobserve(B.current),B.current=null)},[]),I.useEffect(()=>{if(j.current&&!M){const oe=j.current;(!T||!A||B.current!==oe)&&(B.current&&(z==null||z.unobserve(B.current)),z==null||z.observe(oe),B.current=oe)}},[M,T,A]),I.useEffect(()=>{const oe=K.current!==r,q=U.current!==k,Oe=Q.current!==P;j.current&&(oe||q||Oe)&&(oe&&(K.current=r),q&&(U.current=k),Oe&&(Q.current=P),O.getState().updateNodeDimensions([{id:n,nodeElement:j.current,forceUpdate:!0}]))},[n,r,k,P]);const Xe=Eg({nodeRef:j,disabled:M||!g,noDragClassName:x,handleSelector:H,nodeId:n,isSelectable:y,selectNodesOnDrag:C});return M?null:R.createElement("div",{className:Ie(["react-flow__node",`react-flow__node-${r}`,{[b]:g},p,{selected:u,selectable:y,parent:D,dragging:Xe}]),ref:j,style:{zIndex:F,transform:`translate(${l}px,${a}px)`,pointerEvents:X?"all":"none",visibility:T?"visible":"hidden",...E},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ee,onMouseMove:te,onMouseLeave:me,onContextMenu:xe,onClick:be,onDoubleClick:Le,onKeyDown:N?ge:void 0,tabIndex:N?0:void 0,role:N?"button":void 0,"aria-describedby":L?void 0:`${pg}-${_}`,"aria-label":$},R.createElement(kS,{value:n},R.createElement(e,{id:n,data:o,type:r,xPos:i,yPos:s,selected:u,isConnectable:h,sourcePosition:k,targetPosition:P,dragging:Xe,dragHandle:H,zIndex:F})))};return t.displayName="NodeWrapper",I.memo(t)};const fN=e=>{const t=e.getNodes().filter(n=>n.selected);return{...fl(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function pN({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ne(),{width:o,height:i,x:s,y:l,transformString:a,userSelectionActive:u}=se(fN,Pe),c=_g(),d=I.useRef(null);if(I.useEffect(()=>{var S;n||(S=d.current)==null||S.focus({preventScroll:!0})},[n]),Eg({nodeRef:d}),u||!o||!i)return null;const f=e?S=>{const v=r.getState().getNodes().filter(E=>E.selected);e(S,v)}:void 0,m=S=>{Object.prototype.hasOwnProperty.call(Lr,S.key)&&c({x:Lr[S.key].x,y:Lr[S.key].y,isShiftPressed:S.shiftKey})};return R.createElement("div",{className:Ie(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a}},R.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:o,height:i,top:l,left:s}}))}var hN=I.memo(pN);const mN=e=>e.nodesSelectionActive,kg=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,deleteKeyCode:l,onMove:a,onMoveStart:u,onMoveEnd:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:m,onSelectionStart:S,onSelectionEnd:v,multiSelectionKeyCode:E,panActivationKeyCode:p,zoomActivationKeyCode:g,elementsSelectable:y,zoomOnScroll:h,zoomOnPinch:N,panOnScroll:C,panOnScrollSpeed:k,panOnScrollMode:P,zoomOnDoubleClick:M,panOnDrag:z,defaultViewport:H,translateExtent:F,minZoom:D,maxZoom:x,preventScrolling:b,onSelectionContextMenu:T,noWheelClassName:L,noPanClassName:$,disableKeyboardA11y:_})=>{const A=se(mN),O=si(d),j=si(p),B=j||z,U=j||C,Q=O||f&&B!==!0;return eN({deleteKeyCode:l,multiSelectionKeyCode:E}),R.createElement(oN,{onMove:a,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:i,elementsSelectable:y,zoomOnScroll:h,zoomOnPinch:N,panOnScroll:U,panOnScrollSpeed:k,panOnScrollMode:P,zoomOnDoubleClick:M,panOnDrag:!O&&B,defaultViewport:H,translateExtent:F,minZoom:D,maxZoom:x,zoomActivationKeyCode:g,preventScrolling:b,noWheelClassName:L,noPanClassName:$},R.createElement(wg,{onSelectionStart:S,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:B,isSelecting:!!Q,selectionMode:m},e,A&&R.createElement(hN,{onSelectionContextMenu:T,noPanClassName:$,disableKeyboardA11y:_})))};kg.displayName="FlowRenderer";var gN=I.memo(kg);function yN(e){return se(I.useCallback(n=>e?eg(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function vN(e){const t={input:vo(e.input||ug),default:vo(e.default||pu),output:vo(e.output||dg),group:vo(e.group||$c)},n={},r=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,i)=>(o[i]=vo(e[i]||pu),o),n);return{...t,...r}}const xN=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},wN=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Cg=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:i,onError:s}=se(wN,Pe),l=yN(e.onlyRenderVisibleElements),a=I.useRef(),u=I.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(d=>{const f=d.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));i(f)});return a.current=c,c},[]);return I.useEffect(()=>()=>{var c;(c=a==null?void 0:a.current)==null||c.disconnect()},[]),R.createElement("div",{className:"react-flow__nodes",style:bc},l.map(c=>{var N,C,k;let d=c.type||"default";e.nodeTypes[d]||(s==null||s("003",en.error003(d)),d="default");const f=e.nodeTypes[d]||e.nodeTypes.default,m=!!(c.draggable||t&&typeof c.draggable>"u"),S=!!(c.selectable||o&&typeof c.selectable>"u"),v=!!(c.connectable||n&&typeof c.connectable>"u"),E=!!(c.focusable||r&&typeof c.focusable>"u"),p=e.nodeExtent?_c(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,g=(p==null?void 0:p.x)??0,y=(p==null?void 0:p.y)??0,h=xN({x:g,y,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return R.createElement(f,{key:c.id,id:c.id,className:c.className,style:c.style,type:d,data:c.data,sourcePosition:c.sourcePosition||Y.Bottom,targetPosition:c.targetPosition||Y.Top,hidden:c.hidden,xPos:g,yPos:y,xPosOrigin:h.x,yPosOrigin:h.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:m,isSelectable:S,isConnectable:v,isFocusable:E,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((N=c[he])==null?void 0:N.z)??0,isParent:!!((C=c[he])!=null&&C.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((k=c[he])!=null&&k.handleBounds)})}))};Cg.displayName="NodeRenderer";var SN=I.memo(Cg);const NN=(e,t,n)=>n===Y.Left?e-t:n===Y.Right?e+t:e,EN=(e,t,n)=>n===Y.Top?e-t:n===Y.Bottom?e+t:e,bf="react-flow__edgeupdater",zf=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:l})=>R.createElement("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:Ie([bf,`${bf}-${l}`]),cx:NN(t,r,e),cy:EN(n,r,e),r,stroke:"transparent",fill:"transparent"}),_N=()=>!0;var mr=e=>{const t=({id:n,className:r,type:o,data:i,onClick:s,onEdgeDoubleClick:l,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:S,labelBgBorderRadius:v,style:E,source:p,target:g,sourceX:y,sourceY:h,targetX:N,targetY:C,sourcePosition:k,targetPosition:P,elementsSelectable:M,hidden:z,sourceHandleId:H,targetHandleId:F,onContextMenu:D,onMouseEnter:x,onMouseMove:b,onMouseLeave:T,reconnectRadius:L,onReconnect:$,onReconnectStart:_,onReconnectEnd:A,markerEnd:O,markerStart:j,rfId:B,ariaLabel:U,isFocusable:Q,isReconnectable:K,pathOptions:X,interactionWidth:J,disableKeyboardA11y:ee})=>{const te=I.useRef(null),[me,xe]=I.useState(!1),[Le,be]=I.useState(!1),ge=Ne(),Xe=I.useMemo(()=>`url('#${du(j,B)}')`,[j,B]),oe=I.useMemo(()=>`url('#${du(O,B)}')`,[O,B]);if(z)return null;const q=ze=>{var Tt;const{edges:gt,addSelectedEdges:bn,unselectNodesAndEdges:zn,multiSelectionActive:An}=ge.getState(),Ot=gt.find(ro=>ro.id===n);Ot&&(M&&(ge.setState({nodesSelectionActive:!1}),Ot.selected&&An?(zn({nodes:[],edges:[Ot]}),(Tt=te.current)==null||Tt.blur()):bn([n])),s&&s(ze,Ot))},Oe=go(n,ge.getState,l),Dt=go(n,ge.getState,D),to=go(n,ge.getState,x),sr=go(n,ge.getState,b),lr=go(n,ge.getState,T),Lt=(ze,gt)=>{if(ze.button!==0)return;const{edges:bn,isValidConnection:zn}=ge.getState(),An=gt?g:p,Ot=(gt?F:H)||null,Tt=gt?"target":"source",ro=zn||_N,yl=gt,oo=bn.find(jn=>jn.id===n);be(!0),_==null||_(ze,oo,Tt);const vl=jn=>{be(!1),A==null||A(jn,oo,Tt)};ig({event:ze,handleId:Ot,nodeId:An,onConnect:jn=>$==null?void 0:$(oo,jn),isTarget:yl,getState:ge.getState,setState:ge.setState,isValidConnection:ro,edgeUpdaterType:Tt,onReconnectEnd:vl})},ar=ze=>Lt(ze,!0),$n=ze=>Lt(ze,!1),In=()=>xe(!0),ur=()=>xe(!1),cr=!M&&!s,no=ze=>{var gt;if(!ee&&Ym.includes(ze.key)&&M){const{unselectNodesAndEdges:bn,addSelectedEdges:zn,edges:An}=ge.getState();ze.key==="Escape"?((gt=te.current)==null||gt.blur(),bn({edges:[An.find(Tt=>Tt.id===n)]})):zn([n])}};return R.createElement("g",{className:Ie(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:a,animated:u,inactive:cr,updating:me}]),onClick:q,onDoubleClick:Oe,onContextMenu:Dt,onMouseEnter:to,onMouseMove:sr,onMouseLeave:lr,onKeyDown:Q?no:void 0,tabIndex:Q?0:void 0,role:Q?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":U===null?void 0:U||`Edge from ${p} to ${g}`,"aria-describedby":Q?`${hg}-${B}`:void 0,ref:te},!Le&&R.createElement(e,{id:n,source:p,target:g,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:S,labelBgBorderRadius:v,data:i,style:E,sourceX:y,sourceY:h,targetX:N,targetY:C,sourcePosition:k,targetPosition:P,sourceHandleId:H,targetHandleId:F,markerStart:Xe,markerEnd:oe,pathOptions:X,interactionWidth:J}),K&&R.createElement(R.Fragment,null,(K==="source"||K===!0)&&R.createElement(zf,{position:k,centerX:y,centerY:h,radius:L,onMouseDown:ar,onMouseEnter:In,onMouseOut:ur,type:"source"}),(K==="target"||K===!0)&&R.createElement(zf,{position:P,centerX:N,centerY:C,radius:L,onMouseDown:$n,onMouseEnter:In,onMouseOut:ur,type:"target"})))};return t.displayName="EdgeWrapper",I.memo(t)};function kN(e){const t={default:mr(e.default||Ls),straight:mr(e.bezier||Pc),step:mr(e.step||Cc),smoothstep:mr(e.step||dl),simplebezier:mr(e.simplebezier||kc)},n={},r=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,i)=>(o[i]=mr(e[i]||Ls),o),n);return{...t,...r}}function Af(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case Y.Top:return{x:r+i/2,y:o};case Y.Right:return{x:r+i,y:o+s/2};case Y.Bottom:return{x:r+i/2,y:o+s};case Y.Left:return{x:r,y:o+s/2}}}function jf(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const CN=(e,t,n,r,o,i)=>{const s=Af(n,e,t),l=Af(i,r,o);return{sourceX:s.x,sourceY:s.y,targetX:l.x,targetY:l.y}};function PN({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:i,width:s,height:l,transform:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=oi({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:s/a[2],height:l/a[2]}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),f=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*f)>0}function Rf(e){var r,o,i,s,l;const t=((r=e==null?void 0:e[he])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const TN=[{level:0,isMaxLevel:!0,edges:[]}];function MN(e,t,n=!1){let r=-1;const o=e.reduce((s,l)=>{var c,d;const a=dt(l.zIndex);let u=a?l.zIndex:0;if(n){const f=t.get(l.target),m=t.get(l.source),S=l.selected||(f==null?void 0:f.selected)||(m==null?void 0:m.selected),v=Math.max(((c=m==null?void 0:m[he])==null?void 0:c.z)||0,((d=f==null?void 0:f[he])==null?void 0:d.z)||0,1e3);u=(a?l.zIndex:0)+(S?v:0)}return s[u]?s[u].push(l):s[u]=[l],r=u>r?u:r,s},{}),i=Object.entries(o).map(([s,l])=>{const a=+s;return{edges:l,level:a,isMaxLevel:a===r}});return i.length===0?TN:i}function $N(e,t,n){const r=se(I.useCallback(o=>e?o.edges.filter(i=>{const s=t.get(i.source),l=t.get(i.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&PN({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:l.width,targetHeight:l.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return MN(r,t,n)}const IN=({color:e="none",strokeWidth:t=1})=>R.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),bN=({color:e="none",strokeWidth:t=1})=>R.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Df={[Ds.Arrow]:IN,[Ds.ArrowClosed]:bN};function zN(e){const t=Ne();return I.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(Df,e)?Df[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",en.error009(e)),null)},[e])}const AN=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=zN(t);return a?R.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0"},R.createElement(a,{color:n,strokeWidth:s})):null},jN=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((o,i)=>([i.markerStart,i.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const l=du(s,t);r.includes(l)||(o.push({id:l,color:s.color||e,...s}),r.push(l))}}),o),[]).sort((o,i)=>o.id.localeCompare(i.id))},Pg=({defaultColor:e,rfId:t})=>{const n=se(I.useCallback(jN({defaultColor:e,rfId:t}),[e,t]),(r,o)=>!(r.length!==o.length||r.some((i,s)=>i.id!==o[s].id)));return R.createElement("defs",null,n.map(r=>R.createElement(AN,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Pg.displayName="MarkerDefinitions";var RN=I.memo(Pg);const DN=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Tg=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:o,noPanClassName:i,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:S,reconnectRadius:v,children:E,disableKeyboardA11y:p})=>{const{edgesFocusable:g,edgesUpdatable:y,elementsSelectable:h,width:N,height:C,connectionMode:k,nodeInternals:P,onError:M}=se(DN,Pe),z=$N(t,P,n);return N?R.createElement(R.Fragment,null,z.map(({level:H,edges:F,isMaxLevel:D})=>R.createElement("svg",{key:H,style:{zIndex:H},width:N,height:C,className:"react-flow__edges react-flow__container"},D&&R.createElement(RN,{defaultColor:e,rfId:r}),R.createElement("g",null,F.map(x=>{const[b,T,L]=Rf(P.get(x.source)),[$,_,A]=Rf(P.get(x.target));if(!L||!A)return null;let O=x.type||"default";o[O]||(M==null||M("011",en.error011(O)),O="default");const j=o[O]||o.default,B=k===Cn.Strict?_.target:(_.target??[]).concat(_.source??[]),U=jf(T.source,x.sourceHandle),Q=jf(B,x.targetHandle),K=(U==null?void 0:U.position)||Y.Bottom,X=(Q==null?void 0:Q.position)||Y.Top,J=!!(x.focusable||g&&typeof x.focusable>"u"),ee=x.reconnectable||x.updatable,te=typeof f<"u"&&(ee||y&&typeof ee>"u");if(!U||!Q)return M==null||M("008",en.error008(U,x)),null;const{sourceX:me,sourceY:xe,targetX:Le,targetY:be}=CN(b,U,K,$,Q,X);return R.createElement(j,{key:x.id,id:x.id,className:Ie([x.className,i]),type:O,data:x.data,selected:!!x.selected,animated:!!x.animated,hidden:!!x.hidden,label:x.label,labelStyle:x.labelStyle,labelShowBg:x.labelShowBg,labelBgStyle:x.labelBgStyle,labelBgPadding:x.labelBgPadding,labelBgBorderRadius:x.labelBgBorderRadius,style:x.style,source:x.source,target:x.target,sourceHandleId:x.sourceHandle,targetHandleId:x.targetHandle,markerEnd:x.markerEnd,markerStart:x.markerStart,sourceX:me,sourceY:xe,targetX:Le,targetY:be,sourcePosition:K,targetPosition:X,elementsSelectable:h,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:S,reconnectRadius:v,rfId:r,ariaLabel:x.ariaLabel,isFocusable:J,isReconnectable:te,pathOptions:"pathOptions"in x?x.pathOptions:void 0,interactionWidth:x.interactionWidth,disableKeyboardA11y:p})})))),E):null};Tg.displayName="EdgeRenderer";var LN=I.memo(Tg);const ON=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function FN({children:e}){const t=se(ON);return R.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function HN(e){const t=Ic(),n=I.useRef(!1);I.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const VN={[Y.Left]:Y.Right,[Y.Right]:Y.Left,[Y.Top]:Y.Bottom,[Y.Bottom]:Y.Top},Mg=({nodeId:e,handleType:t,style:n,type:r=dn.Bezier,CustomComponent:o,connectionStatus:i})=>{var C,k,P;const{fromNode:s,handleId:l,toX:a,toY:u,connectionMode:c}=se(I.useCallback(M=>({fromNode:M.nodeInternals.get(e),handleId:M.connectionHandleId,toX:(M.connectionPosition.x-M.transform[0])/M.transform[2],toY:(M.connectionPosition.y-M.transform[1])/M.transform[2],connectionMode:M.connectionMode}),[e]),Pe),d=(C=s==null?void 0:s[he])==null?void 0:C.handleBounds;let f=d==null?void 0:d[t];if(c===Cn.Loose&&(f=f||(d==null?void 0:d[t==="source"?"target":"source"])),!s||!f)return null;const m=l?f.find(M=>M.id===l):f[0],S=m?m.x+m.width/2:(s.width??0)/2,v=m?m.y+m.height/2:s.height??0,E=(((k=s.positionAbsolute)==null?void 0:k.x)??0)+S,p=(((P=s.positionAbsolute)==null?void 0:P.y)??0)+v,g=m==null?void 0:m.position,y=g?VN[g]:null;if(!g||!y)return null;if(o)return R.createElement(o,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:m,fromX:E,fromY:p,toX:a,toY:u,fromPosition:g,toPosition:y,connectionStatus:i});let h="";const N={sourceX:E,sourceY:p,sourcePosition:g,targetX:a,targetY:u,targetPosition:y};return r===dn.Bezier?[h]=Zm(N):r===dn.Step?[h]=cu({...N,borderRadius:0}):r===dn.SmoothStep?[h]=cu(N):r===dn.SimpleBezier?[h]=Gm(N):h=`M${E},${p} ${a},${u}`,R.createElement("path",{d:h,fill:"none",className:"react-flow__connection-path",style:n})};Mg.displayName="ConnectionLine";const BN=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function UN({containerStyle:e,style:t,type:n,component:r}){const{nodeId:o,handleType:i,nodesConnectable:s,width:l,height:a,connectionStatus:u}=se(BN,Pe);return!(o&&i&&l&&s)?null:R.createElement("svg",{style:e,width:l,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},R.createElement("g",{className:Ie(["react-flow__connection",u])},R.createElement(Mg,{nodeId:o,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Lf(e,t){return I.useRef(null),Ne(),I.useMemo(()=>t(e),[e])}const $g=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:i,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:S,onSelectionStart:v,onSelectionEnd:E,connectionLineType:p,connectionLineStyle:g,connectionLineComponent:y,connectionLineContainerStyle:h,selectionKeyCode:N,selectionOnDrag:C,selectionMode:k,multiSelectionKeyCode:P,panActivationKeyCode:M,zoomActivationKeyCode:z,deleteKeyCode:H,onlyRenderVisibleElements:F,elementsSelectable:D,selectNodesOnDrag:x,defaultViewport:b,translateExtent:T,minZoom:L,maxZoom:$,preventScrolling:_,defaultMarkerColor:A,zoomOnScroll:O,zoomOnPinch:j,panOnScroll:B,panOnScrollSpeed:U,panOnScrollMode:Q,zoomOnDoubleClick:K,panOnDrag:X,onPaneClick:J,onPaneMouseEnter:ee,onPaneMouseMove:te,onPaneMouseLeave:me,onPaneScroll:xe,onPaneContextMenu:Le,onEdgeContextMenu:be,onEdgeMouseEnter:ge,onEdgeMouseMove:Xe,onEdgeMouseLeave:oe,onReconnect:q,onReconnectStart:Oe,onReconnectEnd:Dt,reconnectRadius:to,noDragClassName:sr,noWheelClassName:lr,noPanClassName:Lt,elevateEdgesOnSelect:ar,disableKeyboardA11y:$n,nodeOrigin:In,nodeExtent:ur,rfId:cr})=>{const no=Lf(e,vN),ze=Lf(t,kN);return HN(i),R.createElement(gN,{onPaneClick:J,onPaneMouseEnter:ee,onPaneMouseMove:te,onPaneMouseLeave:me,onPaneContextMenu:Le,onPaneScroll:xe,deleteKeyCode:H,selectionKeyCode:N,selectionOnDrag:C,selectionMode:k,onSelectionStart:v,onSelectionEnd:E,multiSelectionKeyCode:P,panActivationKeyCode:M,zoomActivationKeyCode:z,elementsSelectable:D,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:O,zoomOnPinch:j,zoomOnDoubleClick:K,panOnScroll:B,panOnScrollSpeed:U,panOnScrollMode:Q,panOnDrag:X,defaultViewport:b,translateExtent:T,minZoom:L,maxZoom:$,onSelectionContextMenu:S,preventScrolling:_,noDragClassName:sr,noWheelClassName:lr,noPanClassName:Lt,disableKeyboardA11y:$n},R.createElement(FN,null,R.createElement(LN,{edgeTypes:ze,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:F,onEdgeContextMenu:be,onEdgeMouseEnter:ge,onEdgeMouseMove:Xe,onEdgeMouseLeave:oe,onReconnect:q,onReconnectStart:Oe,onReconnectEnd:Dt,reconnectRadius:to,defaultMarkerColor:A,noPanClassName:Lt,elevateEdgesOnSelect:!!ar,disableKeyboardA11y:$n,rfId:cr},R.createElement(UN,{style:g,type:p,component:y,containerStyle:h})),R.createElement("div",{className:"react-flow__edgelabel-renderer"}),R.createElement(SN,{nodeTypes:no,onNodeClick:s,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,selectNodesOnDrag:x,onlyRenderVisibleElements:F,noPanClassName:Lt,noDragClassName:sr,disableKeyboardA11y:$n,nodeOrigin:In,nodeExtent:ur,rfId:cr})))};$g.displayName="GraphView";var WN=I.memo($g);const mu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],rn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:mu,nodeExtent:mu,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Cn.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:xS,isValidConnection:void 0},QN=()=>Ax((e,t)=>({...rn,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:i}=t();e({nodeInternals:Zl(n,r,o,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(o=>({...r,...o}))})},setDefaultNodesAndEdges:(n,r)=>{const o=typeof n<"u",i=typeof r<"u",s=o?Zl(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:i?r:[],hasDefaultNodes:o,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:i,fitViewOnInitDone:s,fitViewOnInitOptions:l,domNode:a,nodeOrigin:u}=t(),c=a==null?void 0:a.querySelector(".react-flow__viewport");if(!c)return;const d=window.getComputedStyle(c),{m22:f}=new window.DOMMatrixReadOnly(d.transform),m=n.reduce((v,E)=>{const p=o.get(E.id);if(p!=null&&p.hidden)o.set(p.id,{...p,[he]:{...p[he],handleBounds:void 0}});else if(p){const g=Ec(E.nodeElement);!!(g.width&&g.height&&(p.width!==g.width||p.height!==g.height||E.forceUpdate))&&(o.set(p.id,{...p,[he]:{...p[he],handleBounds:{source:If(".source",E.nodeElement,f,u),target:If(".target",E.nodeElement,f,u)}},...g}),v.push({id:p.id,type:"dimensions",dimensions:g}))}return v},[]);gg(o,u);const S=s||i&&!s&&yg(t,{initial:!0,...l});e({nodeInternals:new Map(o),fitViewOnInitDone:S}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,o=!1)=>{const{triggerNodeChanges:i}=t(),s=n.map(l=>{const a={id:l.id,type:"position",dragging:o};return r&&(a.positionAbsolute=l.positionAbsolute,a.position=l.position),a});i(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:i,nodeOrigin:s,getNodes:l,elevateNodesOnSelect:a}=t();if(n!=null&&n.length){if(i){const u=xg(n,l()),c=Zl(u,o,s,a);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,l=null;r?s=n.map(a=>an(a,!0)):(s=Mr(i(),n),l=Mr(o,[])),Vi({changedNodes:s,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,l=null;r?s=n.map(a=>an(a,!0)):(s=Mr(o,n),l=Mr(i(),[])),Vi({changedNodes:l,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:o,getNodes:i}=t(),s=n||i(),l=r||o,a=s.map(c=>(c.selected=!1,an(c.id,!1))),u=l.map(c=>an(c.id,!1));Vi({changedNodes:a,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r==null||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r==null||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(l=>l.selected).map(l=>an(l.id,!1)),s=n.filter(l=>l.selected).map(l=>an(l.id,!1));Vi({changedNodes:i,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(o=>{o.positionAbsolute=_c(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:o,height:i,d3Zoom:s,d3Selection:l,translateExtent:a}=t();if(!s||!l||!n.x&&!n.y)return!1;const u=Kt.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[o,i]],d=s==null?void 0:s.constrain()(u,c,a);return s.transform(l,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:rn.connectionNodeId,connectionHandleId:rn.connectionHandleId,connectionHandleType:rn.connectionHandleType,connectionStatus:rn.connectionStatus,connectionStartHandle:rn.connectionStartHandle,connectionEndHandle:rn.connectionEndHandle}),reset:()=>e({...rn})}),Object.is),Ig=({children:e})=>{const t=I.useRef(null);return t.current||(t.current=QN()),R.createElement(fS,{value:t.current},e)};Ig.displayName="ReactFlowProvider";const bg=({children:e})=>I.useContext(ul)?R.createElement(R.Fragment,null,e):R.createElement(Ig,null,e);bg.displayName="ReactFlowWrapper";const YN={input:ug,default:pu,output:dg,group:$c},KN={default:Ls,straight:Pc,step:Cc,smoothstep:dl,simplebezier:kc},qN=[0,0],XN=[15,15],GN={x:0,y:0,zoom:1},ZN={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},zg=I.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i=YN,edgeTypes:s=KN,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onConnect:m,onConnectStart:S,onConnectEnd:v,onClickConnectStart:E,onClickConnectEnd:p,onNodeMouseEnter:g,onNodeMouseMove:y,onNodeMouseLeave:h,onNodeContextMenu:N,onNodeDoubleClick:C,onNodeDragStart:k,onNodeDrag:P,onNodeDragStop:M,onNodesDelete:z,onEdgesDelete:H,onSelectionChange:F,onSelectionDragStart:D,onSelectionDrag:x,onSelectionDragStop:b,onSelectionContextMenu:T,onSelectionStart:L,onSelectionEnd:$,connectionMode:_=Cn.Strict,connectionLineType:A=dn.Bezier,connectionLineStyle:O,connectionLineComponent:j,connectionLineContainerStyle:B,deleteKeyCode:U="Backspace",selectionKeyCode:Q="Shift",selectionOnDrag:K=!1,selectionMode:X=ii.Full,panActivationKeyCode:J="Space",multiSelectionKeyCode:ee=Rs()?"Meta":"Control",zoomActivationKeyCode:te=Rs()?"Meta":"Control",snapToGrid:me=!1,snapGrid:xe=XN,onlyRenderVisibleElements:Le=!1,selectNodesOnDrag:be=!0,nodesDraggable:ge,nodesConnectable:Xe,nodesFocusable:oe,nodeOrigin:q=qN,edgesFocusable:Oe,edgesUpdatable:Dt,elementsSelectable:to,defaultViewport:sr=GN,minZoom:lr=.5,maxZoom:Lt=2,translateExtent:ar=mu,preventScrolling:$n=!0,nodeExtent:In,defaultMarkerColor:ur="#b1b1b7",zoomOnScroll:cr=!0,zoomOnPinch:no=!0,panOnScroll:ze=!1,panOnScrollSpeed:gt=.5,panOnScrollMode:bn=Wn.Free,zoomOnDoubleClick:zn=!0,panOnDrag:An=!0,onPaneClick:Ot,onPaneMouseEnter:Tt,onPaneMouseMove:ro,onPaneMouseLeave:yl,onPaneScroll:oo,onPaneContextMenu:vl,children:Rc,onEdgeContextMenu:jn,onEdgeDoubleClick:o0,onEdgeMouseEnter:i0,onEdgeMouseMove:s0,onEdgeMouseLeave:l0,onEdgeUpdate:a0,onEdgeUpdateStart:u0,onEdgeUpdateEnd:c0,onReconnect:d0,onReconnectStart:f0,onReconnectEnd:p0,reconnectRadius:h0=10,edgeUpdaterRadius:m0=10,onNodesChange:g0,onEdgesChange:y0,noDragClassName:v0="nodrag",noWheelClassName:x0="nowheel",noPanClassName:Dc="nopan",fitView:w0=!1,fitViewOptions:S0,connectOnClick:N0=!0,attributionPosition:E0,proOptions:_0,defaultEdgeOptions:k0,elevateNodesOnSelect:C0=!0,elevateEdgesOnSelect:P0=!1,disableKeyboardA11y:Lc=!1,autoPanOnConnect:T0=!0,autoPanOnNodeDrag:M0=!0,connectionRadius:$0=20,isValidConnection:I0,onError:b0,style:z0,id:Oc,nodeDragThreshold:A0,...j0},R0)=>{const xl=Oc||"1";return R.createElement("div",{...j0,style:{...z0,...ZN},ref:R0,className:Ie(["react-flow",o]),"data-testid":"rf__wrapper",id:Oc},R.createElement(bg,null,R.createElement(WN,{onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:g,onNodeMouseMove:y,onNodeMouseLeave:h,onNodeContextMenu:N,onNodeDoubleClick:C,nodeTypes:i,edgeTypes:s,connectionLineType:A,connectionLineStyle:O,connectionLineComponent:j,connectionLineContainerStyle:B,selectionKeyCode:Q,selectionOnDrag:K,selectionMode:X,deleteKeyCode:U,multiSelectionKeyCode:ee,panActivationKeyCode:J,zoomActivationKeyCode:te,onlyRenderVisibleElements:Le,selectNodesOnDrag:be,defaultViewport:sr,translateExtent:ar,minZoom:lr,maxZoom:Lt,preventScrolling:$n,zoomOnScroll:cr,zoomOnPinch:no,zoomOnDoubleClick:zn,panOnScroll:ze,panOnScrollSpeed:gt,panOnScrollMode:bn,panOnDrag:An,onPaneClick:Ot,onPaneMouseEnter:Tt,onPaneMouseMove:ro,onPaneMouseLeave:yl,onPaneScroll:oo,onPaneContextMenu:vl,onSelectionContextMenu:T,onSelectionStart:L,onSelectionEnd:$,onEdgeContextMenu:jn,onEdgeDoubleClick:o0,onEdgeMouseEnter:i0,onEdgeMouseMove:s0,onEdgeMouseLeave:l0,onReconnect:d0??a0,onReconnectStart:f0??u0,onReconnectEnd:p0??c0,reconnectRadius:h0??m0,defaultMarkerColor:ur,noDragClassName:v0,noWheelClassName:x0,noPanClassName:Dc,elevateEdgesOnSelect:P0,rfId:xl,disableKeyboardA11y:Lc,nodeOrigin:q,nodeExtent:In}),R.createElement(VS,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:S,onConnectEnd:v,onClickConnectStart:E,onClickConnectEnd:p,nodesDraggable:ge,nodesConnectable:Xe,nodesFocusable:oe,edgesFocusable:Oe,edgesUpdatable:Dt,elementsSelectable:to,elevateNodesOnSelect:C0,minZoom:lr,maxZoom:Lt,nodeExtent:In,onNodesChange:g0,onEdgesChange:y0,snapToGrid:me,snapGrid:xe,connectionMode:_,translateExtent:ar,connectOnClick:N0,defaultEdgeOptions:k0,fitView:w0,fitViewOptions:S0,onNodesDelete:z,onEdgesDelete:H,onNodeDragStart:k,onNodeDrag:P,onNodeDragStop:M,onSelectionDrag:x,onSelectionDragStart:D,onSelectionDragStop:b,noPanClassName:Dc,nodeOrigin:q,rfId:xl,autoPanOnConnect:T0,autoPanOnNodeDrag:M0,onError:b0,connectionRadius:$0,isValidConnection:I0,nodeDragThreshold:A0}),R.createElement(FS,{onSelectionChange:F}),Rc,R.createElement(hS,{proOptions:_0,position:E0}),R.createElement(YS,{rfId:xl,disableKeyboardA11y:Lc})))});zg.displayName="ReactFlow";function Ag(e){return t=>{const[n,r]=I.useState(t),o=I.useCallback(i=>r(s=>e(i,s)),[]);return[n,r,o]}}const JN=Ag(xg),eE=Ag(lN),jg=({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:l,strokeWidth:a,className:u,borderRadius:c,shapeRendering:d,onClick:f,selected:m})=>{const{background:S,backgroundColor:v}=i||{},E=s||S||v;return R.createElement("rect",{className:Ie(["react-flow__minimap-node",{selected:m},u]),x:t,y:n,rx:c,ry:c,width:r,height:o,fill:E,stroke:l,strokeWidth:a,shapeRendering:d,onClick:f?p=>f(p,e):void 0})};jg.displayName="MiniMapNode";var tE=I.memo(jg);const nE=e=>e.nodeOrigin,rE=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),na=e=>e instanceof Function?e:()=>e;function oE({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:i=tE,onClick:s}){const l=se(rE,Pe),a=se(nE),u=na(t),c=na(e),d=na(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return R.createElement(R.Fragment,null,l.map(m=>{const{x:S,y:v}=qn(m,a).positionAbsolute;return R.createElement(i,{key:m.id,x:S,y:v,width:m.width,height:m.height,style:m.style,selected:m.selected,className:d(m),color:u(m),borderRadius:r,strokeColor:c(m),strokeWidth:o,shapeRendering:f,onClick:s,id:m.id})}))}var iE=I.memo(oE);const sE=200,lE=150,aE=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?yS(fl(t,e.nodeOrigin),n):n,rfId:e.rfId}},uE="react-flow__minimap-desc";function Rg({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s=2,nodeComponent:l,maskColor:a="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:d="bottom-right",onClick:f,onNodeClick:m,pannable:S=!1,zoomable:v=!1,ariaLabel:E="React Flow mini map",inversePan:p=!1,zoomStep:g=10,offsetScale:y=5}){const h=Ne(),N=I.useRef(null),{boundingRect:C,viewBB:k,rfId:P}=se(aE,Pe),M=(e==null?void 0:e.width)??sE,z=(e==null?void 0:e.height)??lE,H=C.width/M,F=C.height/z,D=Math.max(H,F),x=D*M,b=D*z,T=y*D,L=C.x-(x-C.width)/2-T,$=C.y-(b-C.height)/2-T,_=x+T*2,A=b+T*2,O=`${uE}-${P}`,j=I.useRef(0);j.current=D,I.useEffect(()=>{if(N.current){const Q=at(N.current),K=ee=>{const{transform:te,d3Selection:me,d3Zoom:xe}=h.getState();if(ee.sourceEvent.type!=="wheel"||!me||!xe)return;const Le=-ee.sourceEvent.deltaY*(ee.sourceEvent.deltaMode===1?.05:ee.sourceEvent.deltaMode?1:.002)*g,be=te[2]*Math.pow(2,Le);xe.scaleTo(me,be)},X=ee=>{const{transform:te,d3Selection:me,d3Zoom:xe,translateExtent:Le,width:be,height:ge}=h.getState();if(ee.sourceEvent.type!=="mousemove"||!me||!xe)return;const Xe=j.current*Math.max(1,te[2])*(p?-1:1),oe={x:te[0]-ee.sourceEvent.movementX*Xe,y:te[1]-ee.sourceEvent.movementY*Xe},q=[[0,0],[be,ge]],Oe=Kt.translate(oe.x,oe.y).scale(te[2]),Dt=xe.constrain()(Oe,q,Le);xe.transform(me,Dt)},J=Hm().on("zoom",S?X:null).on("zoom.wheel",v?K:null);return Q.call(J),()=>{Q.on("zoom",null)}}},[S,v,p,g]);const B=f?Q=>{const K=wt(Q);f(Q,{x:K[0],y:K[1]})}:void 0,U=m?(Q,K)=>{const X=h.getState().nodeInternals.get(K);m(Q,X)}:void 0;return R.createElement(cl,{position:d,style:e,className:Ie(["react-flow__minimap",t]),"data-testid":"rf__minimap"},R.createElement("svg",{width:M,height:z,viewBox:`${L} ${$} ${_} ${A}`,role:"img","aria-labelledby":O,ref:N,onClick:B},E&&R.createElement("title",{id:O},E),R.createElement(iE,{onClick:U,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:l}),R.createElement("path",{className:"react-flow__minimap-mask",d:`M${L-T},${$-T}h${_+T*2}v${A+T*2}h${-_-T*2}z
        M${k.x},${k.y}h${k.width}v${k.height}h${-k.width}z`,fill:a,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}Rg.displayName="MiniMap";var cE=I.memo(Rg);function dE(){return R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},R.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function fE(){return R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},R.createElement("path",{d:"M0 0h32v4.2H0z"}))}function pE(){return R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},R.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function hE(){return R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},R.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function mE(){return R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},R.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Co=({children:e,className:t,...n})=>R.createElement("button",{type:"button",className:Ie(["react-flow__controls-button",t]),...n},e);Co.displayName="ControlButton";const gE=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Dg=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:l,onInteractiveChange:a,className:u,children:c,position:d="bottom-left"})=>{const f=Ne(),[m,S]=I.useState(!1),{isInteractive:v,minZoomReached:E,maxZoomReached:p}=se(gE,Pe),{zoomIn:g,zoomOut:y,fitView:h}=Ic();if(I.useEffect(()=>{S(!0)},[]),!m)return null;const N=()=>{g(),i==null||i()},C=()=>{y(),s==null||s()},k=()=>{h(o),l==null||l()},P=()=>{f.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),a==null||a(!v)};return R.createElement(cl,{className:Ie(["react-flow__controls",u]),position:d,style:e,"data-testid":"rf__controls"},t&&R.createElement(R.Fragment,null,R.createElement(Co,{onClick:N,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:p},R.createElement(dE,null)),R.createElement(Co,{onClick:C,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:E},R.createElement(fE,null))),n&&R.createElement(Co,{className:"react-flow__controls-fitview",onClick:k,title:"fit view","aria-label":"fit view"},R.createElement(pE,null)),r&&R.createElement(Co,{className:"react-flow__controls-interactive",onClick:P,title:"toggle interactivity","aria-label":"toggle interactivity"},v?R.createElement(mE,null):R.createElement(hE,null)),c)};Dg.displayName="Controls";var yE=I.memo(Dg),pt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(pt||(pt={}));function vE({color:e,dimensions:t,lineWidth:n}){return R.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function xE({color:e,radius:t}){return R.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const wE={[pt.Dots]:"#91919a",[pt.Lines]:"#eee",[pt.Cross]:"#e2e2e2"},SE={[pt.Dots]:1,[pt.Lines]:1,[pt.Cross]:6},NE=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Lg({id:e,variant:t=pt.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=2,color:s,style:l,className:a}){const u=I.useRef(null),{transform:c,patternId:d}=se(NE,Pe),f=s||wE[t],m=r||SE[t],S=t===pt.Dots,v=t===pt.Cross,E=Array.isArray(n)?n:[n,n],p=[E[0]*c[2]||1,E[1]*c[2]||1],g=m*c[2],y=v?[g,g]:p,h=S?[g/i,g/i]:[y[0]/i,y[1]/i];return R.createElement("svg",{className:Ie(["react-flow__background",a]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},R.createElement("pattern",{id:d+e,x:c[0]%p[0],y:c[1]%p[1],width:p[0],height:p[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${h[0]},-${h[1]})`},S?R.createElement(xE,{color:f,radius:g/i}):R.createElement(vE,{dimensions:y,color:f,lineWidth:o})),R.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}Lg.displayName="Background";var EE=I.memo(Lg);const Og={},{useDebugValue:_E}=R,{useSyncExternalStoreWithSelector:kE}=dm;let Of=!1;const CE=e=>e;function PE(e,t=CE,n){(Og?"production":void 0)!=="production"&&n&&!Of&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Of=!0);const r=kE(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return _E(r),r}const TE=e=>{(Og?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?fm(e):e,n=(r,o)=>PE(t,r,o);return Object.assign(n,t),n},ME=e=>TE;var Fg=Symbol.for("immer-nothing"),Ff=Symbol.for("immer-draftable"),nt=Symbol.for("immer-state");function Et(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Xr=Object.getPrototypeOf;function Gr(e){return!!e&&!!e[nt]}function nr(e){var t;return e?Hg(e)||Array.isArray(e)||!!e[Ff]||!!((t=e.constructor)!=null&&t[Ff])||hl(e)||ml(e):!1}var $E=Object.prototype.constructor.toString();function Hg(e){if(!e||typeof e!="object")return!1;const t=Xr(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===$E}function Os(e,t){pl(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function pl(e){const t=e[nt];return t?t.type_:Array.isArray(e)?1:hl(e)?2:ml(e)?3:0}function gu(e,t){return pl(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Vg(e,t,n){const r=pl(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function IE(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function hl(e){return e instanceof Map}function ml(e){return e instanceof Set}function On(e){return e.copy_||e.base_}function yu(e,t){if(hl(e))return new Map(e);if(ml(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Hg(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[nt];let o=Reflect.ownKeys(r);for(let i=0;i<o.length;i++){const s=o[i],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(Xr(e),r)}else{const r=Xr(e);if(r!==null&&n)return{...e};const o=Object.create(r);return Object.assign(o,e)}}function zc(e,t=!1){return gl(e)||Gr(e)||!nr(e)||(pl(e)>1&&(e.set=e.add=e.clear=e.delete=bE),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>zc(r,!0))),e}function bE(){Et(2)}function gl(e){return Object.isFrozen(e)}var zE={};function rr(e){const t=zE[e];return t||Et(0,e),t}var li;function Bg(){return li}function AE(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Hf(e,t){t&&(rr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function vu(e){xu(e),e.drafts_.forEach(jE),e.drafts_=null}function xu(e){e===li&&(li=e.parent_)}function Vf(e){return li=AE(li,e)}function jE(e){const t=e[nt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Bf(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[nt].modified_&&(vu(t),Et(4)),nr(e)&&(e=Fs(t,e),t.parent_||Hs(t,e)),t.patches_&&rr("Patches").generateReplacementPatches_(n[nt].base_,e,t.patches_,t.inversePatches_)):e=Fs(t,n,[]),vu(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Fg?e:void 0}function Fs(e,t,n){if(gl(t))return t;const r=t[nt];if(!r)return Os(t,(o,i)=>Uf(e,r,t,o,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Hs(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let i=o,s=!1;r.type_===3&&(i=new Set(o),o.clear(),s=!0),Os(i,(l,a)=>Uf(e,r,o,l,a,n,s)),Hs(e,o,!1),n&&e.patches_&&rr("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Uf(e,t,n,r,o,i,s){if(Gr(o)){const l=i&&t&&t.type_!==3&&!gu(t.assigned_,r)?i.concat(r):void 0,a=Fs(e,o,l);if(Vg(n,r,a),Gr(a))e.canAutoFreeze_=!1;else return}else s&&n.add(o);if(nr(o)&&!gl(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Fs(e,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Hs(e,o)}}function Hs(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&zc(t,n)}function RE(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Bg(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=Ac;n&&(o=[r],i=ai);const{revoke:s,proxy:l}=Proxy.revocable(o,i);return r.draft_=l,r.revoke_=s,l}var Ac={get(e,t){if(t===nt)return e;const n=On(e);if(!gu(n,t))return DE(e,n,t);const r=n[t];return e.finalized_||!nr(r)?r:r===ra(e.base_,t)?(oa(e),e.copy_[t]=Su(r,e)):r},has(e,t){return t in On(e)},ownKeys(e){return Reflect.ownKeys(On(e))},set(e,t,n){const r=Ug(On(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=ra(On(e),t),i=o==null?void 0:o[nt];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(IE(n,o)&&(n!==void 0||gu(e.base_,t)))return!0;oa(e),wu(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ra(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,oa(e),wu(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=On(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Et(11)},getPrototypeOf(e){return Xr(e.base_)},setPrototypeOf(){Et(12)}},ai={};Os(Ac,(e,t)=>{ai[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ai.deleteProperty=function(e,t){return ai.set.call(this,e,t,void 0)};ai.set=function(e,t,n){return Ac.set.call(this,e[0],t,n,e[0])};function ra(e,t){const n=e[nt];return(n?On(n):e)[t]}function DE(e,t,n){var o;const r=Ug(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function Ug(e,t){if(!(t in e))return;let n=Xr(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Xr(n)}}function wu(e){e.modified_||(e.modified_=!0,e.parent_&&wu(e.parent_))}function oa(e){e.copy_||(e.copy_=yu(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var LE=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const s=this;return function(a=i,...u){return s.produce(a,c=>n.call(this,c,...u))}}typeof n!="function"&&Et(6),r!==void 0&&typeof r!="function"&&Et(7);let o;if(nr(t)){const i=Vf(this),s=Su(t,void 0);let l=!0;try{o=n(s),l=!1}finally{l?vu(i):xu(i)}return Hf(i,r),Bf(o,i)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===Fg&&(o=void 0),this.autoFreeze_&&zc(o,!0),r){const i=[],s=[];rr("Patches").generateReplacementPatches_(t,o,i,s),r(i,s)}return o}else Et(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,a=>t(a,...l));let r,o;return[this.produce(t,n,(s,l)=>{r=s,o=l}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){nr(e)||Et(8),Gr(e)&&(e=OE(e));const t=Vf(this),n=Su(e,void 0);return n[nt].isManual_=!0,xu(t),n}finishDraft(e,t){const n=e&&e[nt];(!n||!n.isManual_)&&Et(9);const{scope_:r}=n;return Hf(r,t),Bf(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=rr("Patches").applyPatches_;return Gr(e)?r(e,t):this.produce(e,o=>r(o,t))}};function Su(e,t){const n=hl(e)?rr("MapSet").proxyMap_(e,t):ml(e)?rr("MapSet").proxySet_(e,t):RE(e,t);return(t?t.scope_:Bg()).drafts_.push(n),n}function OE(e){return Gr(e)||Et(10,e),Wg(e)}function Wg(e){if(!nr(e)||gl(e))return e;const t=e[nt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=yu(e,t.scope_.immer_.useStrictShallowCopy_)}else n=yu(e,!0);return Os(n,(r,o)=>{Vg(n,r,Wg(o))}),t&&(t.finalized_=!1),n}var rt=new LE,FE=rt.produce;rt.produceWithPatches.bind(rt);rt.setAutoFreeze.bind(rt);rt.setUseStrictShallowCopy.bind(rt);rt.applyPatches.bind(rt);rt.createDraft.bind(rt);rt.finishDraft.bind(rt);const HE=e=>(t,n,r)=>(r.setState=(o,i,...s)=>{const l=typeof o=="function"?FE(o):o;return t(l,i,...s)},e(r.setState,n,r)),VE=HE,Fn=class Fn{constructor(){yi(this,"counters",new Map);yi(this,"pathRegistry",{nodeToPathsMap:new Map,pathToNodeMap:new Map})}static getInstance(){return Fn.instance||(Fn.instance=new Fn),Fn.instance}generateQuestionPathId(t,n,r){return t?`${t.pathId}-Q${n}`:`${r}-Q${n}`}generateAnswerPathId(t,n){return`${t.pathId}-A${n}`}generateOutcomePathId(t,n){return`${t.pathId}-E${n}`}generateVariantPathId(t,n){return`${t}-V${n+1}`}parseVariantFromPath(t){const n=t.match(/(.*-A\d+)-V(\d+)/);return n?{answerPath:n[1],variantNumber:parseInt(n[2])}:null}parsePathId(t){const n=t.split("-"),r=n[0],o=[];for(let i=1;i<n.length;i++){const s=n[i];s.startsWith("Q")?o.push({type:"Q",number:parseInt(s.substring(1))}):s.startsWith("A")&&o.push({type:"A",number:parseInt(s.substring(1))})}return{topic:r,segments:o}}parsePathIdWithVariants(t){const n=t.split("-"),r=n[0],o=[];for(let i=1;i<n.length;i++){const s=n[i];s.startsWith("Q")?o.push({type:"Q",number:parseInt(s.substring(1))}):s.startsWith("A")?o.push({type:"A",number:parseInt(s.substring(1))}):s.startsWith("V")?o.push({type:"V",number:parseInt(s.substring(1))}):s.startsWith("E")&&o.push({type:"E",number:parseInt(s.substring(1))})}return{topic:r,segments:o}}getPathLevel(t){return this.parsePathId(t).segments.filter(r=>r.type==="Q").length}getParentPathId(t){const n=t.split("-");return n.length<=2?null:n.slice(0,-1).join("-")}generateEdgeId(t,n,r){const o=r?`-${r}`:"";return`edge-${t}-${n}${o}`}registerNode(t,n){this.pathRegistry.pathToNodeMap.set(n,t);const r=this.pathRegistry.nodeToPathsMap.get(t)||[];r.includes(n)||this.pathRegistry.nodeToPathsMap.set(t,[...r,n])}getNodePaths(t){return this.pathRegistry.nodeToPathsMap.get(t)||[]}getNodeForPath(t){return this.pathRegistry.pathToNodeMap.get(t)||null}recalculatePathIds(t,n,r){const o=[],i={nodeToPathsMap:new Map,pathToNodeMap:new Map},s=new Map,l=new Map;t.forEach(d=>{s.set(d.id,d)}),n.forEach(d=>{const f=l.get(d.source)||[];f.push(d),l.set(d.source,f)});const a=t.filter(d=>d.type==="question"&&!n.some(f=>f.target===d.id));this.counters.clear();const u=new Set,c=(d,f=null,m=1,S)=>{if(u.has(d.id))return;u.add(d.id);let v;if(d.type==="question")if(S&&S.startsWith("variant-")){const y=parseInt(S.replace("variant-","")),h=`${f}-V${y+1}`,N=this.getNextQuestionNumber(h);v=`${h}-Q${N}`}else{const y=this.getNextQuestionNumber(f);f===null?v=`${r}-Q${y}`:v=`${f}-Q${y}`}else if(d.type==="answer"){const y=this.getNextAnswerNumber(f||"STANDALONE");v=`${f||"STANDALONE"}-A${y}`}else if(d.type==="outcome"){const y=this.getNextOutcomeNumber(f||"STANDALONE");v=`${f||"STANDALONE"}-E${y}`}else v=`${f||"STANDALONE"}-NODE`;const E={...d,data:{...d.data,pathId:v,topic:r,isRoot:f===null&&d.type==="question",questionLevel:m}};o.push(E),i.pathToNodeMap.set(v,d.id);const p=i.nodeToPathsMap.get(d.id)||[];i.nodeToPathsMap.set(d.id,[...p,v]),(l.get(d.id)||[]).forEach(y=>{const h=s.get(y.target);if(h&&!u.has(h.id)){const N=d.type==="question"?m:m+1;c(h,v,N,y.sourceHandle||void 0)}})};return a.forEach(d=>{c(d,null,1)}),t.forEach(d=>{u.has(d.id)||c(d,null,1)}),this.pathRegistry=i,{nodes:o,registry:i}}getNextQuestionNumber(t){const n=`Q-${t||"ROOT"}`,r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}getNextAnswerNumber(t){const n=`A-${t}`,r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}getNextOutcomeNumber(t){const n=`E-${t}`,r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}reset(){this.counters.clear(),this.pathRegistry={nodeToPathsMap:new Map,pathToNodeMap:new Map}}getRegistry(){return this.pathRegistry}getDisplayLabel(t,n){const r=this.parsePathId(t),o=[];switch(r.segments.forEach(i=>{i.type==="Q"&&o.push(i.number)}),n){case"question":return`Q${o.join(".")}`;case"answer":const i=r.segments.filter(s=>s.type==="A").pop();return`A${(i==null?void 0:i.number)||"?"}`;case"outcome":return`Outcome ${this.getPathLevel(t)}`;default:return t}}calculatePathScore(t,n){const r=this.parsePathIdWithVariants(t);let o=0,i=r.topic;for(let s=0;s<r.segments.length;s++){const l=r.segments[s];if(i+=`-${l.type}${l.number}`,l.type==="V"&&s>0){const a=i.substring(0,i.lastIndexOf("-V")),u=this.getNodeForPath(a);if(u){const c=n.find(d=>d.id===u);if(c&&c.data.variants){const d=l.number-1,f=c.data.variants[d];f&&(o+=f.score||0)}}}}return o}getHumanReadablePath(t,n){const r=this.parsePathIdWithVariants(t),o=[];let i="";return r.segments.forEach((s,l)=>{if(s.type==="Q"){i=l===0?`${r.topic}-Q${s.number}`:i+`-Q${s.number}`;const a=this.getNodeForPath(i),u=n.find(c=>c.id===a);u&&o.push(`Q${s.number}: ${u.data.questionText||"Question"}`)}else if(s.type==="A")i+=`-A${s.number}`,o.push(`Answer ${s.number}`);else if(s.type==="V"){const a=i;i+=`-V${s.number}`;const u=this.getNodeForPath(a),c=n.find(d=>d.id===u);if(c&&c.data.variants){const d=c.data.variants[s.number-1];d&&o.push(`→ "${d.text}"`)}}}),o.join(" ")}printPathStructure(t){console.log("=== Path Structure Debug ==="),t.forEach(n=>{n.data.pathId&&console.log(`Node ${n.id} (${n.type}): ${n.data.pathId}`)}),console.log("=== Counters ==="),this.counters.forEach((n,r)=>{console.log(`${r}: ${n}`)})}};yi(Fn,"instance");let ut=Fn;const ke=ME()(VE((e,t)=>({nodes:[],edges:[],selectedNodeId:null,history:[{nodes:[],edges:[]}],historyIndex:0,addNode:n=>{t().saveToHistory(),e(r=>{r.nodes.push(n)})},updateNode:(n,r)=>e(o=>{const i=o.nodes.findIndex(s=>s.id===n);i!==-1&&(o.nodes[i].data={...o.nodes[i].data,...r})}),updateNodePosition:(n,r)=>e(o=>{const i=o.nodes.findIndex(s=>s.id===n);i!==-1&&(o.nodes[i].position=r)}),deleteNode:n=>{t().saveToHistory(),e(r=>{r.nodes=r.nodes.filter(i=>i.id!==n);const o=r.edges.filter(i=>i.source===n||i.target===n);r.edges=r.edges.filter(i=>i.source!==n&&i.target!==n),r.selectedNodeId===n&&(r.selectedNodeId=null),o.length>0&&console.log(`Cleaned up ${o.length} edges for deleted node ${n}`)})},addEdge:n=>{t().saveToHistory(),e(r=>{var i;if(!r.edges.some(s=>s.source===n.source&&s.target===n.target&&s.sourceHandle===n.sourceHandle&&s.targetHandle===n.targetHandle)){r.edges.push(n);const s=r.nodes.find(a=>a.id===n.target),l=r.nodes.find(a=>a.id===n.source);if(s&&s.type==="outcome"&&l){const a=r.nodes.findIndex(u=>u.id===n.target);if(a!==-1){const u=ut.getInstance(),c=((i=l.data)==null?void 0:i.pathId)||"PATH",d=u.getNextOutcomeNumber(c),f=`${c}-E${d}`;r.nodes[a].data={...r.nodes[a].data,pathId:f},console.log(`Updated outcome node path ID to: ${f}`)}}}})},deleteEdge:n=>{t().saveToHistory(),e(r=>{r.edges=r.edges.filter(o=>o.id!==n)})},setNodes:n=>e(r=>{r.nodes=n}),setEdges:n=>e(r=>{r.edges=n}),setSelectedNodeId:n=>e(r=>{r.selectedNodeId=n}),cleanupDuplicateEdges:()=>e(n=>{const r=[],o=new Set;n.edges.forEach(s=>{const l=`${s.source}-${s.target}-${s.sourceHandle||""}-${s.targetHandle||""}`;o.has(l)||(o.add(l),r.push(s))});const i=n.edges.length-r.length;n.edges=r,i>0&&console.log(`Removed ${i} duplicate edges`)}),recalculateFlowIds:(n,r)=>e(o=>{const s=ut.getInstance().recalculatePathIds(o.nodes,o.edges,r);o.nodes=s.nodes,console.log(`Recalculated path IDs for topic: ${r}`)}),propagateTopicOnConnection:(n,r)=>e(o=>{var u;const i=o.nodes.find(c=>c.id===n),s=o.nodes.find(c=>c.id===r);if(!i||!s)return;const l=(c,d=new Set)=>{var S,v,E;if(d.has(c))return null;d.add(c);const f=o.nodes.find(p=>p.id===c);if(!f)return null;if((S=f.data)!=null&&S.topic&&((v=f.data)!=null&&v.isRoot)||(E=f.data)!=null&&E.topic)return f.data.topic;const m=o.edges.find(p=>p.target===c);return m?l(m.source,d):null},a=l(n);if(a&&(!((u=s.data)!=null&&u.topic)||s.data.topic!==a)){const c=o.nodes.findIndex(d=>d.id===r);c!==-1&&(o.nodes[c].data={...o.nodes[c].data,topic:a},console.log(`Propagated topic "${a}" to node ${r}`))}}),createLinkedQuestion:(n,r)=>e(o=>{var y,h,N,C,k,P,M;const i=o.nodes.find(z=>z.id===n);if(!i)return;const s=ut.getInstance(),l=s.getNextQuestionNumber(((y=i.data)==null?void 0:y.pathId)||null),a=((h=i.data)==null?void 0:h.topic)||"NEW-TOPIC",u=(N=i.data)!=null&&N.pathId?{nodeId:i.id,pathId:i.data.pathId,parentPathId:null,level:((C=i.data)==null?void 0:C.questionLevel)||1,topic:a}:null,c=s.generateQuestionPathId(u,l,a),d=`q-${Date.now()}`,f={id:d,type:"question",position:r,data:{pathId:c,topic:a,questionText:"New Question",questionLevel:(((k=i.data)==null?void 0:k.questionLevel)||1)+1,elementId:"NEW",subElementId:"NEW"}},m=s.getNextAnswerNumber(c),S={nodeId:d,pathId:c,parentPathId:((P=i.data)==null?void 0:P.pathId)||null,level:(((M=i.data)==null?void 0:M.questionLevel)||1)+1,topic:a},v=s.generateAnswerPathId(S,m),E=`a-${Date.now()}`,p={id:E,type:"answer",position:{x:r.x,y:r.y+120},data:{pathId:v,answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}},g={id:s.generateEdgeId(d,E),source:d,target:E,animated:!0};o.nodes.push(f,p),o.edges.push(g)}),importFromExcel:n=>e(r=>{r.nodes=n.nodes,r.edges=n.edges}),exportToFormat:n=>{const{nodes:r,edges:o}=t();return n==="json"?{nodes:r,edges:o}:null},clearFlow:()=>e(n=>{n.nodes=[],n.edges=[],n.selectedNodeId=null,n.history=[{nodes:[],edges:[]}],n.historyIndex=0,ut.getInstance().reset()}),saveToHistory:()=>e(n=>{const r={nodes:JSON.parse(JSON.stringify(n.nodes)),edges:JSON.parse(JSON.stringify(n.edges))};n.history=n.history.slice(0,n.historyIndex+1),n.history.push(r),n.historyIndex=n.history.length-1,n.history.length>50&&(n.history.shift(),n.historyIndex=n.history.length-1)}),undo:()=>e(n=>{if(n.historyIndex>0){n.historyIndex--;const r=n.history[n.historyIndex];n.nodes=JSON.parse(JSON.stringify(r.nodes)),n.edges=JSON.parse(JSON.stringify(r.edges)),console.log("Undo: Restored state from history index",n.historyIndex)}}),redo:()=>e(n=>{if(n.historyIndex<n.history.length-1){n.historyIndex++;const r=n.history[n.historyIndex];n.nodes=JSON.parse(JSON.stringify(r.nodes)),n.edges=JSON.parse(JSON.stringify(r.edges)),console.log("Redo: Restored state from history index",n.historyIndex)}}),propagatePathToAll:()=>{t().saveToHistory(),e(n=>{const r=n.nodes.filter(o=>{var i,s;return((i=o.data)==null?void 0:i.isRoot)&&((s=o.data)==null?void 0:s.topic)});if(r.length===0){console.log("No root nodes with topics found");return}console.log(`Found ${r.length} root nodes with topics`),r.forEach(o=>{const i=o.data.topic;console.log(`Recalculating path IDs for topic "${i}" from root node ${o.id}`);const l=ut.getInstance().recalculatePathIds(n.nodes,n.edges,i);n.nodes=l.nodes,console.log(`Recalculated path IDs for topic "${i}"`)}),console.log("Path ID propagation completed")})}}))),Qg=["shift","alt","meta","mod","ctrl","control"],BE={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function En(e){return(BE[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function Yg(e){return Qg.includes(e)}function ia(e,t=","){return e.toLowerCase().split(t)}function sa(e,t="+",n=">",r=!1,o){let i=[],s=!1;e.includes(n)?(s=!0,i=e.toLocaleLowerCase().split(n).map(u=>En(u))):i=e.toLocaleLowerCase().split(t).map(u=>En(u));const l={alt:i.includes("alt"),ctrl:i.includes("ctrl")||i.includes("control"),shift:i.includes("shift"),meta:i.includes("meta"),mod:i.includes("mod"),useKey:r},a=i.filter(u=>!Qg.includes(u));return{...l,keys:a,description:o,isSequence:s}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&Kg([En(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&qg([En(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{Qt.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{Qt.clear()},0)}));const Qt=new Set;function jc(e){return Array.isArray(e)}function UE(e,t=","){return(jc(e)?e:e.split(t)).every(n=>Qt.has(n.trim().toLowerCase()))}function Kg(e){const t=Array.isArray(e)?e:[e];Qt.has("meta")&&Qt.forEach(n=>!Yg(n)&&Qt.delete(n.toLowerCase())),t.forEach(n=>Qt.add(n.toLowerCase()))}function qg(e){const t=Array.isArray(e)?e:[e];e==="meta"?Qt.clear():t.forEach(n=>Qt.delete(n.toLowerCase()))}function WE(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function QE(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function YE(e){return Xg(e,["input","textarea","select"])}function Xg(e,t=!1){const{target:n,composed:r}=e;let o;return KE(n)&&r?o=e.composedPath()[0]&&e.composedPath()[0].tagName:o=n&&n.tagName,jc(t)?!!(o&&t&&t.some(i=>i.toLowerCase()===o.toLowerCase())):!!(o&&t&&t)}function KE(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function qE(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(n=>t.includes(n))||e.includes("*"):!0}const XE=(e,t,n=!1)=>{const{alt:r,meta:o,mod:i,shift:s,ctrl:l,keys:a,useKey:u}=t,{code:c,key:d,ctrlKey:f,metaKey:m,shiftKey:S,altKey:v}=e,E=En(c);if(u&&(a==null?void 0:a.length)===1&&a.includes(d))return!0;if(!(a!=null&&a.includes(E))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(E))return!1;if(!n){if(r!==v&&E!=="alt"||s!==S&&E!=="shift")return!1;if(i){if(!m&&!f)return!1}else if(o!==m&&E!=="meta"&&E!=="os"||l!==f&&E!=="ctrl"&&E!=="control")return!1}return a&&a.length===1&&a.includes(E)?!0:a?UE(a):!a},GE=I.createContext(void 0),ZE=()=>I.useContext(GE);function Gg(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((n,r)=>n&&Gg(e[r],t[r]),!0):e===t}const JE=I.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),e_=()=>I.useContext(JE);function t_(e){const t=I.useRef(void 0);return Gg(t.current,e)||(t.current=e),t.current}const Wf=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},n_=typeof window<"u"?I.useLayoutEffect:I.useEffect;function xo(e,t,n,r){const o=I.useRef(null),i=I.useRef(!1),s=n instanceof Array?r instanceof Array?void 0:r:n,l=jc(e)?e.join(s==null?void 0:s.delimiter):e,a=n instanceof Array?n:r instanceof Array?r:void 0,u=I.useCallback(t,a??[]),c=I.useRef(u);a?c.current=u:c.current=t;const d=t_(s),{activeScopes:f}=e_(),m=ZE();return n_(()=>{if((d==null?void 0:d.enabled)===!1||!qE(f,d==null?void 0:d.scopes))return;let S=[],v;const E=(h,N=!1)=>{var C;if(!(YE(h)&&!Xg(h,d==null?void 0:d.enableOnFormTags))){if(o.current!==null){const k=o.current.getRootNode();if((k instanceof Document||k instanceof ShadowRoot)&&k.activeElement!==o.current&&!o.current.contains(k.activeElement)){Wf(h);return}}(C=h.target)!=null&&C.isContentEditable&&!(d!=null&&d.enableOnContentEditable)||ia(l,d==null?void 0:d.delimiter).forEach(k=>{var P,M,z,H;if(k.includes((d==null?void 0:d.splitKey)??"+")&&k.includes((d==null?void 0:d.sequenceSplitKey)??">")){console.warn(`Hotkey ${k} contains both ${(d==null?void 0:d.splitKey)??"+"} and ${(d==null?void 0:d.sequenceSplitKey)??">"} which is not supported.`);return}const F=sa(k,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description);if(F.isSequence){v=setTimeout(()=>{S=[]},(d==null?void 0:d.sequenceTimeoutMs)??1e3);const D=F.useKey?h.key:En(h.code);if(Yg(D.toLowerCase()))return;S.push(D);const x=(P=F.keys)==null?void 0:P[S.length-1];if(D!==x){S=[],v&&clearTimeout(v);return}S.length===((M=F.keys)==null?void 0:M.length)&&(c.current(h,F),v&&clearTimeout(v),S=[])}else if(XE(h,F,d==null?void 0:d.ignoreModifiers)||(z=F.keys)!=null&&z.includes("*")){if((H=d==null?void 0:d.ignoreEventWhen)!=null&&H.call(d,h)||N&&i.current)return;if(WE(h,F,d==null?void 0:d.preventDefault),!QE(h,F,d==null?void 0:d.enabled)){Wf(h);return}c.current(h,F),N||(i.current=!0)}})}},p=h=>{h.code!==void 0&&(Kg(En(h.code)),((d==null?void 0:d.keydown)===void 0&&(d==null?void 0:d.keyup)!==!0||d!=null&&d.keydown)&&E(h))},g=h=>{h.code!==void 0&&(qg(En(h.code)),i.current=!1,d!=null&&d.keyup&&E(h,!0))},y=o.current||(s==null?void 0:s.document)||document;return y.addEventListener("keyup",g,s==null?void 0:s.eventListenerOptions),y.addEventListener("keydown",p,s==null?void 0:s.eventListenerOptions),m&&ia(l,d==null?void 0:d.delimiter).forEach(h=>m.addHotkey(sa(h,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description))),()=>{y.removeEventListener("keyup",g,s==null?void 0:s.eventListenerOptions),y.removeEventListener("keydown",p,s==null?void 0:s.eventListenerOptions),m&&ia(l,d==null?void 0:d.delimiter).forEach(h=>m.removeHotkey(sa(h,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description))),S=[],v&&clearTimeout(v)}},[l,d,f]),o}function r_(){const{selectedNodeId:e,createLinkedQuestion:t,deleteNode:n,undo:r,redo:o}=ke();xo("tab",i=>{if(i.preventDefault(),e){const s=ke.getState().nodes.find(l=>l.id===e);if(s){const l={x:s.position.x+300,y:s.position.y};t(e,l)}}}),xo("delete, backspace",()=>{e&&n(e)}),xo("ctrl+z, cmd+z",i=>{i.preventDefault(),r()}),xo("ctrl+y, cmd+shift+z",i=>{i.preventDefault(),o()}),xo("escape",()=>{ke.getState().setSelectedNodeId(null)})}function o_({id:e,data:t,selected:n}){const{setSelectedNodeId:r,updateNode:o,recalculateFlowIds:i,propagateTopicOnConnection:s}=ke(),l=()=>{r(e)},a=f=>{o(e,{questionText:f.target.value})},u=f=>{const m=f.target.value;o(e,{topic:m}),t.isRoot&&i(e,m)},c=f=>{f.stopPropagation()},d=()=>{const{nodes:f,addNode:m,addEdge:S,edges:v}=ke.getState();if(v.find(P=>P.source===e)){console.log("This question already has a connection. Only one outgoing connection is allowed.");return}const p=f.find(P=>P.id===e);if(!p)return;const g=ut.getInstance(),y=g.getNextAnswerNumber(t.pathId),h=g.generateAnswerPathId({nodeId:e,pathId:t.pathId,parentPathId:null,level:t.questionLevel||1,topic:t.topic},y),N=`answer-${Date.now()}`,C={id:N,type:"answer",position:{x:p.position.x+150,y:p.position.y+150},data:{pathId:h,answerType:"single",topic:t.topic,variants:[{id:`var-${Date.now()}`,text:"Answer option",score:0}]}};m(C);const k={id:`edge-${e}-${N}`,source:e,target:N,sourceHandle:null,targetHandle:null,animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};S(k),s(e,N)};return w.jsxs("div",{className:`
        bg-white rounded-lg shadow-lg border-2 p-4 min-w-[280px] max-w-[350px]
        ${n?"border-blue-500 shadow-xl ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer
      `,onClick:l,children:[w.jsx(jt,{type:"target",position:Y.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),w.jsx("span",{className:"text-xs font-semibold text-blue-600",children:t.isRoot?"Root Question":"Question"})]}),w.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:["Level ",t.questionLevel]})]}),w.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathId}),t.isRoot&&w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Topic"}),w.jsx("div",{onClick:c,onMouseDown:c,children:w.jsx("input",{type:"text",value:t.topic||"",onChange:u,className:"w-full p-2 border border-gray-200 rounded text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter topic...",onFocus:c,onKeyDown:c})})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Question"}),w.jsx("div",{onClick:c,onMouseDown:c,children:w.jsx("textarea",{value:t.questionText,onChange:a,className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm bg-gray-50 hover:bg-white transition-colors",rows:3,placeholder:"Enter your question here...",onFocus:c,onKeyDown:c})})]}),w.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[w.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:t.elementId}),w.jsx("span",{className:"text-gray-400",children:"|"}),w.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:t.subElementId})]})]}),w.jsx(jt,{type:"source",position:Y.Bottom,className:"w-3 h-3 bg-green-500 border-2 border-white cursor-pointer hover:bg-green-600 transition-colors",style:{background:"#22c55e"},onClick:f=>{f.stopPropagation(),d()}})]})}/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zg=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=I.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:s,...l},a)=>I.createElement("svg",{ref:a,...s_,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Zg("lucide",o),...l},[...s.map(([u,c])=>I.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(e,t)=>{const n=I.forwardRef(({className:r,...o},i)=>I.createElement(l_,{ref:i,iconNode:t,className:Zg(`lucide-${i_(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=Ee("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=Ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=Ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=Ee("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Ee("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=Ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=Ee("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=Ee("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Ee("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=Ee("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=Ee("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=Ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function w_({id:e,data:t,selected:n}){var y;const{setSelectedNodeId:r,updateNode:o,nodes:i,addNode:s,addEdge:l,propagateTopicOnConnection:a}=ke(),[u,c]=I.useState(t.answerType||"single");I.useEffect(()=>{c(t.answerType||"single")},[t.answerType]);const d=()=>{r(e)},f=h=>{const{edges:N}=ke.getState();if(N.find(F=>F.source===e&&F.sourceHandle===(h||"default"))){console.log("This answer variant already has a connection. Only one connection per variant is allowed.");return}const k=i.find(F=>F.id===e);if(!k)return;let P=t.topic;if(!P){const F=D=>{var T;const x=i.find(L=>L.id===D);if(!x)return"Topic";if((T=x.data)!=null&&T.topic)return x.data.topic;const b=ke.getState().edges.find(L=>L.target===D);return b?F(b.source):"Topic"};P=F(e)}const M=`question-${Date.now()}`,z={id:M,type:"question",position:{x:h==="default"?k.position.x:k.position.x+200,y:k.position.y+200},data:{pathId:"path-id-will-be-generated",topic:P,isRoot:!1,questionText:"",questionLevel:2,elementId:"E01",subElementId:"SE01"}};s(z);const H={id:`edge-${e}-${M}`,source:e,target:M,sourceHandle:h||"default",targetHandle:null,animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};l(H),a(e,M)},m=()=>{const h={id:`var-${Date.now()}`,text:"New Answer",score:0},N=t.variants||[];o(e,{variants:[...N,h]})},S=(h,N)=>{const k=(t.variants||[]).map(P=>P.id===h?{...P,...N}:P);o(e,{variants:k})},v=h=>{const N=t.variants||[];if(N.length>1){const C=N.filter(k=>k.id!==h);o(e,{variants:C})}},E=h=>{c(h),o(e,{answerType:h});const{edges:N,deleteEdge:C}=ke.getState();if(h==="single"){const k=N.filter(P=>P.source===e&&P.sourceHandle&&P.sourceHandle.startsWith("variant-"));console.log(`Switching to single mode: removing ${k.length} variant edges`),k.forEach(P=>C(P.id))}else{const k=N.filter(P=>P.source===e&&P.sourceHandle==="default");console.log(`Switching to multiple mode: removing ${k.length} default edges`),k.forEach(P=>C(P.id))}},p=h=>{h.stopPropagation()},g=t.variants||[];return w.jsxs("div",{className:`
        bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg shadow-lg border-2 p-4 w-[350px]
        ${n?"border-purple-500 shadow-xl ring-2 ring-purple-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer relative
      `,onClick:d,children:[w.jsx(jt,{type:"target",position:Y.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),w.jsx("span",{className:"text-xs font-semibold text-purple-600",children:"Answer"})]}),t.answerLevel&&w.jsxs("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:["Level ",t.answerLevel]}),w.jsxs("div",{className:"flex items-center space-x-2 text-xs",onClick:p,onMouseDown:p,children:[w.jsxs("label",{className:"flex items-center cursor-pointer",children:[w.jsx("input",{type:"radio",value:"single",checked:u==="single",onChange:h=>E(h.target.value),className:"mr-1"}),"Single"]}),w.jsxs("label",{className:"flex items-center cursor-pointer",children:[w.jsx("input",{type:"radio",value:"multiple",checked:u==="multiple",onChange:h=>E(h.target.value),className:"mr-1"}),"Multiple"]})]})]}),t.pathId&&w.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathId}),w.jsx("div",{className:`text-xs rounded px-2 py-1 text-center font-medium ${u==="single"?"bg-blue-50 text-blue-600":"bg-green-50 text-green-600"}`,children:u==="single"?"↓ Single path (bottom)":"→ Multiple paths (variants)"}),w.jsx("div",{className:"space-y-2",children:g.map((h,N)=>{var P;const C=`variant-${N}`,k=(P=t.orphanedVariants)==null?void 0:P.includes(C);return w.jsxs("div",{className:"relative",children:[w.jsxs("div",{className:`flex items-center space-x-2 bg-white rounded-lg p-3 shadow-sm border ${u==="multiple"?"border-green-200 hover:border-green-300":"border-gray-100"} ${k?"ring-1 ring-orange-400 border-orange-300":""} transition-colors`,onClick:p,onMouseDown:p,children:[w.jsx("input",{type:"text",value:h.text,onChange:M=>S(h.id,{text:M.target.value}),className:"flex-1 text-sm bg-transparent focus:outline-none",placeholder:"Answer text...",onFocus:p,onKeyDown:p}),w.jsx("input",{type:"number",value:h.score,onChange:M=>S(h.id,{score:Number(M.target.value)}),className:"w-12 text-xs text-center bg-gray-50 rounded px-1 py-1 focus:outline-none focus:bg-white border border-gray-200 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [-moz-appearance:textfield]",placeholder:"0",title:"Score",min:"-999",max:"999",onFocus:p,onKeyDown:p,onWheel:M=>{M.currentTarget.blur(),M.stopPropagation()},onClick:p,onMouseDown:p}),g.length>1&&w.jsx("button",{onClick:M=>{M.stopPropagation(),v(h.id)},className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:w.jsx(v_,{size:12})})]}),u==="multiple"&&w.jsx(jt,{type:"source",position:Y.Right,id:`variant-${N}`,style:{top:"50%",right:"-5px",transform:"translateY(-50%)",background:k?"#fb923c":"#22c55e",width:"10px",height:"10px",zIndex:10,cursor:"pointer"},className:"border-2 border-white hover:scale-125 transition-transform",onClick:M=>{M.stopPropagation(),f(`variant-${N}`)}})]},h.id)})}),w.jsxs("button",{onClick:h=>{h.stopPropagation(),m()},className:"w-full flex items-center justify-center space-x-2 p-2 border-2 border-dashed border-purple-300 rounded-lg text-sm text-purple-600 hover:border-purple-500 hover:bg-purple-50 transition-colors font-medium",children:[w.jsx(h_,{size:14}),w.jsx("span",{children:"Add Answer"})]})]}),u==="single"&&w.jsx(jt,{type:"source",position:Y.Bottom,id:"default",className:"w-3 h-3 border-2 border-white cursor-pointer hover:scale-125 transition-transform",style:{background:(y=t.orphanedVariants)!=null&&y.includes("default")?"#fb923c":"#22c55e"},onClick:h=>{h.stopPropagation(),f("default")}})]})}function S_({id:e,data:t,selected:n}){const{setSelectedNodeId:r,updateNode:o}=ke(),i=()=>{r(e)},s=a=>{o(e,{recommendation:a.target.value})},l=a=>{a.stopPropagation()};return w.jsxs("div",{className:`
        bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg shadow-lg border-2 p-4 min-w-[280px] max-w-[350px]
        ${n?"border-green-500 shadow-xl ring-2 ring-green-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer
      `,onClick:i,children:[w.jsx(jt,{type:"target",position:Y.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),w.jsx("span",{className:"text-xs font-semibold text-green-600",children:"Outcome"})]}),w.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Final"})]}),w.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathId}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Recommendation"}),w.jsx("div",{onClick:l,onMouseDown:l,children:w.jsx("textarea",{value:t.recommendation||"",onChange:s,className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm bg-gray-50 hover:bg-white transition-colors",rows:4,placeholder:"Enter recommendation text...",onFocus:l,onKeyDown:l})})]}),w.jsx("div",{className:"text-xs rounded px-2 py-1 text-center font-medium bg-green-50 text-green-600 border border-green-200",children:"🎯 Final Outcome"})]})]})}const N_={question:o_,answer:w_,outcome:S_},E_={animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};function __(){const{nodes:e,edges:t,addEdge:n,updateNodePosition:r,deleteEdge:o,propagateTopicOnConnection:i,selectedNodeId:s}=ke(),[l,a,u]=JN(e),[c,d,f]=eE(t),m=R.useRef(!1),S=R.useRef(null);r_(),R.useEffect(()=>{const{cleanupDuplicateEdges:h}=ke.getState();h()},[]),R.useEffect(()=>{a(h=>{if(m.current)return console.log("Bulk update detected - using store positions directly"),e;if(h.length===0)return e;const C=(()=>{const D=new Set,x=new Set;return t.forEach(b=>{D.add(b.target),x.add(b.source)}),e.filter(b=>{var $;if(b.type==="question"&&(($=b.data)!=null&&$.isRoot))return!x.has(b.id);if(b.type==="outcome")return!D.has(b.id);const T=D.has(b.id),L=x.has(b.id);return!T||!L}).map(b=>b.id)})(),P=(()=>{const D=new Map;return e.forEach(x=>{var b;if(x.type==="answer"&&((b=x.data)!=null&&b.variants)){const T=x.data.variants,L=x.data.answerType||"single",$=[];L==="multiple"&&T.forEach((_,A)=>{const O=`variant-${A}`;t.some(B=>B.source===x.id&&B.sourceHandle===O)||$.push(O)}),L==="single"&&(t.some(A=>A.source===x.id&&A.sourceHandle==="default")||$.push("default")),$.length>0&&D.set(x.id,$)}}),D})(),M=D=>{if(!D)return{parents:[],children:[]};const x=t.filter(T=>T.target===D).map(T=>T.source),b=t.filter(T=>T.source===D).map(T=>T.target);return{parents:x,children:b}},{parents:z,children:H}=M(s),F=new Map;return h.forEach(D=>{F.set(D.id,D.position)}),e.map(D=>{const x=F.get(D.id);return{...D,position:x||D.position,data:{...D.data,isOrphaned:C.includes(D.id),isParent:z.includes(D.id),isChild:H.includes(D.id),isSelected:s===D.id,orphanedVariants:P.get(D.id)||[]}}})})},[e,t,a,s]),R.useEffect(()=>{const h=t.map(N=>{let C="#9ca3af",k={stroke:C,strokeWidth:2};return s&&(N.source===s||N.target===s)&&(C="#2563eb",k={stroke:C,strokeWidth:2,filter:"drop-shadow(0 0 16px #2563ebcc)",opacity:1}),{...N,style:{...N.style,...k}}});d(h)},[t,d,s]);const v=I.useCallback(h=>{if(!h.source||!h.target)return;console.log("Creating edge:",h);const N=e.find(z=>z.id===h.source),C=e.find(z=>z.id===h.target);if(!N||!C){console.log("Source or target node not found");return}if(N.type==="answer"&&C.type!=="question"&&C.type!=="outcome"){console.log("Answer nodes can only connect to Question nodes or Outcome nodes");return}if(N.type==="question"&&C.type!=="answer"){console.log("Question nodes can only connect to Answer nodes");return}if(N.type==="answer"&&t.find(H=>H.source===h.source&&H.sourceHandle===h.sourceHandle)){console.log("Answer variant already has a connection. Only one connection per variant is allowed.");return}if(N.type==="question"&&t.find(H=>H.source===h.source)){console.log("Question node already has a connection. Only one outgoing connection is allowed.");return}if(((z,H)=>{if(z===H)return!0;const F=new Set,D=[H];for(;D.length>0;){const x=D.pop();if(F.has(x))continue;if(F.add(x),x===z)return!0;t.filter(T=>T.source===x).forEach(T=>{F.has(T.target)||D.push(T.target)})}return!1})(h.source,h.target)){console.log("Connection would create a loop, preventing connection");return}const P=ut.getInstance(),M={...h,source:h.source,target:h.target,id:P.generateEdgeId(h.source,h.target,h.sourceHandle||void 0),animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};console.log("Generated edge:",M),n(M),i(h.source,h.target)},[n,t,i,e]),E=I.useCallback((h,N)=>{ke.getState().setSelectedNodeId(N.id)},[]),p=I.useCallback(()=>{ke.getState().setSelectedNodeId(null)},[]),g=I.useCallback(h=>{if(u(h),m.current){console.log("Skipping position sync during bulk update");return}h.forEach(N=>{N.type==="position"&&N.position&&r&&r(N.id,N.position)})},[u,r]),y=I.useCallback(h=>{f(h),h.forEach(N=>{N.type==="remove"&&N.id&&(console.log("Edge deleted:",N.id),o(N.id))})},[f,o]);return R.useEffect(()=>(window.flowCanvasSetBulkUpdate=()=>{console.log("Setting bulk update flag"),m.current=!0,S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{console.log("Resetting bulk update flag"),m.current=!1,S.current=null},500)},()=>{S.current&&clearTimeout(S.current),delete window.flowCanvasSetBulkUpdate}),[]),w.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-50 to-gray-100",children:w.jsxs(zg,{nodes:l,edges:c,onNodesChange:g,onEdgesChange:y,onConnect:v,onNodeClick:E,onPaneClick:p,nodeTypes:N_,connectionMode:Cn.Loose,defaultEdgeOptions:E_,className:"bg-transparent",nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,selectNodesOnDrag:!1,panOnDrag:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!1,preventScrolling:!1,children:[w.jsx(EE,{variant:pt.Dots,gap:16,size:1,color:"#e5e7eb"}),w.jsx(yE,{className:"bg-white shadow-lg rounded-lg border border-gray-200"}),w.jsx(cE,{className:"bg-white shadow-lg rounded-lg border border-gray-200",nodeColor:h=>{var N;if((N=h.data)!=null&&N.isOrphaned)return"#fb923c";switch(h.type){case"question":return"#2563eb";case"answer":return"#8b5cf6";case"outcome":return"#22c55e";default:return"#9ca3af"}},maskColor:"rgba(255, 255, 255, 0.8)",pannable:!0,zoomable:!0}),w.jsx(cl,{position:"top-right",className:"bg-white/95 backdrop-blur shadow-lg rounded-lg p-4 m-4 border border-gray-200",children:w.jsxs("div",{className:"text-sm space-y-1",children:[w.jsx("div",{className:"font-semibold text-gray-700 mb-2",children:"Flow Stats"}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),w.jsxs("span",{children:["Questions: ",l.filter(h=>h.type==="question").length]})]}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),w.jsxs("span",{children:["Answers: ",l.filter(h=>h.type==="answer").length]})]}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),w.jsxs("span",{children:["Outcomes: ",l.filter(h=>h.type==="outcome").length]})]}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),w.jsxs("span",{children:["Connections: ",c.length]})]}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),w.jsxs("span",{children:["Orphaned: ",l.filter(h=>{var N;return(N=h.data)==null?void 0:N.isOrphaned}).length]})]})]})})]})})}class Nu{exportToJson(t,n){const r=t.filter(f=>f.type==="question"),o=t.filter(f=>f.type==="answer"),i=t.filter(f=>f.type==="outcome"),s=r.find(f=>f.data.isRoot),a={topic:(s==null?void 0:s.data.topic)||"UNTITLED",version:"1.0.0",createdAt:new Date().toISOString(),totalQuestions:r.length},u={};r.forEach(f=>{u[f.id]={id:f.id,type:"question",pathId:f.data.pathId,content:f.data.questionText,level:f.data.questionLevel,topic:f.data.topic}}),o.forEach(f=>{var m,S;u[f.id]={id:f.id,type:"answer",pathId:f.data.pathId,content:`${((m=f.data.variants)==null?void 0:m.length)||0} variants`,level:0,topic:f.data.topic,answerType:f.data.answerType,variants:(S=f.data.variants)==null?void 0:S.map(v=>({id:v.id,text:v.text,score:v.score,allowsInput:v.allowsInput,inputValidation:v.inputValidation})),combinationRules:f.data.combinationRules}}),i.forEach(f=>{u[f.id]={id:f.id,type:"outcome",pathId:f.data.pathId,content:f.data.recommendation||"No recommendation provided",level:0,topic:f.data.topic,recommendation:f.data.recommendation}});const c={},d={};return n.forEach(f=>{const m=t.find(v=>v.id===f.source),S=t.find(v=>v.id===f.target);!m||!S||(c[f.source]||(c[f.source]={}),f.sourceHandle&&f.sourceHandle.startsWith("variant-")?(c[f.source].variants||(c[f.source].variants={}),c[f.source].variants[f.sourceHandle]=S.data.pathId):c[f.source].default=S.data.pathId)}),o.forEach(f=>{f.data.answerType==="multiple"&&f.data.combinationRules&&(d[f.id]=f.data.combinationRules.map((m,S)=>({condition:m.selectedVariants,nextNode:m.nextNode,priority:S+1})))}),{metadata:a,nodes:u,navigation:c,multipleChoiceRules:d}}exportToExcel(t){const n=this.convertToCSV(t);return new Blob([n],{type:"text/csv"})}convertToCSV(t){const r=[["Path ID","Clean Path ID","Type","Content","Level","Variants","Scores","Next Path"]];return Object.values(t.nodes).forEach(o=>{var i,s;o.type==="question"?r.push([o.pathId,this.cleanPathId(o.pathId),"Question",o.content,o.level.toString(),"","",((i=t.navigation[o.id])==null?void 0:i.default)||""]):o.type==="answer"?(s=o.variants)==null||s.forEach((l,a)=>{var c,d;const u=((d=(c=t.navigation[o.id])==null?void 0:c.variants)==null?void 0:d[`variant-${a}`])||"";r.push([o.pathId,this.cleanPathId(o.pathId),"Answer",l.text,"0",l.text,l.score.toString(),u])}):o.type==="outcome"&&r.push([o.pathId,this.cleanPathId(o.pathId),"Outcome",o.recommendation||"No recommendation","0","","",""])}),r.map(o=>o.map(i=>`"${i.replace(/"/g,'""')}"`).join(",")).join(`
`)}cleanPathId(t){const n=t.split("-");return n.length<=2?t:n.slice(1).join("-")}importFromJson(t){const n=[],r=[];return Object.values(t.nodes).forEach((o,i)=>{const s={x:200+i%3*400,y:200+Math.floor(i/3)*300};o.type==="question"?n.push({id:o.id,type:"question",position:s,data:{pathId:o.pathId,topic:o.topic||"IMPORTED",isRoot:o.level===1,questionText:o.content,questionLevel:o.level,elementId:"IMPORTED",subElementId:"IMPORTED"}}):o.type==="answer"?n.push({id:o.id,type:"answer",position:{x:s.x,y:s.y+150},data:{pathId:o.pathId,answerType:o.answerType||"single",variants:o.variants||[],combinationRules:o.combinationRules,topic:o.topic||"IMPORTED"}}):o.type==="outcome"&&n.push({id:o.id,type:"outcome",position:{x:s.x,y:s.y+300},data:{pathId:o.pathId,recommendation:o.recommendation||"No recommendation provided",topic:o.topic||"IMPORTED"}})}),Object.entries(t.navigation).forEach(([o,i])=>{if(i.default){const s=n.find(l=>l.data.pathId===i.default);s&&r.push({id:`edge-${o}-${s.id}`,source:o,target:s.id,sourceHandle:"default",animated:!0})}i.variants&&Object.entries(i.variants).forEach(([s,l])=>{const a=n.find(u=>u.data.pathId===l);a&&r.push({id:`edge-${o}-${a.id}-${s}`,source:o,target:a.id,sourceHandle:s,animated:!0})})}),{nodes:n,edges:r}}}function k_({onAddNode:e,onLoadDemo:t,onClearAll:n,onSetNodes:r,nodes:o=[]}){const{setEdges:i,edges:s,nodes:l,setNodes:a,propagatePathToAll:u}=ke(),c=o.length>0?o:l,d=()=>{const N=c.map(z=>z.position);let C=200,k=200;const P=350,M=4;for(let z=0;z<c.length+1;z++){const H=z%M,F=Math.floor(z/M);if(C=200+H*P,k=200+F*P,!N.some(x=>Math.abs(x.x-C)<250&&Math.abs(x.y-k)<200))break}return{x:C,y:k}},f=()=>{const N=ut.getInstance(),C=d(),k=N.getNextQuestionNumber(null),P="NEW-TOPIC",M=N.generateQuestionPathId(null,k,P),z={id:`q-${Date.now()}`,type:"question",position:C,data:{pathId:M,topic:P,isRoot:!0,questionText:"New Question",questionLevel:1,elementId:"NEW",subElementId:"NEW"}};N.registerNode(z.id,M),e==null||e(z)},m=()=>{const N=ut.getInstance(),C=d(),P=`STANDALONE-A${N.getNextAnswerNumber("STANDALONE")}`,M={id:`a-${Date.now()}`,type:"answer",position:C,data:{pathId:P,answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}};e==null||e(M)},S=()=>{const N=ut.getInstance(),C=d(),P=`STANDALONE-E${N.getNextOutcomeNumber("STANDALONE")}`,M={id:`o-${Date.now()}`,type:"outcome",position:C,data:{pathId:P,recommendation:"Enter your recommendation here...",topic:"General"}};e==null||e(M)},v=()=>{const N=ke.getState(),k=new Nu().exportToJson(c,N.edges),P=new Blob([JSON.stringify(k,null,2)],{type:"application/json"}),M=URL.createObjectURL(P),z=document.createElement("a");z.href=M,z.download=`flow-${k.metadata.topic}-${Date.now()}.json`,z.click(),URL.revokeObjectURL(M)},E=()=>{const N=document.createElement("input");N.type="file",N.accept=".json",N.onchange=C=>{var P;const k=(P=C.target.files)==null?void 0:P[0];if(k){const M=new FileReader;M.onload=z=>{var H;try{const F=JSON.parse((H=z.target)==null?void 0:H.result);if(F.metadata&&F.nodes&&F.navigation){const D=new Nu,{nodes:x,edges:b}=D.importFromJson(F);window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),r==null||r(x),i(b)}else F.nodes&&F.edges?(window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),r==null||r(F.nodes),i(F.edges)):console.error("Invalid file format")}catch(F){console.error("Error importing flow:",F)}},M.readAsText(k)}},N.click()},p=()=>{t==null||t()},g=()=>{n==null||n()},y=()=>{u()},h=()=>{if(console.log("Organize button clicked!"),console.log("actualNodes:",c),console.log("actualNodes.length:",c.length),c.length<2){console.log("Not enough nodes to organize");return}console.log("Organizing",c.length,"nodes");const N=400,C=420,k=150,P=150,M=4,z=new Map,H=new Map,F=new Map;c.forEach(j=>{z.set(j.id,[]),F.set(j.id,0)}),s.forEach(j=>{const B=z.get(j.source)||[];B.push(j.target),z.set(j.source,B),H.set(j.target,j.source);const U=F.get(j.target)||0;F.set(j.target,U+1)}),console.log("Parent-child relationships:",{children:z,parents:H});const D=c.filter(j=>(F.get(j.id)||0)===0);D.length===0&&c.length>0&&D.push(c[0]),console.log("Root nodes:",D.map(j=>j.id));const x=new Map,b=new Map,T=new Set;let L=0;const $=[];for(D.forEach(j=>{$.push({node:j,level:0}),x.set(j.id,0)});$.length>0;){const{node:j,level:B}=$.shift();if(T.has(j.id))continue;T.add(j.id),L=Math.max(L,B);const U=b.get(B)||[];U.push(j),b.set(B,U),(z.get(j.id)||[]).forEach(K=>{const X=c.find(J=>J.id===K);X&&!T.has(K)&&($.push({node:X,level:B+1}),x.set(K,B+1))})}console.log("Nodes by level:",b);const _=[];for(let j=0;j<=L;j++){const B=b.get(j)||[];_.push(...B)}const A=c.filter(j=>!T.has(j.id));_.push(...A),console.log("Ordered nodes:",_.map(j=>j.id));const O=_.map((j,B)=>{const U=Math.floor(B/M),Q=B%M,K=Math.min(_.length,M),J=(Math.min(_.length-U*M,M)-1)*N,ee=(K-1)*N,me={x:k+(ee-J)/2+Q*N,y:P+U*C};return console.log(`Node ${j.id} (index ${B}): row ${U}, col ${Q} -> position ${me.x},${me.y}`),{...j,position:me}});console.log("Updated nodes:",O),window.flowCanvasSetBulkUpdate?(window.flowCanvasSetBulkUpdate(),console.log("Bulk update flag set")):console.log("flowCanvasSetBulkUpdate not found on window"),setTimeout(()=>{console.log("About to call setNodes..."),a(O),console.log("setNodes called"),r&&(console.log("Also calling onSetNodes callback..."),r(O)),console.log("Organization complete!")},50)};return w.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 bg-white border-b border-gray-200",children:[w.jsx("div",{className:"flex items-center gap-1",children:w.jsxs("button",{onClick:h,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors text-sm font-medium w-[140px] h-10",title:"Organize nodes in a hierarchical layout",children:[w.jsx(p_,{size:16}),w.jsx("span",{children:"Organize"})]})}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsxs("button",{onClick:f,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[w.jsx(Jg,{size:16}),w.jsx("span",{children:"Add Question"})]}),w.jsxs("button",{onClick:m,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[w.jsx(t0,{size:16}),w.jsx("span",{children:"Add Answer"})]}),w.jsxs("button",{onClick:S,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[w.jsx(n0,{size:16}),w.jsx("span",{children:"Add Outcome"})]})]}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsxs("button",{onClick:v,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",children:[w.jsx(e0,{size:16}),w.jsx("span",{children:"Export JSON"})]}),w.jsxs("button",{onClick:E,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",children:[w.jsx(r0,{size:16}),w.jsx("span",{children:"Import JSON"})]}),w.jsxs("button",{onClick:y,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",title:"Propagate path IDs from root nodes to all connected nodes",children:[w.jsx(m_,{size:16}),w.jsx("span",{children:"Propagate Path"})]})]}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsxs("button",{onClick:p,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-slate-500 text-white rounded-lg hover:bg-slate-600 transition-colors text-sm font-medium w-[140px] h-10",children:[w.jsx(a_,{size:16}),w.jsx("span",{children:"Load Demo"})]}),w.jsxs("button",{onClick:g,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm font-medium w-[140px] h-10",children:[w.jsx(y_,{size:16}),w.jsx("span",{children:"Clear All"})]})]})]})}function C_({onEnterApp:e}){return w.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[w.jsxs("div",{className:"relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10"}),w.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"flex items-center justify-center mb-6",children:w.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl shadow-lg",children:w.jsx(c_,{className:"w-8 h-8 text-white"})})}),w.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Question Flow Builder"}),w.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Create interactive questionnaire flows with a powerful visual interface. Design complex decision trees, manage answer variants, and export your work seamlessly."}),w.jsxs("button",{onClick:e,className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[w.jsx(Yf,{className:"w-5 h-5 mr-2"}),"Start Building",w.jsx(Qf,{className:"w-5 h-5 ml-2"})]})]})})]}),w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[w.jsxs("div",{className:"text-center mb-12",children:[w.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Powerful Features"}),w.jsx("p",{className:"text-lg text-gray-600",children:"Everything you need to create professional questionnaire flows"})]}),w.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[w.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[w.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:w.jsx(f_,{className:"w-6 h-6 text-blue-600"})}),w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Visual Flow Builder"}),w.jsx("p",{className:"text-gray-600",children:"Drag and drop nodes to create complex questionnaire flows. Connect questions, answers, and outcomes with intuitive visual connections."})]}),w.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[w.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:w.jsx(d_,{className:"w-6 h-6 text-green-600"})}),w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Keyboard Shortcuts"}),w.jsx("p",{className:"text-gray-600",children:"Work efficiently with keyboard shortcuts: Tab to create nodes, Delete to remove, Cmd/Ctrl+Z for undo, and more."})]}),w.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[w.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:w.jsxs("div",{className:"flex items-center space-x-1",children:[w.jsx(r0,{className:"w-3 h-3 text-purple-600"}),w.jsx(e0,{className:"w-3 h-3 text-purple-600"})]})}),w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Import & Export"}),w.jsx("p",{className:"text-gray-600",children:"Import Excel files or JSON flows. Export your work to share or backup. Seamless integration with existing workflows."})]}),w.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[w.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-4",children:w.jsx(u_,{className:"w-6 h-6 text-orange-600"})}),w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Real-time Validation"}),w.jsx("p",{className:"text-gray-600",children:"Instant visual feedback for orphaned nodes, missing connections, and flow integrity issues. Orange highlights show problems."})]}),w.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[w.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mb-4",children:w.jsx(x_,{className:"w-6 h-6 text-indigo-600"})}),w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Smart Path IDs"}),w.jsx("p",{className:"text-gray-600",children:"Automatic generation of hierarchical path IDs (Q1, Q2, A1, A2, E1, E2) for questions, answers, and outcomes."})]}),w.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[w.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center mb-4",children:w.jsx(g_,{className:"w-6 h-6 text-emerald-600"})}),w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Undo/Redo System"}),w.jsx("p",{className:"text-gray-600",children:"50-state history with standard keyboard shortcuts. Never lose your work with comprehensive undo/redo functionality."})]})]})]}),w.jsx("div",{className:"bg-white py-16",children:w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[w.jsxs("div",{className:"text-center mb-12",children:[w.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Node Types & Visual Guide"}),w.jsx("p",{className:"text-lg text-gray-600",children:"Understanding the visual language of your flows"})]}),w.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[w.jsxs("div",{className:"text-center",children:[w.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-lg p-6 shadow-lg mb-4 max-w-sm mx-auto",children:[w.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[w.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),w.jsx("span",{className:"text-sm font-semibold text-blue-600",children:"Question"})]}),w.jsx("div",{className:"text-sm text-gray-700 mb-3",children:"What is your experience level?"}),w.jsx("div",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full inline-block",children:"Topic-Q1"})]}),w.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[w.jsx(Jg,{className:"w-5 h-5 inline mr-2 text-blue-500"}),"Question Nodes"]}),w.jsx("p",{className:"text-gray-600 text-sm",children:"Blue theme • Single outgoing connection • Contains question text and level information"})]}),w.jsxs("div",{className:"text-center",children:[w.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 rounded-lg p-6 shadow-lg mb-4 max-w-sm mx-auto",children:[w.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[w.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),w.jsx("span",{className:"text-sm font-semibold text-purple-600",children:"Answer"})]}),w.jsxs("div",{className:"space-y-2 mb-3",children:[w.jsx("div",{className:"text-xs bg-white rounded px-2 py-1 border",children:"Yes (Score: 1)"}),w.jsx("div",{className:"text-xs bg-white rounded px-2 py-1 border",children:"No (Score: 0)"})]}),w.jsx("div",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full inline-block",children:"Topic-Q1-A1"})]}),w.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[w.jsx(t0,{className:"w-5 h-5 inline mr-2 text-purple-500"}),"Answer Nodes"]}),w.jsx("p",{className:"text-gray-600 text-sm",children:"Purple theme • Multiple variants • Single or multiple choice modes • Scoring system"})]}),w.jsxs("div",{className:"text-center",children:[w.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-lg p-6 shadow-lg mb-4 max-w-sm mx-auto",children:[w.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[w.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),w.jsx("span",{className:"text-sm font-semibold text-green-600",children:"Outcome"})]}),w.jsx("div",{className:"text-sm text-gray-700 mb-3",children:"You should explore visual tools..."}),w.jsx("div",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full inline-block",children:"Topic-Q1-A1-E1"})]}),w.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[w.jsx(n0,{className:"w-5 h-5 inline mr-2 text-green-500"}),"Outcome Nodes"]}),w.jsx("p",{className:"text-gray-600 text-sm",children:"Green theme • End points • Contains recommendations • No outgoing connections"})]})]})]})}),w.jsx("div",{className:"bg-gray-50 py-16",children:w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[w.jsxs("div",{className:"text-center mb-12",children:[w.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Visual Indicators & Alerts"}),w.jsx("p",{className:"text-lg text-gray-600",children:"Understand what the colors and effects mean"})]}),w.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[w.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[w.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-orange-100 rounded-lg border-2 border-orange-300 ring-2 ring-orange-400 flex items-center justify-center",children:w.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"})}),w.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Orange Glow"}),w.jsx("p",{className:"text-sm text-gray-600",children:"Orphaned nodes or variants missing connections"})]}),w.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[w.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-green-100 rounded-lg border-2 border-green-300 ring-2 ring-green-400 flex items-center justify-center",children:w.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})}),w.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Green Glow"}),w.jsx("p",{className:"text-sm text-gray-600",children:"Selected node and its connected parent/child nodes"})]}),w.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[w.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-blue-100 rounded-lg flex items-center justify-center",children:w.jsx("div",{className:"w-12 h-1 bg-blue-500 rounded shadow-lg",style:{boxShadow:"0 0 8px rgba(37, 99, 235, 0.6)"}})}),w.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Blue Edges"}),w.jsx("p",{className:"text-sm text-gray-600",children:"Connections from selected nodes with blue glow effect"})]}),w.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[w.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gray-100 rounded-lg flex items-center justify-center",children:w.jsx("div",{className:"w-12 h-1 bg-gray-400 rounded"})}),w.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Gray Edges"}),w.jsx("p",{className:"text-sm text-gray-600",children:"Default connection lines between nodes"})]})]})]})}),w.jsx("div",{className:"bg-white py-16",children:w.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[w.jsxs("div",{className:"text-center mb-12",children:[w.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Keyboard Shortcuts"}),w.jsx("p",{className:"text-lg text-gray-600",children:"Work faster with these essential shortcuts"})]}),w.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Navigation & Selection"}),w.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[w.jsx("span",{className:"text-gray-700",children:"Create linked question"}),w.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Tab"})]}),w.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[w.jsx("span",{className:"text-gray-700",children:"Delete selected node"}),w.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Delete"})]}),w.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[w.jsx("span",{className:"text-gray-700",children:"Deselect all"}),w.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Escape"})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Undo & Redo"}),w.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[w.jsx("span",{className:"text-gray-700",children:"Undo (Windows)"}),w.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Ctrl + Z"})]}),w.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[w.jsx("span",{className:"text-gray-700",children:"Undo (Mac)"}),w.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"⌘ + Z"})]}),w.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[w.jsx("span",{className:"text-gray-700",children:"Redo (Windows)"}),w.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Ctrl + Y"})]}),w.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[w.jsx("span",{className:"text-gray-700",children:"Redo (Mac)"}),w.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"⌘ + ⇧ + Z"})]})]})]})]})}),w.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 py-16",children:w.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[w.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Build Your First Flow?"}),w.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Start with our pre-loaded example or create your own from scratch"}),w.jsxs("button",{onClick:e,className:"inline-flex items-center px-8 py-4 bg-white text-blue-600 font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[w.jsx(Yf,{className:"w-5 h-5 mr-2"}),"Launch Flow Builder",w.jsx(Qf,{className:"w-5 h-5 ml-2"})]})]})})]})}const P_=[{id:"q1",type:"question",position:{x:100,y:100},data:{pathId:"DEMO-Q1",topic:"DEMO",isRoot:!0,questionText:"What is your experience level with React?",questionLevel:1,elementId:"DEMO",subElementId:"REACT"}},{id:"a1",type:"answer",position:{x:100,y:250},data:{pathId:"DEMO-Q1-A1",answerType:"single",variants:[{id:"var1",text:"Beginner",score:1},{id:"var2",text:"Intermediate",score:2},{id:"var3",text:"Advanced",score:3}]}},{id:"q2",type:"question",position:{x:450,y:100},data:{pathId:"DEMO-Q1-A1-Q2",topic:"DEMO",isRoot:!1,questionText:"Do you prefer TypeScript over JavaScript?",questionLevel:2,elementId:"DEMO",subElementId:"TYPESCRIPT"}},{id:"a2",type:"answer",position:{x:450,y:250},data:{pathId:"DEMO-Q1-A1-Q2-A1",answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}}],T_=[{id:"e1",source:"q1",target:"a1",animated:!0},{id:"e2",source:"a1",target:"q2",sourceHandle:"var2",animated:!0},{id:"e3",source:"q2",target:"a2",animated:!0}],gr={nodes:P_,edges:T_};function M_(){const[e,t]=I.useState(!0),{nodes:n,addNode:r,setNodes:o,setEdges:i,clearFlow:s}=ke(),l=I.useCallback(async()=>{try{const m=await fetch("/qnatool/flow-Topic-1752233651561.json");if(m.ok){const S=await m.json(),v=new Nu,{nodes:E,edges:p}=v.importFromJson(S);window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),o(E),i(p),console.log("Default flow loaded successfully")}else console.warn("Default flow not found, loading demo data instead"),o(gr.nodes),i(gr.edges)}catch(m){console.error("Error loading default flow:",m),o(gr.nodes),i(gr.edges)}t(!1)},[o,i]),a=I.useCallback(m=>{r(m)},[r]),u=I.useCallback(()=>{o(gr.nodes),i(gr.edges),setTimeout(()=>{const{cleanupDuplicateEdges:m}=ke.getState();m()},100)},[o,i]),c=I.useCallback(()=>{s()},[s]),d=I.useCallback(m=>{o(m)},[o]),f=I.useCallback(()=>{t(!0)},[]);return e?w.jsx(C_,{onEnterApp:l}):w.jsxs("div",{className:"h-screen flex flex-col bg-gray-100",children:[w.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-2 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("button",{onClick:f,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"← Back to Home"}),w.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Question Flow Builder"})]}),w.jsxs("div",{className:"text-sm text-gray-500",children:[n.length," nodes • Auto-loaded flow"]})]}),w.jsx(k_,{onAddNode:a,onLoadDemo:u,onClearAll:c,onSetNodes:d,nodes:n}),w.jsx("div",{className:"flex-1",children:w.jsx(__,{})})]})}la.createRoot(document.getElementById("root")).render(w.jsx(R.StrictMode,{children:w.jsx(M_,{})}));
