var F0=Object.defineProperty;var H0=(e,t,n)=>t in e?F0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ys=(e,t,n)=>H0(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Zf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jf={exports:{}},Vi={},eh={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var us=Symbol.for("react.element"),V0=Symbol.for("react.portal"),B0=Symbol.for("react.fragment"),U0=Symbol.for("react.strict_mode"),W0=Symbol.for("react.profiler"),Q0=Symbol.for("react.provider"),q0=Symbol.for("react.context"),K0=Symbol.for("react.forward_ref"),Y0=Symbol.for("react.suspense"),X0=Symbol.for("react.memo"),G0=Symbol.for("react.lazy"),Hc=Symbol.iterator;function Z0(e){return e===null||typeof e!="object"?null:(e=Hc&&e[Hc]||e["@@iterator"],typeof e=="function"?e:null)}var th={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nh=Object.assign,rh={};function Zr(e,t,n){this.props=e,this.context=t,this.refs=rh,this.updater=n||th}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function oh(){}oh.prototype=Zr.prototype;function ku(e,t,n){this.props=e,this.context=t,this.refs=rh,this.updater=n||th}var _u=ku.prototype=new oh;_u.constructor=ku;nh(_u,Zr.prototype);_u.isPureReactComponent=!0;var Vc=Array.isArray,sh=Object.prototype.hasOwnProperty,Cu={current:null},ih={key:!0,ref:!0,__self:!0,__source:!0};function lh(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)sh.call(t,r)&&!ih.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:us,type:e,key:s,ref:i,props:o,_owner:Cu.current}}function J0(e,t){return{$$typeof:us,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bu(e){return typeof e=="object"&&e!==null&&e.$$typeof===us}function ey(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bc=/\/+/g;function Nl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ey(""+e.key):t.toString(36)}function Us(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case us:case V0:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+Nl(i,0):r,Vc(o)?(n="",e!=null&&(n=e.replace(Bc,"$&/")+"/"),Us(o,t,n,"",function(u){return u})):o!=null&&(bu(o)&&(o=J0(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Bc,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Vc(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+Nl(s,l);i+=Us(s,t,n,a,o)}else if(a=Z0(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+Nl(s,l++),i+=Us(s,t,n,a,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function xs(e,t,n){if(e==null)return e;var r=[],o=0;return Us(e,r,"","",function(s){return t.call(n,s,o++)}),r}function ty(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},Ws={transition:null},ny={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Ws,ReactCurrentOwner:Cu};function ah(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:xs,forEach:function(e,t,n){xs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xs(e,function(){t++}),t},toArray:function(e){return xs(e,function(t){return t})||[]},only:function(e){if(!bu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=Zr;te.Fragment=B0;te.Profiler=W0;te.PureComponent=ku;te.StrictMode=U0;te.Suspense=Y0;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ny;te.act=ah;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=nh({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Cu.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)sh.call(t,a)&&!ih.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:us,type:e.type,key:o,ref:s,props:r,_owner:i}};te.createContext=function(e){return e={$$typeof:q0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Q0,_context:e},e.Consumer=e};te.createElement=lh;te.createFactory=function(e){var t=lh.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:K0,render:e}};te.isValidElement=bu;te.lazy=function(e){return{$$typeof:G0,_payload:{_status:-1,_result:e},_init:ty}};te.memo=function(e,t){return{$$typeof:X0,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Ws.transition;Ws.transition={};try{e()}finally{Ws.transition=t}};te.unstable_act=ah;te.useCallback=function(e,t){return Be.current.useCallback(e,t)};te.useContext=function(e){return Be.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};te.useEffect=function(e,t){return Be.current.useEffect(e,t)};te.useId=function(){return Be.current.useId()};te.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return Be.current.useMemo(e,t)};te.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};te.useRef=function(e){return Be.current.useRef(e)};te.useState=function(e){return Be.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return Be.current.useTransition()};te.version="18.3.1";eh.exports=te;var R=eh.exports;const F=Zf(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry=R,oy=Symbol.for("react.element"),sy=Symbol.for("react.fragment"),iy=Object.prototype.hasOwnProperty,ly=ry.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ay={key:!0,ref:!0,__self:!0,__source:!0};function uh(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)iy.call(t,r)&&!ay.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:oy,type:e,key:s,ref:i,props:o,_owner:ly.current}}Vi.Fragment=sy;Vi.jsx=uh;Vi.jsxs=uh;Jf.exports=Vi;var p=Jf.exports,aa={},ch={exports:{}},ot={},dh={exports:{}},fh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,E){var M=b.length;b.push(E);e:for(;0<M;){var z=M-1>>>1,$=b[z];if(0<o($,E))b[z]=E,b[M]=$,M=z;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var E=b[0],M=b.pop();if(M!==E){b[0]=M;e:for(var z=0,$=b.length,V=$>>>1;z<V;){var B=2*(z+1)-1,W=b[B],Q=B+1,G=b[Q];if(0>o(W,M))Q<$&&0>o(G,W)?(b[z]=G,b[Q]=M,z=Q):(b[z]=W,b[B]=M,z=B);else if(Q<$&&0>o(G,M))b[z]=G,b[Q]=M,z=Q;else break e}}return E}function o(b,E){var M=b.sortIndex-E.sortIndex;return M!==0?M:b.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var a=[],u=[],c=1,d=null,f=3,g=!1,w=!1,N=!1,_=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(b){for(var E=n(u);E!==null;){if(E.callback===null)r(u);else if(E.startTime<=b)r(u),E.sortIndex=E.expirationTime,t(a,E);else break;E=n(u)}}function v(b){if(N=!1,x(b),!w)if(n(a)!==null)w=!0,k(S);else{var E=n(u);E!==null&&A(v,E.startTime-b)}}function S(b,E){w=!1,N&&(N=!1,h(j),j=-1),g=!0;var M=f;try{for(x(E),d=n(a);d!==null&&(!(d.expirationTime>E)||b&&!H());){var z=d.callback;if(typeof z=="function"){d.callback=null,f=d.priorityLevel;var $=z(d.expirationTime<=E);E=e.unstable_now(),typeof $=="function"?d.callback=$:d===n(a)&&r(a),x(E)}else r(a);d=n(a)}if(d!==null)var V=!0;else{var B=n(u);B!==null&&A(v,B.startTime-E),V=!1}return V}finally{d=null,f=M,g=!1}}var C=!1,I=null,j=-1,P=5,O=-1;function H(){return!(e.unstable_now()-O<P)}function D(){if(I!==null){var b=e.unstable_now();O=b;var E=!0;try{E=I(!0,b)}finally{E?L():(C=!1,I=null)}}else C=!1}var L;if(typeof m=="function")L=function(){m(D)};else if(typeof MessageChannel<"u"){var y=new MessageChannel,T=y.port2;y.port1.onmessage=D,L=function(){T.postMessage(null)}}else L=function(){_(D,0)};function k(b){I=b,C||(C=!0,L())}function A(b,E){j=_(function(){b(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,k(S))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(b){switch(f){case 1:case 2:case 3:var E=3;break;default:E=f}var M=f;f=E;try{return b()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,E){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var M=f;f=b;try{return E()}finally{f=M}},e.unstable_scheduleCallback=function(b,E,M){var z=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?z+M:z):M=z,b){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=M+$,b={id:c++,callback:E,priorityLevel:b,startTime:M,expirationTime:$,sortIndex:-1},M>z?(b.sortIndex=M,t(u,b),n(a)===null&&b===n(u)&&(N?(h(j),j=-1):N=!0,A(v,M-z))):(b.sortIndex=$,t(a,b),w||g||(w=!0,k(S))),b},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(b){var E=f;return function(){var M=f;f=E;try{return b.apply(this,arguments)}finally{f=M}}}})(fh);dh.exports=fh;var uy=dh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy=R,et=uy;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hh=new Set,Ro={};function or(e,t){Lr(e,t),Lr(e+"Capture",t)}function Lr(e,t){for(Ro[e]=t,e=0;e<t.length;e++)hh.add(t[e])}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ua=Object.prototype.hasOwnProperty,dy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uc={},Wc={};function fy(e){return ua.call(Wc,e)?!0:ua.call(Uc,e)?!1:dy.test(e)?Wc[e]=!0:(Uc[e]=!0,!1)}function hy(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function py(e,t,n,r){if(t===null||typeof t>"u"||hy(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ue(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new Ue(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new Ue(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new Ue(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new Ue(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new Ue(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new Ue(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new Ue(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new Ue(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new Ue(e,5,!1,e.toLowerCase(),null,!1,!1)});var Iu=/[\-:]([a-z])/g;function Pu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Iu,Pu);$e[t]=new Ue(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Iu,Pu);$e[t]=new Ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Iu,Pu);$e[t]=new Ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new Ue(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new Ue(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tu(e,t,n,r){var o=$e.hasOwnProperty(t)?$e[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(py(t,n,o,r)&&(n=null),r||o===null?fy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tn=cy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=Symbol.for("react.element"),yr=Symbol.for("react.portal"),xr=Symbol.for("react.fragment"),ju=Symbol.for("react.strict_mode"),ca=Symbol.for("react.profiler"),ph=Symbol.for("react.provider"),mh=Symbol.for("react.context"),$u=Symbol.for("react.forward_ref"),da=Symbol.for("react.suspense"),fa=Symbol.for("react.suspense_list"),Mu=Symbol.for("react.memo"),on=Symbol.for("react.lazy"),gh=Symbol.for("react.offscreen"),Qc=Symbol.iterator;function so(e){return e===null||typeof e!="object"?null:(e=Qc&&e[Qc]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,Sl;function wo(e){if(Sl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sl=t&&t[1]||""}return`
`+Sl+e}var El=!1;function kl(e,t){if(!e||El)return"";El=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,l=s.length-1;1<=i&&0<=l&&o[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==s[l]){var a=`
`+o[i].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=i&&0<=l);break}}}finally{El=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wo(e):""}function my(e){switch(e.tag){case 5:return wo(e.type);case 16:return wo("Lazy");case 13:return wo("Suspense");case 19:return wo("SuspenseList");case 0:case 2:case 15:return e=kl(e.type,!1),e;case 11:return e=kl(e.type.render,!1),e;case 1:return e=kl(e.type,!0),e;default:return""}}function ha(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xr:return"Fragment";case yr:return"Portal";case ca:return"Profiler";case ju:return"StrictMode";case da:return"Suspense";case fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mh:return(e.displayName||"Context")+".Consumer";case ph:return(e._context.displayName||"Context")+".Provider";case $u:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mu:return t=e.displayName||null,t!==null?t:ha(e.type)||"Memo";case on:t=e._payload,e=e._init;try{return ha(e(t))}catch{}}return null}function gy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ha(t);case 8:return t===ju?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yy(e){var t=yh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ws(e){e._valueTracker||(e._valueTracker=yy(e))}function xh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=yh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pa(e,t){var n=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=kn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vh(e,t){t=t.checked,t!=null&&Tu(e,"checked",t,!1)}function ma(e,t){vh(e,t);var n=kn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ga(e,t.type,n):t.hasOwnProperty("defaultValue")&&ga(e,t.type,kn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ga(e,t,n){(t!=="number"||ii(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var No=Array.isArray;function Tr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+kn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ya(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(No(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:kn(n)}}function wh(e,t){var n=kn(t.value),r=kn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Xc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Nh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Nh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ns,Sh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ns=Ns||document.createElement("div"),Ns.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Do(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xy=["Webkit","ms","Moz","O"];Object.keys(bo).forEach(function(e){xy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bo[t]=bo[e]})});function Eh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bo.hasOwnProperty(e)&&bo[e]?(""+t).trim():t+"px"}function kh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Eh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var vy=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function va(e,t){if(t){if(vy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function wa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Na=null;function Au(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sa=null,jr=null,$r=null;function Gc(e){if(e=fs(e)){if(typeof Sa!="function")throw Error(U(280));var t=e.stateNode;t&&(t=qi(t),Sa(e.stateNode,e.type,t))}}function _h(e){jr?$r?$r.push(e):$r=[e]:jr=e}function Ch(){if(jr){var e=jr,t=$r;if($r=jr=null,Gc(e),t)for(e=0;e<t.length;e++)Gc(t[e])}}function bh(e,t){return e(t)}function Ih(){}var _l=!1;function Ph(e,t,n){if(_l)return e(t,n);_l=!0;try{return bh(e,t,n)}finally{_l=!1,(jr!==null||$r!==null)&&(Ih(),Ch())}}function Oo(e,t){var n=e.stateNode;if(n===null)return null;var r=qi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var Ea=!1;if(Yt)try{var io={};Object.defineProperty(io,"passive",{get:function(){Ea=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Ea=!1}function wy(e,t,n,r,o,s,i,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Io=!1,li=null,ai=!1,ka=null,Ny={onError:function(e){Io=!0,li=e}};function Sy(e,t,n,r,o,s,i,l,a){Io=!1,li=null,wy.apply(Ny,arguments)}function Ey(e,t,n,r,o,s,i,l,a){if(Sy.apply(this,arguments),Io){if(Io){var u=li;Io=!1,li=null}else throw Error(U(198));ai||(ai=!0,ka=u)}}function sr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Th(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zc(e){if(sr(e)!==e)throw Error(U(188))}function ky(e){var t=e.alternate;if(!t){if(t=sr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Zc(o),e;if(s===r)return Zc(o),t;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function jh(e){return e=ky(e),e!==null?$h(e):null}function $h(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$h(e);if(t!==null)return t;e=e.sibling}return null}var Mh=et.unstable_scheduleCallback,Jc=et.unstable_cancelCallback,_y=et.unstable_shouldYield,Cy=et.unstable_requestPaint,we=et.unstable_now,by=et.unstable_getCurrentPriorityLevel,zu=et.unstable_ImmediatePriority,Ah=et.unstable_UserBlockingPriority,ui=et.unstable_NormalPriority,Iy=et.unstable_LowPriority,zh=et.unstable_IdlePriority,Bi=null,Mt=null;function Py(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Bi,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:$y,Ty=Math.log,jy=Math.LN2;function $y(e){return e>>>=0,e===0?32:31-(Ty(e)/jy|0)|0}var Ss=64,Es=4194304;function So(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ci(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~o;l!==0?r=So(l):(s&=i,s!==0&&(r=So(s)))}else i=n&~o,i!==0?r=So(i):s!==0&&(r=So(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_t(t),o=1<<n,r|=e[n],t&=~o;return r}function My(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ay(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-_t(s),l=1<<i,a=o[i];a===-1?(!(l&n)||l&r)&&(o[i]=My(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function _a(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rh(){var e=Ss;return Ss<<=1,!(Ss&4194240)&&(Ss=64),e}function Cl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function cs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function zy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-_t(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Ru(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_t(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var se=0;function Dh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Oh,Du,Lh,Fh,Hh,Ca=!1,ks=[],pn=null,mn=null,gn=null,Lo=new Map,Fo=new Map,un=[],Ry="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ed(e,t){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":Lo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(t.pointerId)}}function lo(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=fs(t),t!==null&&Du(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Dy(e,t,n,r,o){switch(t){case"focusin":return pn=lo(pn,e,t,n,r,o),!0;case"dragenter":return mn=lo(mn,e,t,n,r,o),!0;case"mouseover":return gn=lo(gn,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Lo.set(s,lo(Lo.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Fo.set(s,lo(Fo.get(s)||null,e,t,n,r,o)),!0}return!1}function Vh(e){var t=Hn(e.target);if(t!==null){var n=sr(t);if(n!==null){if(t=n.tag,t===13){if(t=Th(n),t!==null){e.blockedOn=t,Hh(e.priority,function(){Lh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ba(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Na=r,n.target.dispatchEvent(r),Na=null}else return t=fs(n),t!==null&&Du(t),e.blockedOn=n,!1;t.shift()}return!0}function td(e,t,n){Qs(e)&&n.delete(t)}function Oy(){Ca=!1,pn!==null&&Qs(pn)&&(pn=null),mn!==null&&Qs(mn)&&(mn=null),gn!==null&&Qs(gn)&&(gn=null),Lo.forEach(td),Fo.forEach(td)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,Ca||(Ca=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,Oy)))}function Ho(e){function t(o){return ao(o,e)}if(0<ks.length){ao(ks[0],e);for(var n=1;n<ks.length;n++){var r=ks[n];r.blockedOn===e&&(r.blockedOn=null)}}for(pn!==null&&ao(pn,e),mn!==null&&ao(mn,e),gn!==null&&ao(gn,e),Lo.forEach(t),Fo.forEach(t),n=0;n<un.length;n++)r=un[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)Vh(n),n.blockedOn===null&&un.shift()}var Mr=tn.ReactCurrentBatchConfig,di=!0;function Ly(e,t,n,r){var o=se,s=Mr.transition;Mr.transition=null;try{se=1,Ou(e,t,n,r)}finally{se=o,Mr.transition=s}}function Fy(e,t,n,r){var o=se,s=Mr.transition;Mr.transition=null;try{se=4,Ou(e,t,n,r)}finally{se=o,Mr.transition=s}}function Ou(e,t,n,r){if(di){var o=ba(e,t,n,r);if(o===null)Rl(e,t,r,fi,n),ed(e,r);else if(Dy(o,e,t,n,r))r.stopPropagation();else if(ed(e,r),t&4&&-1<Ry.indexOf(e)){for(;o!==null;){var s=fs(o);if(s!==null&&Oh(s),s=ba(e,t,n,r),s===null&&Rl(e,t,r,fi,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Rl(e,t,r,null,n)}}var fi=null;function ba(e,t,n,r){if(fi=null,e=Au(r),e=Hn(e),e!==null)if(t=sr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Th(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fi=e,null}function Bh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(by()){case zu:return 1;case Ah:return 4;case ui:case Iy:return 16;case zh:return 536870912;default:return 16}default:return 16}}var fn=null,Lu=null,qs=null;function Uh(){if(qs)return qs;var e,t=Lu,n=t.length,r,o="value"in fn?fn.value:fn.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return qs=o.slice(e,1<r?1-r:void 0)}function Ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _s(){return!0}function nd(){return!1}function st(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_s:nd,this.isPropagationStopped=nd,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),t}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fu=st(Jr),ds=pe({},Jr,{view:0,detail:0}),Hy=st(ds),bl,Il,uo,Ui=pe({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uo&&(uo&&e.type==="mousemove"?(bl=e.screenX-uo.screenX,Il=e.screenY-uo.screenY):Il=bl=0,uo=e),bl)},movementY:function(e){return"movementY"in e?e.movementY:Il}}),rd=st(Ui),Vy=pe({},Ui,{dataTransfer:0}),By=st(Vy),Uy=pe({},ds,{relatedTarget:0}),Pl=st(Uy),Wy=pe({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qy=st(Wy),qy=pe({},Jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ky=st(qy),Yy=pe({},Jr,{data:0}),od=st(Yy),Xy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zy[e])?!!t[e]:!1}function Hu(){return Jy}var ex=pe({},ds,{key:function(e){if(e.key){var t=Xy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(e){return e.type==="keypress"?Ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tx=st(ex),nx=pe({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sd=st(nx),rx=pe({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),ox=st(rx),sx=pe({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ix=st(sx),lx=pe({},Ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ax=st(lx),ux=[9,13,27,32],Vu=Yt&&"CompositionEvent"in window,Po=null;Yt&&"documentMode"in document&&(Po=document.documentMode);var cx=Yt&&"TextEvent"in window&&!Po,Wh=Yt&&(!Vu||Po&&8<Po&&11>=Po),id=" ",ld=!1;function Qh(e,t){switch(e){case"keyup":return ux.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vr=!1;function dx(e,t){switch(e){case"compositionend":return qh(t);case"keypress":return t.which!==32?null:(ld=!0,id);case"textInput":return e=t.data,e===id&&ld?null:e;default:return null}}function fx(e,t){if(vr)return e==="compositionend"||!Vu&&Qh(e,t)?(e=Uh(),qs=Lu=fn=null,vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wh&&t.locale!=="ko"?null:t.data;default:return null}}var hx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hx[e.type]:t==="textarea"}function Kh(e,t,n,r){_h(r),t=hi(t,"onChange"),0<t.length&&(n=new Fu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var To=null,Vo=null;function px(e){sp(e,0)}function Wi(e){var t=Sr(e);if(xh(t))return e}function mx(e,t){if(e==="change")return t}var Yh=!1;if(Yt){var Tl;if(Yt){var jl="oninput"in document;if(!jl){var ud=document.createElement("div");ud.setAttribute("oninput","return;"),jl=typeof ud.oninput=="function"}Tl=jl}else Tl=!1;Yh=Tl&&(!document.documentMode||9<document.documentMode)}function cd(){To&&(To.detachEvent("onpropertychange",Xh),Vo=To=null)}function Xh(e){if(e.propertyName==="value"&&Wi(Vo)){var t=[];Kh(t,Vo,e,Au(e)),Ph(px,t)}}function gx(e,t,n){e==="focusin"?(cd(),To=t,Vo=n,To.attachEvent("onpropertychange",Xh)):e==="focusout"&&cd()}function yx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wi(Vo)}function xx(e,t){if(e==="click")return Wi(t)}function vx(e,t){if(e==="input"||e==="change")return Wi(t)}function wx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:wx;function Bo(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ua.call(t,o)||!bt(e[o],t[o]))return!1}return!0}function dd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fd(e,t){var n=dd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dd(n)}}function Gh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zh(){for(var e=window,t=ii();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ii(e.document)}return t}function Bu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Nx(e){var t=Zh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gh(n.ownerDocument.documentElement,n)){if(r!==null&&Bu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=fd(n,s);var i=fd(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sx=Yt&&"documentMode"in document&&11>=document.documentMode,wr=null,Ia=null,jo=null,Pa=!1;function hd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pa||wr==null||wr!==ii(r)||(r=wr,"selectionStart"in r&&Bu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jo&&Bo(jo,r)||(jo=r,r=hi(Ia,"onSelect"),0<r.length&&(t=new Fu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wr)))}function Cs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},$l={},Jh={};Yt&&(Jh=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function Qi(e){if($l[e])return $l[e];if(!Nr[e])return e;var t=Nr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Jh)return $l[e]=t[n];return e}var ep=Qi("animationend"),tp=Qi("animationiteration"),np=Qi("animationstart"),rp=Qi("transitionend"),op=new Map,pd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(e,t){op.set(e,t),or(t,[e])}for(var Ml=0;Ml<pd.length;Ml++){var Al=pd[Ml],Ex=Al.toLowerCase(),kx=Al[0].toUpperCase()+Al.slice(1);bn(Ex,"on"+kx)}bn(ep,"onAnimationEnd");bn(tp,"onAnimationIteration");bn(np,"onAnimationStart");bn("dblclick","onDoubleClick");bn("focusin","onFocus");bn("focusout","onBlur");bn(rp,"onTransitionEnd");Lr("onMouseEnter",["mouseout","mouseover"]);Lr("onMouseLeave",["mouseout","mouseover"]);Lr("onPointerEnter",["pointerout","pointerover"]);Lr("onPointerLeave",["pointerout","pointerover"]);or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));or("onBeforeInput",["compositionend","keypress","textInput","paste"]);or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_x=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function md(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ey(r,t,void 0,e),e.currentTarget=null}function sp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&o.isPropagationStopped())break e;md(o,l,u),s=a}else for(i=0;i<r.length;i++){if(l=r[i],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&o.isPropagationStopped())break e;md(o,l,u),s=a}}}if(ai)throw e=ka,ai=!1,ka=null,e}function ue(e,t){var n=t[Aa];n===void 0&&(n=t[Aa]=new Set);var r=e+"__bubble";n.has(r)||(ip(t,e,2,!1),n.add(r))}function zl(e,t,n){var r=0;t&&(r|=4),ip(n,e,r,t)}var bs="_reactListening"+Math.random().toString(36).slice(2);function Uo(e){if(!e[bs]){e[bs]=!0,hh.forEach(function(n){n!=="selectionchange"&&(_x.has(n)||zl(n,!1,e),zl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bs]||(t[bs]=!0,zl("selectionchange",!1,t))}}function ip(e,t,n,r){switch(Bh(t)){case 1:var o=Ly;break;case 4:o=Fy;break;default:o=Ou}n=o.bind(null,t,n,e),o=void 0,!Ea||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Rl(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var a=i.tag;if((a===3||a===4)&&(a=i.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;i=i.return}for(;l!==null;){if(i=Hn(l),i===null)return;if(a=i.tag,a===5||a===6){r=s=i;continue e}l=l.parentNode}}r=r.return}Ph(function(){var u=s,c=Au(n),d=[];e:{var f=op.get(e);if(f!==void 0){var g=Fu,w=e;switch(e){case"keypress":if(Ks(n)===0)break e;case"keydown":case"keyup":g=tx;break;case"focusin":w="focus",g=Pl;break;case"focusout":w="blur",g=Pl;break;case"beforeblur":case"afterblur":g=Pl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=By;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ox;break;case ep:case tp:case np:g=Qy;break;case rp:g=ix;break;case"scroll":g=Hy;break;case"wheel":g=ax;break;case"copy":case"cut":case"paste":g=Ky;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=sd}var N=(t&4)!==0,_=!N&&e==="scroll",h=N?f!==null?f+"Capture":null:f;N=[];for(var m=u,x;m!==null;){x=m;var v=x.stateNode;if(x.tag===5&&v!==null&&(x=v,h!==null&&(v=Oo(m,h),v!=null&&N.push(Wo(m,v,x)))),_)break;m=m.return}0<N.length&&(f=new g(f,w,null,n,c),d.push({event:f,listeners:N}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==Na&&(w=n.relatedTarget||n.fromElement)&&(Hn(w)||w[Xt]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?Hn(w):null,w!==null&&(_=sr(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(N=rd,v="onMouseLeave",h="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(N=sd,v="onPointerLeave",h="onPointerEnter",m="pointer"),_=g==null?f:Sr(g),x=w==null?f:Sr(w),f=new N(v,m+"leave",g,n,c),f.target=_,f.relatedTarget=x,v=null,Hn(c)===u&&(N=new N(h,m+"enter",w,n,c),N.target=x,N.relatedTarget=_,v=N),_=v,g&&w)t:{for(N=g,h=w,m=0,x=N;x;x=dr(x))m++;for(x=0,v=h;v;v=dr(v))x++;for(;0<m-x;)N=dr(N),m--;for(;0<x-m;)h=dr(h),x--;for(;m--;){if(N===h||h!==null&&N===h.alternate)break t;N=dr(N),h=dr(h)}N=null}else N=null;g!==null&&gd(d,f,g,N,!1),w!==null&&_!==null&&gd(d,_,w,N,!0)}}e:{if(f=u?Sr(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var S=mx;else if(ad(f))if(Yh)S=vx;else{S=yx;var C=gx}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=xx);if(S&&(S=S(e,u))){Kh(d,S,n,c);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&ga(f,"number",f.value)}switch(C=u?Sr(u):window,e){case"focusin":(ad(C)||C.contentEditable==="true")&&(wr=C,Ia=u,jo=null);break;case"focusout":jo=Ia=wr=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,hd(d,n,c);break;case"selectionchange":if(Sx)break;case"keydown":case"keyup":hd(d,n,c)}var I;if(Vu)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else vr?Qh(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Wh&&n.locale!=="ko"&&(vr||j!=="onCompositionStart"?j==="onCompositionEnd"&&vr&&(I=Uh()):(fn=c,Lu="value"in fn?fn.value:fn.textContent,vr=!0)),C=hi(u,j),0<C.length&&(j=new od(j,e,null,n,c),d.push({event:j,listeners:C}),I?j.data=I:(I=qh(n),I!==null&&(j.data=I)))),(I=cx?dx(e,n):fx(e,n))&&(u=hi(u,"onBeforeInput"),0<u.length&&(c=new od("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}sp(d,t)})}function Wo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Oo(e,n),s!=null&&r.unshift(Wo(e,s,o)),s=Oo(e,t),s!=null&&r.push(Wo(e,s,o))),e=e.return}return r}function dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gd(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=Oo(n,s),a!=null&&i.unshift(Wo(n,a,l))):o||(a=Oo(n,s),a!=null&&i.push(Wo(n,a,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Cx=/\r\n?/g,bx=/\u0000|\uFFFD/g;function yd(e){return(typeof e=="string"?e:""+e).replace(Cx,`
`).replace(bx,"")}function Is(e,t,n){if(t=yd(t),yd(e)!==t&&n)throw Error(U(425))}function pi(){}var Ta=null,ja=null;function $a(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ma=typeof setTimeout=="function"?setTimeout:void 0,Ix=typeof clearTimeout=="function"?clearTimeout:void 0,xd=typeof Promise=="function"?Promise:void 0,Px=typeof queueMicrotask=="function"?queueMicrotask:typeof xd<"u"?function(e){return xd.resolve(null).then(e).catch(Tx)}:Ma;function Tx(e){setTimeout(function(){throw e})}function Dl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Ho(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ho(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var eo=Math.random().toString(36).slice(2),$t="__reactFiber$"+eo,Qo="__reactProps$"+eo,Xt="__reactContainer$"+eo,Aa="__reactEvents$"+eo,jx="__reactListeners$"+eo,$x="__reactHandles$"+eo;function Hn(e){var t=e[$t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xt]||n[$t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vd(e);e!==null;){if(n=e[$t])return n;e=vd(e)}return t}e=n,n=e.parentNode}return null}function fs(e){return e=e[$t]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function qi(e){return e[Qo]||null}var za=[],Er=-1;function In(e){return{current:e}}function ce(e){0>Er||(e.current=za[Er],za[Er]=null,Er--)}function ie(e,t){Er++,za[Er]=e.current,e.current=t}var _n={},Oe=In(_n),Ke=In(!1),Xn=_n;function Fr(e,t){var n=e.type.contextTypes;if(!n)return _n;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ye(e){return e=e.childContextTypes,e!=null}function mi(){ce(Ke),ce(Oe)}function wd(e,t,n){if(Oe.current!==_n)throw Error(U(168));ie(Oe,t),ie(Ke,n)}function lp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(U(108,gy(e)||"Unknown",o));return pe({},n,r)}function gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_n,Xn=Oe.current,ie(Oe,e),ie(Ke,Ke.current),!0}function Nd(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=lp(e,t,Xn),r.__reactInternalMemoizedMergedChildContext=e,ce(Ke),ce(Oe),ie(Oe,e)):ce(Ke),ie(Ke,n)}var Vt=null,Ki=!1,Ol=!1;function ap(e){Vt===null?Vt=[e]:Vt.push(e)}function Mx(e){Ki=!0,ap(e)}function Pn(){if(!Ol&&Vt!==null){Ol=!0;var e=0,t=se;try{var n=Vt;for(se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vt=null,Ki=!1}catch(o){throw Vt!==null&&(Vt=Vt.slice(e+1)),Mh(zu,Pn),o}finally{se=t,Ol=!1}}return null}var kr=[],_r=0,yi=null,xi=0,it=[],lt=0,Gn=null,Bt=1,Ut="";function Rn(e,t){kr[_r++]=xi,kr[_r++]=yi,yi=e,xi=t}function up(e,t,n){it[lt++]=Bt,it[lt++]=Ut,it[lt++]=Gn,Gn=e;var r=Bt;e=Ut;var o=32-_t(r)-1;r&=~(1<<o),n+=1;var s=32-_t(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Bt=1<<32-_t(t)+o|n<<o|r,Ut=s+e}else Bt=1<<s|n<<o|r,Ut=e}function Uu(e){e.return!==null&&(Rn(e,1),up(e,1,0))}function Wu(e){for(;e===yi;)yi=kr[--_r],kr[_r]=null,xi=kr[--_r],kr[_r]=null;for(;e===Gn;)Gn=it[--lt],it[lt]=null,Ut=it[--lt],it[lt]=null,Bt=it[--lt],it[lt]=null}var Je=null,Ze=null,de=!1,Nt=null;function cp(e,t){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ze=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gn!==null?{id:Bt,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Ze=null,!0):!1;default:return!1}}function Ra(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Da(e){if(de){var t=Ze;if(t){var n=t;if(!Sd(e,t)){if(Ra(e))throw Error(U(418));t=yn(n.nextSibling);var r=Je;t&&Sd(e,t)?cp(r,n):(e.flags=e.flags&-4097|2,de=!1,Je=e)}}else{if(Ra(e))throw Error(U(418));e.flags=e.flags&-4097|2,de=!1,Je=e}}}function Ed(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Ps(e){if(e!==Je)return!1;if(!de)return Ed(e),de=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$a(e.type,e.memoizedProps)),t&&(t=Ze)){if(Ra(e))throw dp(),Error(U(418));for(;t;)cp(e,t),t=yn(t.nextSibling)}if(Ed(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=Je?yn(e.stateNode.nextSibling):null;return!0}function dp(){for(var e=Ze;e;)e=yn(e.nextSibling)}function Hr(){Ze=Je=null,de=!1}function Qu(e){Nt===null?Nt=[e]:Nt.push(e)}var Ax=tn.ReactCurrentBatchConfig;function co(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=o.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function Ts(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kd(e){var t=e._init;return t(e._payload)}function fp(e){function t(h,m){if(e){var x=h.deletions;x===null?(h.deletions=[m],h.flags|=16):x.push(m)}}function n(h,m){if(!e)return null;for(;m!==null;)t(h,m),m=m.sibling;return null}function r(h,m){for(h=new Map;m!==null;)m.key!==null?h.set(m.key,m):h.set(m.index,m),m=m.sibling;return h}function o(h,m){return h=Nn(h,m),h.index=0,h.sibling=null,h}function s(h,m,x){return h.index=x,e?(x=h.alternate,x!==null?(x=x.index,x<m?(h.flags|=2,m):x):(h.flags|=2,m)):(h.flags|=1048576,m)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,m,x,v){return m===null||m.tag!==6?(m=Wl(x,h.mode,v),m.return=h,m):(m=o(m,x),m.return=h,m)}function a(h,m,x,v){var S=x.type;return S===xr?c(h,m,x.props.children,v,x.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===on&&kd(S)===m.type)?(v=o(m,x.props),v.ref=co(h,m,x),v.return=h,v):(v=ti(x.type,x.key,x.props,null,h.mode,v),v.ref=co(h,m,x),v.return=h,v)}function u(h,m,x,v){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=Ql(x,h.mode,v),m.return=h,m):(m=o(m,x.children||[]),m.return=h,m)}function c(h,m,x,v,S){return m===null||m.tag!==7?(m=qn(x,h.mode,v,S),m.return=h,m):(m=o(m,x),m.return=h,m)}function d(h,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Wl(""+m,h.mode,x),m.return=h,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case vs:return x=ti(m.type,m.key,m.props,null,h.mode,x),x.ref=co(h,null,m),x.return=h,x;case yr:return m=Ql(m,h.mode,x),m.return=h,m;case on:var v=m._init;return d(h,v(m._payload),x)}if(No(m)||so(m))return m=qn(m,h.mode,x,null),m.return=h,m;Ts(h,m)}return null}function f(h,m,x,v){var S=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:l(h,m,""+x,v);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case vs:return x.key===S?a(h,m,x,v):null;case yr:return x.key===S?u(h,m,x,v):null;case on:return S=x._init,f(h,m,S(x._payload),v)}if(No(x)||so(x))return S!==null?null:c(h,m,x,v,null);Ts(h,x)}return null}function g(h,m,x,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return h=h.get(x)||null,l(m,h,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vs:return h=h.get(v.key===null?x:v.key)||null,a(m,h,v,S);case yr:return h=h.get(v.key===null?x:v.key)||null,u(m,h,v,S);case on:var C=v._init;return g(h,m,x,C(v._payload),S)}if(No(v)||so(v))return h=h.get(x)||null,c(m,h,v,S,null);Ts(m,v)}return null}function w(h,m,x,v){for(var S=null,C=null,I=m,j=m=0,P=null;I!==null&&j<x.length;j++){I.index>j?(P=I,I=null):P=I.sibling;var O=f(h,I,x[j],v);if(O===null){I===null&&(I=P);break}e&&I&&O.alternate===null&&t(h,I),m=s(O,m,j),C===null?S=O:C.sibling=O,C=O,I=P}if(j===x.length)return n(h,I),de&&Rn(h,j),S;if(I===null){for(;j<x.length;j++)I=d(h,x[j],v),I!==null&&(m=s(I,m,j),C===null?S=I:C.sibling=I,C=I);return de&&Rn(h,j),S}for(I=r(h,I);j<x.length;j++)P=g(I,h,j,x[j],v),P!==null&&(e&&P.alternate!==null&&I.delete(P.key===null?j:P.key),m=s(P,m,j),C===null?S=P:C.sibling=P,C=P);return e&&I.forEach(function(H){return t(h,H)}),de&&Rn(h,j),S}function N(h,m,x,v){var S=so(x);if(typeof S!="function")throw Error(U(150));if(x=S.call(x),x==null)throw Error(U(151));for(var C=S=null,I=m,j=m=0,P=null,O=x.next();I!==null&&!O.done;j++,O=x.next()){I.index>j?(P=I,I=null):P=I.sibling;var H=f(h,I,O.value,v);if(H===null){I===null&&(I=P);break}e&&I&&H.alternate===null&&t(h,I),m=s(H,m,j),C===null?S=H:C.sibling=H,C=H,I=P}if(O.done)return n(h,I),de&&Rn(h,j),S;if(I===null){for(;!O.done;j++,O=x.next())O=d(h,O.value,v),O!==null&&(m=s(O,m,j),C===null?S=O:C.sibling=O,C=O);return de&&Rn(h,j),S}for(I=r(h,I);!O.done;j++,O=x.next())O=g(I,h,j,O.value,v),O!==null&&(e&&O.alternate!==null&&I.delete(O.key===null?j:O.key),m=s(O,m,j),C===null?S=O:C.sibling=O,C=O);return e&&I.forEach(function(D){return t(h,D)}),de&&Rn(h,j),S}function _(h,m,x,v){if(typeof x=="object"&&x!==null&&x.type===xr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case vs:e:{for(var S=x.key,C=m;C!==null;){if(C.key===S){if(S=x.type,S===xr){if(C.tag===7){n(h,C.sibling),m=o(C,x.props.children),m.return=h,h=m;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===on&&kd(S)===C.type){n(h,C.sibling),m=o(C,x.props),m.ref=co(h,C,x),m.return=h,h=m;break e}n(h,C);break}else t(h,C);C=C.sibling}x.type===xr?(m=qn(x.props.children,h.mode,v,x.key),m.return=h,h=m):(v=ti(x.type,x.key,x.props,null,h.mode,v),v.ref=co(h,m,x),v.return=h,h=v)}return i(h);case yr:e:{for(C=x.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(h,m.sibling),m=o(m,x.children||[]),m.return=h,h=m;break e}else{n(h,m);break}else t(h,m);m=m.sibling}m=Ql(x,h.mode,v),m.return=h,h=m}return i(h);case on:return C=x._init,_(h,m,C(x._payload),v)}if(No(x))return w(h,m,x,v);if(so(x))return N(h,m,x,v);Ts(h,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(h,m.sibling),m=o(m,x),m.return=h,h=m):(n(h,m),m=Wl(x,h.mode,v),m.return=h,h=m),i(h)):n(h,m)}return _}var Vr=fp(!0),hp=fp(!1),vi=In(null),wi=null,Cr=null,qu=null;function Ku(){qu=Cr=wi=null}function Yu(e){var t=vi.current;ce(vi),e._currentValue=t}function Oa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ar(e,t){wi=e,qu=Cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qe=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(qu!==e)if(e={context:e,memoizedValue:t,next:null},Cr===null){if(wi===null)throw Error(U(308));Cr=e,wi.dependencies={lanes:0,firstContext:e}}else Cr=Cr.next=e;return t}var Vn=null;function Xu(e){Vn===null?Vn=[e]:Vn.push(e)}function pp(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Xu(t)):(n.next=o.next,o.next=n),t.interleaved=n,Gt(e,r)}function Gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sn=!1;function Gu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Gt(e,n)}return o=r.interleaved,o===null?(t.next=t,Xu(r)):(t.next=o.next,o.next=t),r.interleaved=t,Gt(e,n)}function Ys(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ru(e,n)}}function _d(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ni(e,t,n,r){var o=e.updateQueue;sn=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,i===null?s=u:i.next=u,i=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==i&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=o.baseState;i=0,c=u=a=null,l=s;do{var f=l.lane,g=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,N=l;switch(f=t,g=n,N.tag){case 1:if(w=N.payload,typeof w=="function"){d=w.call(g,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=N.payload,f=typeof w=="function"?w.call(g,d,f):w,f==null)break e;d=pe({},d,f);break e;case 2:sn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=g,a=d):c=c.next=g,i|=f;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;f=l,l=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(c===null&&(a=d),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Jn|=i,e.lanes=i,e.memoizedState=d}}function Cd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(U(191,o));o.call(r)}}}var hs={},At=In(hs),qo=In(hs),Ko=In(hs);function Bn(e){if(e===hs)throw Error(U(174));return e}function Zu(e,t){switch(ie(Ko,t),ie(qo,e),ie(At,hs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xa(t,e)}ce(At),ie(At,t)}function Br(){ce(At),ce(qo),ce(Ko)}function gp(e){Bn(Ko.current);var t=Bn(At.current),n=xa(t,e.type);t!==n&&(ie(qo,e),ie(At,n))}function Ju(e){qo.current===e&&(ce(At),ce(qo))}var fe=In(0);function Si(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ll=[];function ec(){for(var e=0;e<Ll.length;e++)Ll[e]._workInProgressVersionPrimary=null;Ll.length=0}var Xs=tn.ReactCurrentDispatcher,Fl=tn.ReactCurrentBatchConfig,Zn=0,he=null,Ee=null,be=null,Ei=!1,$o=!1,Yo=0,zx=0;function ze(){throw Error(U(321))}function tc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bt(e[n],t[n]))return!1;return!0}function nc(e,t,n,r,o,s){if(Zn=s,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xs.current=e===null||e.memoizedState===null?Lx:Fx,e=n(r,o),$o){s=0;do{if($o=!1,Yo=0,25<=s)throw Error(U(301));s+=1,be=Ee=null,t.updateQueue=null,Xs.current=Hx,e=n(r,o)}while($o)}if(Xs.current=ki,t=Ee!==null&&Ee.next!==null,Zn=0,be=Ee=he=null,Ei=!1,t)throw Error(U(300));return e}function rc(){var e=Yo!==0;return Yo=0,e}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?he.memoizedState=be=e:be=be.next=e,be}function mt(){if(Ee===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=be===null?he.memoizedState:be.next;if(t!==null)be=t,Ee=e;else{if(e===null)throw Error(U(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},be===null?he.memoizedState=be=e:be=be.next=e}return be}function Xo(e,t){return typeof t=="function"?t(e):t}function Hl(e){var t=mt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Ee,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var l=i=null,a=null,u=s;do{var c=u.lane;if((Zn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,i=r):a=a.next=d,he.lanes|=c,Jn|=c}u=u.next}while(u!==null&&u!==s);a===null?i=r:a.next=l,bt(r,t.memoizedState)||(Qe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,he.lanes|=s,Jn|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vl(e){var t=mt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);bt(s,t.memoizedState)||(Qe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function yp(){}function xp(e,t){var n=he,r=mt(),o=t(),s=!bt(r.memoizedState,o);if(s&&(r.memoizedState=o,Qe=!0),r=r.queue,oc(Np.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,Go(9,wp.bind(null,n,r,o,t),void 0,null),Ie===null)throw Error(U(349));Zn&30||vp(n,t,o)}return o}function vp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wp(e,t,n,r){t.value=n,t.getSnapshot=r,Sp(t)&&Ep(e)}function Np(e,t,n){return n(function(){Sp(t)&&Ep(e)})}function Sp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bt(e,n)}catch{return!0}}function Ep(e){var t=Gt(e,1);t!==null&&Ct(t,e,1,-1)}function bd(e){var t=jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ox.bind(null,he,e),[t.memoizedState,e]}function Go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function kp(){return mt().memoizedState}function Gs(e,t,n,r){var o=jt();he.flags|=e,o.memoizedState=Go(1|t,n,void 0,r===void 0?null:r)}function Yi(e,t,n,r){var o=mt();r=r===void 0?null:r;var s=void 0;if(Ee!==null){var i=Ee.memoizedState;if(s=i.destroy,r!==null&&tc(r,i.deps)){o.memoizedState=Go(t,n,s,r);return}}he.flags|=e,o.memoizedState=Go(1|t,n,s,r)}function Id(e,t){return Gs(8390656,8,e,t)}function oc(e,t){return Yi(2048,8,e,t)}function _p(e,t){return Yi(4,2,e,t)}function Cp(e,t){return Yi(4,4,e,t)}function bp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ip(e,t,n){return n=n!=null?n.concat([e]):null,Yi(4,4,bp.bind(null,t,e),n)}function sc(){}function Pp(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Tp(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function jp(e,t,n){return Zn&21?(bt(n,t)||(n=Rh(),he.lanes|=n,Jn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=n)}function Rx(e,t){var n=se;se=n!==0&&4>n?n:4,e(!0);var r=Fl.transition;Fl.transition={};try{e(!1),t()}finally{se=n,Fl.transition=r}}function $p(){return mt().memoizedState}function Dx(e,t,n){var r=wn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mp(e))Ap(t,n);else if(n=pp(e,t,n,r),n!==null){var o=Ve();Ct(n,e,r,o),zp(n,t,r)}}function Ox(e,t,n){var r=wn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mp(e))Ap(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,n);if(o.hasEagerState=!0,o.eagerState=l,bt(l,i)){var a=t.interleaved;a===null?(o.next=o,Xu(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=pp(e,t,o,r),n!==null&&(o=Ve(),Ct(n,e,r,o),zp(n,t,r))}}function Mp(e){var t=e.alternate;return e===he||t!==null&&t===he}function Ap(e,t){$o=Ei=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ru(e,n)}}var ki={readContext:pt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},Lx={readContext:pt,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:Id,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gs(4194308,4,bp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gs(4,2,e,t)},useMemo:function(e,t){var n=jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Dx.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:bd,useDebugValue:sc,useDeferredValue:function(e){return jt().memoizedState=e},useTransition:function(){var e=bd(!1),t=e[0];return e=Rx.bind(null,e[1]),jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=he,o=jt();if(de){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Ie===null)throw Error(U(349));Zn&30||vp(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Id(Np.bind(null,r,s,e),[e]),r.flags|=2048,Go(9,wp.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=jt(),t=Ie.identifierPrefix;if(de){var n=Ut,r=Bt;n=(r&~(1<<32-_t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fx={readContext:pt,useCallback:Pp,useContext:pt,useEffect:oc,useImperativeHandle:Ip,useInsertionEffect:_p,useLayoutEffect:Cp,useMemo:Tp,useReducer:Hl,useRef:kp,useState:function(){return Hl(Xo)},useDebugValue:sc,useDeferredValue:function(e){var t=mt();return jp(t,Ee.memoizedState,e)},useTransition:function(){var e=Hl(Xo)[0],t=mt().memoizedState;return[e,t]},useMutableSource:yp,useSyncExternalStore:xp,useId:$p,unstable_isNewReconciler:!1},Hx={readContext:pt,useCallback:Pp,useContext:pt,useEffect:oc,useImperativeHandle:Ip,useInsertionEffect:_p,useLayoutEffect:Cp,useMemo:Tp,useReducer:Vl,useRef:kp,useState:function(){return Vl(Xo)},useDebugValue:sc,useDeferredValue:function(e){var t=mt();return Ee===null?t.memoizedState=e:jp(t,Ee.memoizedState,e)},useTransition:function(){var e=Vl(Xo)[0],t=mt().memoizedState;return[e,t]},useMutableSource:yp,useSyncExternalStore:xp,useId:$p,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function La(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xi={isMounted:function(e){return(e=e._reactInternals)?sr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),o=wn(e),s=qt(r,o);s.payload=t,n!=null&&(s.callback=n),t=xn(e,s,o),t!==null&&(Ct(t,e,o,r),Ys(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),o=wn(e),s=qt(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=xn(e,s,o),t!==null&&(Ct(t,e,o,r),Ys(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=wn(e),o=qt(n,r);o.tag=2,t!=null&&(o.callback=t),t=xn(e,o,r),t!==null&&(Ct(t,e,r,n),Ys(t,e,r))}};function Pd(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!Bo(n,r)||!Bo(o,s):!0}function Rp(e,t,n){var r=!1,o=_n,s=t.contextType;return typeof s=="object"&&s!==null?s=pt(s):(o=Ye(t)?Xn:Oe.current,r=t.contextTypes,s=(r=r!=null)?Fr(e,o):_n),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Td(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xi.enqueueReplaceState(t,t.state,null)}function Fa(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Gu(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=pt(s):(s=Ye(t)?Xn:Oe.current,o.context=Fr(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(La(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Xi.enqueueReplaceState(o,o.state,null),Ni(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ur(e,t){try{var n="",r=t;do n+=my(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Bl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ha(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Vx=typeof WeakMap=="function"?WeakMap:Map;function Dp(e,t,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ci||(Ci=!0,Ga=r),Ha(e,t)},n}function Op(e,t,n){n=qt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ha(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ha(e,t),typeof r!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function jd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Vx;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=nv.bind(null,e,t,n),t.then(e,e))}function $d(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Md(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qt(-1,1),t.tag=2,xn(n,t,1))),n.lanes|=1),e)}var Bx=tn.ReactCurrentOwner,Qe=!1;function He(e,t,n,r){t.child=e===null?hp(t,null,n,r):Vr(t,e.child,n,r)}function Ad(e,t,n,r,o){n=n.render;var s=t.ref;return Ar(t,o),r=nc(e,t,n,r,s,o),n=rc(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(de&&n&&Uu(t),t.flags|=1,He(e,t,r,o),t.child)}function zd(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!hc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Lp(e,t,s,r,o)):(e=ti(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Bo,n(i,r)&&e.ref===t.ref)return Zt(e,t,o)}return t.flags|=1,e=Nn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Lp(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Bo(s,r)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,Zt(e,t,o)}return Va(e,t,n,r,o)}function Fp(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Ir,Ge),Ge|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(Ir,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ie(Ir,Ge),Ge|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ie(Ir,Ge),Ge|=r;return He(e,t,o,n),t.child}function Hp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Va(e,t,n,r,o){var s=Ye(n)?Xn:Oe.current;return s=Fr(t,s),Ar(t,o),n=nc(e,t,n,r,s,o),r=rc(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(de&&r&&Uu(t),t.flags|=1,He(e,t,n,o),t.child)}function Rd(e,t,n,r,o){if(Ye(n)){var s=!0;gi(t)}else s=!1;if(Ar(t,o),t.stateNode===null)Zs(e,t),Rp(t,n,r),Fa(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var a=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=pt(u):(u=Ye(n)?Xn:Oe.current,u=Fr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Td(t,i,r,u),sn=!1;var f=t.memoizedState;i.state=f,Ni(t,r,i,o),a=t.memoizedState,l!==r||f!==a||Ke.current||sn?(typeof c=="function"&&(La(t,n,c,r),a=t.memoizedState),(l=sn||Pd(t,n,l,r,f,a,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),i.props=r,i.state=a,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,mp(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:xt(t.type,l),i.props=u,d=t.pendingProps,f=i.context,a=n.contextType,typeof a=="object"&&a!==null?a=pt(a):(a=Ye(n)?Xn:Oe.current,a=Fr(t,a));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==d||f!==a)&&Td(t,i,r,a),sn=!1,f=t.memoizedState,i.state=f,Ni(t,r,i,o);var w=t.memoizedState;l!==d||f!==w||Ke.current||sn?(typeof g=="function"&&(La(t,n,g,r),w=t.memoizedState),(u=sn||Pd(t,n,u,r,f,w,a)||!1)?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,a),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,a)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=a,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ba(e,t,n,r,s,o)}function Ba(e,t,n,r,o,s){Hp(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Nd(t,n,!1),Zt(e,t,s);r=t.stateNode,Bx.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Vr(t,e.child,null,s),t.child=Vr(t,null,l,s)):He(e,t,l,s),t.memoizedState=r.state,o&&Nd(t,n,!0),t.child}function Vp(e){var t=e.stateNode;t.pendingContext?wd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wd(e,t.context,!1),Zu(e,t.containerInfo)}function Dd(e,t,n,r,o){return Hr(),Qu(o),t.flags|=256,He(e,t,n,r),t.child}var Ua={dehydrated:null,treeContext:null,retryLane:0};function Wa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bp(e,t,n){var r=t.pendingProps,o=fe.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ie(fe,o&1),e===null)return Da(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Ji(i,r,0,null),e=qn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Wa(n),t.memoizedState=Ua,e):ic(t,i));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Ux(e,t,i,r,l,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Nn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?s=Nn(l,s):(s=qn(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Wa(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Ua,r}return s=e.child,e=s.sibling,r=Nn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ic(e,t){return t=Ji({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function js(e,t,n,r){return r!==null&&Qu(r),Vr(t,e.child,null,n),e=ic(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ux(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=Bl(Error(U(422))),js(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Ji({mode:"visible",children:r.children},o,0,null),s=qn(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Vr(t,e.child,null,i),t.child.memoizedState=Wa(i),t.memoizedState=Ua,s);if(!(t.mode&1))return js(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(U(419)),r=Bl(s,r,void 0),js(e,t,i,r)}if(l=(i&e.childLanes)!==0,Qe||l){if(r=Ie,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Gt(e,o),Ct(r,e,o,-1))}return fc(),r=Bl(Error(U(421))),js(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=rv.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Ze=yn(o.nextSibling),Je=t,de=!0,Nt=null,e!==null&&(it[lt++]=Bt,it[lt++]=Ut,it[lt++]=Gn,Bt=e.id,Ut=e.overflow,Gn=t),t=ic(t,r.children),t.flags|=4096,t)}function Od(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Oa(e.return,t,n)}function Ul(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function Up(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(He(e,t,r.children,n),r=fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Od(e,n,t);else if(e.tag===19)Od(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ie(fe,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Si(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ul(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Si(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ul(t,!0,n,null,s);break;case"together":Ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Nn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wx(e,t,n){switch(t.tag){case 3:Vp(t),Hr();break;case 5:gp(t);break;case 1:Ye(t.type)&&gi(t);break;case 4:Zu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ie(vi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ie(fe,fe.current&1),t.flags|=128,null):n&t.child.childLanes?Bp(e,t,n):(ie(fe,fe.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);ie(fe,fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Up(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ie(fe,fe.current),r)break;return null;case 22:case 23:return t.lanes=0,Fp(e,t,n)}return Zt(e,t,n)}var Wp,Qa,Qp,qp;Wp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qa=function(){};Qp=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Bn(At.current);var s=null;switch(n){case"input":o=pa(e,o),r=pa(e,r),s=[];break;case"select":o=pe({},o,{value:void 0}),r=pe({},r,{value:void 0}),s=[];break;case"textarea":o=ya(e,o),r=ya(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pi)}va(n,r);var i;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ro.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||a&&a.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in a)a.hasOwnProperty(i)&&l[i]!==a[i]&&(n||(n={}),n[i]=a[i])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ue("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};qp=function(e,t,n,r){n!==r&&(t.flags|=4)};function fo(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qx(e,t,n){var r=t.pendingProps;switch(Wu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Ye(t.type)&&mi(),Re(t),null;case 3:return r=t.stateNode,Br(),ce(Ke),ce(Oe),ec(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ps(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(eu(Nt),Nt=null))),Qa(e,t),Re(t),null;case 5:Ju(t);var o=Bn(Ko.current);if(n=t.type,e!==null&&t.stateNode!=null)Qp(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return Re(t),null}if(e=Bn(At.current),Ps(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$t]=t,r[Qo]=s,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(o=0;o<Eo.length;o++)ue(Eo[o],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":qc(r,s),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ue("invalid",r);break;case"textarea":Yc(r,s),ue("invalid",r)}va(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Is(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Is(r.textContent,l,e),o=["children",""+l]):Ro.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ue("scroll",r)}switch(n){case"input":ws(r),Kc(r,s,!0);break;case"textarea":ws(r),Xc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=pi)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Nh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[$t]=t,e[Qo]=r,Wp(e,t,!1,!1),t.stateNode=e;e:{switch(i=wa(n,r),n){case"dialog":ue("cancel",e),ue("close",e),o=r;break;case"iframe":case"object":case"embed":ue("load",e),o=r;break;case"video":case"audio":for(o=0;o<Eo.length;o++)ue(Eo[o],e);o=r;break;case"source":ue("error",e),o=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),o=r;break;case"details":ue("toggle",e),o=r;break;case"input":qc(e,r),o=pa(e,r),ue("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=pe({},r,{value:void 0}),ue("invalid",e);break;case"textarea":Yc(e,r),o=ya(e,r),ue("invalid",e);break;default:o=r}va(n,o),l=o;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?kh(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Sh(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Do(e,a):typeof a=="number"&&Do(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ro.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ue("scroll",e):a!=null&&Tu(e,s,a,i))}switch(n){case"input":ws(e),Kc(e,r,!1);break;case"textarea":ws(e),Xc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+kn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Tr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Tr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=pi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(e&&t.stateNode!=null)qp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Bn(Ko.current),Bn(At.current),Ps(t)){if(r=t.stateNode,n=t.memoizedProps,r[$t]=t,(s=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:Is(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Is(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$t]=t,t.stateNode=r}return Re(t),null;case 13:if(ce(fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&Ze!==null&&t.mode&1&&!(t.flags&128))dp(),Hr(),t.flags|=98560,s=!1;else if(s=Ps(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(U(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[$t]=t}else Hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),s=!1}else Nt!==null&&(eu(Nt),Nt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?_e===0&&(_e=3):fc())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return Br(),Qa(e,t),e===null&&Uo(t.stateNode.containerInfo),Re(t),null;case 10:return Yu(t.type._context),Re(t),null;case 17:return Ye(t.type)&&mi(),Re(t),null;case 19:if(ce(fe),s=t.memoizedState,s===null)return Re(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)fo(s,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Si(e),i!==null){for(t.flags|=128,fo(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(fe,fe.current&1|2),t.child}e=e.sibling}s.tail!==null&&we()>Wr&&(t.flags|=128,r=!0,fo(s,!1),t.lanes=4194304)}else{if(!r)if(e=Si(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!de)return Re(t),null}else 2*we()-s.renderingStartTime>Wr&&n!==1073741824&&(t.flags|=128,r=!0,fo(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=we(),t.sibling=null,n=fe.current,ie(fe,r?n&1|2:n&1),t):(Re(t),null);case 22:case 23:return dc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ge&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function qx(e,t){switch(Wu(t),t.tag){case 1:return Ye(t.type)&&mi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Br(),ce(Ke),ce(Oe),ec(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ju(t),null;case 13:if(ce(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(fe),null;case 4:return Br(),null;case 10:return Yu(t.type._context),null;case 22:case 23:return dc(),null;case 24:return null;default:return null}}var $s=!1,De=!1,Kx=typeof WeakSet=="function"?WeakSet:Set,q=null;function br(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(e,t,r)}else n.current=null}function qa(e,t,n){try{n()}catch(r){ge(e,t,r)}}var Ld=!1;function Yx(e,t){if(Ta=di,e=Zh(),Bu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,l=-1,a=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var g;d!==n||o!==0&&d.nodeType!==3||(l=i+o),d!==s||r!==0&&d.nodeType!==3||(a=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===e)break t;if(f===n&&++u===o&&(l=i),f===s&&++c===r&&(a=i),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ja={focusedElem:e,selectionRange:n},di=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var N=w.memoizedProps,_=w.memoizedState,h=t.stateNode,m=h.getSnapshotBeforeUpdate(t.elementType===t.type?N:xt(t.type,N),_);h.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(v){ge(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return w=Ld,Ld=!1,w}function Mo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&qa(t,n,s)}o=o.next}while(o!==r)}}function Gi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ka(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Kp(e){var t=e.alternate;t!==null&&(e.alternate=null,Kp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$t],delete t[Qo],delete t[Aa],delete t[jx],delete t[$x])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yp(e){return e.tag===5||e.tag===3||e.tag===4}function Fd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ya(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pi));else if(r!==4&&(e=e.child,e!==null))for(Ya(e,t,n),e=e.sibling;e!==null;)Ya(e,t,n),e=e.sibling}function Xa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Xa(e,t,n),e=e.sibling;e!==null;)Xa(e,t,n),e=e.sibling}var Te=null,vt=!1;function nn(e,t,n){for(n=n.child;n!==null;)Xp(e,t,n),n=n.sibling}function Xp(e,t,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Bi,n)}catch{}switch(n.tag){case 5:De||br(n,t);case 6:var r=Te,o=vt;Te=null,nn(e,t,n),Te=r,vt=o,Te!==null&&(vt?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(vt?(e=Te,n=n.stateNode,e.nodeType===8?Dl(e.parentNode,n):e.nodeType===1&&Dl(e,n),Ho(e)):Dl(Te,n.stateNode));break;case 4:r=Te,o=vt,Te=n.stateNode.containerInfo,vt=!0,nn(e,t,n),Te=r,vt=o;break;case 0:case 11:case 14:case 15:if(!De&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&qa(n,t,i),o=o.next}while(o!==r)}nn(e,t,n);break;case 1:if(!De&&(br(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ge(n,t,l)}nn(e,t,n);break;case 21:nn(e,t,n);break;case 22:n.mode&1?(De=(r=De)||n.memoizedState!==null,nn(e,t,n),De=r):nn(e,t,n);break;default:nn(e,t,n)}}function Hd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Kx),t.forEach(function(r){var o=ov.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function yt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Te=l.stateNode,vt=!1;break e;case 3:Te=l.stateNode.containerInfo,vt=!0;break e;case 4:Te=l.stateNode.containerInfo,vt=!0;break e}l=l.return}if(Te===null)throw Error(U(160));Xp(s,i,o),Te=null,vt=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){ge(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gp(t,e),t=t.sibling}function Gp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),Tt(e),r&4){try{Mo(3,e,e.return),Gi(3,e)}catch(N){ge(e,e.return,N)}try{Mo(5,e,e.return)}catch(N){ge(e,e.return,N)}}break;case 1:yt(t,e),Tt(e),r&512&&n!==null&&br(n,n.return);break;case 5:if(yt(t,e),Tt(e),r&512&&n!==null&&br(n,n.return),e.flags&32){var o=e.stateNode;try{Do(o,"")}catch(N){ge(e,e.return,N)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&vh(o,s),wa(l,i);var u=wa(l,s);for(i=0;i<a.length;i+=2){var c=a[i],d=a[i+1];c==="style"?kh(o,d):c==="dangerouslySetInnerHTML"?Sh(o,d):c==="children"?Do(o,d):Tu(o,c,d,u)}switch(l){case"input":ma(o,s);break;case"textarea":wh(o,s);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Tr(o,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Tr(o,!!s.multiple,s.defaultValue,!0):Tr(o,!!s.multiple,s.multiple?[]:"",!1))}o[Qo]=s}catch(N){ge(e,e.return,N)}}break;case 6:if(yt(t,e),Tt(e),r&4){if(e.stateNode===null)throw Error(U(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(N){ge(e,e.return,N)}}break;case 3:if(yt(t,e),Tt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ho(t.containerInfo)}catch(N){ge(e,e.return,N)}break;case 4:yt(t,e),Tt(e);break;case 13:yt(t,e),Tt(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(uc=we())),r&4&&Hd(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(De=(u=De)||c,yt(t,e),De=u):yt(t,e),Tt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(q=e,c=e.child;c!==null;){for(d=q=c;q!==null;){switch(f=q,g=f.child,f.tag){case 0:case 11:case 14:case 15:Mo(4,f,f.return);break;case 1:br(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(N){ge(r,n,N)}}break;case 5:br(f,f.return);break;case 22:if(f.memoizedState!==null){Bd(d);continue}}g!==null?(g.return=f,q=g):Bd(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,i=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Eh("display",i))}catch(N){ge(e,e.return,N)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(N){ge(e,e.return,N)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yt(t,e),Tt(e),r&4&&Hd(e);break;case 21:break;default:yt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Yp(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Do(o,""),r.flags&=-33);var s=Fd(e);Xa(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Fd(e);Ya(e,l,i);break;default:throw Error(U(161))}}catch(a){ge(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xx(e,t,n){q=e,Zp(e)}function Zp(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var o=q,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||$s;if(!i){var l=o.alternate,a=l!==null&&l.memoizedState!==null||De;l=$s;var u=De;if($s=i,(De=a)&&!u)for(q=o;q!==null;)i=q,a=i.child,i.tag===22&&i.memoizedState!==null?Ud(o):a!==null?(a.return=i,q=a):Ud(o);for(;s!==null;)q=s,Zp(s),s=s.sibling;q=o,$s=l,De=u}Vd(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,q=s):Vd(e)}}function Vd(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||Gi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!De)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:xt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Cd(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cd(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ho(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}De||t.flags&512&&Ka(t)}catch(f){ge(t,t.return,f)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function Bd(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function Ud(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gi(4,t)}catch(a){ge(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){ge(t,o,a)}}var s=t.return;try{Ka(t)}catch(a){ge(t,s,a)}break;case 5:var i=t.return;try{Ka(t)}catch(a){ge(t,i,a)}}}catch(a){ge(t,t.return,a)}if(t===e){q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,q=l;break}q=t.return}}var Gx=Math.ceil,_i=tn.ReactCurrentDispatcher,lc=tn.ReactCurrentOwner,ft=tn.ReactCurrentBatchConfig,ne=0,Ie=null,Se=null,je=0,Ge=0,Ir=In(0),_e=0,Zo=null,Jn=0,Zi=0,ac=0,Ao=null,We=null,uc=0,Wr=1/0,Ht=null,Ci=!1,Ga=null,vn=null,Ms=!1,hn=null,bi=0,zo=0,Za=null,Js=-1,ei=0;function Ve(){return ne&6?we():Js!==-1?Js:Js=we()}function wn(e){return e.mode&1?ne&2&&je!==0?je&-je:Ax.transition!==null?(ei===0&&(ei=Rh()),ei):(e=se,e!==0||(e=window.event,e=e===void 0?16:Bh(e.type)),e):1}function Ct(e,t,n,r){if(50<zo)throw zo=0,Za=null,Error(U(185));cs(e,n,r),(!(ne&2)||e!==Ie)&&(e===Ie&&(!(ne&2)&&(Zi|=n),_e===4&&cn(e,je)),Xe(e,r),n===1&&ne===0&&!(t.mode&1)&&(Wr=we()+500,Ki&&Pn()))}function Xe(e,t){var n=e.callbackNode;Ay(e,t);var r=ci(e,e===Ie?je:0);if(r===0)n!==null&&Jc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Jc(n),t===1)e.tag===0?Mx(Wd.bind(null,e)):ap(Wd.bind(null,e)),Px(function(){!(ne&6)&&Pn()}),n=null;else{switch(Dh(r)){case 1:n=zu;break;case 4:n=Ah;break;case 16:n=ui;break;case 536870912:n=zh;break;default:n=ui}n=im(n,Jp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Jp(e,t){if(Js=-1,ei=0,ne&6)throw Error(U(327));var n=e.callbackNode;if(zr()&&e.callbackNode!==n)return null;var r=ci(e,e===Ie?je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ii(e,r);else{t=r;var o=ne;ne|=2;var s=tm();(Ie!==e||je!==t)&&(Ht=null,Wr=we()+500,Qn(e,t));do try{ev();break}catch(l){em(e,l)}while(!0);Ku(),_i.current=s,ne=o,Se!==null?t=0:(Ie=null,je=0,t=_e)}if(t!==0){if(t===2&&(o=_a(e),o!==0&&(r=o,t=Ja(e,o))),t===1)throw n=Zo,Qn(e,0),cn(e,r),Xe(e,we()),n;if(t===6)cn(e,r);else{if(o=e.current.alternate,!(r&30)&&!Zx(o)&&(t=Ii(e,r),t===2&&(s=_a(e),s!==0&&(r=s,t=Ja(e,s))),t===1))throw n=Zo,Qn(e,0),cn(e,r),Xe(e,we()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:Dn(e,We,Ht);break;case 3:if(cn(e,r),(r&130023424)===r&&(t=uc+500-we(),10<t)){if(ci(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ma(Dn.bind(null,e,We,Ht),t);break}Dn(e,We,Ht);break;case 4:if(cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-_t(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gx(r/1960))-r,10<r){e.timeoutHandle=Ma(Dn.bind(null,e,We,Ht),r);break}Dn(e,We,Ht);break;case 5:Dn(e,We,Ht);break;default:throw Error(U(329))}}}return Xe(e,we()),e.callbackNode===n?Jp.bind(null,e):null}function Ja(e,t){var n=Ao;return e.current.memoizedState.isDehydrated&&(Qn(e,t).flags|=256),e=Ii(e,t),e!==2&&(t=We,We=n,t!==null&&eu(t)),e}function eu(e){We===null?We=e:We.push.apply(We,e)}function Zx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!bt(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~ac,t&=~Zi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),r=1<<n;e[n]=-1,t&=~r}}function Wd(e){if(ne&6)throw Error(U(327));zr();var t=ci(e,0);if(!(t&1))return Xe(e,we()),null;var n=Ii(e,t);if(e.tag!==0&&n===2){var r=_a(e);r!==0&&(t=r,n=Ja(e,r))}if(n===1)throw n=Zo,Qn(e,0),cn(e,t),Xe(e,we()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dn(e,We,Ht),Xe(e,we()),null}function cc(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(Wr=we()+500,Ki&&Pn())}}function er(e){hn!==null&&hn.tag===0&&!(ne&6)&&zr();var t=ne;ne|=1;var n=ft.transition,r=se;try{if(ft.transition=null,se=1,e)return e()}finally{se=r,ft.transition=n,ne=t,!(ne&6)&&Pn()}}function dc(){Ge=Ir.current,ce(Ir)}function Qn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ix(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(Wu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mi();break;case 3:Br(),ce(Ke),ce(Oe),ec();break;case 5:Ju(r);break;case 4:Br();break;case 13:ce(fe);break;case 19:ce(fe);break;case 10:Yu(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ie=e,Se=e=Nn(e.current,null),je=Ge=t,_e=0,Zo=null,ac=Zi=Jn=0,We=Ao=null,Vn!==null){for(t=0;t<Vn.length;t++)if(n=Vn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Vn=null}return e}function em(e,t){do{var n=Se;try{if(Ku(),Xs.current=ki,Ei){for(var r=he.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ei=!1}if(Zn=0,be=Ee=he=null,$o=!1,Yo=0,lc.current=null,n===null||n.return===null){_e=1,Zo=t,Se=null;break}e:{var s=e,i=n.return,l=n,a=t;if(t=je,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=$d(i);if(g!==null){g.flags&=-257,Md(g,i,l,s,t),g.mode&1&&jd(s,u,t),t=g,a=u;var w=t.updateQueue;if(w===null){var N=new Set;N.add(a),t.updateQueue=N}else w.add(a);break e}else{if(!(t&1)){jd(s,u,t),fc();break e}a=Error(U(426))}}else if(de&&l.mode&1){var _=$d(i);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Md(_,i,l,s,t),Qu(Ur(a,l));break e}}s=a=Ur(a,l),_e!==4&&(_e=2),Ao===null?Ao=[s]:Ao.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var h=Dp(s,a,t);_d(s,h);break e;case 1:l=a;var m=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(vn===null||!vn.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var v=Op(s,l,t);_d(s,v);break e}}s=s.return}while(s!==null)}rm(n)}catch(S){t=S,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function tm(){var e=_i.current;return _i.current=ki,e===null?ki:e}function fc(){(_e===0||_e===3||_e===2)&&(_e=4),Ie===null||!(Jn&268435455)&&!(Zi&268435455)||cn(Ie,je)}function Ii(e,t){var n=ne;ne|=2;var r=tm();(Ie!==e||je!==t)&&(Ht=null,Qn(e,t));do try{Jx();break}catch(o){em(e,o)}while(!0);if(Ku(),ne=n,_i.current=r,Se!==null)throw Error(U(261));return Ie=null,je=0,_e}function Jx(){for(;Se!==null;)nm(Se)}function ev(){for(;Se!==null&&!_y();)nm(Se)}function nm(e){var t=sm(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?rm(e):Se=t,lc.current=null}function rm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qx(n,t),n!==null){n.flags&=32767,Se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,Se=null;return}}else if(n=Qx(n,t,Ge),n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);_e===0&&(_e=5)}function Dn(e,t,n){var r=se,o=ft.transition;try{ft.transition=null,se=1,tv(e,t,n,r)}finally{ft.transition=o,se=r}return null}function tv(e,t,n,r){do zr();while(hn!==null);if(ne&6)throw Error(U(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(zy(e,s),e===Ie&&(Se=Ie=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ms||(Ms=!0,im(ui,function(){return zr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ft.transition,ft.transition=null;var i=se;se=1;var l=ne;ne|=4,lc.current=null,Yx(e,n),Gp(n,e),Nx(ja),di=!!Ta,ja=Ta=null,e.current=n,Xx(n),Cy(),ne=l,se=i,ft.transition=s}else e.current=n;if(Ms&&(Ms=!1,hn=e,bi=o),s=e.pendingLanes,s===0&&(vn=null),Py(n.stateNode),Xe(e,we()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ci)throw Ci=!1,e=Ga,Ga=null,e;return bi&1&&e.tag!==0&&zr(),s=e.pendingLanes,s&1?e===Za?zo++:(zo=0,Za=e):zo=0,Pn(),null}function zr(){if(hn!==null){var e=Dh(bi),t=ft.transition,n=se;try{if(ft.transition=null,se=16>e?16:e,hn===null)var r=!1;else{if(e=hn,hn=null,bi=0,ne&6)throw Error(U(331));var o=ne;for(ne|=4,q=e.current;q!==null;){var s=q,i=s.child;if(q.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(q=u;q!==null;){var c=q;switch(c.tag){case 0:case 11:case 15:Mo(8,c,s)}var d=c.child;if(d!==null)d.return=c,q=d;else for(;q!==null;){c=q;var f=c.sibling,g=c.return;if(Kp(c),c===u){q=null;break}if(f!==null){f.return=g,q=f;break}q=g}}}var w=s.alternate;if(w!==null){var N=w.child;if(N!==null){w.child=null;do{var _=N.sibling;N.sibling=null,N=_}while(N!==null)}}q=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,q=i;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Mo(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,q=h;break e}q=s.return}}var m=e.current;for(q=m;q!==null;){i=q;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,q=x;else e:for(i=m;q!==null;){if(l=q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gi(9,l)}}catch(S){ge(l,l.return,S)}if(l===i){q=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,q=v;break e}q=l.return}}if(ne=o,Pn(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Bi,e)}catch{}r=!0}return r}finally{se=n,ft.transition=t}}return!1}function Qd(e,t,n){t=Ur(n,t),t=Dp(e,t,1),e=xn(e,t,1),t=Ve(),e!==null&&(cs(e,1,t),Xe(e,t))}function ge(e,t,n){if(e.tag===3)Qd(e,e,n);else for(;t!==null;){if(t.tag===3){Qd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vn===null||!vn.has(r))){e=Ur(n,e),e=Op(t,e,1),t=xn(t,e,1),e=Ve(),t!==null&&(cs(t,1,e),Xe(t,e));break}}t=t.return}}function nv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,Ie===e&&(je&n)===n&&(_e===4||_e===3&&(je&130023424)===je&&500>we()-uc?Qn(e,0):ac|=n),Xe(e,t)}function om(e,t){t===0&&(e.mode&1?(t=Es,Es<<=1,!(Es&130023424)&&(Es=4194304)):t=1);var n=Ve();e=Gt(e,t),e!==null&&(cs(e,t,n),Xe(e,n))}function rv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),om(e,n)}function ov(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),om(e,n)}var sm;sm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ke.current)Qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qe=!1,Wx(e,t,n);Qe=!!(e.flags&131072)}else Qe=!1,de&&t.flags&1048576&&up(t,xi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zs(e,t),e=t.pendingProps;var o=Fr(t,Oe.current);Ar(t,n),o=nc(null,t,r,e,o,n);var s=rc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(r)?(s=!0,gi(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Gu(t),o.updater=Xi,t.stateNode=o,o._reactInternals=t,Fa(t,r,e,n),t=Ba(null,t,r,!0,s,n)):(t.tag=0,de&&s&&Uu(t),He(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zs(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=iv(r),e=xt(r,e),o){case 0:t=Va(null,t,r,e,n);break e;case 1:t=Rd(null,t,r,e,n);break e;case 11:t=Ad(null,t,r,e,n);break e;case 14:t=zd(null,t,r,xt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:xt(r,o),Va(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:xt(r,o),Rd(e,t,r,o,n);case 3:e:{if(Vp(t),e===null)throw Error(U(387));r=t.pendingProps,s=t.memoizedState,o=s.element,mp(e,t),Ni(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Ur(Error(U(423)),t),t=Dd(e,t,r,n,o);break e}else if(r!==o){o=Ur(Error(U(424)),t),t=Dd(e,t,r,n,o);break e}else for(Ze=yn(t.stateNode.containerInfo.firstChild),Je=t,de=!0,Nt=null,n=hp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hr(),r===o){t=Zt(e,t,n);break e}He(e,t,r,n)}t=t.child}return t;case 5:return gp(t),e===null&&Da(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,$a(r,o)?i=null:s!==null&&$a(r,s)&&(t.flags|=32),Hp(e,t),He(e,t,i,n),t.child;case 6:return e===null&&Da(t),null;case 13:return Bp(e,t,n);case 4:return Zu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vr(t,null,r,n):He(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:xt(r,o),Ad(e,t,r,o,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,ie(vi,r._currentValue),r._currentValue=i,s!==null)if(bt(s.value,i)){if(s.children===o.children&&!Ke.current){t=Zt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=qt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Oa(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(U(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Oa(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}He(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ar(t,n),o=pt(o),r=r(o),t.flags|=1,He(e,t,r,n),t.child;case 14:return r=t.type,o=xt(r,t.pendingProps),o=xt(r.type,o),zd(e,t,r,o,n);case 15:return Lp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:xt(r,o),Zs(e,t),t.tag=1,Ye(r)?(e=!0,gi(t)):e=!1,Ar(t,n),Rp(t,r,o),Fa(t,r,o,n),Ba(null,t,r,!0,e,n);case 19:return Up(e,t,n);case 22:return Fp(e,t,n)}throw Error(U(156,t.tag))};function im(e,t){return Mh(e,t)}function sv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,n,r){return new sv(e,t,n,r)}function hc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function iv(e){if(typeof e=="function")return hc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$u)return 11;if(e===Mu)return 14}return 2}function Nn(e,t){var n=e.alternate;return n===null?(n=ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ti(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")hc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case xr:return qn(n.children,o,s,t);case ju:i=8,o|=8;break;case ca:return e=ct(12,n,t,o|2),e.elementType=ca,e.lanes=s,e;case da:return e=ct(13,n,t,o),e.elementType=da,e.lanes=s,e;case fa:return e=ct(19,n,t,o),e.elementType=fa,e.lanes=s,e;case gh:return Ji(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ph:i=10;break e;case mh:i=9;break e;case $u:i=11;break e;case Mu:i=14;break e;case on:i=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=ct(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function qn(e,t,n,r){return e=ct(7,e,r,t),e.lanes=n,e}function Ji(e,t,n,r){return e=ct(22,e,r,t),e.elementType=gh,e.lanes=n,e.stateNode={isHidden:!1},e}function Wl(e,t,n){return e=ct(6,e,null,t),e.lanes=n,e}function Ql(e,t,n){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lv(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function pc(e,t,n,r,o,s,i,l,a){return e=new lv(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ct(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gu(s),e}function av(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function lm(e){if(!e)return _n;e=e._reactInternals;e:{if(sr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(Ye(n))return lp(e,n,t)}return t}function am(e,t,n,r,o,s,i,l,a){return e=pc(n,r,!0,e,o,s,i,l,a),e.context=lm(null),n=e.current,r=Ve(),o=wn(n),s=qt(r,o),s.callback=t??null,xn(n,s,o),e.current.lanes=o,cs(e,o,r),Xe(e,r),e}function el(e,t,n,r){var o=t.current,s=Ve(),i=wn(o);return n=lm(n),t.context===null?t.context=n:t.pendingContext=n,t=qt(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xn(o,t,i),e!==null&&(Ct(e,o,i,s),Ys(e,o,i)),i}function Pi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mc(e,t){qd(e,t),(e=e.alternate)&&qd(e,t)}function uv(){return null}var um=typeof reportError=="function"?reportError:function(e){console.error(e)};function gc(e){this._internalRoot=e}tl.prototype.render=gc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));el(e,t,null,null)};tl.prototype.unmount=gc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;er(function(){el(null,e,null,null)}),t[Xt]=null}};function tl(e){this._internalRoot=e}tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<un.length&&t!==0&&t<un[n].priority;n++);un.splice(n,0,e),n===0&&Vh(e)}};function yc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kd(){}function cv(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var u=Pi(i);s.call(u)}}var i=am(t,r,e,0,null,!1,!1,"",Kd);return e._reactRootContainer=i,e[Xt]=i.current,Uo(e.nodeType===8?e.parentNode:e),er(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=Pi(a);l.call(u)}}var a=pc(e,0,!1,null,null,!1,!1,"",Kd);return e._reactRootContainer=a,e[Xt]=a.current,Uo(e.nodeType===8?e.parentNode:e),er(function(){el(t,a,n,r)}),a}function rl(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var l=o;o=function(){var a=Pi(i);l.call(a)}}el(t,i,e,o)}else i=cv(n,t,e,o,r);return Pi(i)}Oh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=So(t.pendingLanes);n!==0&&(Ru(t,n|1),Xe(t,we()),!(ne&6)&&(Wr=we()+500,Pn()))}break;case 13:er(function(){var r=Gt(e,1);if(r!==null){var o=Ve();Ct(r,e,1,o)}}),mc(e,1)}};Du=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var n=Ve();Ct(t,e,134217728,n)}mc(e,134217728)}};Lh=function(e){if(e.tag===13){var t=wn(e),n=Gt(e,t);if(n!==null){var r=Ve();Ct(n,e,t,r)}mc(e,t)}};Fh=function(){return se};Hh=function(e,t){var n=se;try{return se=e,t()}finally{se=n}};Sa=function(e,t,n){switch(t){case"input":if(ma(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=qi(r);if(!o)throw Error(U(90));xh(r),ma(r,o)}}}break;case"textarea":wh(e,n);break;case"select":t=n.value,t!=null&&Tr(e,!!n.multiple,t,!1)}};bh=cc;Ih=er;var dv={usingClientEntryPoint:!1,Events:[fs,Sr,qi,_h,Ch,cc]},ho={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fv={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jh(e),e===null?null:e.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||uv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var As=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!As.isDisabled&&As.supportsFiber)try{Bi=As.inject(fv),Mt=As}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dv;ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yc(t))throw Error(U(200));return av(e,t,null,n)};ot.createRoot=function(e,t){if(!yc(e))throw Error(U(299));var n=!1,r="",o=um;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=pc(e,1,!1,null,null,n,!1,r,o),e[Xt]=t.current,Uo(e.nodeType===8?e.parentNode:e),new gc(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=jh(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return er(e)};ot.hydrate=function(e,t,n){if(!nl(t))throw Error(U(200));return rl(null,e,t,!0,n)};ot.hydrateRoot=function(e,t,n){if(!yc(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=um;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=am(t,null,e,1,n??null,o,!1,s,i),e[Xt]=t.current,Uo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new tl(t)};ot.render=function(e,t,n){if(!nl(t))throw Error(U(200));return rl(null,e,t,!1,n)};ot.unmountComponentAtNode=function(e){if(!nl(e))throw Error(U(40));return e._reactRootContainer?(er(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};ot.unstable_batchedUpdates=cc;ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return rl(e,t,n,!1,r)};ot.version="18.3.1-next-f1338f8080-20240426";function cm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cm)}catch(e){console.error(e)}}cm(),ch.exports=ot;var hv=ch.exports,Yd=hv;aa.createRoot=Yd.createRoot,aa.hydrateRoot=Yd.hydrateRoot;function Me(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Me(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var dm={exports:{}},fm={},hm={exports:{}},pm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qr=R;function pv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mv=typeof Object.is=="function"?Object.is:pv,gv=Qr.useState,yv=Qr.useEffect,xv=Qr.useLayoutEffect,vv=Qr.useDebugValue;function wv(e,t){var n=t(),r=gv({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return xv(function(){o.value=n,o.getSnapshot=t,ql(o)&&s({inst:o})},[e,n,t]),yv(function(){return ql(o)&&s({inst:o}),e(function(){ql(o)&&s({inst:o})})},[e]),vv(n),n}function ql(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mv(e,n)}catch{return!0}}function Nv(e,t){return t()}var Sv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Nv:wv;pm.useSyncExternalStore=Qr.useSyncExternalStore!==void 0?Qr.useSyncExternalStore:Sv;hm.exports=pm;var Ev=hm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=R,kv=Ev;function _v(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cv=typeof Object.is=="function"?Object.is:_v,bv=kv.useSyncExternalStore,Iv=ol.useRef,Pv=ol.useEffect,Tv=ol.useMemo,jv=ol.useDebugValue;fm.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var s=Iv(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=Tv(function(){function a(g){if(!u){if(u=!0,c=g,g=r(g),o!==void 0&&i.hasValue){var w=i.value;if(o(w,g))return d=w}return d=g}if(w=d,Cv(c,g))return w;var N=r(g);return o!==void 0&&o(w,N)?(c=g,w):(c=g,d=N)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return a(t())},f===null?void 0:function(){return a(f())}]},[t,n,r,o]);var l=bv(e,s[0],s[1]);return Pv(function(){i.hasValue=!0,i.value=l},[l]),jv(l),l};dm.exports=fm;var $v=dm.exports;const mm=Zf($v),Mv={},Xd=e=>{let t;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const g=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(w=>w(t,g))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(Mv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,a);return a},gm=e=>e?Xd(e):Xd,{useDebugValue:Av}=F,{useSyncExternalStoreWithSelector:zv}=mm,Rv=e=>e;function ym(e,t=Rv,n){const r=zv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Av(r),r}const Gd=(e,t)=>{const n=gm(e),r=(o,s=t)=>ym(n,o,s);return Object.assign(r,n),r},Dv=(e,t)=>e?Gd(e,t):Gd;function Pe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Ov={value:()=>{}};function sl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ni(n)}function ni(e){this._=e}function Lv(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ni.prototype=sl.prototype={constructor:ni,on:function(e,t){var n=this._,r=Lv(e+"",n),o,s=-1,i=r.length;if(arguments.length<2){for(;++s<i;)if((o=(e=r[s]).type)&&(o=Fv(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(o=(e=r[s]).type)n[o]=Zd(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Zd(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ni(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,s;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,o=s.length;r<o;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,s=r.length;o<s;++o)r[o].value.apply(t,n)}};function Fv(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Zd(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Ov,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var tu="http://www.w3.org/1999/xhtml";const Jd={svg:"http://www.w3.org/2000/svg",xhtml:tu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function il(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Jd.hasOwnProperty(t)?{space:Jd[t],local:e}:e}function Hv(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===tu&&t.documentElement.namespaceURI===tu?t.createElement(e):t.createElementNS(n,e)}}function Vv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function xm(e){var t=il(e);return(t.local?Vv:Hv)(t)}function Bv(){}function xc(e){return e==null?Bv:function(){return this.querySelector(e)}}function Uv(e){typeof e!="function"&&(e=xc(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,l=r[o]=new Array(i),a,u,c=0;c<i;++c)(a=s[c])&&(u=e.call(a,a.__data__,c,s))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new tt(r,this._parents)}function Wv(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Qv(){return[]}function vm(e){return e==null?Qv:function(){return this.querySelectorAll(e)}}function qv(e){return function(){return Wv(e.apply(this,arguments))}}function Kv(e){typeof e=="function"?e=qv(e):e=vm(e);for(var t=this._groups,n=t.length,r=[],o=[],s=0;s<n;++s)for(var i=t[s],l=i.length,a,u=0;u<l;++u)(a=i[u])&&(r.push(e.call(a,a.__data__,u,i)),o.push(a));return new tt(r,o)}function wm(e){return function(){return this.matches(e)}}function Nm(e){return function(t){return t.matches(e)}}var Yv=Array.prototype.find;function Xv(e){return function(){return Yv.call(this.children,e)}}function Gv(){return this.firstElementChild}function Zv(e){return this.select(e==null?Gv:Xv(typeof e=="function"?e:Nm(e)))}var Jv=Array.prototype.filter;function e1(){return Array.from(this.children)}function t1(e){return function(){return Jv.call(this.children,e)}}function n1(e){return this.selectAll(e==null?e1:t1(typeof e=="function"?e:Nm(e)))}function r1(e){typeof e!="function"&&(e=wm(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,l=r[o]=[],a,u=0;u<i;++u)(a=s[u])&&e.call(a,a.__data__,u,s)&&l.push(a);return new tt(r,this._parents)}function Sm(e){return new Array(e.length)}function o1(){return new tt(this._enter||this._groups.map(Sm),this._parents)}function Ti(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ti.prototype={constructor:Ti,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function s1(e){return function(){return e}}function i1(e,t,n,r,o,s){for(var i=0,l,a=t.length,u=s.length;i<u;++i)(l=t[i])?(l.__data__=s[i],r[i]=l):n[i]=new Ti(e,s[i]);for(;i<a;++i)(l=t[i])&&(o[i]=l)}function l1(e,t,n,r,o,s,i){var l,a,u=new Map,c=t.length,d=s.length,f=new Array(c),g;for(l=0;l<c;++l)(a=t[l])&&(f[l]=g=i.call(a,a.__data__,l,t)+"",u.has(g)?o[l]=a:u.set(g,a));for(l=0;l<d;++l)g=i.call(e,s[l],l,s)+"",(a=u.get(g))?(r[l]=a,a.__data__=s[l],u.delete(g)):n[l]=new Ti(e,s[l]);for(l=0;l<c;++l)(a=t[l])&&u.get(f[l])===a&&(o[l]=a)}function a1(e){return e.__data__}function u1(e,t){if(!arguments.length)return Array.from(this,a1);var n=t?l1:i1,r=this._parents,o=this._groups;typeof e!="function"&&(e=s1(e));for(var s=o.length,i=new Array(s),l=new Array(s),a=new Array(s),u=0;u<s;++u){var c=r[u],d=o[u],f=d.length,g=c1(e.call(c,c&&c.__data__,u,r)),w=g.length,N=l[u]=new Array(w),_=i[u]=new Array(w),h=a[u]=new Array(f);n(c,d,N,_,h,g,t);for(var m=0,x=0,v,S;m<w;++m)if(v=N[m]){for(m>=x&&(x=m+1);!(S=_[x])&&++x<w;);v._next=S||null}}return i=new tt(i,r),i._enter=l,i._exit=a,i}function c1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function d1(){return new tt(this._exit||this._groups.map(Sm),this._parents)}function f1(e,t,n){var r=this.enter(),o=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?s.remove():n(s),r&&o?r.merge(o).order():o}function h1(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,s=r.length,i=Math.min(o,s),l=new Array(o),a=0;a<i;++a)for(var u=n[a],c=r[a],d=u.length,f=l[a]=new Array(d),g,w=0;w<d;++w)(g=u[w]||c[w])&&(f[w]=g);for(;a<o;++a)l[a]=n[a];return new tt(l,this._parents)}function p1(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,s=r[o],i;--o>=0;)(i=r[o])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function m1(e){e||(e=g1);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s){for(var i=n[s],l=i.length,a=o[s]=new Array(l),u,c=0;c<l;++c)(u=i[c])&&(a[c]=u);a.sort(t)}return new tt(o,this._parents).order()}function g1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function y1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function x1(){return Array.from(this)}function v1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length;o<s;++o){var i=r[o];if(i)return i}return null}function w1(){let e=0;for(const t of this)++e;return e}function N1(){return!this.node()}function S1(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],s=0,i=o.length,l;s<i;++s)(l=o[s])&&e.call(l,l.__data__,s,o);return this}function E1(e){return function(){this.removeAttribute(e)}}function k1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _1(e,t){return function(){this.setAttribute(e,t)}}function C1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function b1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function I1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function P1(e,t){var n=il(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?k1:E1:typeof t=="function"?n.local?I1:b1:n.local?C1:_1)(n,t))}function Em(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function T1(e){return function(){this.style.removeProperty(e)}}function j1(e,t,n){return function(){this.style.setProperty(e,t,n)}}function $1(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function M1(e,t,n){return arguments.length>1?this.each((t==null?T1:typeof t=="function"?$1:j1)(e,t,n??"")):qr(this.node(),e)}function qr(e,t){return e.style.getPropertyValue(t)||Em(e).getComputedStyle(e,null).getPropertyValue(t)}function A1(e){return function(){delete this[e]}}function z1(e,t){return function(){this[e]=t}}function R1(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function D1(e,t){return arguments.length>1?this.each((t==null?A1:typeof t=="function"?R1:z1)(e,t)):this.node()[e]}function km(e){return e.trim().split(/^|\s+/)}function vc(e){return e.classList||new _m(e)}function _m(e){this._node=e,this._names=km(e.getAttribute("class")||"")}_m.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Cm(e,t){for(var n=vc(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function bm(e,t){for(var n=vc(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function O1(e){return function(){Cm(this,e)}}function L1(e){return function(){bm(this,e)}}function F1(e,t){return function(){(t.apply(this,arguments)?Cm:bm)(this,e)}}function H1(e,t){var n=km(e+"");if(arguments.length<2){for(var r=vc(this.node()),o=-1,s=n.length;++o<s;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?F1:t?O1:L1)(n,t))}function V1(){this.textContent=""}function B1(e){return function(){this.textContent=e}}function U1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function W1(e){return arguments.length?this.each(e==null?V1:(typeof e=="function"?U1:B1)(e)):this.node().textContent}function Q1(){this.innerHTML=""}function q1(e){return function(){this.innerHTML=e}}function K1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Y1(e){return arguments.length?this.each(e==null?Q1:(typeof e=="function"?K1:q1)(e)):this.node().innerHTML}function X1(){this.nextSibling&&this.parentNode.appendChild(this)}function G1(){return this.each(X1)}function Z1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function J1(){return this.each(Z1)}function ew(e){var t=typeof e=="function"?e:xm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function tw(){return null}function nw(e,t){var n=typeof e=="function"?e:xm(e),r=t==null?tw:typeof t=="function"?t:xc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function rw(){var e=this.parentNode;e&&e.removeChild(this)}function ow(){return this.each(rw)}function sw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function iw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function lw(e){return this.select(e?iw:sw)}function aw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function uw(e){return function(t){e.call(this,t,this.__data__)}}function cw(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function dw(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,s;n<o;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function fw(e,t,n){return function(){var r=this.__on,o,s=uw(t);if(r){for(var i=0,l=r.length;i<l;++i)if((o=r[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=t;return}}this.addEventListener(e.type,s,n),o={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(o):this.__on=[o]}}function hw(e,t,n){var r=cw(e+""),o,s=r.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(o=0,c=l[a];o<s;++o)if((i=r[o]).type===c.type&&i.name===c.name)return c.value}return}for(l=t?fw:dw,o=0;o<s;++o)this.each(l(r[o],t,n));return this}function Im(e,t,n){var r=Em(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function pw(e,t){return function(){return Im(this,e,t)}}function mw(e,t){return function(){return Im(this,e,t.apply(this,arguments))}}function gw(e,t){return this.each((typeof t=="function"?mw:pw)(e,t))}function*yw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length,i;o<s;++o)(i=r[o])&&(yield i)}var Pm=[null];function tt(e,t){this._groups=e,this._parents=t}function ps(){return new tt([[document.documentElement]],Pm)}function xw(){return this}tt.prototype=ps.prototype={constructor:tt,select:Uv,selectAll:Kv,selectChild:Zv,selectChildren:n1,filter:r1,data:u1,enter:o1,exit:d1,join:f1,merge:h1,selection:xw,order:p1,sort:m1,call:y1,nodes:x1,node:v1,size:w1,empty:N1,each:S1,attr:P1,style:M1,property:D1,classed:H1,text:W1,html:Y1,raise:G1,lower:J1,append:ew,insert:nw,remove:ow,clone:lw,datum:aw,on:hw,dispatch:gw,[Symbol.iterator]:yw};function ut(e){return typeof e=="string"?new tt([[document.querySelector(e)]],[document.documentElement]):new tt([[e]],Pm)}function vw(e){let t;for(;t=e.sourceEvent;)e=t;return e}function wt(e,t){if(e=vw(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const ww={passive:!1},Jo={capture:!0,passive:!1};function Kl(e){e.stopImmediatePropagation()}function Rr(e){e.preventDefault(),e.stopImmediatePropagation()}function Tm(e){var t=e.document.documentElement,n=ut(e).on("dragstart.drag",Rr,Jo);"onselectstart"in t?n.on("selectstart.drag",Rr,Jo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function jm(e,t){var n=e.document.documentElement,r=ut(e).on("dragstart.drag",null);t&&(r.on("click.drag",Rr,Jo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const zs=e=>()=>e;function nu(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:s,x:i,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}nu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Nw(e){return!e.ctrlKey&&!e.button}function Sw(){return this.parentNode}function Ew(e,t){return t??{x:e.x,y:e.y}}function kw(){return navigator.maxTouchPoints||"ontouchstart"in this}function _w(){var e=Nw,t=Sw,n=Ew,r=kw,o={},s=sl("start","drag","end"),i=0,l,a,u,c,d=0;function f(v){v.on("mousedown.drag",g).filter(r).on("touchstart.drag",_).on("touchmove.drag",h,ww).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(v,S){if(!(c||!e.call(this,v,S))){var C=x(this,t.call(this,v,S),v,S,"mouse");C&&(ut(v.view).on("mousemove.drag",w,Jo).on("mouseup.drag",N,Jo),Tm(v.view),Kl(v),u=!1,l=v.clientX,a=v.clientY,C("start",v))}}function w(v){if(Rr(v),!u){var S=v.clientX-l,C=v.clientY-a;u=S*S+C*C>d}o.mouse("drag",v)}function N(v){ut(v.view).on("mousemove.drag mouseup.drag",null),jm(v.view,u),Rr(v),o.mouse("end",v)}function _(v,S){if(e.call(this,v,S)){var C=v.changedTouches,I=t.call(this,v,S),j=C.length,P,O;for(P=0;P<j;++P)(O=x(this,I,v,S,C[P].identifier,C[P]))&&(Kl(v),O("start",v,C[P]))}}function h(v){var S=v.changedTouches,C=S.length,I,j;for(I=0;I<C;++I)(j=o[S[I].identifier])&&(Rr(v),j("drag",v,S[I]))}function m(v){var S=v.changedTouches,C=S.length,I,j;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),I=0;I<C;++I)(j=o[S[I].identifier])&&(Kl(v),j("end",v,S[I]))}function x(v,S,C,I,j,P){var O=s.copy(),H=wt(P||C,S),D,L,y;if((y=n.call(v,new nu("beforestart",{sourceEvent:C,target:f,identifier:j,active:i,x:H[0],y:H[1],dx:0,dy:0,dispatch:O}),I))!=null)return D=y.x-H[0]||0,L=y.y-H[1]||0,function T(k,A,b){var E=H,M;switch(k){case"start":o[j]=T,M=i++;break;case"end":delete o[j],--i;case"drag":H=wt(b||A,S),M=i;break}O.call(k,v,new nu(k,{sourceEvent:A,subject:y,target:f,identifier:j,active:M,x:H[0]+D,y:H[1]+L,dx:H[0]-E[0],dy:H[1]-E[1],dispatch:O}),I)}}return f.filter=function(v){return arguments.length?(e=typeof v=="function"?v:zs(!!v),f):e},f.container=function(v){return arguments.length?(t=typeof v=="function"?v:zs(v),f):t},f.subject=function(v){return arguments.length?(n=typeof v=="function"?v:zs(v),f):n},f.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:zs(!!v),f):r},f.on=function(){var v=s.on.apply(s,arguments);return v===s?f:v},f.clickDistance=function(v){return arguments.length?(d=(v=+v)*v,f):Math.sqrt(d)},f}function wc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function $m(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ms(){}var es=.7,ji=1/es,Dr="\\s*([+-]?\\d+)\\s*",ts="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cw=/^#([0-9a-f]{3,8})$/,bw=new RegExp(`^rgb\\(${Dr},${Dr},${Dr}\\)$`),Iw=new RegExp(`^rgb\\(${zt},${zt},${zt}\\)$`),Pw=new RegExp(`^rgba\\(${Dr},${Dr},${Dr},${ts}\\)$`),Tw=new RegExp(`^rgba\\(${zt},${zt},${zt},${ts}\\)$`),jw=new RegExp(`^hsl\\(${ts},${zt},${zt}\\)$`),$w=new RegExp(`^hsla\\(${ts},${zt},${zt},${ts}\\)$`),ef={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wc(ms,ns,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tf,formatHex:tf,formatHex8:Mw,formatHsl:Aw,formatRgb:nf,toString:nf});function tf(){return this.rgb().formatHex()}function Mw(){return this.rgb().formatHex8()}function Aw(){return Mm(this).formatHsl()}function nf(){return this.rgb().formatRgb()}function ns(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Cw.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?rf(t):n===3?new qe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Rs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Rs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bw.exec(e))?new qe(t[1],t[2],t[3],1):(t=Iw.exec(e))?new qe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Pw.exec(e))?Rs(t[1],t[2],t[3],t[4]):(t=Tw.exec(e))?Rs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=jw.exec(e))?lf(t[1],t[2]/100,t[3]/100,1):(t=$w.exec(e))?lf(t[1],t[2]/100,t[3]/100,t[4]):ef.hasOwnProperty(e)?rf(ef[e]):e==="transparent"?new qe(NaN,NaN,NaN,0):null}function rf(e){return new qe(e>>16&255,e>>8&255,e&255,1)}function Rs(e,t,n,r){return r<=0&&(e=t=n=NaN),new qe(e,t,n,r)}function zw(e){return e instanceof ms||(e=ns(e)),e?(e=e.rgb(),new qe(e.r,e.g,e.b,e.opacity)):new qe}function ru(e,t,n,r){return arguments.length===1?zw(e):new qe(e,t,n,r??1)}function qe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}wc(qe,ru,$m(ms,{brighter(e){return e=e==null?ji:Math.pow(ji,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?es:Math.pow(es,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qe(Kn(this.r),Kn(this.g),Kn(this.b),$i(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:of,formatHex:of,formatHex8:Rw,formatRgb:sf,toString:sf}));function of(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}`}function Rw(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}${Un((isNaN(this.opacity)?1:this.opacity)*255)}`}function sf(){const e=$i(this.opacity);return`${e===1?"rgb(":"rgba("}${Kn(this.r)}, ${Kn(this.g)}, ${Kn(this.b)}${e===1?")":`, ${e})`}`}function $i(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Un(e){return e=Kn(e),(e<16?"0":"")+e.toString(16)}function lf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new St(e,t,n,r)}function Mm(e){if(e instanceof St)return new St(e.h,e.s,e.l,e.opacity);if(e instanceof ms||(e=ns(e)),!e)return new St;if(e instanceof St)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),s=Math.max(t,n,r),i=NaN,l=s-o,a=(s+o)/2;return l?(t===s?i=(n-r)/l+(n<r)*6:n===s?i=(r-t)/l+2:i=(t-n)/l+4,l/=a<.5?s+o:2-s-o,i*=60):l=a>0&&a<1?0:i,new St(i,l,a,e.opacity)}function Dw(e,t,n,r){return arguments.length===1?Mm(e):new St(e,t,n,r??1)}function St(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}wc(St,Dw,$m(ms,{brighter(e){return e=e==null?ji:Math.pow(ji,e),new St(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?es:Math.pow(es,e),new St(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new qe(Yl(e>=240?e-240:e+120,o,r),Yl(e,o,r),Yl(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new St(af(this.h),Ds(this.s),Ds(this.l),$i(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$i(this.opacity);return`${e===1?"hsl(":"hsla("}${af(this.h)}, ${Ds(this.s)*100}%, ${Ds(this.l)*100}%${e===1?")":`, ${e})`}`}}));function af(e){return e=(e||0)%360,e<0?e+360:e}function Ds(e){return Math.max(0,Math.min(1,e||0))}function Yl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Am=e=>()=>e;function Ow(e,t){return function(n){return e+n*t}}function Lw(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Fw(e){return(e=+e)==1?zm:function(t,n){return n-t?Lw(t,n,e):Am(isNaN(t)?n:t)}}function zm(e,t){var n=t-e;return n?Ow(e,n):Am(isNaN(e)?t:e)}const uf=function e(t){var n=Fw(t);function r(o,s){var i=n((o=ru(o)).r,(s=ru(s)).r),l=n(o.g,s.g),a=n(o.b,s.b),u=zm(o.opacity,s.opacity);return function(c){return o.r=i(c),o.g=l(c),o.b=a(c),o.opacity=u(c),o+""}}return r.gamma=e,r}(1);function ln(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ou=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xl=new RegExp(ou.source,"g");function Hw(e){return function(){return e}}function Vw(e){return function(t){return e(t)+""}}function Bw(e,t){var n=ou.lastIndex=Xl.lastIndex=0,r,o,s,i=-1,l=[],a=[];for(e=e+"",t=t+"";(r=ou.exec(e))&&(o=Xl.exec(t));)(s=o.index)>n&&(s=t.slice(n,s),l[i]?l[i]+=s:l[++i]=s),(r=r[0])===(o=o[0])?l[i]?l[i]+=o:l[++i]=o:(l[++i]=null,a.push({i,x:ln(r,o)})),n=Xl.lastIndex;return n<t.length&&(s=t.slice(n),l[i]?l[i]+=s:l[++i]=s),l.length<2?a[0]?Vw(a[0].x):Hw(t):(t=a.length,function(u){for(var c=0,d;c<t;++c)l[(d=a[c]).i]=d.x(u);return l.join("")})}var cf=180/Math.PI,su={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Rm(e,t,n,r,o,s){var i,l,a;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,i=-i),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*cf,skewX:Math.atan(a)*cf,scaleX:i,scaleY:l}}var Os;function Uw(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?su:Rm(t.a,t.b,t.c,t.d,t.e,t.f)}function Ww(e){return e==null||(Os||(Os=document.createElementNS("http://www.w3.org/2000/svg","g")),Os.setAttribute("transform",e),!(e=Os.transform.baseVal.consolidate()))?su:(e=e.matrix,Rm(e.a,e.b,e.c,e.d,e.e,e.f))}function Dm(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function s(u,c,d,f,g,w){if(u!==d||c!==f){var N=g.push("translate(",null,t,null,n);w.push({i:N-4,x:ln(u,d)},{i:N-2,x:ln(c,f)})}else(d||f)&&g.push("translate("+d+t+f+n)}function i(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(o(d)+"rotate(",null,r)-2,x:ln(u,c)})):c&&d.push(o(d)+"rotate("+c+r)}function l(u,c,d,f){u!==c?f.push({i:d.push(o(d)+"skewX(",null,r)-2,x:ln(u,c)}):c&&d.push(o(d)+"skewX("+c+r)}function a(u,c,d,f,g,w){if(u!==d||c!==f){var N=g.push(o(g)+"scale(",null,",",null,")");w.push({i:N-4,x:ln(u,d)},{i:N-2,x:ln(c,f)})}else(d!==1||f!==1)&&g.push(o(g)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,f),i(u.rotate,c.rotate,d,f),l(u.skewX,c.skewX,d,f),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(g){for(var w=-1,N=f.length,_;++w<N;)d[(_=f[w]).i]=_.x(g);return d.join("")}}}var Qw=Dm(Uw,"px, ","px)","deg)"),qw=Dm(Ww,", ",")",")"),Kw=1e-12;function df(e){return((e=Math.exp(e))+1/e)/2}function Yw(e){return((e=Math.exp(e))-1/e)/2}function Xw(e){return((e=Math.exp(2*e))-1)/(e+1)}const Gw=function e(t,n,r){function o(s,i){var l=s[0],a=s[1],u=s[2],c=i[0],d=i[1],f=i[2],g=c-l,w=d-a,N=g*g+w*w,_,h;if(N<Kw)h=Math.log(f/u)/t,_=function(I){return[l+I*g,a+I*w,u*Math.exp(t*I*h)]};else{var m=Math.sqrt(N),x=(f*f-u*u+r*N)/(2*u*n*m),v=(f*f-u*u-r*N)/(2*f*n*m),S=Math.log(Math.sqrt(x*x+1)-x),C=Math.log(Math.sqrt(v*v+1)-v);h=(C-S)/t,_=function(I){var j=I*h,P=df(S),O=u/(n*m)*(P*Xw(t*j+S)-Yw(S));return[l+O*g,a+O*w,u*P/df(t*j+S)]}}return _.duration=h*1e3*t/Math.SQRT2,_}return o.rho=function(s){var i=Math.max(.001,+s),l=i*i,a=l*l;return e(i,l,a)},o}(Math.SQRT2,2,4);var Kr=0,ko=0,po=0,Om=1e3,Mi,_o,Ai=0,tr=0,ll=0,rs=typeof performance=="object"&&performance.now?performance:Date,Lm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Nc(){return tr||(Lm(Zw),tr=rs.now()+ll)}function Zw(){tr=0}function zi(){this._call=this._time=this._next=null}zi.prototype=Fm.prototype={constructor:zi,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Nc():+n)+(t==null?0:+t),!this._next&&_o!==this&&(_o?_o._next=this:Mi=this,_o=this),this._call=e,this._time=n,iu()},stop:function(){this._call&&(this._call=null,this._time=1/0,iu())}};function Fm(e,t,n){var r=new zi;return r.restart(e,t,n),r}function Jw(){Nc(),++Kr;for(var e=Mi,t;e;)(t=tr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Kr}function ff(){tr=(Ai=rs.now())+ll,Kr=ko=0;try{Jw()}finally{Kr=0,t2(),tr=0}}function e2(){var e=rs.now(),t=e-Ai;t>Om&&(ll-=t,Ai=e)}function t2(){for(var e,t=Mi,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Mi=n);_o=e,iu(r)}function iu(e){if(!Kr){ko&&(ko=clearTimeout(ko));var t=e-tr;t>24?(e<1/0&&(ko=setTimeout(ff,e-rs.now()-ll)),po&&(po=clearInterval(po))):(po||(Ai=rs.now(),po=setInterval(e2,Om)),Kr=1,Lm(ff))}}function hf(e,t,n){var r=new zi;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var n2=sl("start","end","cancel","interrupt"),r2=[],Hm=0,pf=1,lu=2,ri=3,mf=4,au=5,oi=6;function al(e,t,n,r,o,s){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;o2(e,n,{name:t,index:r,group:o,on:n2,tween:r2,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Hm})}function Sc(e,t){var n=It(e,t);if(n.state>Hm)throw new Error("too late; already scheduled");return n}function Rt(e,t){var n=It(e,t);if(n.state>ri)throw new Error("too late; already running");return n}function It(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function o2(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Fm(s,0,n.time);function s(u){n.state=pf,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var c,d,f,g;if(n.state!==pf)return a();for(c in r)if(g=r[c],g.name===n.name){if(g.state===ri)return hf(i);g.state===mf?(g.state=oi,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[c]):+c<t&&(g.state=oi,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[c])}if(hf(function(){n.state===ri&&(n.state=mf,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=lu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===lu){for(n.state=ri,o=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(g=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=g);o.length=d+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=au,1),d=-1,f=o.length;++d<f;)o[d].call(e,c);n.state===au&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=oi,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function si(e,t){var n=e.__transition,r,o,s=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){s=!1;continue}o=r.state>lu&&r.state<au,r.state=oi,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}s&&delete e.__transition}}function s2(e){return this.each(function(){si(this,e)})}function i2(e,t){var n,r;return function(){var o=Rt(this,e),s=o.tween;if(s!==n){r=n=s;for(var i=0,l=r.length;i<l;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}o.tween=r}}function l2(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var s=Rt(this,e),i=s.tween;if(i!==r){o=(r=i).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}s.tween=o}}function a2(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=It(this.node(),n).tween,o=0,s=r.length,i;o<s;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((t==null?i2:l2)(n,e,t))}function Ec(e,t,n){var r=e._id;return e.each(function(){var o=Rt(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return It(o,r).value[t]}}function Vm(e,t){var n;return(typeof t=="number"?ln:t instanceof ns?uf:(n=ns(t))?(t=n,uf):Bw)(e,t)}function u2(e){return function(){this.removeAttribute(e)}}function c2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function d2(e,t,n){var r,o=n+"",s;return function(){var i=this.getAttribute(e);return i===o?null:i===r?s:s=t(r=i,n)}}function f2(e,t,n){var r,o=n+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===r?s:s=t(r=i,n)}}function h2(e,t,n){var r,o,s;return function(){var i,l=n(this),a;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),a=l+"",i===a?null:i===r&&a===o?s:(o=a,s=t(r=i,l)))}}function p2(e,t,n){var r,o,s;return function(){var i,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),a=l+"",i===a?null:i===r&&a===o?s:(o=a,s=t(r=i,l)))}}function m2(e,t){var n=il(e),r=n==="transform"?qw:Vm;return this.attrTween(e,typeof t=="function"?(n.local?p2:h2)(n,r,Ec(this,"attr."+e,t)):t==null?(n.local?c2:u2)(n):(n.local?f2:d2)(n,r,t))}function g2(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function y2(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function x2(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&y2(e,s)),n}return o._value=t,o}function v2(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&g2(e,s)),n}return o._value=t,o}function w2(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=il(e);return this.tween(n,(r.local?x2:v2)(r,t))}function N2(e,t){return function(){Sc(this,e).delay=+t.apply(this,arguments)}}function S2(e,t){return t=+t,function(){Sc(this,e).delay=t}}function E2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?N2:S2)(t,e)):It(this.node(),t).delay}function k2(e,t){return function(){Rt(this,e).duration=+t.apply(this,arguments)}}function _2(e,t){return t=+t,function(){Rt(this,e).duration=t}}function C2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?k2:_2)(t,e)):It(this.node(),t).duration}function b2(e,t){if(typeof t!="function")throw new Error;return function(){Rt(this,e).ease=t}}function I2(e){var t=this._id;return arguments.length?this.each(b2(t,e)):It(this.node(),t).ease}function P2(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Rt(this,e).ease=n}}function T2(e){if(typeof e!="function")throw new Error;return this.each(P2(this._id,e))}function j2(e){typeof e!="function"&&(e=wm(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,l=r[o]=[],a,u=0;u<i;++u)(a=s[u])&&e.call(a,a.__data__,u,s)&&l.push(a);return new Jt(r,this._parents,this._name,this._id)}function $2(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,s=Math.min(r,o),i=new Array(r),l=0;l<s;++l)for(var a=t[l],u=n[l],c=a.length,d=i[l]=new Array(c),f,g=0;g<c;++g)(f=a[g]||u[g])&&(d[g]=f);for(;l<r;++l)i[l]=t[l];return new Jt(i,this._parents,this._name,this._id)}function M2(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function A2(e,t,n){var r,o,s=M2(t)?Sc:Rt;return function(){var i=s(this,e),l=i.on;l!==r&&(o=(r=l).copy()).on(t,n),i.on=o}}function z2(e,t){var n=this._id;return arguments.length<2?It(this.node(),n).on.on(e):this.each(A2(n,e,t))}function R2(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function D2(){return this.on("end.remove",R2(this._id))}function O2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=xc(e));for(var r=this._groups,o=r.length,s=new Array(o),i=0;i<o;++i)for(var l=r[i],a=l.length,u=s[i]=new Array(a),c,d,f=0;f<a;++f)(c=l[f])&&(d=e.call(c,c.__data__,f,l))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,al(u[f],t,n,f,u,It(c,n)));return new Jt(s,this._parents,t,n)}function L2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vm(e));for(var r=this._groups,o=r.length,s=[],i=[],l=0;l<o;++l)for(var a=r[l],u=a.length,c,d=0;d<u;++d)if(c=a[d]){for(var f=e.call(c,c.__data__,d,a),g,w=It(c,n),N=0,_=f.length;N<_;++N)(g=f[N])&&al(g,t,n,N,f,w);s.push(f),i.push(c)}return new Jt(s,i,t,n)}var F2=ps.prototype.constructor;function H2(){return new F2(this._groups,this._parents)}function V2(e,t){var n,r,o;return function(){var s=qr(this,e),i=(this.style.removeProperty(e),qr(this,e));return s===i?null:s===n&&i===r?o:o=t(n=s,r=i)}}function Bm(e){return function(){this.style.removeProperty(e)}}function B2(e,t,n){var r,o=n+"",s;return function(){var i=qr(this,e);return i===o?null:i===r?s:s=t(r=i,n)}}function U2(e,t,n){var r,o,s;return function(){var i=qr(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),qr(this,e))),i===a?null:i===r&&a===o?s:(o=a,s=t(r=i,l))}}function W2(e,t){var n,r,o,s="style."+t,i="end."+s,l;return function(){var a=Rt(this,e),u=a.on,c=a.value[s]==null?l||(l=Bm(t)):void 0;(u!==n||o!==c)&&(r=(n=u).copy()).on(i,o=c),a.on=r}}function Q2(e,t,n){var r=(e+="")=="transform"?Qw:Vm;return t==null?this.styleTween(e,V2(e,r)).on("end.style."+e,Bm(e)):typeof t=="function"?this.styleTween(e,U2(e,r,Ec(this,"style."+e,t))).each(W2(this._id,e)):this.styleTween(e,B2(e,r,t),n).on("end.style."+e,null)}function q2(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function K2(e,t,n){var r,o;function s(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&q2(e,i,n)),r}return s._value=t,s}function Y2(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,K2(e,t,n??""))}function X2(e){return function(){this.textContent=e}}function G2(e){return function(){var t=e(this);this.textContent=t??""}}function Z2(e){return this.tween("text",typeof e=="function"?G2(Ec(this,"text",e)):X2(e==null?"":e+""))}function J2(e){return function(t){this.textContent=e.call(this,t)}}function eN(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&J2(o)),t}return r._value=e,r}function tN(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,eN(e))}function nN(){for(var e=this._name,t=this._id,n=Um(),r=this._groups,o=r.length,s=0;s<o;++s)for(var i=r[s],l=i.length,a,u=0;u<l;++u)if(a=i[u]){var c=It(a,t);al(a,e,n,u,i,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Jt(r,this._parents,e,n)}function rN(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(s,i){var l={value:i},a={value:function(){--o===0&&s()}};n.each(function(){var u=Rt(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&s()})}var oN=0;function Jt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Um(){return++oN}var Ft=ps.prototype;Jt.prototype={constructor:Jt,select:O2,selectAll:L2,selectChild:Ft.selectChild,selectChildren:Ft.selectChildren,filter:j2,merge:$2,selection:H2,transition:nN,call:Ft.call,nodes:Ft.nodes,node:Ft.node,size:Ft.size,empty:Ft.empty,each:Ft.each,on:z2,attr:m2,attrTween:w2,style:Q2,styleTween:Y2,text:Z2,textTween:tN,remove:D2,tween:a2,delay:E2,duration:C2,ease:I2,easeVarying:T2,end:rN,[Symbol.iterator]:Ft[Symbol.iterator]};function sN(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var iN={time:null,delay:0,duration:250,ease:sN};function lN(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function aN(e){var t,n;e instanceof Jt?(t=e._id,e=e._name):(t=Um(),(n=iN).time=Nc(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var i=r[s],l=i.length,a,u=0;u<l;++u)(a=i[u])&&al(a,e,t,u,i,n||lN(a,t));return new Jt(r,this._parents,e,t)}ps.prototype.interrupt=s2;ps.prototype.transition=aN;const Ls=e=>()=>e;function uN(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Wt(e,t,n){this.k=e,this.x=t,this.y=n}Wt.prototype={constructor:Wt,scale:function(e){return e===1?this:new Wt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Wt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Kt=new Wt(1,0,0);Wt.prototype;function Gl(e){e.stopImmediatePropagation()}function mo(e){e.preventDefault(),e.stopImmediatePropagation()}function cN(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function dN(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function gf(){return this.__zoom||Kt}function fN(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function hN(){return navigator.maxTouchPoints||"ontouchstart"in this}function pN(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function Wm(){var e=cN,t=dN,n=pN,r=fN,o=hN,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Gw,u=sl("start","zoom","end"),c,d,f,g=500,w=150,N=0,_=10;function h(y){y.property("__zoom",gf).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",O).filter(o).on("touchstart.zoom",H).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}h.transform=function(y,T,k,A){var b=y.selection?y.selection():y;b.property("__zoom",gf),y!==b?S(y,T,k,A):b.interrupt().each(function(){C(this,arguments).event(A).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},h.scaleBy=function(y,T,k,A){h.scaleTo(y,function(){var b=this.__zoom.k,E=typeof T=="function"?T.apply(this,arguments):T;return b*E},k,A)},h.scaleTo=function(y,T,k,A){h.transform(y,function(){var b=t.apply(this,arguments),E=this.__zoom,M=k==null?v(b):typeof k=="function"?k.apply(this,arguments):k,z=E.invert(M),$=typeof T=="function"?T.apply(this,arguments):T;return n(x(m(E,$),M,z),b,i)},k,A)},h.translateBy=function(y,T,k,A){h.transform(y,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof k=="function"?k.apply(this,arguments):k),t.apply(this,arguments),i)},null,A)},h.translateTo=function(y,T,k,A,b){h.transform(y,function(){var E=t.apply(this,arguments),M=this.__zoom,z=A==null?v(E):typeof A=="function"?A.apply(this,arguments):A;return n(Kt.translate(z[0],z[1]).scale(M.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof k=="function"?-k.apply(this,arguments):-k),E,i)},A,b)};function m(y,T){return T=Math.max(s[0],Math.min(s[1],T)),T===y.k?y:new Wt(T,y.x,y.y)}function x(y,T,k){var A=T[0]-k[0]*y.k,b=T[1]-k[1]*y.k;return A===y.x&&b===y.y?y:new Wt(y.k,A,b)}function v(y){return[(+y[0][0]+ +y[1][0])/2,(+y[0][1]+ +y[1][1])/2]}function S(y,T,k,A){y.on("start.zoom",function(){C(this,arguments).event(A).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(A).end()}).tween("zoom",function(){var b=this,E=arguments,M=C(b,E).event(A),z=t.apply(b,E),$=k==null?v(z):typeof k=="function"?k.apply(b,E):k,V=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),B=b.__zoom,W=typeof T=="function"?T.apply(b,E):T,Q=a(B.invert($).concat(V/B.k),W.invert($).concat(V/W.k));return function(G){if(G===1)G=W;else{var J=Q(G),K=V/J[2];G=new Wt(K,$[0]-J[0]*K,$[1]-J[1]*K)}M.zoom(null,G)}})}function C(y,T,k){return!k&&y.__zooming||new I(y,T)}function I(y,T){this.that=y,this.args=T,this.active=0,this.sourceEvent=null,this.extent=t.apply(y,T),this.taps=0}I.prototype={event:function(y){return y&&(this.sourceEvent=y),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(y,T){return this.mouse&&y!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&y!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&y!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(y){var T=ut(this.that).datum();u.call(y,this.that,new uN(y,{sourceEvent:this.sourceEvent,target:h,transform:this.that.__zoom,dispatch:u}),T)}};function j(y,...T){if(!e.apply(this,arguments))return;var k=C(this,T).event(y),A=this.__zoom,b=Math.max(s[0],Math.min(s[1],A.k*Math.pow(2,r.apply(this,arguments)))),E=wt(y);if(k.wheel)(k.mouse[0][0]!==E[0]||k.mouse[0][1]!==E[1])&&(k.mouse[1]=A.invert(k.mouse[0]=E)),clearTimeout(k.wheel);else{if(A.k===b)return;k.mouse=[E,A.invert(E)],si(this),k.start()}mo(y),k.wheel=setTimeout(M,w),k.zoom("mouse",n(x(m(A,b),k.mouse[0],k.mouse[1]),k.extent,i));function M(){k.wheel=null,k.end()}}function P(y,...T){if(f||!e.apply(this,arguments))return;var k=y.currentTarget,A=C(this,T,!0).event(y),b=ut(y.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",V,!0),E=wt(y,k),M=y.clientX,z=y.clientY;Tm(y.view),Gl(y),A.mouse=[E,this.__zoom.invert(E)],si(this),A.start();function $(B){if(mo(B),!A.moved){var W=B.clientX-M,Q=B.clientY-z;A.moved=W*W+Q*Q>N}A.event(B).zoom("mouse",n(x(A.that.__zoom,A.mouse[0]=wt(B,k),A.mouse[1]),A.extent,i))}function V(B){b.on("mousemove.zoom mouseup.zoom",null),jm(B.view,A.moved),mo(B),A.event(B).end()}}function O(y,...T){if(e.apply(this,arguments)){var k=this.__zoom,A=wt(y.changedTouches?y.changedTouches[0]:y,this),b=k.invert(A),E=k.k*(y.shiftKey?.5:2),M=n(x(m(k,E),A,b),t.apply(this,T),i);mo(y),l>0?ut(this).transition().duration(l).call(S,M,A,y):ut(this).call(h.transform,M,A,y)}}function H(y,...T){if(e.apply(this,arguments)){var k=y.touches,A=k.length,b=C(this,T,y.changedTouches.length===A).event(y),E,M,z,$;for(Gl(y),M=0;M<A;++M)z=k[M],$=wt(z,this),$=[$,this.__zoom.invert($),z.identifier],b.touch0?!b.touch1&&b.touch0[2]!==$[2]&&(b.touch1=$,b.taps=0):(b.touch0=$,E=!0,b.taps=1+!!c);c&&(c=clearTimeout(c)),E&&(b.taps<2&&(d=$[0],c=setTimeout(function(){c=null},g)),si(this),b.start())}}function D(y,...T){if(this.__zooming){var k=C(this,T).event(y),A=y.changedTouches,b=A.length,E,M,z,$;for(mo(y),E=0;E<b;++E)M=A[E],z=wt(M,this),k.touch0&&k.touch0[2]===M.identifier?k.touch0[0]=z:k.touch1&&k.touch1[2]===M.identifier&&(k.touch1[0]=z);if(M=k.that.__zoom,k.touch1){var V=k.touch0[0],B=k.touch0[1],W=k.touch1[0],Q=k.touch1[1],G=(G=W[0]-V[0])*G+(G=W[1]-V[1])*G,J=(J=Q[0]-B[0])*J+(J=Q[1]-B[1])*J;M=m(M,Math.sqrt(G/J)),z=[(V[0]+W[0])/2,(V[1]+W[1])/2],$=[(B[0]+Q[0])/2,(B[1]+Q[1])/2]}else if(k.touch0)z=k.touch0[0],$=k.touch0[1];else return;k.zoom("touch",n(x(M,z,$),k.extent,i))}}function L(y,...T){if(this.__zooming){var k=C(this,T).event(y),A=y.changedTouches,b=A.length,E,M;for(Gl(y),f&&clearTimeout(f),f=setTimeout(function(){f=null},g),E=0;E<b;++E)M=A[E],k.touch0&&k.touch0[2]===M.identifier?delete k.touch0:k.touch1&&k.touch1[2]===M.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(M=wt(M,this),Math.hypot(d[0]-M[0],d[1]-M[1])<_)){var z=ut(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return h.wheelDelta=function(y){return arguments.length?(r=typeof y=="function"?y:Ls(+y),h):r},h.filter=function(y){return arguments.length?(e=typeof y=="function"?y:Ls(!!y),h):e},h.touchable=function(y){return arguments.length?(o=typeof y=="function"?y:Ls(!!y),h):o},h.extent=function(y){return arguments.length?(t=typeof y=="function"?y:Ls([[+y[0][0],+y[0][1]],[+y[1][0],+y[1][1]]]),h):t},h.scaleExtent=function(y){return arguments.length?(s[0]=+y[0],s[1]=+y[1],h):[s[0],s[1]]},h.translateExtent=function(y){return arguments.length?(i[0][0]=+y[0][0],i[1][0]=+y[1][0],i[0][1]=+y[0][1],i[1][1]=+y[1][1],h):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},h.constrain=function(y){return arguments.length?(n=y,h):n},h.duration=function(y){return arguments.length?(l=+y,h):l},h.interpolate=function(y){return arguments.length?(a=y,h):a},h.on=function(){var y=u.on.apply(u,arguments);return y===u?h:y},h.clickDistance=function(y){return arguments.length?(N=(y=+y)*y,h):Math.sqrt(N)},h.tapDistance=function(y){return arguments.length?(_=+y,h):_},h}const ul=R.createContext(null),mN=ul.Provider,en={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Qm=en.error001();function le(e,t){const n=R.useContext(ul);if(n===null)throw new Error(Qm);return ym(n,e,t)}const Ce=()=>{const e=R.useContext(ul);if(e===null)throw new Error(Qm);return R.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},gN=e=>e.userSelectionActive?"none":"all";function cl({position:e,children:t,className:n,style:r,...o}){const s=le(gN),i=`${e}`.split("-");return F.createElement("div",{className:Me(["react-flow__panel",n,...i]),style:{...r,pointerEvents:s},...o},t)}function yN({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:F.createElement(cl,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},F.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const xN=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:s={},labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...c})=>{const d=R.useRef(null),[f,g]=R.useState({x:0,y:0,width:0,height:0}),w=Me(["react-flow__edge-textwrapper",u]);return R.useEffect(()=>{if(d.current){const N=d.current.getBBox();g({x:N.x,y:N.y,width:N.width,height:N.height})}},[n]),typeof n>"u"||!n?null:F.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:w,visibility:f.width?"visible":"hidden",...c},o&&F.createElement("rect",{width:f.width+2*i[0],x:-i[0],y:-i[1],height:f.height+2*i[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),F.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:d,style:r},n),a)};var vN=R.memo(xN);const kc=e=>({width:e.offsetWidth,height:e.offsetHeight}),Yr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),_c=(e={x:0,y:0},t)=>({x:Yr(e.x,t[0][0],t[1][0]),y:Yr(e.y,t[0][1],t[1][1])}),yf=(e,t,n)=>e<t?Yr(Math.abs(e-t),1,50)/50:e>n?-Yr(Math.abs(e-n),1,50)/50:0,qm=(e,t)=>{const n=yf(e.x,35,t.width-35)*20,r=yf(e.y,35,t.height-35)*20;return[n,r]},Km=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Ym=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),os=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Xm=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),xf=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),wN=(e,t)=>Xm(Ym(os(e),os(t))),uu=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},NN=e=>dt(e.width)&&dt(e.height)&&dt(e.x)&&dt(e.y),dt=e=>!isNaN(e)&&isFinite(e),ye=Symbol.for("internals"),Gm=["Enter"," ","Escape"],SN=(e,t)=>{},EN=e=>"nativeEvent"in e;function cu(e){var o,s;const t=EN(e)?e.nativeEvent:e,n=((s=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Zm=e=>"clientX"in e,Sn=(e,t)=>{var s,i;const n=Zm(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,o=n?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Ri=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},gs=({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:g=20})=>F.createElement(F.Fragment,null,F.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:f}),g&&F.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),o&&dt(n)&&dt(r)?F.createElement(vN,{x:n,y:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u}):null);gs.displayName="BaseEdge";function go(e,t,n){return n===void 0?n:r=>{const o=t().edges.find(s=>s.id===e);o&&n(r,{...o})}}function Jm({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,s=n<e?n+o:n-o,i=Math.abs(r-t)/2,l=r<t?r+i:r-i;return[s,l,o,i]}function eg({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:s,targetControlX:i,targetControlY:l}){const a=e*.125+o*.375+i*.375+n*.125,u=t*.125+s*.375+l*.375+r*.125,c=Math.abs(a-e),d=Math.abs(u-t);return[a,u,c,d]}var Cn;(function(e){e.Strict="strict",e.Loose="loose"})(Cn||(Cn={}));var Wn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Wn||(Wn={}));var ss;(function(e){e.Partial="partial",e.Full="full"})(ss||(ss={}));var dn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(dn||(dn={}));var Di;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Di||(Di={}));var Y;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Y||(Y={}));function vf({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Y.Left||e===Y.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function tg({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:s=Y.Top}){const[i,l]=vf({pos:n,x1:e,y1:t,x2:r,y2:o}),[a,u]=vf({pos:s,x1:r,y1:o,x2:e,y2:t}),[c,d,f,g]=eg({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:i,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${i},${l} ${a},${u} ${r},${o}`,c,d,f,g]}const Cc=R.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=Y.Bottom,targetPosition:s=Y.Top,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:g,markerStart:w,interactionWidth:N})=>{const[_,h,m]=tg({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:s});return F.createElement(gs,{path:_,labelX:h,labelY:m,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:g,markerStart:w,interactionWidth:N})});Cc.displayName="SimpleBezierEdge";const wf={[Y.Left]:{x:-1,y:0},[Y.Right]:{x:1,y:0},[Y.Top]:{x:0,y:-1},[Y.Bottom]:{x:0,y:1}},kN=({source:e,sourcePosition:t=Y.Bottom,target:n})=>t===Y.Left||t===Y.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Nf=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function _N({source:e,sourcePosition:t=Y.Bottom,target:n,targetPosition:r=Y.Top,center:o,offset:s}){const i=wf[t],l=wf[r],a={x:e.x+i.x*s,y:e.y+i.y*s},u={x:n.x+l.x*s,y:n.y+l.y*s},c=kN({source:a,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",f=c[d];let g=[],w,N;const _={x:0,y:0},h={x:0,y:0},[m,x,v,S]=Jm({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[d]*l[d]===-1){w=o.x??m,N=o.y??x;const I=[{x:w,y:a.y},{x:w,y:u.y}],j=[{x:a.x,y:N},{x:u.x,y:N}];i[d]===f?g=d==="x"?I:j:g=d==="x"?j:I}else{const I=[{x:a.x,y:u.y}],j=[{x:u.x,y:a.y}];if(d==="x"?g=i.x===f?j:I:g=i.y===f?I:j,t===r){const L=Math.abs(e[d]-n[d]);if(L<=s){const y=Math.min(s-1,s-L);i[d]===f?_[d]=(a[d]>e[d]?-1:1)*y:h[d]=(u[d]>n[d]?-1:1)*y}}if(t!==r){const L=d==="x"?"y":"x",y=i[d]===l[L],T=a[L]>u[L],k=a[L]<u[L];(i[d]===1&&(!y&&T||y&&k)||i[d]!==1&&(!y&&k||y&&T))&&(g=d==="x"?I:j)}const P={x:a.x+_.x,y:a.y+_.y},O={x:u.x+h.x,y:u.y+h.y},H=Math.max(Math.abs(P.x-g[0].x),Math.abs(O.x-g[0].x)),D=Math.max(Math.abs(P.y-g[0].y),Math.abs(O.y-g[0].y));H>=D?(w=(P.x+O.x)/2,N=g[0].y):(w=g[0].x,N=(P.y+O.y)/2)}return[[e,{x:a.x+_.x,y:a.y+_.y},...g,{x:u.x+h.x,y:u.y+h.y},n],w,N,v,S]}function CN(e,t,n,r){const o=Math.min(Nf(e,t)/2,Nf(t,n)/2,r),{x:s,y:i}=t;if(e.x===s&&s===n.x||e.y===i&&i===n.y)return`L${s} ${i}`;if(e.y===i){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${s+o*u},${i}Q ${s},${i} ${s},${i+o*c}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${s},${i+o*a}Q ${s},${i} ${s+o*l},${i}`}function du({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:s=Y.Top,borderRadius:i=5,centerX:l,centerY:a,offset:u=20}){const[c,d,f,g,w]=_N({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:s,center:{x:l,y:a},offset:u});return[c.reduce((_,h,m)=>{let x="";return m>0&&m<c.length-1?x=CN(c[m-1],h,c[m+1],i):x=`${m===0?"M":"L"}${h.x} ${h.y}`,_+=x,_},""),d,f,g,w]}const dl=R.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,sourcePosition:d=Y.Bottom,targetPosition:f=Y.Top,markerEnd:g,markerStart:w,pathOptions:N,interactionWidth:_})=>{const[h,m,x]=du({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:f,borderRadius:N==null?void 0:N.borderRadius,offset:N==null?void 0:N.offset});return F.createElement(gs,{path:h,labelX:m,labelY:x,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:g,markerStart:w,interactionWidth:_})});dl.displayName="SmoothStepEdge";const bc=R.memo(e=>{var t;return F.createElement(dl,{...e,pathOptions:R.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});bc.displayName="StepEdge";function bN({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,s,i,l]=Jm({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,s,i,l]}const Ic=R.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:g})=>{const[w,N,_]=bN({sourceX:e,sourceY:t,targetX:n,targetY:r});return F.createElement(gs,{path:w,labelX:N,labelY:_,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:g})});Ic.displayName="StraightEdge";function Fs(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Sf({pos:e,x1:t,y1:n,x2:r,y2:o,c:s}){switch(e){case Y.Left:return[t-Fs(t-r,s),n];case Y.Right:return[t+Fs(r-t,s),n];case Y.Top:return[t,n-Fs(n-o,s)];case Y.Bottom:return[t,n+Fs(o-n,s)]}}function ng({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:s=Y.Top,curvature:i=.25}){const[l,a]=Sf({pos:n,x1:e,y1:t,x2:r,y2:o,c:i}),[u,c]=Sf({pos:s,x1:r,y1:o,x2:e,y2:t,c:i}),[d,f,g,w]=eg({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${l},${a} ${u},${c} ${r},${o}`,d,f,g,w]}const Oi=R.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=Y.Bottom,targetPosition:s=Y.Top,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:g,markerStart:w,pathOptions:N,interactionWidth:_})=>{const[h,m,x]=ng({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:s,curvature:N==null?void 0:N.curvature});return F.createElement(gs,{path:h,labelX:m,labelY:x,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:g,markerStart:w,interactionWidth:_})});Oi.displayName="BezierEdge";const Pc=R.createContext(null),IN=Pc.Provider;Pc.Consumer;const PN=()=>R.useContext(Pc),TN=e=>"id"in e&&"source"in e&&"target"in e,jN=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,fu=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,$N=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),MN=(e,t)=>{if(!e.source||!e.target)return t;let n;return TN(e)?n={...e}:n={...e,id:jN(e)},$N(n,t)?t:t.concat(n)},hu=({x:e,y:t},[n,r,o],s,[i,l])=>{const a={x:(e-n)/o,y:(t-r)/o};return s?{x:i*Math.round(a.x/i),y:l*Math.round(a.y/l)}:a},rg=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),Yn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},fl=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const{x:s,y:i}=Yn(o,t).positionAbsolute;return Ym(r,os({x:s,y:i,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Xm(n)},og=(e,t,[n,r,o]=[0,0,1],s=!1,i=!1,l=[0,0])=>{const a={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},u=[];return e.forEach(c=>{const{width:d,height:f,selectable:g=!0,hidden:w=!1}=c;if(i&&!g||w)return!1;const{positionAbsolute:N}=Yn(c,l),_={x:N.x,y:N.y,width:d||0,height:f||0},h=uu(a,_),m=typeof d>"u"||typeof f>"u"||d===null||f===null,x=s&&h>0,v=(d||0)*(f||0);(m||x||h>=v||c.dragging)&&u.push(c)}),u},sg=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},ig=(e,t,n,r,o,s=.1)=>{const i=t/(e.width*(1+s)),l=n/(e.height*(1+s)),a=Math.min(i,l),u=Yr(a,r,o),c=e.x+e.width/2,d=e.y+e.height/2,f=t/2-c*u,g=n/2-d*u;return{x:f,y:g,zoom:u}},On=(e,t=0)=>e.transition().duration(t);function Ef(e,t,n,r){return(t[n]||[]).reduce((o,s)=>{var i,l;return`${e.id}-${s.id}-${n}`!==r&&o.push({id:s.id||null,type:n,nodeId:e.id,x:(((i=e.positionAbsolute)==null?void 0:i.x)??0)+s.x+s.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+s.y+s.height/2}),o},[])}function AN(e,t,n,r,o,s){const{x:i,y:l}=Sn(e),u=t.elementsFromPoint(i,l).find(w=>w.classList.contains("react-flow__handle"));if(u){const w=u.getAttribute("data-nodeid");if(w){const N=Tc(void 0,u),_=u.getAttribute("data-handleid"),h=s({nodeId:w,id:_,type:N});if(h){const m=o.find(x=>x.nodeId===w&&x.type===N&&x.id===_);return{handle:{id:_,type:N,nodeId:w,x:(m==null?void 0:m.x)||n.x,y:(m==null?void 0:m.y)||n.y},validHandleResult:h}}}}let c=[],d=1/0;if(o.forEach(w=>{const N=Math.sqrt((w.x-n.x)**2+(w.y-n.y)**2);if(N<=r){const _=s(w);N<=d&&(N<d?c=[{handle:w,validHandleResult:_}]:N===d&&c.push({handle:w,validHandleResult:_}),d=N)}}),!c.length)return{handle:null,validHandleResult:lg()};if(c.length===1)return c[0];const f=c.some(({validHandleResult:w})=>w.isValid),g=c.some(({handle:w})=>w.type==="target");return c.find(({handle:w,validHandleResult:N})=>g?w.type==="target":f?N.isValid:!0)||c[0]}const zN={source:null,target:null,sourceHandle:null,targetHandle:null},lg=()=>({handleDomNode:null,isValid:!1,connection:zN,endHandle:null});function ag(e,t,n,r,o,s,i){const l=o==="target",a=i.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...lg(),handleDomNode:a};if(a){const c=Tc(void 0,a),d=a.getAttribute("data-nodeid"),f=a.getAttribute("data-handleid"),g=a.classList.contains("connectable"),w=a.classList.contains("connectableend"),N={source:l?d:n,sourceHandle:l?f:r,target:l?n:d,targetHandle:l?r:f};u.connection=N,g&&w&&(t===Cn.Strict?l&&c==="source"||!l&&c==="target":d!==n||f!==r)&&(u.endHandle={nodeId:d,handleId:f,type:c},u.isValid=s(N))}return u}function RN({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((o,s)=>{if(s[ye]){const{handleBounds:i}=s[ye];let l=[],a=[];i&&(l=Ef(s,i,"source",`${t}-${n}-${r}`),a=Ef(s,i,"target",`${t}-${n}-${r}`)),o.push(...l,...a)}return o},[])}function Tc(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Zl(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function DN(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function ug({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:s,setState:i,isValidConnection:l,edgeUpdaterType:a,onReconnectEnd:u}){const c=Km(e.target),{connectionMode:d,domNode:f,autoPanOnConnect:g,connectionRadius:w,onConnectStart:N,panBy:_,getNodes:h,cancelConnection:m}=s();let x=0,v;const{x:S,y:C}=Sn(e),I=c==null?void 0:c.elementFromPoint(S,C),j=Tc(a,I),P=f==null?void 0:f.getBoundingClientRect();if(!P||!j)return;let O,H=Sn(e,P),D=!1,L=null,y=!1,T=null;const k=RN({nodes:h(),nodeId:n,handleId:t,handleType:j}),A=()=>{if(!g)return;const[M,z]=qm(H,P);_({x:M,y:z}),x=requestAnimationFrame(A)};i({connectionPosition:H,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:j,connectionStartHandle:{nodeId:n,handleId:t,type:j},connectionEndHandle:null}),N==null||N(e,{nodeId:n,handleId:t,handleType:j});function b(M){const{transform:z}=s();H=Sn(M,P);const{handle:$,validHandleResult:V}=AN(M,c,hu(H,z,!1,[1,1]),w,k,B=>ag(B,d,n,t,o?"target":"source",l,c));if(v=$,D||(A(),D=!0),T=V.handleDomNode,L=V.connection,y=V.isValid,i({connectionPosition:v&&y?rg({x:v.x,y:v.y},z):H,connectionStatus:DN(!!v,y),connectionEndHandle:V.endHandle}),!v&&!y&&!T)return Zl(O);L.source!==L.target&&T&&(Zl(O),O=T,T.classList.add("connecting","react-flow__handle-connecting"),T.classList.toggle("valid",y),T.classList.toggle("react-flow__handle-valid",y))}function E(M){var z,$;(v||T)&&L&&y&&(r==null||r(L)),($=(z=s()).onConnectEnd)==null||$.call(z,M),a&&(u==null||u(M)),Zl(O),m(),cancelAnimationFrame(x),D=!1,y=!1,L=null,T=null,c.removeEventListener("mousemove",b),c.removeEventListener("mouseup",E),c.removeEventListener("touchmove",b),c.removeEventListener("touchend",E)}c.addEventListener("mousemove",b),c.addEventListener("mouseup",E),c.addEventListener("touchmove",b),c.addEventListener("touchend",E)}const kf=()=>!0,ON=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),LN=(e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:s,connectionClickStartHandle:i}=r;return{connecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n}},cg=R.forwardRef(({type:e="source",position:t=Y.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:s=!0,id:i,onConnect:l,children:a,className:u,onMouseDown:c,onTouchStart:d,...f},g)=>{var P,O;const w=i||null,N=e==="target",_=Ce(),h=PN(),{connectOnClick:m,noPanClassName:x}=le(ON,Pe),{connecting:v,clickConnecting:S}=le(LN(h,w,e),Pe);h||(O=(P=_.getState()).onError)==null||O.call(P,"010",en.error010());const C=H=>{const{defaultEdgeOptions:D,onConnect:L,hasDefaultEdges:y}=_.getState(),T={...D,...H};if(y){const{edges:k,setEdges:A}=_.getState();A(MN(T,k))}L==null||L(T),l==null||l(T)},I=H=>{if(!h)return;const D=Zm(H);o&&(D&&H.button===0||!D)&&ug({event:H,handleId:w,nodeId:h,onConnect:C,isTarget:N,getState:_.getState,setState:_.setState,isValidConnection:n||_.getState().isValidConnection||kf}),D?c==null||c(H):d==null||d(H)},j=H=>{const{onClickConnectStart:D,onClickConnectEnd:L,connectionClickStartHandle:y,connectionMode:T,isValidConnection:k}=_.getState();if(!h||!y&&!o)return;if(!y){D==null||D(H,{nodeId:h,handleId:w,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:h,type:e,handleId:w}});return}const A=Km(H.target),b=n||k||kf,{connection:E,isValid:M}=ag({nodeId:h,id:w,type:e},T,y.nodeId,y.handleId||null,y.type,b,A);M&&C(E),L==null||L(H),_.setState({connectionClickStartHandle:null})};return F.createElement("div",{"data-handleid":w,"data-nodeid":h,"data-handlepos":t,"data-id":`${h}-${w}-${e}`,className:Me(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",x,u,{source:!N,target:N,connectable:r,connectablestart:o,connectableend:s,connecting:S,connectionindicator:r&&(o&&!v||s&&v)}]),onMouseDown:I,onTouchStart:I,onClick:m?j:void 0,ref:g,...f},a)});cg.displayName="Handle";var kt=R.memo(cg);const dg=({data:e,isConnectable:t,targetPosition:n=Y.Top,sourcePosition:r=Y.Bottom})=>F.createElement(F.Fragment,null,F.createElement(kt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,F.createElement(kt,{type:"source",position:r,isConnectable:t}));dg.displayName="DefaultNode";var pu=R.memo(dg);const fg=({data:e,isConnectable:t,sourcePosition:n=Y.Bottom})=>F.createElement(F.Fragment,null,e==null?void 0:e.label,F.createElement(kt,{type:"source",position:n,isConnectable:t}));fg.displayName="InputNode";var hg=R.memo(fg);const pg=({data:e,isConnectable:t,targetPosition:n=Y.Top})=>F.createElement(F.Fragment,null,F.createElement(kt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);pg.displayName="OutputNode";var mg=R.memo(pg);const jc=()=>null;jc.displayName="GroupNode";const FN=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Hs=e=>e.id;function HN(e,t){return Pe(e.selectedNodes.map(Hs),t.selectedNodes.map(Hs))&&Pe(e.selectedEdges.map(Hs),t.selectedEdges.map(Hs))}const gg=R.memo(({onSelectionChange:e})=>{const t=Ce(),{selectedNodes:n,selectedEdges:r}=le(FN,HN);return R.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChange.forEach(s=>s(o))},[n,r,e]),null});gg.displayName="SelectionListener";const VN=e=>!!e.onSelectionChange;function BN({onSelectionChange:e}){const t=le(VN);return e||t?F.createElement(gg,{onSelectionChange:e}):null}const UN=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function fr(e,t){R.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function ee(e,t,n){R.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const WN=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:s,onConnectEnd:i,onClickConnectStart:l,onClickConnectEnd:a,nodesDraggable:u,nodesConnectable:c,nodesFocusable:d,edgesFocusable:f,edgesUpdatable:g,elevateNodesOnSelect:w,minZoom:N,maxZoom:_,nodeExtent:h,onNodesChange:m,onEdgesChange:x,elementsSelectable:v,connectionMode:S,snapGrid:C,snapToGrid:I,translateExtent:j,connectOnClick:P,defaultEdgeOptions:O,fitView:H,fitViewOptions:D,onNodesDelete:L,onEdgesDelete:y,onNodeDrag:T,onNodeDragStart:k,onNodeDragStop:A,onSelectionDrag:b,onSelectionDragStart:E,onSelectionDragStop:M,noPanClassName:z,nodeOrigin:$,rfId:V,autoPanOnConnect:B,autoPanOnNodeDrag:W,onError:Q,connectionRadius:G,isValidConnection:J,nodeDragThreshold:K})=>{const{setNodes:Z,setEdges:re,setDefaultNodesAndEdges:me,setMinZoom:ve,setMaxZoom:Ne,setTranslateExtent:ae,setNodeExtent:Le,reset:oe}=le(UN,Pe),X=Ce();return R.useEffect(()=>{const Fe=r==null?void 0:r.map(Dt=>({...Dt,...O}));return me(n,Fe),()=>{oe()}},[]),ee("defaultEdgeOptions",O,X.setState),ee("connectionMode",S,X.setState),ee("onConnect",o,X.setState),ee("onConnectStart",s,X.setState),ee("onConnectEnd",i,X.setState),ee("onClickConnectStart",l,X.setState),ee("onClickConnectEnd",a,X.setState),ee("nodesDraggable",u,X.setState),ee("nodesConnectable",c,X.setState),ee("nodesFocusable",d,X.setState),ee("edgesFocusable",f,X.setState),ee("edgesUpdatable",g,X.setState),ee("elementsSelectable",v,X.setState),ee("elevateNodesOnSelect",w,X.setState),ee("snapToGrid",I,X.setState),ee("snapGrid",C,X.setState),ee("onNodesChange",m,X.setState),ee("onEdgesChange",x,X.setState),ee("connectOnClick",P,X.setState),ee("fitViewOnInit",H,X.setState),ee("fitViewOnInitOptions",D,X.setState),ee("onNodesDelete",L,X.setState),ee("onEdgesDelete",y,X.setState),ee("onNodeDrag",T,X.setState),ee("onNodeDragStart",k,X.setState),ee("onNodeDragStop",A,X.setState),ee("onSelectionDrag",b,X.setState),ee("onSelectionDragStart",E,X.setState),ee("onSelectionDragStop",M,X.setState),ee("noPanClassName",z,X.setState),ee("nodeOrigin",$,X.setState),ee("rfId",V,X.setState),ee("autoPanOnConnect",B,X.setState),ee("autoPanOnNodeDrag",W,X.setState),ee("onError",Q,X.setState),ee("connectionRadius",G,X.setState),ee("isValidConnection",J,X.setState),ee("nodeDragThreshold",K,X.setState),fr(e,Z),fr(t,re),fr(N,ve),fr(_,Ne),fr(j,ae),fr(h,Le),null},_f={display:"none"},QN={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},yg="react-flow__node-desc",xg="react-flow__edge-desc",qN="react-flow__aria-live",KN=e=>e.ariaLiveMessage;function YN({rfId:e}){const t=le(KN);return F.createElement("div",{id:`${qN}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:QN},t)}function XN({rfId:e,disableKeyboardA11y:t}){return F.createElement(F.Fragment,null,F.createElement("div",{id:`${yg}-${e}`,style:_f},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),F.createElement("div",{id:`${xg}-${e}`,style:_f},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&F.createElement(YN,{rfId:e}))}var is=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=R.useState(!1),o=R.useRef(!1),s=R.useRef(new Set([])),[i,l]=R.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),c=u.reduce((d,f)=>d.concat(...f),[]);return[u,c]}return[[],[]]},[e]);return R.useEffect(()=>{const a=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||a;if(e!==null){const c=g=>{if(o.current=g.ctrlKey||g.metaKey||g.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&cu(g))return!1;const N=bf(g.code,l);s.current.add(g[N]),Cf(i,s.current,!1)&&(g.preventDefault(),r(!0))},d=g=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&cu(g))return!1;const N=bf(g.code,l);Cf(i,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(g[N]),g.key==="Meta"&&s.current.clear(),o.current=!1},f=()=>{s.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",f)}}},[e,r]),n};function Cf(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function bf(e,t){return t.includes(e)?"code":"key"}function vg(e,t,n,r){var l,a;const o=e.parentNode||e.parentId;if(!o)return n;const s=t.get(o),i=Yn(s,r);return vg(s,t,{x:(n.x??0)+i.x,y:(n.y??0)+i.y,z:(((l=s[ye])==null?void 0:l.z)??0)>(n.z??0)?((a=s[ye])==null?void 0:a.z)??0:n.z??0},r)}function wg(e,t,n){e.forEach(r=>{var s;const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n!=null&&n[r.id]){const{x:i,y:l,z:a}=vg(r,e,{...r.position,z:((s=r[ye])==null?void 0:s.z)??0},t);r.positionAbsolute={x:i,y:l},r[ye].z=a,n!=null&&n[r.id]&&(r[ye].isParent=!0)}})}function Jl(e,t,n,r){const o=new Map,s={},i=r?1e3:0;return e.forEach(l=>{var g;const a=(dt(l.zIndex)?l.zIndex:0)+(l.selected?i:0),u=t.get(l.id),c={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},d=l.parentNode||l.parentId;d&&(s[d]=!0);const f=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(c,ye,{enumerable:!1,value:{handleBounds:f||(g=u==null?void 0:u[ye])==null?void 0:g.handleBounds,z:a}}),o.set(l.id,c)}),wg(o,n,s),o}function Ng(e,t={}){const{getNodes:n,width:r,height:o,minZoom:s,maxZoom:i,d3Zoom:l,d3Selection:a,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=e(),f=t.initial&&!u&&c;if(l&&a&&(f||!t.initial)){const w=n().filter(_=>{var m;const h=t.includeHiddenNodes?_.width&&_.height:!_.hidden;return(m=t.nodes)!=null&&m.length?h&&t.nodes.some(x=>x.id===_.id):h}),N=w.every(_=>_.width&&_.height);if(w.length>0&&N){const _=fl(w,d),{x:h,y:m,zoom:x}=ig(_,r,o,t.minZoom??s,t.maxZoom??i,t.padding??.1),v=Kt.translate(h,m).scale(x);return typeof t.duration=="number"&&t.duration>0?l.transform(On(a,t.duration),v):l.transform(a,v),!0}}return!1}function GN(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[ye]:r[ye],selected:n.selected})}),new Map(t)}function ZN(e,t){return t.map(n=>{const r=e.find(o=>o.id===n.id);return r&&(n.selected=r.selected),n})}function Vs({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:s,onNodesChange:i,onEdgesChange:l,hasDefaultNodes:a,hasDefaultEdges:u}=n();e!=null&&e.length&&(a&&r({nodeInternals:GN(e,o)}),i==null||i(e)),t!=null&&t.length&&(u&&r({edges:ZN(t,s)}),l==null||l(t))}const hr=()=>{},JN={zoomIn:hr,zoomOut:hr,zoomTo:hr,getZoom:()=>1,setViewport:hr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:hr,fitBounds:hr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},eS=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),tS=()=>{const e=Ce(),{d3Zoom:t,d3Selection:n}=le(eS,Pe);return R.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(On(n,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(On(n,o==null?void 0:o.duration),1/1.2),zoomTo:(o,s)=>t.scaleTo(On(n,s==null?void 0:s.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,s)=>{const[i,l,a]=e.getState().transform,u=Kt.translate(o.x??i,o.y??l).scale(o.zoom??a);t.transform(On(n,s==null?void 0:s.duration),u)},getViewport:()=>{const[o,s,i]=e.getState().transform;return{x:o,y:s,zoom:i}},fitView:o=>Ng(e.getState,o),setCenter:(o,s,i)=>{const{width:l,height:a,maxZoom:u}=e.getState(),c=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:u,d=l/2-o*c,f=a/2-s*c,g=Kt.translate(d,f).scale(c);t.transform(On(n,i==null?void 0:i.duration),g)},fitBounds:(o,s)=>{const{width:i,height:l,minZoom:a,maxZoom:u}=e.getState(),{x:c,y:d,zoom:f}=ig(o,i,l,a,u,(s==null?void 0:s.padding)??.1),g=Kt.translate(c,d).scale(f);t.transform(On(n,s==null?void 0:s.duration),g)},project:o=>{const{transform:s,snapToGrid:i,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),hu(o,s,i,l)},screenToFlowPosition:o=>{const{transform:s,snapToGrid:i,snapGrid:l,domNode:a}=e.getState();if(!a)return o;const{x:u,y:c}=a.getBoundingClientRect(),d={x:o.x-u,y:o.y-c};return hu(d,s,i,l)},flowToScreenPosition:o=>{const{transform:s,domNode:i}=e.getState();if(!i)return o;const{x:l,y:a}=i.getBoundingClientRect(),u=rg(o,s);return{x:u.x+l,y:u.y+a}},viewportInitialized:!0}:JN,[t,n])};function hl(){const e=tS(),t=Ce(),n=R.useCallback(()=>t.getState().getNodes().map(N=>({...N})),[]),r=R.useCallback(N=>t.getState().nodeInternals.get(N),[]),o=R.useCallback(()=>{const{edges:N=[]}=t.getState();return N.map(_=>({..._}))},[]),s=R.useCallback(N=>{const{edges:_=[]}=t.getState();return _.find(h=>h.id===N)},[]),i=R.useCallback(N=>{const{getNodes:_,setNodes:h,hasDefaultNodes:m,onNodesChange:x}=t.getState(),v=_(),S=typeof N=="function"?N(v):N;if(m)h(S);else if(x){const C=S.length===0?v.map(I=>({type:"remove",id:I.id})):S.map(I=>({item:I,type:"reset"}));x(C)}},[]),l=R.useCallback(N=>{const{edges:_=[],setEdges:h,hasDefaultEdges:m,onEdgesChange:x}=t.getState(),v=typeof N=="function"?N(_):N;if(m)h(v);else if(x){const S=v.length===0?_.map(C=>({type:"remove",id:C.id})):v.map(C=>({item:C,type:"reset"}));x(S)}},[]),a=R.useCallback(N=>{const _=Array.isArray(N)?N:[N],{getNodes:h,setNodes:m,hasDefaultNodes:x,onNodesChange:v}=t.getState();if(x){const C=[...h(),..._];m(C)}else if(v){const S=_.map(C=>({item:C,type:"add"}));v(S)}},[]),u=R.useCallback(N=>{const _=Array.isArray(N)?N:[N],{edges:h=[],setEdges:m,hasDefaultEdges:x,onEdgesChange:v}=t.getState();if(x)m([...h,..._]);else if(v){const S=_.map(C=>({item:C,type:"add"}));v(S)}},[]),c=R.useCallback(()=>{const{getNodes:N,edges:_=[],transform:h}=t.getState(),[m,x,v]=h;return{nodes:N().map(S=>({...S})),edges:_.map(S=>({...S})),viewport:{x:m,y:x,zoom:v}}},[]),d=R.useCallback(({nodes:N,edges:_})=>{const{nodeInternals:h,getNodes:m,edges:x,hasDefaultNodes:v,hasDefaultEdges:S,onNodesDelete:C,onEdgesDelete:I,onNodesChange:j,onEdgesChange:P}=t.getState(),O=(N||[]).map(T=>T.id),H=(_||[]).map(T=>T.id),D=m().reduce((T,k)=>{const A=k.parentNode||k.parentId,b=!O.includes(k.id)&&A&&T.find(M=>M.id===A);return(typeof k.deletable=="boolean"?k.deletable:!0)&&(O.includes(k.id)||b)&&T.push(k),T},[]),L=x.filter(T=>typeof T.deletable=="boolean"?T.deletable:!0),y=L.filter(T=>H.includes(T.id));if(D||y){const T=sg(D,L),k=[...y,...T],A=k.reduce((b,E)=>(b.includes(E.id)||b.push(E.id),b),[]);if((S||v)&&(S&&t.setState({edges:x.filter(b=>!A.includes(b.id))}),v&&(D.forEach(b=>{h.delete(b.id)}),t.setState({nodeInternals:new Map(h)}))),A.length>0&&(I==null||I(k),P&&P(A.map(b=>({id:b,type:"remove"})))),D.length>0&&(C==null||C(D),j)){const b=D.map(E=>({id:E.id,type:"remove"}));j(b)}}},[]),f=R.useCallback(N=>{const _=NN(N),h=_?null:t.getState().nodeInternals.get(N.id);return!_&&!h?[null,null,_]:[_?N:xf(h),h,_]},[]),g=R.useCallback((N,_=!0,h)=>{const[m,x,v]=f(N);return m?(h||t.getState().getNodes()).filter(S=>{if(!v&&(S.id===x.id||!S.positionAbsolute))return!1;const C=xf(S),I=uu(C,m);return _&&I>0||I>=m.width*m.height}):[]},[]),w=R.useCallback((N,_,h=!0)=>{const[m]=f(N);if(!m)return!1;const x=uu(m,_);return h&&x>0||x>=m.width*m.height},[]);return R.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:o,getEdge:s,setNodes:i,setEdges:l,addNodes:a,addEdges:u,toObject:c,deleteElements:d,getIntersectingNodes:g,isNodeIntersecting:w}),[e,n,r,o,s,i,l,a,u,c,d,g,w])}const nS={actInsideInputWithModifier:!1};var rS=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Ce(),{deleteElements:r}=hl(),o=is(e,nS),s=is(t);R.useEffect(()=>{if(o){const{edges:i,getNodes:l}=n.getState(),a=l().filter(c=>c.selected),u=i.filter(c=>c.selected);r({nodes:a,edges:u}),n.setState({nodesSelectionActive:!1})}},[o]),R.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function oS(e){const t=Ce();R.useEffect(()=>{let n;const r=()=>{var s,i;if(!e.current)return;const o=kc(e.current);(o.height===0||o.width===0)&&((i=(s=t.getState()).onError)==null||i.call(s,"004",en.error004())),t.setState({width:o.width||500,height:o.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const $c={position:"absolute",width:"100%",height:"100%",top:0,left:0},sS=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Bs=e=>({x:e.x,y:e.y,zoom:e.k}),pr=(e,t)=>e.target.closest(`.${t}`),If=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Pf=e=>{const t=e.ctrlKey&&Ri()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},iS=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),lS=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:o=!0,zoomOnPinch:s=!0,panOnScroll:i=!1,panOnScrollSpeed:l=.5,panOnScrollMode:a=Wn.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:d=!0,defaultViewport:f,translateExtent:g,minZoom:w,maxZoom:N,zoomActivationKeyCode:_,preventScrolling:h=!0,children:m,noWheelClassName:x,noPanClassName:v})=>{const S=R.useRef(),C=Ce(),I=R.useRef(!1),j=R.useRef(!1),P=R.useRef(null),O=R.useRef({x:0,y:0,zoom:0}),{d3Zoom:H,d3Selection:D,d3ZoomHandler:L,userSelectionActive:y}=le(iS,Pe),T=is(_),k=R.useRef(0),A=R.useRef(!1),b=R.useRef();return oS(P),R.useEffect(()=>{if(P.current){const E=P.current.getBoundingClientRect(),M=Wm().scaleExtent([w,N]).translateExtent(g),z=ut(P.current).call(M),$=Kt.translate(f.x,f.y).scale(Yr(f.zoom,w,N)),V=[[0,0],[E.width,E.height]],B=M.constrain()($,V,g);M.transform(z,B),M.wheelDelta(Pf),C.setState({d3Zoom:M,d3Selection:z,d3ZoomHandler:z.on("wheel.zoom"),transform:[B.x,B.y,B.k],domNode:P.current.closest(".react-flow")})}},[]),R.useEffect(()=>{D&&H&&(i&&!T&&!y?D.on("wheel.zoom",E=>{if(pr(E,x))return!1;E.preventDefault(),E.stopImmediatePropagation();const M=D.property("__zoom").k||1;if(E.ctrlKey&&s){const J=wt(E),K=Pf(E),Z=M*Math.pow(2,K);H.scaleTo(D,Z,J,E);return}const z=E.deltaMode===1?20:1;let $=a===Wn.Vertical?0:E.deltaX*z,V=a===Wn.Horizontal?0:E.deltaY*z;!Ri()&&E.shiftKey&&a!==Wn.Vertical&&($=E.deltaY*z,V=0),H.translateBy(D,-($/M)*l,-(V/M)*l,{internal:!0});const B=Bs(D.property("__zoom")),{onViewportChangeStart:W,onViewportChange:Q,onViewportChangeEnd:G}=C.getState();clearTimeout(b.current),A.current||(A.current=!0,t==null||t(E,B),W==null||W(B)),A.current&&(e==null||e(E,B),Q==null||Q(B),b.current=setTimeout(()=>{n==null||n(E,B),G==null||G(B),A.current=!1},150))},{passive:!1}):typeof L<"u"&&D.on("wheel.zoom",function(E,M){if(!h&&E.type==="wheel"&&!E.ctrlKey||pr(E,x))return null;E.preventDefault(),L.call(this,E,M)},{passive:!1}))},[y,i,a,D,H,L,T,s,h,x,t,e,n]),R.useEffect(()=>{H&&H.on("start",E=>{var $,V;if(!E.sourceEvent||E.sourceEvent.internal)return null;k.current=($=E.sourceEvent)==null?void 0:$.button;const{onViewportChangeStart:M}=C.getState(),z=Bs(E.transform);I.current=!0,O.current=z,((V=E.sourceEvent)==null?void 0:V.type)==="mousedown"&&C.setState({paneDragging:!0}),M==null||M(z),t==null||t(E.sourceEvent,z)})},[H,t]),R.useEffect(()=>{H&&(y&&!I.current?H.on("zoom",null):y||H.on("zoom",E=>{var z;const{onViewportChange:M}=C.getState();if(C.setState({transform:[E.transform.x,E.transform.y,E.transform.k]}),j.current=!!(r&&If(d,k.current??0)),(e||M)&&!((z=E.sourceEvent)!=null&&z.internal)){const $=Bs(E.transform);M==null||M($),e==null||e(E.sourceEvent,$)}}))},[y,H,e,d,r]),R.useEffect(()=>{H&&H.on("end",E=>{if(!E.sourceEvent||E.sourceEvent.internal)return null;const{onViewportChangeEnd:M}=C.getState();if(I.current=!1,C.setState({paneDragging:!1}),r&&If(d,k.current??0)&&!j.current&&r(E.sourceEvent),j.current=!1,(n||M)&&sS(O.current,E.transform)){const z=Bs(E.transform);O.current=z,clearTimeout(S.current),S.current=setTimeout(()=>{M==null||M(z),n==null||n(E.sourceEvent,z)},i?150:0)}})},[H,i,d,n,r]),R.useEffect(()=>{H&&H.filter(E=>{const M=T||o,z=s&&E.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&E.button===1&&E.type==="mousedown"&&(pr(E,"react-flow__node")||pr(E,"react-flow__edge")))return!0;if(!d&&!M&&!i&&!u&&!s||y||!u&&E.type==="dblclick"||pr(E,x)&&E.type==="wheel"||pr(E,v)&&(E.type!=="wheel"||i&&E.type==="wheel"&&!T)||!s&&E.ctrlKey&&E.type==="wheel"||!M&&!i&&!z&&E.type==="wheel"||!d&&(E.type==="mousedown"||E.type==="touchstart")||Array.isArray(d)&&!d.includes(E.button)&&E.type==="mousedown")return!1;const $=Array.isArray(d)&&d.includes(E.button)||!E.button||E.button<=1;return(!E.ctrlKey||E.type==="wheel")&&$})},[y,H,o,s,i,u,d,c,T]),F.createElement("div",{className:"react-flow__renderer",ref:P,style:$c},m)},aS=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function uS(){const{userSelectionActive:e,userSelectionRect:t}=le(aS,Pe);return e&&t?F.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Tf(e,t){const n=t.parentNode||t.parentId,r=e.find(o=>o.id===n);if(r){const o=t.position.x+t.width-r.width,s=t.position.y+t.height-r.height;if(o>0||s>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,o>0&&(r.style.width+=o),s>0&&(r.style.height+=s),t.position.x<0){const i=Math.abs(t.position.x);r.position.x=r.position.x-i,r.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);r.position.y=r.position.y-i,r.style.height+=i,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Sg(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,o)=>{const s=e.filter(l=>l.id===o.id);if(s.length===0)return r.push(o),r;const i={...o};for(const l of s)if(l)switch(l.type){case"select":{i.selected=l.selected;break}case"position":{typeof l.position<"u"&&(i.position=l.position),typeof l.positionAbsolute<"u"&&(i.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(i.dragging=l.dragging),i.expandParent&&Tf(r,i);break}case"dimensions":{typeof l.dimensions<"u"&&(i.width=l.dimensions.width,i.height=l.dimensions.height),typeof l.updateStyle<"u"&&(i.style={...i.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(i.resizing=l.resizing),i.expandParent&&Tf(r,i);break}case"remove":return r}return r.push(i),r},n)}function Eg(e,t){return Sg(e,t)}function cS(e,t){return Sg(e,t)}const an=(e,t)=>({id:e,type:"select",selected:t});function Pr(e,t){return e.reduce((n,r)=>{const o=t.includes(r.id);return!r.selected&&o?(r.selected=!0,n.push(an(r.id,!0))):r.selected&&!o&&(r.selected=!1,n.push(an(r.id,!1))),n},[])}const ea=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},dS=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),kg=R.memo(({isSelecting:e,selectionMode:t=ss.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:o,onPaneClick:s,onPaneContextMenu:i,onPaneScroll:l,onPaneMouseEnter:a,onPaneMouseMove:u,onPaneMouseLeave:c,children:d})=>{const f=R.useRef(null),g=Ce(),w=R.useRef(0),N=R.useRef(0),_=R.useRef(),{userSelectionActive:h,elementsSelectable:m,dragging:x}=le(dS,Pe),v=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),w.current=0,N.current=0},S=L=>{s==null||s(L),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},C=L=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){L.preventDefault();return}i==null||i(L)},I=l?L=>l(L):void 0,j=L=>{const{resetSelectedElements:y,domNode:T}=g.getState();if(_.current=T==null?void 0:T.getBoundingClientRect(),!m||!e||L.button!==0||L.target!==f.current||!_.current)return;const{x:k,y:A}=Sn(L,_.current);y(),g.setState({userSelectionRect:{width:0,height:0,startX:k,startY:A,x:k,y:A}}),r==null||r(L)},P=L=>{const{userSelectionRect:y,nodeInternals:T,edges:k,transform:A,onNodesChange:b,onEdgesChange:E,nodeOrigin:M,getNodes:z}=g.getState();if(!e||!_.current||!y)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});const $=Sn(L,_.current),V=y.startX??0,B=y.startY??0,W={...y,x:$.x<V?$.x:V,y:$.y<B?$.y:B,width:Math.abs($.x-V),height:Math.abs($.y-B)},Q=z(),G=og(T,W,A,t===ss.Partial,!0,M),J=sg(G,k).map(Z=>Z.id),K=G.map(Z=>Z.id);if(w.current!==K.length){w.current=K.length;const Z=Pr(Q,K);Z.length&&(b==null||b(Z))}if(N.current!==J.length){N.current=J.length;const Z=Pr(k,J);Z.length&&(E==null||E(Z))}g.setState({userSelectionRect:W})},O=L=>{if(L.button!==0)return;const{userSelectionRect:y}=g.getState();!h&&y&&L.target===f.current&&(S==null||S(L)),g.setState({nodesSelectionActive:w.current>0}),v(),o==null||o(L)},H=L=>{h&&(g.setState({nodesSelectionActive:w.current>0}),o==null||o(L)),v()},D=m&&(e||h);return F.createElement("div",{className:Me(["react-flow__pane",{dragging:x,selection:e}]),onClick:D?void 0:ea(S,f),onContextMenu:ea(C,f),onWheel:ea(I,f),onMouseEnter:D?void 0:a,onMouseDown:D?j:void 0,onMouseMove:D?P:u,onMouseUp:D?O:void 0,onMouseLeave:D?H:c,ref:f,style:$c},d,F.createElement(uS,null))});kg.displayName="Pane";function _g(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:_g(r,t):!1}function jf(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function fS(e,t,n,r){return Array.from(e.values()).filter(o=>(o.selected||o.id===r)&&(!o.parentNode||o.parentId||!_g(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var s,i;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=o.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((i=o.positionAbsolute)==null?void 0:i.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}})}function hS(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Cg(e,t,n,r,o=[0,0],s){const i=hS(e,e.extent||r);let l=i;const a=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(a&&e.width&&e.height){const d=n.get(a),{x:f,y:g}=Yn(d,o).positionAbsolute;l=d&&dt(f)&&dt(g)&&dt(d.width)&&dt(d.height)?[[f+e.width*o[0],g+e.height*o[1]],[f+d.width-e.width+e.width*o[0],g+d.height-e.height+e.height*o[1]]]:l}else s==null||s("005",en.error005()),l=i;else if(e.extent&&a&&e.extent!=="parent"){const d=n.get(a),{x:f,y:g}=Yn(d,o).positionAbsolute;l=[[e.extent[0][0]+f,e.extent[0][1]+g],[e.extent[1][0]+f,e.extent[1][1]+g]]}let u={x:0,y:0};if(a){const d=n.get(a);u=Yn(d,o).positionAbsolute}const c=l&&l!=="parent"?_c(t,l):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function ta({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?r.find(o=>o.id===e):r[0],r]}const $f=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const s=Array.from(o),i=t.getBoundingClientRect(),l={x:i.width*r[0],y:i.height*r[1]};return s.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-i.left-l.x)/n,y:(u.top-i.top-l.y)/n,...kc(a)}})};function yo(e,t,n){return n===void 0?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function mu({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:s,multiSelectionActive:i,nodeInternals:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",en.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&i)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):o([e])}function pS(){const e=Ce();return R.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:o,snapToGrid:s}=e.getState(),i=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,a={x:(i-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:s?o[0]*Math.round(a.x/o[0]):a.x,ySnapped:s?o[1]*Math.round(a.y/o[1]):a.y,...a}},[])}function na(e){return(t,n,r)=>e==null?void 0:e(t,r)}function bg({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:s,selectNodesOnDrag:i}){const l=Ce(),[a,u]=R.useState(!1),c=R.useRef([]),d=R.useRef({x:null,y:null}),f=R.useRef(0),g=R.useRef(null),w=R.useRef({x:0,y:0}),N=R.useRef(null),_=R.useRef(!1),h=R.useRef(!1),m=R.useRef(!1),x=pS();return R.useEffect(()=>{if(e!=null&&e.current){const v=ut(e.current),S=({x:j,y:P})=>{const{nodeInternals:O,onNodeDrag:H,onSelectionDrag:D,updateNodePositions:L,nodeExtent:y,snapGrid:T,snapToGrid:k,nodeOrigin:A,onError:b}=l.getState();d.current={x:j,y:P};let E=!1,M={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&y){const $=fl(c.current,A);M=os($)}if(c.current=c.current.map($=>{const V={x:j-$.distance.x,y:P-$.distance.y};k&&(V.x=T[0]*Math.round(V.x/T[0]),V.y=T[1]*Math.round(V.y/T[1]));const B=[[y[0][0],y[0][1]],[y[1][0],y[1][1]]];c.current.length>1&&y&&!$.extent&&(B[0][0]=$.positionAbsolute.x-M.x+y[0][0],B[1][0]=$.positionAbsolute.x+($.width??0)-M.x2+y[1][0],B[0][1]=$.positionAbsolute.y-M.y+y[0][1],B[1][1]=$.positionAbsolute.y+($.height??0)-M.y2+y[1][1]);const W=Cg($,V,O,B,A,b);return E=E||$.position.x!==W.position.x||$.position.y!==W.position.y,$.position=W.position,$.positionAbsolute=W.positionAbsolute,$}),!E)return;L(c.current,!0,!0),u(!0);const z=o?H:na(D);if(z&&N.current){const[$,V]=ta({nodeId:o,dragItems:c.current,nodeInternals:O});z(N.current,$,V)}},C=()=>{if(!g.current)return;const[j,P]=qm(w.current,g.current);if(j!==0||P!==0){const{transform:O,panBy:H}=l.getState();d.current.x=(d.current.x??0)-j/O[2],d.current.y=(d.current.y??0)-P/O[2],H({x:j,y:P})&&S(d.current)}f.current=requestAnimationFrame(C)},I=j=>{var A;const{nodeInternals:P,multiSelectionActive:O,nodesDraggable:H,unselectNodesAndEdges:D,onNodeDragStart:L,onSelectionDragStart:y}=l.getState();h.current=!0;const T=o?L:na(y);(!i||!s)&&!O&&o&&((A=P.get(o))!=null&&A.selected||D()),o&&s&&i&&mu({id:o,store:l,nodeRef:e});const k=x(j);if(d.current=k,c.current=fS(P,H,k,o),T&&c.current){const[b,E]=ta({nodeId:o,dragItems:c.current,nodeInternals:P});T(j.sourceEvent,b,E)}};if(t)v.on(".drag",null);else{const j=_w().on("start",P=>{const{domNode:O,nodeDragThreshold:H}=l.getState();H===0&&I(P),m.current=!1;const D=x(P);d.current=D,g.current=(O==null?void 0:O.getBoundingClientRect())||null,w.current=Sn(P.sourceEvent,g.current)}).on("drag",P=>{var L,y;const O=x(P),{autoPanOnNodeDrag:H,nodeDragThreshold:D}=l.getState();if(P.sourceEvent.type==="touchmove"&&P.sourceEvent.touches.length>1&&(m.current=!0),!m.current){if(!_.current&&h.current&&H&&(_.current=!0,C()),!h.current){const T=O.xSnapped-(((L=d==null?void 0:d.current)==null?void 0:L.x)??0),k=O.ySnapped-(((y=d==null?void 0:d.current)==null?void 0:y.y)??0);Math.sqrt(T*T+k*k)>D&&I(P)}(d.current.x!==O.xSnapped||d.current.y!==O.ySnapped)&&c.current&&h.current&&(N.current=P.sourceEvent,w.current=Sn(P.sourceEvent,g.current),S(O))}}).on("end",P=>{if(!(!h.current||m.current)&&(u(!1),_.current=!1,h.current=!1,cancelAnimationFrame(f.current),c.current)){const{updateNodePositions:O,nodeInternals:H,onNodeDragStop:D,onSelectionDragStop:L}=l.getState(),y=o?D:na(L);if(O(c.current,!1,!1),y){const[T,k]=ta({nodeId:o,dragItems:c.current,nodeInternals:H});y(P.sourceEvent,T,k)}}}).filter(P=>{const O=P.target;return!P.button&&(!n||!jf(O,`.${n}`,e))&&(!r||jf(O,r,e))});return v.call(j),()=>{v.on(".drag",null)}}}},[e,t,n,r,s,l,o,i,x]),a}function Ig(){const e=Ce();return R.useCallback(n=>{const{nodeInternals:r,nodeExtent:o,updateNodePositions:s,getNodes:i,snapToGrid:l,snapGrid:a,onError:u,nodesDraggable:c}=e.getState(),d=i().filter(m=>m.selected&&(m.draggable||c&&typeof m.draggable>"u")),f=l?a[0]:5,g=l?a[1]:5,w=n.isShiftPressed?4:1,N=n.x*f*w,_=n.y*g*w,h=d.map(m=>{if(m.positionAbsolute){const x={x:m.positionAbsolute.x+N,y:m.positionAbsolute.y+_};l&&(x.x=a[0]*Math.round(x.x/a[0]),x.y=a[1]*Math.round(x.y/a[1]));const{positionAbsolute:v,position:S}=Cg(m,x,r,o,void 0,u);m.position=S,m.positionAbsolute=v}return m});s(h,!0,!1)},[])}const Or={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var xo=e=>{const t=({id:n,type:r,data:o,xPos:s,yPos:i,xPosOrigin:l,yPosOrigin:a,selected:u,onClick:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:g,onContextMenu:w,onDoubleClick:N,style:_,className:h,isDraggable:m,isSelectable:x,isConnectable:v,isFocusable:S,selectNodesOnDrag:C,sourcePosition:I,targetPosition:j,hidden:P,resizeObserver:O,dragHandle:H,zIndex:D,isParent:L,noDragClassName:y,noPanClassName:T,initialized:k,disableKeyboardA11y:A,ariaLabel:b,rfId:E,hasHandleBounds:M})=>{const z=Ce(),$=R.useRef(null),V=R.useRef(null),B=R.useRef(I),W=R.useRef(j),Q=R.useRef(r),G=x||m||c||d||f||g,J=Ig(),K=yo(n,z.getState,d),Z=yo(n,z.getState,f),re=yo(n,z.getState,g),me=yo(n,z.getState,w),ve=yo(n,z.getState,N),Ne=oe=>{const{nodeDragThreshold:X}=z.getState();if(x&&(!C||!m||X>0)&&mu({id:n,store:z,nodeRef:$}),c){const Fe=z.getState().nodeInternals.get(n);Fe&&c(oe,{...Fe})}},ae=oe=>{if(!cu(oe)&&!A)if(Gm.includes(oe.key)&&x){const X=oe.key==="Escape";mu({id:n,store:z,unselect:X,nodeRef:$})}else m&&u&&Object.prototype.hasOwnProperty.call(Or,oe.key)&&(z.setState({ariaLiveMessage:`Moved selected node ${oe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~i}`}),J({x:Or[oe.key].x,y:Or[oe.key].y,isShiftPressed:oe.shiftKey}))};R.useEffect(()=>()=>{V.current&&(O==null||O.unobserve(V.current),V.current=null)},[]),R.useEffect(()=>{if($.current&&!P){const oe=$.current;(!k||!M||V.current!==oe)&&(V.current&&(O==null||O.unobserve(V.current)),O==null||O.observe(oe),V.current=oe)}},[P,k,M]),R.useEffect(()=>{const oe=Q.current!==r,X=B.current!==I,Fe=W.current!==j;$.current&&(oe||X||Fe)&&(oe&&(Q.current=r),X&&(B.current=I),Fe&&(W.current=j),z.getState().updateNodeDimensions([{id:n,nodeElement:$.current,forceUpdate:!0}]))},[n,r,I,j]);const Le=bg({nodeRef:$,disabled:P||!m,noDragClassName:y,handleSelector:H,nodeId:n,isSelectable:x,selectNodesOnDrag:C});return P?null:F.createElement("div",{className:Me(["react-flow__node",`react-flow__node-${r}`,{[T]:m},h,{selected:u,selectable:x,parent:L,dragging:Le}]),ref:$,style:{zIndex:D,transform:`translate(${l}px,${a}px)`,pointerEvents:G?"all":"none",visibility:k?"visible":"hidden",..._},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:K,onMouseMove:Z,onMouseLeave:re,onContextMenu:me,onClick:Ne,onDoubleClick:ve,onKeyDown:S?ae:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":A?void 0:`${yg}-${E}`,"aria-label":b},F.createElement(IN,{value:n},F.createElement(e,{id:n,data:o,type:r,xPos:s,yPos:i,selected:u,isConnectable:v,sourcePosition:I,targetPosition:j,dragging:Le,dragHandle:H,zIndex:D})))};return t.displayName="NodeWrapper",R.memo(t)};const mS=e=>{const t=e.getNodes().filter(n=>n.selected);return{...fl(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function gS({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ce(),{width:o,height:s,x:i,y:l,transformString:a,userSelectionActive:u}=le(mS,Pe),c=Ig(),d=R.useRef(null);if(R.useEffect(()=>{var w;n||(w=d.current)==null||w.focus({preventScroll:!0})},[n]),bg({nodeRef:d}),u||!o||!s)return null;const f=e?w=>{const N=r.getState().getNodes().filter(_=>_.selected);e(w,N)}:void 0,g=w=>{Object.prototype.hasOwnProperty.call(Or,w.key)&&c({x:Or[w.key].x,y:Or[w.key].y,isShiftPressed:w.shiftKey})};return F.createElement("div",{className:Me(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a}},F.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:g,style:{width:o,height:s,top:l,left:i}}))}var yS=R.memo(gS);const xS=e=>e.nodesSelectionActive,Pg=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:i,deleteKeyCode:l,onMove:a,onMoveStart:u,onMoveEnd:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:g,onSelectionStart:w,onSelectionEnd:N,multiSelectionKeyCode:_,panActivationKeyCode:h,zoomActivationKeyCode:m,elementsSelectable:x,zoomOnScroll:v,zoomOnPinch:S,panOnScroll:C,panOnScrollSpeed:I,panOnScrollMode:j,zoomOnDoubleClick:P,panOnDrag:O,defaultViewport:H,translateExtent:D,minZoom:L,maxZoom:y,preventScrolling:T,onSelectionContextMenu:k,noWheelClassName:A,noPanClassName:b,disableKeyboardA11y:E})=>{const M=le(xS),z=is(d),$=is(h),V=$||O,B=$||C,W=z||f&&V!==!0;return rS({deleteKeyCode:l,multiSelectionKeyCode:_}),F.createElement(lS,{onMove:a,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:s,elementsSelectable:x,zoomOnScroll:v,zoomOnPinch:S,panOnScroll:B,panOnScrollSpeed:I,panOnScrollMode:j,zoomOnDoubleClick:P,panOnDrag:!z&&V,defaultViewport:H,translateExtent:D,minZoom:L,maxZoom:y,zoomActivationKeyCode:m,preventScrolling:T,noWheelClassName:A,noPanClassName:b},F.createElement(kg,{onSelectionStart:w,onSelectionEnd:N,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:i,panOnDrag:V,isSelecting:!!W,selectionMode:g},e,M&&F.createElement(yS,{onSelectionContextMenu:k,noPanClassName:b,disableKeyboardA11y:E})))};Pg.displayName="FlowRenderer";var vS=R.memo(Pg);function wS(e){return le(R.useCallback(n=>e?og(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function NS(e){const t={input:xo(e.input||hg),default:xo(e.default||pu),output:xo(e.output||mg),group:xo(e.group||jc)},n={},r=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,s)=>(o[s]=xo(e[s]||pu),o),n);return{...t,...r}}const SS=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},ES=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Tg=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:s,onError:i}=le(ES,Pe),l=wS(e.onlyRenderVisibleElements),a=R.useRef(),u=R.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(d=>{const f=d.map(g=>({id:g.target.getAttribute("data-id"),nodeElement:g.target,forceUpdate:!0}));s(f)});return a.current=c,c},[]);return R.useEffect(()=>()=>{var c;(c=a==null?void 0:a.current)==null||c.disconnect()},[]),F.createElement("div",{className:"react-flow__nodes",style:$c},l.map(c=>{var S,C,I;let d=c.type||"default";e.nodeTypes[d]||(i==null||i("003",en.error003(d)),d="default");const f=e.nodeTypes[d]||e.nodeTypes.default,g=!!(c.draggable||t&&typeof c.draggable>"u"),w=!!(c.selectable||o&&typeof c.selectable>"u"),N=!!(c.connectable||n&&typeof c.connectable>"u"),_=!!(c.focusable||r&&typeof c.focusable>"u"),h=e.nodeExtent?_c(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,m=(h==null?void 0:h.x)??0,x=(h==null?void 0:h.y)??0,v=SS({x:m,y:x,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return F.createElement(f,{key:c.id,id:c.id,className:c.className,style:c.style,type:d,data:c.data,sourcePosition:c.sourcePosition||Y.Bottom,targetPosition:c.targetPosition||Y.Top,hidden:c.hidden,xPos:m,yPos:x,xPosOrigin:v.x,yPosOrigin:v.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:g,isSelectable:w,isConnectable:N,isFocusable:_,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((S=c[ye])==null?void 0:S.z)??0,isParent:!!((C=c[ye])!=null&&C.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((I=c[ye])!=null&&I.handleBounds)})}))};Tg.displayName="NodeRenderer";var kS=R.memo(Tg);const _S=(e,t,n)=>n===Y.Left?e-t:n===Y.Right?e+t:e,CS=(e,t,n)=>n===Y.Top?e-t:n===Y.Bottom?e+t:e,Mf="react-flow__edgeupdater",Af=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:s,onMouseOut:i,type:l})=>F.createElement("circle",{onMouseDown:o,onMouseEnter:s,onMouseOut:i,className:Me([Mf,`${Mf}-${l}`]),cx:_S(t,r,e),cy:CS(n,r,e),r,stroke:"transparent",fill:"transparent"}),bS=()=>!0;var mr=e=>{const t=({id:n,className:r,type:o,data:s,onClick:i,onEdgeDoubleClick:l,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:g,labelBgPadding:w,labelBgBorderRadius:N,style:_,source:h,target:m,sourceX:x,sourceY:v,targetX:S,targetY:C,sourcePosition:I,targetPosition:j,elementsSelectable:P,hidden:O,sourceHandleId:H,targetHandleId:D,onContextMenu:L,onMouseEnter:y,onMouseMove:T,onMouseLeave:k,reconnectRadius:A,onReconnect:b,onReconnectStart:E,onReconnectEnd:M,markerEnd:z,markerStart:$,rfId:V,ariaLabel:B,isFocusable:W,isReconnectable:Q,pathOptions:G,interactionWidth:J,disableKeyboardA11y:K})=>{const Z=R.useRef(null),[re,me]=R.useState(!1),[ve,Ne]=R.useState(!1),ae=Ce(),Le=R.useMemo(()=>`url('#${fu($,V)}')`,[$,V]),oe=R.useMemo(()=>`url('#${fu(z,V)}')`,[z,V]);if(O)return null;const X=Ae=>{var Pt;const{edges:gt,addSelectedEdges:$n,unselectNodesAndEdges:Mn,multiSelectionActive:An}=ae.getState(),Lt=gt.find(ro=>ro.id===n);Lt&&(P&&(ae.setState({nodesSelectionActive:!1}),Lt.selected&&An?(Mn({nodes:[],edges:[Lt]}),(Pt=Z.current)==null||Pt.blur()):$n([n])),i&&i(Ae,Lt))},Fe=go(n,ae.getState,l),Dt=go(n,ae.getState,L),to=go(n,ae.getState,y),ir=go(n,ae.getState,T),lr=go(n,ae.getState,k),Ot=(Ae,gt)=>{if(Ae.button!==0)return;const{edges:$n,isValidConnection:Mn}=ae.getState(),An=gt?m:h,Lt=(gt?D:H)||null,Pt=gt?"target":"source",ro=Mn||bS,xl=gt,oo=$n.find(zn=>zn.id===n);Ne(!0),E==null||E(Ae,oo,Pt);const vl=zn=>{Ne(!1),M==null||M(zn,oo,Pt)};ug({event:Ae,handleId:Lt,nodeId:An,onConnect:zn=>b==null?void 0:b(oo,zn),isTarget:xl,getState:ae.getState,setState:ae.setState,isValidConnection:ro,edgeUpdaterType:Pt,onReconnectEnd:vl})},ar=Ae=>Ot(Ae,!0),Tn=Ae=>Ot(Ae,!1),jn=()=>me(!0),ur=()=>me(!1),cr=!P&&!i,no=Ae=>{var gt;if(!K&&Gm.includes(Ae.key)&&P){const{unselectNodesAndEdges:$n,addSelectedEdges:Mn,edges:An}=ae.getState();Ae.key==="Escape"?((gt=Z.current)==null||gt.blur(),$n({edges:[An.find(Pt=>Pt.id===n)]})):Mn([n])}};return F.createElement("g",{className:Me(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:a,animated:u,inactive:cr,updating:re}]),onClick:X,onDoubleClick:Fe,onContextMenu:Dt,onMouseEnter:to,onMouseMove:ir,onMouseLeave:lr,onKeyDown:W?no:void 0,tabIndex:W?0:void 0,role:W?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":B===null?void 0:B||`Edge from ${h} to ${m}`,"aria-describedby":W?`${xg}-${V}`:void 0,ref:Z},!ve&&F.createElement(e,{id:n,source:h,target:m,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:g,labelBgPadding:w,labelBgBorderRadius:N,data:s,style:_,sourceX:x,sourceY:v,targetX:S,targetY:C,sourcePosition:I,targetPosition:j,sourceHandleId:H,targetHandleId:D,markerStart:Le,markerEnd:oe,pathOptions:G,interactionWidth:J}),Q&&F.createElement(F.Fragment,null,(Q==="source"||Q===!0)&&F.createElement(Af,{position:I,centerX:x,centerY:v,radius:A,onMouseDown:ar,onMouseEnter:jn,onMouseOut:ur,type:"source"}),(Q==="target"||Q===!0)&&F.createElement(Af,{position:j,centerX:S,centerY:C,radius:A,onMouseDown:Tn,onMouseEnter:jn,onMouseOut:ur,type:"target"})))};return t.displayName="EdgeWrapper",R.memo(t)};function IS(e){const t={default:mr(e.default||Oi),straight:mr(e.bezier||Ic),step:mr(e.step||bc),smoothstep:mr(e.step||dl),simplebezier:mr(e.simplebezier||Cc)},n={},r=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,s)=>(o[s]=mr(e[s]||Oi),o),n);return{...t,...r}}function zf(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,i=(n==null?void 0:n.height)||t.height;switch(e){case Y.Top:return{x:r+s/2,y:o};case Y.Right:return{x:r+s,y:o+i/2};case Y.Bottom:return{x:r+s/2,y:o+i};case Y.Left:return{x:r,y:o+i/2}}}function Rf(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const PS=(e,t,n,r,o,s)=>{const i=zf(n,e,t),l=zf(s,r,o);return{sourceX:i.x,sourceY:i.y,targetX:l.x,targetY:l.y}};function TS({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:s,width:i,height:l,transform:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=os({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:i/a[2],height:l/a[2]}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),f=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*f)>0}function Df(e){var r,o,s,i,l;const t=((r=e==null?void 0:e[ye])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const jS=[{level:0,isMaxLevel:!0,edges:[]}];function $S(e,t,n=!1){let r=-1;const o=e.reduce((i,l)=>{var c,d;const a=dt(l.zIndex);let u=a?l.zIndex:0;if(n){const f=t.get(l.target),g=t.get(l.source),w=l.selected||(f==null?void 0:f.selected)||(g==null?void 0:g.selected),N=Math.max(((c=g==null?void 0:g[ye])==null?void 0:c.z)||0,((d=f==null?void 0:f[ye])==null?void 0:d.z)||0,1e3);u=(a?l.zIndex:0)+(w?N:0)}return i[u]?i[u].push(l):i[u]=[l],r=u>r?u:r,i},{}),s=Object.entries(o).map(([i,l])=>{const a=+i;return{edges:l,level:a,isMaxLevel:a===r}});return s.length===0?jS:s}function MS(e,t,n){const r=le(R.useCallback(o=>e?o.edges.filter(s=>{const i=t.get(s.source),l=t.get(s.target);return(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&TS({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:l.width,targetHeight:l.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return $S(r,t,n)}const AS=({color:e="none",strokeWidth:t=1})=>F.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),zS=({color:e="none",strokeWidth:t=1})=>F.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Of={[Di.Arrow]:AS,[Di.ArrowClosed]:zS};function RS(e){const t=Ce();return R.useMemo(()=>{var o,s;return Object.prototype.hasOwnProperty.call(Of,e)?Of[e]:((s=(o=t.getState()).onError)==null||s.call(o,"009",en.error009(e)),null)},[e])}const DS=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:s="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{const a=RS(t);return a?F.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0"},F.createElement(a,{color:n,strokeWidth:i})):null},OS=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((o,s)=>([s.markerStart,s.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const l=fu(i,t);r.includes(l)||(o.push({id:l,color:i.color||e,...i}),r.push(l))}}),o),[]).sort((o,s)=>o.id.localeCompare(s.id))},jg=({defaultColor:e,rfId:t})=>{const n=le(R.useCallback(OS({defaultColor:e,rfId:t}),[e,t]),(r,o)=>!(r.length!==o.length||r.some((s,i)=>s.id!==o[i].id)));return F.createElement("defs",null,n.map(r=>F.createElement(DS,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};jg.displayName="MarkerDefinitions";var LS=R.memo(jg);const FS=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),$g=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:o,noPanClassName:s,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:g,onReconnectEnd:w,reconnectRadius:N,children:_,disableKeyboardA11y:h})=>{const{edgesFocusable:m,edgesUpdatable:x,elementsSelectable:v,width:S,height:C,connectionMode:I,nodeInternals:j,onError:P}=le(FS,Pe),O=MS(t,j,n);return S?F.createElement(F.Fragment,null,O.map(({level:H,edges:D,isMaxLevel:L})=>F.createElement("svg",{key:H,style:{zIndex:H},width:S,height:C,className:"react-flow__edges react-flow__container"},L&&F.createElement(LS,{defaultColor:e,rfId:r}),F.createElement("g",null,D.map(y=>{const[T,k,A]=Df(j.get(y.source)),[b,E,M]=Df(j.get(y.target));if(!A||!M)return null;let z=y.type||"default";o[z]||(P==null||P("011",en.error011(z)),z="default");const $=o[z]||o.default,V=I===Cn.Strict?E.target:(E.target??[]).concat(E.source??[]),B=Rf(k.source,y.sourceHandle),W=Rf(V,y.targetHandle),Q=(B==null?void 0:B.position)||Y.Bottom,G=(W==null?void 0:W.position)||Y.Top,J=!!(y.focusable||m&&typeof y.focusable>"u"),K=y.reconnectable||y.updatable,Z=typeof f<"u"&&(K||x&&typeof K>"u");if(!B||!W)return P==null||P("008",en.error008(B,y)),null;const{sourceX:re,sourceY:me,targetX:ve,targetY:Ne}=PS(T,B,Q,b,W,G);return F.createElement($,{key:y.id,id:y.id,className:Me([y.className,s]),type:z,data:y.data,selected:!!y.selected,animated:!!y.animated,hidden:!!y.hidden,label:y.label,labelStyle:y.labelStyle,labelShowBg:y.labelShowBg,labelBgStyle:y.labelBgStyle,labelBgPadding:y.labelBgPadding,labelBgBorderRadius:y.labelBgBorderRadius,style:y.style,source:y.source,target:y.target,sourceHandleId:y.sourceHandle,targetHandleId:y.targetHandle,markerEnd:y.markerEnd,markerStart:y.markerStart,sourceX:re,sourceY:me,targetX:ve,targetY:Ne,sourcePosition:Q,targetPosition:G,elementsSelectable:v,onContextMenu:i,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:g,onReconnectEnd:w,reconnectRadius:N,rfId:r,ariaLabel:y.ariaLabel,isFocusable:J,isReconnectable:Z,pathOptions:"pathOptions"in y?y.pathOptions:void 0,interactionWidth:y.interactionWidth,disableKeyboardA11y:h})})))),_):null};$g.displayName="EdgeRenderer";var HS=R.memo($g);const VS=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function BS({children:e}){const t=le(VS);return F.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function US(e){const t=hl(),n=R.useRef(!1);R.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const WS={[Y.Left]:Y.Right,[Y.Right]:Y.Left,[Y.Top]:Y.Bottom,[Y.Bottom]:Y.Top},Mg=({nodeId:e,handleType:t,style:n,type:r=dn.Bezier,CustomComponent:o,connectionStatus:s})=>{var C,I,j;const{fromNode:i,handleId:l,toX:a,toY:u,connectionMode:c}=le(R.useCallback(P=>({fromNode:P.nodeInternals.get(e),handleId:P.connectionHandleId,toX:(P.connectionPosition.x-P.transform[0])/P.transform[2],toY:(P.connectionPosition.y-P.transform[1])/P.transform[2],connectionMode:P.connectionMode}),[e]),Pe),d=(C=i==null?void 0:i[ye])==null?void 0:C.handleBounds;let f=d==null?void 0:d[t];if(c===Cn.Loose&&(f=f||(d==null?void 0:d[t==="source"?"target":"source"])),!i||!f)return null;const g=l?f.find(P=>P.id===l):f[0],w=g?g.x+g.width/2:(i.width??0)/2,N=g?g.y+g.height/2:i.height??0,_=(((I=i.positionAbsolute)==null?void 0:I.x)??0)+w,h=(((j=i.positionAbsolute)==null?void 0:j.y)??0)+N,m=g==null?void 0:g.position,x=m?WS[m]:null;if(!m||!x)return null;if(o)return F.createElement(o,{connectionLineType:r,connectionLineStyle:n,fromNode:i,fromHandle:g,fromX:_,fromY:h,toX:a,toY:u,fromPosition:m,toPosition:x,connectionStatus:s});let v="";const S={sourceX:_,sourceY:h,sourcePosition:m,targetX:a,targetY:u,targetPosition:x};return r===dn.Bezier?[v]=ng(S):r===dn.Step?[v]=du({...S,borderRadius:0}):r===dn.SmoothStep?[v]=du(S):r===dn.SimpleBezier?[v]=tg(S):v=`M${_},${h} ${a},${u}`,F.createElement("path",{d:v,fill:"none",className:"react-flow__connection-path",style:n})};Mg.displayName="ConnectionLine";const QS=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function qS({containerStyle:e,style:t,type:n,component:r}){const{nodeId:o,handleType:s,nodesConnectable:i,width:l,height:a,connectionStatus:u}=le(QS,Pe);return!(o&&s&&l&&i)?null:F.createElement("svg",{style:e,width:l,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},F.createElement("g",{className:Me(["react-flow__connection",u])},F.createElement(Mg,{nodeId:o,handleType:s,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Lf(e,t){return R.useRef(null),Ce(),R.useMemo(()=>t(e),[e])}const Ag=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:s,onNodeClick:i,onEdgeClick:l,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:g,onSelectionContextMenu:w,onSelectionStart:N,onSelectionEnd:_,connectionLineType:h,connectionLineStyle:m,connectionLineComponent:x,connectionLineContainerStyle:v,selectionKeyCode:S,selectionOnDrag:C,selectionMode:I,multiSelectionKeyCode:j,panActivationKeyCode:P,zoomActivationKeyCode:O,deleteKeyCode:H,onlyRenderVisibleElements:D,elementsSelectable:L,selectNodesOnDrag:y,defaultViewport:T,translateExtent:k,minZoom:A,maxZoom:b,preventScrolling:E,defaultMarkerColor:M,zoomOnScroll:z,zoomOnPinch:$,panOnScroll:V,panOnScrollSpeed:B,panOnScrollMode:W,zoomOnDoubleClick:Q,panOnDrag:G,onPaneClick:J,onPaneMouseEnter:K,onPaneMouseMove:Z,onPaneMouseLeave:re,onPaneScroll:me,onPaneContextMenu:ve,onEdgeContextMenu:Ne,onEdgeMouseEnter:ae,onEdgeMouseMove:Le,onEdgeMouseLeave:oe,onReconnect:X,onReconnectStart:Fe,onReconnectEnd:Dt,reconnectRadius:to,noDragClassName:ir,noWheelClassName:lr,noPanClassName:Ot,elevateEdgesOnSelect:ar,disableKeyboardA11y:Tn,nodeOrigin:jn,nodeExtent:ur,rfId:cr})=>{const no=Lf(e,NS),Ae=Lf(t,IS);return US(s),F.createElement(vS,{onPaneClick:J,onPaneMouseEnter:K,onPaneMouseMove:Z,onPaneMouseLeave:re,onPaneContextMenu:ve,onPaneScroll:me,deleteKeyCode:H,selectionKeyCode:S,selectionOnDrag:C,selectionMode:I,onSelectionStart:N,onSelectionEnd:_,multiSelectionKeyCode:j,panActivationKeyCode:P,zoomActivationKeyCode:O,elementsSelectable:L,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:z,zoomOnPinch:$,zoomOnDoubleClick:Q,panOnScroll:V,panOnScrollSpeed:B,panOnScrollMode:W,panOnDrag:G,defaultViewport:T,translateExtent:k,minZoom:A,maxZoom:b,onSelectionContextMenu:w,preventScrolling:E,noDragClassName:ir,noWheelClassName:lr,noPanClassName:Ot,disableKeyboardA11y:Tn},F.createElement(BS,null,F.createElement(HS,{edgeTypes:Ae,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:D,onEdgeContextMenu:Ne,onEdgeMouseEnter:ae,onEdgeMouseMove:Le,onEdgeMouseLeave:oe,onReconnect:X,onReconnectStart:Fe,onReconnectEnd:Dt,reconnectRadius:to,defaultMarkerColor:M,noPanClassName:Ot,elevateEdgesOnSelect:!!ar,disableKeyboardA11y:Tn,rfId:cr},F.createElement(qS,{style:m,type:h,component:x,containerStyle:v})),F.createElement("div",{className:"react-flow__edgelabel-renderer"}),F.createElement(kS,{nodeTypes:no,onNodeClick:i,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:g,selectNodesOnDrag:y,onlyRenderVisibleElements:D,noPanClassName:Ot,noDragClassName:ir,disableKeyboardA11y:Tn,nodeOrigin:jn,nodeExtent:ur,rfId:cr})))};Ag.displayName="GraphView";var KS=R.memo(Ag);const gu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],rn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:gu,nodeExtent:gu,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Cn.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:SN,isValidConnection:void 0},YS=()=>Dv((e,t)=>({...rn,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:s}=t();e({nodeInternals:Jl(n,r,o,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(o=>({...r,...o}))})},setDefaultNodesAndEdges:(n,r)=>{const o=typeof n<"u",s=typeof r<"u",i=o?Jl(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:s?r:[],hasDefaultNodes:o,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:s,fitViewOnInitDone:i,fitViewOnInitOptions:l,domNode:a,nodeOrigin:u}=t(),c=a==null?void 0:a.querySelector(".react-flow__viewport");if(!c)return;const d=window.getComputedStyle(c),{m22:f}=new window.DOMMatrixReadOnly(d.transform),g=n.reduce((N,_)=>{const h=o.get(_.id);if(h!=null&&h.hidden)o.set(h.id,{...h,[ye]:{...h[ye],handleBounds:void 0}});else if(h){const m=kc(_.nodeElement);!!(m.width&&m.height&&(h.width!==m.width||h.height!==m.height||_.forceUpdate))&&(o.set(h.id,{...h,[ye]:{...h[ye],handleBounds:{source:$f(".source",_.nodeElement,f,u),target:$f(".target",_.nodeElement,f,u)}},...m}),N.push({id:h.id,type:"dimensions",dimensions:m}))}return N},[]);wg(o,u);const w=i||s&&!i&&Ng(t,{initial:!0,...l});e({nodeInternals:new Map(o),fitViewOnInitDone:w}),(g==null?void 0:g.length)>0&&(r==null||r(g))},updateNodePositions:(n,r=!0,o=!1)=>{const{triggerNodeChanges:s}=t(),i=n.map(l=>{const a={id:l.id,type:"position",dragging:o};return r&&(a.positionAbsolute=l.positionAbsolute,a.position=l.position),a});s(i)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:s,nodeOrigin:i,getNodes:l,elevateNodesOnSelect:a}=t();if(n!=null&&n.length){if(s){const u=Eg(n,l()),c=Jl(u,o,i,a);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:s}=t();let i,l=null;r?i=n.map(a=>an(a,!0)):(i=Pr(s(),n),l=Pr(o,[])),Vs({changedNodes:i,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:s}=t();let i,l=null;r?i=n.map(a=>an(a,!0)):(i=Pr(o,n),l=Pr(s(),[])),Vs({changedNodes:l,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:o,getNodes:s}=t(),i=n||s(),l=r||o,a=i.map(c=>(c.selected=!1,an(c.id,!1))),u=l.map(c=>an(c.id,!1));Vs({changedNodes:a,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r==null||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r==null||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),s=r().filter(l=>l.selected).map(l=>an(l.id,!1)),i=n.filter(l=>l.selected).map(l=>an(l.id,!1));Vs({changedNodes:s,changedEdges:i,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(o=>{o.positionAbsolute=_c(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:o,height:s,d3Zoom:i,d3Selection:l,translateExtent:a}=t();if(!i||!l||!n.x&&!n.y)return!1;const u=Kt.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[o,s]],d=i==null?void 0:i.constrain()(u,c,a);return i.transform(l,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:rn.connectionNodeId,connectionHandleId:rn.connectionHandleId,connectionHandleType:rn.connectionHandleType,connectionStatus:rn.connectionStatus,connectionStartHandle:rn.connectionStartHandle,connectionEndHandle:rn.connectionEndHandle}),reset:()=>e({...rn})}),Object.is),Mc=({children:e})=>{const t=R.useRef(null);return t.current||(t.current=YS()),F.createElement(mN,{value:t.current},e)};Mc.displayName="ReactFlowProvider";const zg=({children:e})=>R.useContext(ul)?F.createElement(F.Fragment,null,e):F.createElement(Mc,null,e);zg.displayName="ReactFlowWrapper";const XS={input:hg,default:pu,output:mg,group:jc},GS={default:Oi,straight:Ic,step:bc,smoothstep:dl,simplebezier:Cc},ZS=[0,0],JS=[15,15],eE={x:0,y:0,zoom:1},tE={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Rg=R.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:s=XS,edgeTypes:i=GS,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onConnect:g,onConnectStart:w,onConnectEnd:N,onClickConnectStart:_,onClickConnectEnd:h,onNodeMouseEnter:m,onNodeMouseMove:x,onNodeMouseLeave:v,onNodeContextMenu:S,onNodeDoubleClick:C,onNodeDragStart:I,onNodeDrag:j,onNodeDragStop:P,onNodesDelete:O,onEdgesDelete:H,onSelectionChange:D,onSelectionDragStart:L,onSelectionDrag:y,onSelectionDragStop:T,onSelectionContextMenu:k,onSelectionStart:A,onSelectionEnd:b,connectionMode:E=Cn.Strict,connectionLineType:M=dn.Bezier,connectionLineStyle:z,connectionLineComponent:$,connectionLineContainerStyle:V,deleteKeyCode:B="Backspace",selectionKeyCode:W="Shift",selectionOnDrag:Q=!1,selectionMode:G=ss.Full,panActivationKeyCode:J="Space",multiSelectionKeyCode:K=Ri()?"Meta":"Control",zoomActivationKeyCode:Z=Ri()?"Meta":"Control",snapToGrid:re=!1,snapGrid:me=JS,onlyRenderVisibleElements:ve=!1,selectNodesOnDrag:Ne=!0,nodesDraggable:ae,nodesConnectable:Le,nodesFocusable:oe,nodeOrigin:X=ZS,edgesFocusable:Fe,edgesUpdatable:Dt,elementsSelectable:to,defaultViewport:ir=eE,minZoom:lr=.5,maxZoom:Ot=2,translateExtent:ar=gu,preventScrolling:Tn=!0,nodeExtent:jn,defaultMarkerColor:ur="#b1b1b7",zoomOnScroll:cr=!0,zoomOnPinch:no=!0,panOnScroll:Ae=!1,panOnScrollSpeed:gt=.5,panOnScrollMode:$n=Wn.Free,zoomOnDoubleClick:Mn=!0,panOnDrag:An=!0,onPaneClick:Lt,onPaneMouseEnter:Pt,onPaneMouseMove:ro,onPaneMouseLeave:xl,onPaneScroll:oo,onPaneContextMenu:vl,children:Dc,onEdgeContextMenu:zn,onEdgeDoubleClick:l0,onEdgeMouseEnter:a0,onEdgeMouseMove:u0,onEdgeMouseLeave:c0,onEdgeUpdate:d0,onEdgeUpdateStart:f0,onEdgeUpdateEnd:h0,onReconnect:p0,onReconnectStart:m0,onReconnectEnd:g0,reconnectRadius:y0=10,edgeUpdaterRadius:x0=10,onNodesChange:v0,onEdgesChange:w0,noDragClassName:N0="nodrag",noWheelClassName:S0="nowheel",noPanClassName:Oc="nopan",fitView:E0=!1,fitViewOptions:k0,connectOnClick:_0=!0,attributionPosition:C0,proOptions:b0,defaultEdgeOptions:I0,elevateNodesOnSelect:P0=!0,elevateEdgesOnSelect:T0=!1,disableKeyboardA11y:Lc=!1,autoPanOnConnect:j0=!0,autoPanOnNodeDrag:$0=!0,connectionRadius:M0=20,isValidConnection:A0,onError:z0,style:R0,id:Fc,nodeDragThreshold:D0,...O0},L0)=>{const wl=Fc||"1";return F.createElement("div",{...O0,style:{...R0,...tE},ref:L0,className:Me(["react-flow",o]),"data-testid":"rf__wrapper",id:Fc},F.createElement(zg,null,F.createElement(KS,{onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:m,onNodeMouseMove:x,onNodeMouseLeave:v,onNodeContextMenu:S,onNodeDoubleClick:C,nodeTypes:s,edgeTypes:i,connectionLineType:M,connectionLineStyle:z,connectionLineComponent:$,connectionLineContainerStyle:V,selectionKeyCode:W,selectionOnDrag:Q,selectionMode:G,deleteKeyCode:B,multiSelectionKeyCode:K,panActivationKeyCode:J,zoomActivationKeyCode:Z,onlyRenderVisibleElements:ve,selectNodesOnDrag:Ne,defaultViewport:ir,translateExtent:ar,minZoom:lr,maxZoom:Ot,preventScrolling:Tn,zoomOnScroll:cr,zoomOnPinch:no,zoomOnDoubleClick:Mn,panOnScroll:Ae,panOnScrollSpeed:gt,panOnScrollMode:$n,panOnDrag:An,onPaneClick:Lt,onPaneMouseEnter:Pt,onPaneMouseMove:ro,onPaneMouseLeave:xl,onPaneScroll:oo,onPaneContextMenu:vl,onSelectionContextMenu:k,onSelectionStart:A,onSelectionEnd:b,onEdgeContextMenu:zn,onEdgeDoubleClick:l0,onEdgeMouseEnter:a0,onEdgeMouseMove:u0,onEdgeMouseLeave:c0,onReconnect:p0??d0,onReconnectStart:m0??f0,onReconnectEnd:g0??h0,reconnectRadius:y0??x0,defaultMarkerColor:ur,noDragClassName:N0,noWheelClassName:S0,noPanClassName:Oc,elevateEdgesOnSelect:T0,rfId:wl,disableKeyboardA11y:Lc,nodeOrigin:X,nodeExtent:jn}),F.createElement(WN,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:w,onConnectEnd:N,onClickConnectStart:_,onClickConnectEnd:h,nodesDraggable:ae,nodesConnectable:Le,nodesFocusable:oe,edgesFocusable:Fe,edgesUpdatable:Dt,elementsSelectable:to,elevateNodesOnSelect:P0,minZoom:lr,maxZoom:Ot,nodeExtent:jn,onNodesChange:v0,onEdgesChange:w0,snapToGrid:re,snapGrid:me,connectionMode:E,translateExtent:ar,connectOnClick:_0,defaultEdgeOptions:I0,fitView:E0,fitViewOptions:k0,onNodesDelete:O,onEdgesDelete:H,onNodeDragStart:I,onNodeDrag:j,onNodeDragStop:P,onSelectionDrag:y,onSelectionDragStart:L,onSelectionDragStop:T,noPanClassName:Oc,nodeOrigin:X,rfId:wl,autoPanOnConnect:j0,autoPanOnNodeDrag:$0,onError:z0,connectionRadius:M0,isValidConnection:A0,nodeDragThreshold:D0}),F.createElement(BN,{onSelectionChange:D}),Dc,F.createElement(yN,{proOptions:b0,position:C0}),F.createElement(XN,{rfId:wl,disableKeyboardA11y:Lc})))});Rg.displayName="ReactFlow";function Dg(e){return t=>{const[n,r]=R.useState(t),o=R.useCallback(s=>r(i=>e(s,i)),[]);return[n,r,o]}}const nE=Dg(Eg),rE=Dg(cS),Og=({id:e,x:t,y:n,width:r,height:o,style:s,color:i,strokeColor:l,strokeWidth:a,className:u,borderRadius:c,shapeRendering:d,onClick:f,selected:g})=>{const{background:w,backgroundColor:N}=s||{},_=i||w||N;return F.createElement("rect",{className:Me(["react-flow__minimap-node",{selected:g},u]),x:t,y:n,rx:c,ry:c,width:r,height:o,fill:_,stroke:l,strokeWidth:a,shapeRendering:d,onClick:f?h=>f(h,e):void 0})};Og.displayName="MiniMapNode";var oE=R.memo(Og);const sE=e=>e.nodeOrigin,iE=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),ra=e=>e instanceof Function?e:()=>e;function lE({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:s=oE,onClick:i}){const l=le(iE,Pe),a=le(sE),u=ra(t),c=ra(e),d=ra(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return F.createElement(F.Fragment,null,l.map(g=>{const{x:w,y:N}=Yn(g,a).positionAbsolute;return F.createElement(s,{key:g.id,x:w,y:N,width:g.width,height:g.height,style:g.style,selected:g.selected,className:d(g),color:u(g),borderRadius:r,strokeColor:c(g),strokeWidth:o,shapeRendering:f,onClick:i,id:g.id})}))}var aE=R.memo(lE);const uE=200,cE=150,dE=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?wN(fl(t,e.nodeOrigin),n):n,rfId:e.rfId}},fE="react-flow__minimap-desc";function Lg({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:i=2,nodeComponent:l,maskColor:a="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:d="bottom-right",onClick:f,onNodeClick:g,pannable:w=!1,zoomable:N=!1,ariaLabel:_="React Flow mini map",inversePan:h=!1,zoomStep:m=10,offsetScale:x=5}){const v=Ce(),S=R.useRef(null),{boundingRect:C,viewBB:I,rfId:j}=le(dE,Pe),P=(e==null?void 0:e.width)??uE,O=(e==null?void 0:e.height)??cE,H=C.width/P,D=C.height/O,L=Math.max(H,D),y=L*P,T=L*O,k=x*L,A=C.x-(y-C.width)/2-k,b=C.y-(T-C.height)/2-k,E=y+k*2,M=T+k*2,z=`${fE}-${j}`,$=R.useRef(0);$.current=L,R.useEffect(()=>{if(S.current){const W=ut(S.current),Q=K=>{const{transform:Z,d3Selection:re,d3Zoom:me}=v.getState();if(K.sourceEvent.type!=="wheel"||!re||!me)return;const ve=-K.sourceEvent.deltaY*(K.sourceEvent.deltaMode===1?.05:K.sourceEvent.deltaMode?1:.002)*m,Ne=Z[2]*Math.pow(2,ve);me.scaleTo(re,Ne)},G=K=>{const{transform:Z,d3Selection:re,d3Zoom:me,translateExtent:ve,width:Ne,height:ae}=v.getState();if(K.sourceEvent.type!=="mousemove"||!re||!me)return;const Le=$.current*Math.max(1,Z[2])*(h?-1:1),oe={x:Z[0]-K.sourceEvent.movementX*Le,y:Z[1]-K.sourceEvent.movementY*Le},X=[[0,0],[Ne,ae]],Fe=Kt.translate(oe.x,oe.y).scale(Z[2]),Dt=me.constrain()(Fe,X,ve);me.transform(re,Dt)},J=Wm().on("zoom",w?G:null).on("zoom.wheel",N?Q:null);return W.call(J),()=>{W.on("zoom",null)}}},[w,N,h,m]);const V=f?W=>{const Q=wt(W);f(W,{x:Q[0],y:Q[1]})}:void 0,B=g?(W,Q)=>{const G=v.getState().nodeInternals.get(Q);g(W,G)}:void 0;return F.createElement(cl,{position:d,style:e,className:Me(["react-flow__minimap",t]),"data-testid":"rf__minimap"},F.createElement("svg",{width:P,height:O,viewBox:`${A} ${b} ${E} ${M}`,role:"img","aria-labelledby":z,ref:S,onClick:V},_&&F.createElement("title",{id:z},_),F.createElement(aE,{onClick:B,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:o,nodeStrokeWidth:i,nodeComponent:l}),F.createElement("path",{className:"react-flow__minimap-mask",d:`M${A-k},${b-k}h${E+k*2}v${M+k*2}h${-E-k*2}z
        M${I.x},${I.y}h${I.width}v${I.height}h${-I.width}z`,fill:a,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}Lg.displayName="MiniMap";var hE=R.memo(Lg);function pE(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},F.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function mE(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},F.createElement("path",{d:"M0 0h32v4.2H0z"}))}function gE(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},F.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function yE(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},F.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function xE(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},F.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Co=({children:e,className:t,...n})=>F.createElement("button",{type:"button",className:Me(["react-flow__controls-button",t]),...n},e);Co.displayName="ControlButton";const vE=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Fg=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:s,onZoomOut:i,onFitView:l,onInteractiveChange:a,className:u,children:c,position:d="bottom-left"})=>{const f=Ce(),[g,w]=R.useState(!1),{isInteractive:N,minZoomReached:_,maxZoomReached:h}=le(vE,Pe),{zoomIn:m,zoomOut:x,fitView:v}=hl();if(R.useEffect(()=>{w(!0)},[]),!g)return null;const S=()=>{m(),s==null||s()},C=()=>{x(),i==null||i()},I=()=>{v(o),l==null||l()},j=()=>{f.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),a==null||a(!N)};return F.createElement(cl,{className:Me(["react-flow__controls",u]),position:d,style:e,"data-testid":"rf__controls"},t&&F.createElement(F.Fragment,null,F.createElement(Co,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:h},F.createElement(pE,null)),F.createElement(Co,{onClick:C,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:_},F.createElement(mE,null))),n&&F.createElement(Co,{className:"react-flow__controls-fitview",onClick:I,title:"fit view","aria-label":"fit view"},F.createElement(gE,null)),r&&F.createElement(Co,{className:"react-flow__controls-interactive",onClick:j,title:"toggle interactivity","aria-label":"toggle interactivity"},N?F.createElement(xE,null):F.createElement(yE,null)),c)};Fg.displayName="Controls";var wE=R.memo(Fg),ht;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ht||(ht={}));function NE({color:e,dimensions:t,lineWidth:n}){return F.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function SE({color:e,radius:t}){return F.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const EE={[ht.Dots]:"#91919a",[ht.Lines]:"#eee",[ht.Cross]:"#e2e2e2"},kE={[ht.Dots]:1,[ht.Lines]:1,[ht.Cross]:6},_E=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Hg({id:e,variant:t=ht.Dots,gap:n=20,size:r,lineWidth:o=1,offset:s=2,color:i,style:l,className:a}){const u=R.useRef(null),{transform:c,patternId:d}=le(_E,Pe),f=i||EE[t],g=r||kE[t],w=t===ht.Dots,N=t===ht.Cross,_=Array.isArray(n)?n:[n,n],h=[_[0]*c[2]||1,_[1]*c[2]||1],m=g*c[2],x=N?[m,m]:h,v=w?[m/s,m/s]:[x[0]/s,x[1]/s];return F.createElement("svg",{className:Me(["react-flow__background",a]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},F.createElement("pattern",{id:d+e,x:c[0]%h[0],y:c[1]%h[1],width:h[0],height:h[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${v[0]},-${v[1]})`},w?F.createElement(SE,{color:f,radius:m/s}):F.createElement(NE,{dimensions:x,color:f,lineWidth:o})),F.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}Hg.displayName="Background";var CE=R.memo(Hg);const Vg={},{useDebugValue:bE}=F,{useSyncExternalStoreWithSelector:IE}=mm;let Ff=!1;const PE=e=>e;function TE(e,t=PE,n){(Vg?"production":void 0)!=="production"&&n&&!Ff&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ff=!0);const r=IE(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return bE(r),r}const jE=e=>{(Vg?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?gm(e):e,n=(r,o)=>TE(t,r,o);return Object.assign(n,t),n},$E=e=>jE;var Bg=Symbol.for("immer-nothing"),Hf=Symbol.for("immer-draftable"),nt=Symbol.for("immer-state");function Et(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Xr=Object.getPrototypeOf;function Gr(e){return!!e&&!!e[nt]}function nr(e){var t;return e?Ug(e)||Array.isArray(e)||!!e[Hf]||!!((t=e.constructor)!=null&&t[Hf])||ml(e)||gl(e):!1}var ME=Object.prototype.constructor.toString();function Ug(e){if(!e||typeof e!="object")return!1;const t=Xr(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===ME}function Li(e,t){pl(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function pl(e){const t=e[nt];return t?t.type_:Array.isArray(e)?1:ml(e)?2:gl(e)?3:0}function yu(e,t){return pl(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Wg(e,t,n){const r=pl(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function AE(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ml(e){return e instanceof Map}function gl(e){return e instanceof Set}function Ln(e){return e.copy_||e.base_}function xu(e,t){if(ml(e))return new Map(e);if(gl(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Ug(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[nt];let o=Reflect.ownKeys(r);for(let s=0;s<o.length;s++){const i=o[s],l=r[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[i]})}return Object.create(Xr(e),r)}else{const r=Xr(e);if(r!==null&&n)return{...e};const o=Object.create(r);return Object.assign(o,e)}}function Ac(e,t=!1){return yl(e)||Gr(e)||!nr(e)||(pl(e)>1&&(e.set=e.add=e.clear=e.delete=zE),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Ac(r,!0))),e}function zE(){Et(2)}function yl(e){return Object.isFrozen(e)}var RE={};function rr(e){const t=RE[e];return t||Et(0,e),t}var ls;function Qg(){return ls}function DE(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Vf(e,t){t&&(rr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function vu(e){wu(e),e.drafts_.forEach(OE),e.drafts_=null}function wu(e){e===ls&&(ls=e.parent_)}function Bf(e){return ls=DE(ls,e)}function OE(e){const t=e[nt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Uf(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[nt].modified_&&(vu(t),Et(4)),nr(e)&&(e=Fi(t,e),t.parent_||Hi(t,e)),t.patches_&&rr("Patches").generateReplacementPatches_(n[nt].base_,e,t.patches_,t.inversePatches_)):e=Fi(t,n,[]),vu(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Bg?e:void 0}function Fi(e,t,n){if(yl(t))return t;const r=t[nt];if(!r)return Li(t,(o,s)=>Wf(e,r,t,o,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Hi(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let s=o,i=!1;r.type_===3&&(s=new Set(o),o.clear(),i=!0),Li(s,(l,a)=>Wf(e,r,o,l,a,n,i)),Hi(e,o,!1),n&&e.patches_&&rr("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Wf(e,t,n,r,o,s,i){if(Gr(o)){const l=s&&t&&t.type_!==3&&!yu(t.assigned_,r)?s.concat(r):void 0,a=Fi(e,o,l);if(Wg(n,r,a),Gr(a))e.canAutoFreeze_=!1;else return}else i&&n.add(o);if(nr(o)&&!yl(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Fi(e,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Hi(e,o)}}function Hi(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ac(t,n)}function LE(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Qg(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,s=zc;n&&(o=[r],s=as);const{revoke:i,proxy:l}=Proxy.revocable(o,s);return r.draft_=l,r.revoke_=i,l}var zc={get(e,t){if(t===nt)return e;const n=Ln(e);if(!yu(n,t))return FE(e,n,t);const r=n[t];return e.finalized_||!nr(r)?r:r===oa(e.base_,t)?(sa(e),e.copy_[t]=Su(r,e)):r},has(e,t){return t in Ln(e)},ownKeys(e){return Reflect.ownKeys(Ln(e))},set(e,t,n){const r=qg(Ln(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=oa(Ln(e),t),s=o==null?void 0:o[nt];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(AE(n,o)&&(n!==void 0||yu(e.base_,t)))return!0;sa(e),Nu(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return oa(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,sa(e),Nu(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ln(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Et(11)},getPrototypeOf(e){return Xr(e.base_)},setPrototypeOf(){Et(12)}},as={};Li(zc,(e,t)=>{as[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});as.deleteProperty=function(e,t){return as.set.call(this,e,t,void 0)};as.set=function(e,t,n){return zc.set.call(this,e[0],t,n,e[0])};function oa(e,t){const n=e[nt];return(n?Ln(n):e)[t]}function FE(e,t,n){var o;const r=qg(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function qg(e,t){if(!(t in e))return;let n=Xr(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Xr(n)}}function Nu(e){e.modified_||(e.modified_=!0,e.parent_&&Nu(e.parent_))}function sa(e){e.copy_||(e.copy_=xu(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var HE=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const i=this;return function(a=s,...u){return i.produce(a,c=>n.call(this,c,...u))}}typeof n!="function"&&Et(6),r!==void 0&&typeof r!="function"&&Et(7);let o;if(nr(t)){const s=Bf(this),i=Su(t,void 0);let l=!0;try{o=n(i),l=!1}finally{l?vu(s):wu(s)}return Vf(s,r),Uf(o,s)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===Bg&&(o=void 0),this.autoFreeze_&&Ac(o,!0),r){const s=[],i=[];rr("Patches").generateReplacementPatches_(t,o,s,i),r(s,i)}return o}else Et(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...l)=>this.produceWithPatches(i,a=>t(a,...l));let r,o;return[this.produce(t,n,(i,l)=>{r=i,o=l}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){nr(e)||Et(8),Gr(e)&&(e=VE(e));const t=Bf(this),n=Su(e,void 0);return n[nt].isManual_=!0,wu(t),n}finishDraft(e,t){const n=e&&e[nt];(!n||!n.isManual_)&&Et(9);const{scope_:r}=n;return Vf(r,t),Uf(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=rr("Patches").applyPatches_;return Gr(e)?r(e,t):this.produce(e,o=>r(o,t))}};function Su(e,t){const n=ml(e)?rr("MapSet").proxyMap_(e,t):gl(e)?rr("MapSet").proxySet_(e,t):LE(e,t);return(t?t.scope_:Qg()).drafts_.push(n),n}function VE(e){return Gr(e)||Et(10,e),Kg(e)}function Kg(e){if(!nr(e)||yl(e))return e;const t=e[nt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=xu(e,t.scope_.immer_.useStrictShallowCopy_)}else n=xu(e,!0);return Li(n,(r,o)=>{Wg(n,r,Kg(o))}),t&&(t.finalized_=!1),n}var rt=new HE,BE=rt.produce;rt.produceWithPatches.bind(rt);rt.setAutoFreeze.bind(rt);rt.setUseStrictShallowCopy.bind(rt);rt.applyPatches.bind(rt);rt.createDraft.bind(rt);rt.finishDraft.bind(rt);const UE=e=>(t,n,r)=>(r.setState=(o,s,...i)=>{const l=typeof o=="function"?BE(o):o;return t(l,s,...i)},e(r.setState,n,r)),WE=UE,Fn=class Fn{constructor(){ys(this,"counters",new Map);ys(this,"pathRegistry",{nodeToPathsMap:new Map,pathToNodeMap:new Map})}static getInstance(){return Fn.instance||(Fn.instance=new Fn),Fn.instance}generateQuestionPathId(t,n,r){return t?`${t.pathId}-Q${n}`:`${r}-Q${n}`}generateAnswerPathId(t,n){return`${t.pathId}-A${n}`}generateOutcomePathId(t,n){return`${t.pathId}-E${n}`}generateVariantPathId(t,n){return`${t}-V${n+1}`}parseVariantFromPath(t){const n=t.match(/(.*-A\d+)-V(\d+)/);return n?{answerPath:n[1],variantNumber:parseInt(n[2])}:null}parsePathId(t){const n=t.split("-"),r=n[0],o=[];for(let s=1;s<n.length;s++){const i=n[s];i.startsWith("Q")?o.push({type:"Q",number:parseInt(i.substring(1))}):i.startsWith("A")&&o.push({type:"A",number:parseInt(i.substring(1))})}return{topic:r,segments:o}}parsePathIdWithVariants(t){const n=t.split("-"),r=n[0],o=[];for(let s=1;s<n.length;s++){const i=n[s];if(i.startsWith("Q"))o.push({type:"Q",number:parseInt(i.substring(1))});else if(i.startsWith("A"))o.push({type:"A",number:parseInt(i.substring(1))});else if(i.startsWith("V")&&i.includes("+V")){const l=i.substring(1).split("+V").map(a=>parseInt(a));o.push({type:"VC",numbers:l})}else i.startsWith("V")?o.push({type:"V",number:parseInt(i.substring(1))}):i.startsWith("E")&&o.push({type:"E",number:parseInt(i.substring(1))})}return{topic:r,segments:o}}getPathLevel(t){return this.parsePathId(t).segments.filter(r=>r.type==="Q").length}getParentPathId(t){const n=t.split("-");return n.length<=2?null:n.slice(0,-1).join("-")}generateEdgeId(t,n,r){const o=r?`-${r}`:"";return`edge-${t}-${n}${o}`}registerNode(t,n){this.pathRegistry.pathToNodeMap.set(n,t);const r=this.pathRegistry.nodeToPathsMap.get(t)||[];r.includes(n)||this.pathRegistry.nodeToPathsMap.set(t,[...r,n])}getNodePaths(t){return this.pathRegistry.nodeToPathsMap.get(t)||[]}getNodeForPath(t){return this.pathRegistry.pathToNodeMap.get(t)||null}recalculatePathIds(t,n,r){var g,w,N,_,h,m,x,v;const o={nodeToPathsMap:new Map,pathToNodeMap:new Map},s=new Map,i=new Map,l=new Map;t.forEach(S=>{s.set(S.id,S)}),n.forEach(S=>{const C=i.get(S.source)||[];C.push(S),i.set(S.source,C);const I=l.get(S.target)||[];I.push(S),l.set(S.target,I)});const a=t.filter(S=>S.type==="question"&&!n.some(C=>C.target===S.id));this.counters.clear();const u=new Map;t.forEach(S=>{u.set(S.id,{...S,data:{...S.data,pathIds:[],topic:r}})});const c=[];a.forEach(S=>{c.push({nodeId:S.id,parentPathId:null,level:1})});const d=new Set;for(;c.length>0;){const{nodeId:S,parentPathId:C,level:I}=c.shift(),j=u.get(S);if(!j)continue;let P;if(j.type==="question"){const y=this.getQuestionNumberForNode(j.id,C);C===null?P=`${r}-Q${y}`:P=`${C}-Q${y}`}else if(j.type==="answer"){const y=this.getAnswerNumberForNode(j.id,C||"STANDALONE");if(P=`${C||"STANDALONE"}-A${y}`,((g=j.data)==null?void 0:g.answerType)==="single"){const k=`${S}:${P}`;if(!d.has(k)){d.add(k);const A=u.get(S),b=A.data.pathIds||[];if(!b.includes(P)){u.set(S,{...A,data:{...A.data,pathId:P,primaryPathId:P,pathIds:[...b,P],isRoot:!1,questionLevel:I}}),o.pathToNodeMap.set(P,S);const E=o.nodeToPathsMap.get(S)||[];E.includes(P)||o.nodeToPathsMap.set(S,[...E,P])}}}else{const k=u.get(S),A=k.data.pathIds||[],b=[];if(((w=j.data)==null?void 0:w.answerType)==="multiple")(((N=j.data)==null?void 0:N.variants)||[]).forEach((z,$)=>{const V=`${P}-V${$+1}`;A.includes(V)||b.push(V)});else if(((_=j.data)==null?void 0:_.answerType)==="combinations"){const z=(((h=j.data)==null?void 0:h.variants)||[]).length;for(let $=1;$<Math.pow(2,z);$++){const V=[];for(let W=0;W<z;W++)$&1<<W&&V.push(W+1);const B=`${P}-V${V.join("+V")}`;A.includes(B)||b.push(B)}}const E=[...A,...b];u.set(S,{...k,data:{...k.data,pathId:P,pathIds:E,isRoot:!1,questionLevel:I}}),b.forEach(M=>{o.pathToNodeMap.set(M,S);const z=o.nodeToPathsMap.get(S)||[];z.includes(M)||o.nodeToPathsMap.set(S,[...z,M])})}const T=i.get(S)||[];((m=j.data)==null?void 0:m.answerType)==="single"?T.forEach(k=>{c.push({nodeId:k.target,parentPathId:P,level:I+1,sourceHandle:k.sourceHandle||void 0,sourceNodeId:S})}):((x=j.data)==null?void 0:x.answerType)==="multiple"?T.forEach(k=>{if(k.sourceHandle&&k.sourceHandle.startsWith("variant-")){const A=parseInt(k.sourceHandle.replace("variant-","")),b=`${P}-V${A+1}`;c.push({nodeId:k.target,parentPathId:b,level:I+1,sourceHandle:k.sourceHandle||void 0,sourceNodeId:S})}}):((v=j.data)==null?void 0:v.answerType)==="combinations"&&T.forEach(k=>{var A;if(k.sourceHandle&&k.sourceHandle.startsWith("combination-")){const b=k.sourceHandle.replace("combination-",""),E=((A=j.data)==null?void 0:A.variants)||[],M=[],z=E.length;for(let V=1;V<Math.pow(2,z);V++){const B=[];for(let Q=0;Q<z;Q++)V&1<<Q&&B.push(Q);const W={id:`combo-${V}`,variantIndices:B};M.push(W)}const $=M.find(V=>V.id===b);if($){const V=`${P}-V${$.variantIndices.join("+V")}`;c.push({nodeId:k.target,parentPathId:V,level:I+1,sourceHandle:k.sourceHandle||void 0,sourceNodeId:S})}}});continue}else if(j.type==="outcome"){const y=this.getOutcomeNumberForNode(j.id,C||"STANDALONE");P=`${C||"STANDALONE"}-E${y}`}else P=`${C||"STANDALONE"}-NODE`;const O=`${S}:${P}`;if(d.has(O))continue;d.add(O);const H=u.get(S),D=H.data.pathIds||[];if(!D.includes(P)){const y=[...D,P],T=H.data.primaryPathId,k=!T||P.length<(T||"").length;u.set(S,{...H,data:{...H.data,pathId:k?P:H.data.pathId||P,primaryPathId:k?P:T||P,pathIds:y,isRoot:C===null&&j.type==="question",questionLevel:I}})}o.pathToNodeMap.set(P,S);const L=o.nodeToPathsMap.get(S)||[];L.includes(P)||o.nodeToPathsMap.set(S,[...L,P]),j.type!=="answer"&&(i.get(S)||[]).forEach(T=>{if(u.get(T.target)){const A=j.type==="question"?I:I+1;c.push({nodeId:T.target,parentPathId:P,level:A,sourceHandle:T.sourceHandle||void 0,sourceNodeId:S})}})}return t.forEach(S=>{var I,j;const C=u.get(S.id);if(C&&(!C.data.pathIds||C.data.pathIds.length===0)){if(S.type==="answer"&&(((I=S.data)==null?void 0:I.answerType)==="multiple"||((j=S.data)==null?void 0:j.answerType)==="combinations"))return;let P;S.type==="question"?P=`ORPHAN-Q${this.getQuestionNumberForNode(S.id,"ORPHAN")}`:S.type==="answer"?P=`ORPHAN-A${this.getAnswerNumberForNode(S.id,"ORPHAN")}`:S.type==="outcome"?P=`ORPHAN-E${this.getOutcomeNumberForNode(S.id,"ORPHAN")}`:P="ORPHAN-NODE";const O=`${S.id}:${P}`;if(!d.has(O)){d.add(O);const H=u.get(S.id);u.set(S.id,{...H,data:{...H.data,pathId:P,primaryPathId:P,pathIds:[P],isRoot:!1,questionLevel:1}}),o.pathToNodeMap.set(P,S.id),o.nodeToPathsMap.set(S.id,[P])}}}),this.pathRegistry=o,{nodes:Array.from(u.values()),registry:o}}getNextQuestionNumber(t){const n=`Q-${t||"ROOT"}`,r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}getNextAnswerNumber(t){const n=`A-${t}`,r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}getNextOutcomeNumber(t){const n=`E-${t}`,r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}getQuestionNumberForNode(t,n){const r=`Q-NODE-${t}`;if(this.counters.has(r))return this.counters.get(r);const o=`Q-${n||"ROOT"}`,i=(this.counters.get(o)||0)+1;return this.counters.set(o,i),this.counters.set(r,i),i}getAnswerNumberForNode(t,n){const r=`A-NODE-${t}`;if(this.counters.has(r))return this.counters.get(r);const o=`A-${n}`,i=(this.counters.get(o)||0)+1;return this.counters.set(o,i),this.counters.set(r,i),i}getOutcomeNumberForNode(t,n){const r=`E-NODE-${t}`;if(this.counters.has(r))return this.counters.get(r);const o=`E-${n}`,i=(this.counters.get(o)||0)+1;return this.counters.set(o,i),this.counters.set(r,i),i}reset(){this.counters.clear(),this.pathRegistry={nodeToPathsMap:new Map,pathToNodeMap:new Map}}getRegistry(){return this.pathRegistry}getDisplayLabel(t,n){const r=this.parsePathId(t),o=[];switch(r.segments.forEach(s=>{s.type==="Q"&&o.push(s.number)}),n){case"question":return`Q${o.join(".")}`;case"answer":const s=r.segments.filter(i=>i.type==="A").pop();return`A${(s==null?void 0:s.number)||"?"}`;case"outcome":return`Outcome ${this.getPathLevel(t)}`;default:return t}}calculatePathScore(t,n){const r=this.parsePathIdWithVariants(t);let o=0,s=r.topic;for(let i=0;i<r.segments.length;i++){const l=r.segments[i];if(l.type==="Q")s+=`-Q${l.number}`;else if(l.type==="A")s+=`-A${l.number}`;else if(l.type==="V"&&l.number!==void 0){s+=`-V${l.number}`;const a=s.substring(0,s.lastIndexOf("-V")),u=this.getNodeForPath(a);if(u){const c=n.find(d=>d.id===u);if(c&&c.data.variants){const d=l.number-1,f=c.data.variants[d];f&&(o+=f.score||0)}}}else if(l.type==="VC"&&l.numbers){const a=`V${l.numbers.join("+V")}`;s+=`-${a}`;const u=s.substring(0,s.lastIndexOf("-V")),c=this.getNodeForPath(u);if(c){const d=n.find(f=>f.id===c);d&&d.data.variants&&l.numbers.forEach(f=>{const g=d.data.variants[f];g&&(o+=g.score||0)})}}else l.type==="E"&&l.number!==void 0&&(s+=`-E${l.number}`)}return o}getHumanReadablePath(t,n){const r=this.parsePathIdWithVariants(t),o=[];let s="";return r.segments.forEach((i,l)=>{if(i.type==="Q"&&i.number!==void 0){s=l===0?`${r.topic}-Q${i.number}`:s+`-Q${i.number}`;const a=this.getNodeForPath(s),u=n.find(c=>c.id===a);u&&o.push(`Q${i.number}: ${u.data.questionText||"Question"}`)}else if(i.type==="A"&&i.number!==void 0)s+=`-A${i.number}`,o.push(`Answer ${i.number}`);else if(i.type==="V"&&i.number!==void 0){const a=s;s+=`-V${i.number}`;const u=this.getNodeForPath(a),c=n.find(d=>d.id===u);if(c&&c.data.variants){const d=c.data.variants[i.number-1];d&&o.push(`→ "${d.text}"`)}}else if(i.type==="VC"&&i.numbers){const a=s,u=`V${i.numbers.join("+V")}`;s+=`-${u}`;const c=this.getNodeForPath(a),d=n.find(f=>f.id===c);if(d&&d.data.variants){const f=i.numbers.map(g=>{var w;return(w=d.data.variants[g])==null?void 0:w.text}).filter(Boolean);f.length>0&&o.push(`→ [${f.join(" + ")}]`)}}else i.type==="E"&&i.number!==void 0&&(s+=`-E${i.number}`,o.push(`Outcome ${i.number}`))}),o.join(" ")}printPathStructure(t){console.log("=== Path Structure Debug ==="),t.forEach(n=>{n.data.pathIds?(console.log(`Node ${n.id} (${n.type}):`),console.log(`  Primary: ${n.data.pathId||n.data.primaryPathId}`),console.log(`  All paths: ${n.data.pathIds.join(", ")}`)):n.data.pathId&&console.log(`Node ${n.id} (${n.type}): ${n.data.pathId}`)}),console.log("=== Counters ==="),this.counters.forEach((n,r)=>{console.log(`${r}: ${n}`)})}};ys(Fn,"instance");let at=Fn;const ke=$E()(WE((e,t)=>({nodes:[],edges:[],selectedNodeId:null,focusNodeId:null,history:[{nodes:[],edges:[]}],historyIndex:0,addNode:n=>{t().saveToHistory(),e(r=>{r.nodes.push(n)})},updateNode:(n,r)=>e(o=>{const s=o.nodes.findIndex(i=>i.id===n);s!==-1&&(o.nodes[s].data={...o.nodes[s].data,...r})}),updateNodePosition:(n,r)=>e(o=>{const s=o.nodes.findIndex(i=>i.id===n);s!==-1&&(o.nodes[s].position=r)}),deleteNode:n=>{t().saveToHistory(),e(r=>{r.nodes=r.nodes.filter(s=>s.id!==n);const o=r.edges.filter(s=>s.source===n||s.target===n);r.edges=r.edges.filter(s=>s.source!==n&&s.target!==n),r.selectedNodeId===n&&(r.selectedNodeId=null),o.length>0&&console.log(`Cleaned up ${o.length} edges for deleted node ${n}`)})},addEdge:n=>{t().saveToHistory(),e(r=>{var s;if(!r.edges.some(i=>i.source===n.source&&i.target===n.target&&i.sourceHandle===n.sourceHandle&&i.targetHandle===n.targetHandle)){r.edges.push(n);const i=r.nodes.find(a=>a.id===n.target),l=r.nodes.find(a=>a.id===n.source);if(i&&i.type==="outcome"&&l){const a=r.nodes.findIndex(u=>u.id===n.target);if(a!==-1){const u=at.getInstance(),c=((s=l.data)==null?void 0:s.pathId)||"PATH",d=u.getOutcomeNumberForNode(n.target,c),f=`${c}-E${d}`;r.nodes[a].data={...r.nodes[a].data,pathId:f},console.log(`Updated outcome node path ID to: ${f}`)}}}})},deleteEdge:n=>{t().saveToHistory(),e(r=>{r.edges=r.edges.filter(o=>o.id!==n)})},setNodes:n=>e(r=>{r.nodes=n}),setEdges:n=>e(r=>{r.edges=n}),setSelectedNodeId:n=>e(r=>{r.selectedNodeId=n}),focusOnNode:n=>e(r=>{r.focusNodeId=n}),clearFocusNode:()=>e(n=>{n.focusNodeId=null}),cleanupDuplicateEdges:()=>e(n=>{const r=[],o=new Set;n.edges.forEach(i=>{const l=`${i.source}-${i.target}-${i.sourceHandle||""}-${i.targetHandle||""}`;o.has(l)||(o.add(l),r.push(i))});const s=n.edges.length-r.length;n.edges=r,s>0&&console.log(`Removed ${s} duplicate edges`)}),recalculateFlowIds:(n,r)=>e(o=>{const i=at.getInstance().recalculatePathIds(o.nodes,o.edges,r);o.nodes=i.nodes,console.log(`Recalculated path IDs for topic: ${r}`)}),propagateTopicOnConnection:(n,r)=>e(o=>{var u;const s=o.nodes.find(c=>c.id===n),i=o.nodes.find(c=>c.id===r);if(!s||!i)return;const l=(c,d=new Set)=>{var w,N,_;if(d.has(c))return null;d.add(c);const f=o.nodes.find(h=>h.id===c);if(!f)return null;if((w=f.data)!=null&&w.topic&&((N=f.data)!=null&&N.isRoot)||(_=f.data)!=null&&_.topic)return f.data.topic;const g=o.edges.find(h=>h.target===c);return g?l(g.source,d):null},a=l(n);if(a&&(!((u=i.data)!=null&&u.topic)||i.data.topic!==a)){const c=o.nodes.findIndex(d=>d.id===r);c!==-1&&(o.nodes[c].data={...o.nodes[c].data,topic:a},console.log(`Propagated topic "${a}" to node ${r}`))}}),propagatePathIdOnConnection:(n,r,o)=>e(s=>{var c,d,f,g,w,N,_;const i=s.nodes.find(h=>h.id===n),l=s.nodes.find(h=>h.id===r);if(!i||!l)return;const a=at.getInstance();let u=[];if(((c=i.data)==null?void 0:c.answerType)==="multiple"&&(o!=null&&o.startsWith("variant-"))){const h=(d=i.data)==null?void 0:d.pathId;if(h&&!h.startsWith("ORPHAN-")){const x=`V${parseInt(o.replace("variant-",""))+1}`,v=`${h}-${x}`;u=[v],console.log(`Generated variant path for Multiple answer: ${v} from base ${h}`)}else{console.log(`Source node ${n} has invalid base path for Multiple variant connection`);return}}else if(((f=i.data)==null?void 0:f.answerType)==="combinations"&&(o!=null&&o.startsWith("combination-"))){const h=(g=i.data)==null?void 0:g.pathId;if(h&&!h.startsWith("ORPHAN-")){const m=o.replace("combination-",""),x=((w=i.data)==null?void 0:w.variants)||[],v=[],S=x.length;for(let I=1;I<Math.pow(2,S);I++){const j=[];for(let O=0;O<S;O++)I&1<<O&&j.push(O);const P={id:`combo-${I}`,variantIndices:j};v.push(P)}const C=v.find(I=>I.id===m);if(C){const I=`V${C.variantIndices.join("+V")}`,j=`${h}-${I}`;u=[j],console.log(`Generated combination path for Combinations answer: ${j} from base ${h}`)}else{console.log(`Could not find matching combination for ${m}`);return}}else{console.log(`Source node ${n} has invalid base path for Combinations connection`);return}}else u=((N=i.data)==null?void 0:N.pathIds)||[(_=i.data)==null?void 0:_.pathId].filter(Boolean);if(u.length===0){console.log(`Source node ${n} has no valid path IDs for propagation`);return}u.forEach(h=>{var v,S;let m;if(l.type==="question"){const C=a.getQuestionNumberForNode(r,h);m=`${h}-Q${C}`}else if(l.type==="answer"){const C=a.getAnswerNumberForNode(r,h);m=`${h}-A${C}`}else if(l.type==="outcome"){const C=a.getOutcomeNumberForNode(r,h);m=`${h}-E${C}`}else m=`${h}-NODE`;const x=s.nodes.findIndex(C=>C.id===r);if(x!==-1){const C=((v=s.nodes[x].data)==null?void 0:v.pathIds)||[(S=s.nodes[x].data)==null?void 0:S.pathId].filter(Boolean);if(C.includes(m))console.log(`Path ID "${m}" already exists for node ${r}`);else{const I=[...C,m];s.nodes[x].data={...s.nodes[x].data,pathId:m,pathIds:I},console.log(`Added path ID "${m}" to ${l.type} node ${r} via handle "${o}". Total paths: ${I.length}`)}}})}),createLinkedQuestion:(n,r)=>e(o=>{var x,v,S,C,I,j,P;const s=o.nodes.find(O=>O.id===n);if(!s)return;const i=at.getInstance(),l=i.getNextQuestionNumber(((x=s.data)==null?void 0:x.pathId)||null),a=((v=s.data)==null?void 0:v.topic)||"NEW-TOPIC",u=(S=s.data)!=null&&S.pathId?{nodeId:s.id,pathId:s.data.pathId,parentPathId:null,level:((C=s.data)==null?void 0:C.questionLevel)||1,topic:a}:null,c=i.generateQuestionPathId(u,l,a),d=`q-${Date.now()}`,f={id:d,type:"question",position:r,data:{pathId:c,topic:a,questionText:"New Question",questionLevel:(((I=s.data)==null?void 0:I.questionLevel)||1)+1,elementId:"NEW",subElementId:"NEW"}},g=i.getNextAnswerNumber(c),w={nodeId:d,pathId:c,parentPathId:((j=s.data)==null?void 0:j.pathId)||null,level:(((P=s.data)==null?void 0:P.questionLevel)||1)+1,topic:a},N=i.generateAnswerPathId(w,g),_=`a-${Date.now()}`,h={id:_,type:"answer",position:{x:r.x,y:r.y+120},data:{pathId:N,answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}},m={id:i.generateEdgeId(d,_),source:d,target:_,animated:!0};o.nodes.push(f,h),o.edges.push(m)}),importFromExcel:n=>e(r=>{r.nodes=n.nodes,r.edges=n.edges}),exportToFormat:n=>{const{nodes:r,edges:o}=t();return n==="json"?{nodes:r,edges:o}:null},clearFlow:()=>e(n=>{n.nodes=[],n.edges=[],n.selectedNodeId=null,n.focusNodeId=null,n.history=[{nodes:[],edges:[]}],n.historyIndex=0,at.getInstance().reset()}),saveToHistory:()=>e(n=>{const r={nodes:JSON.parse(JSON.stringify(n.nodes)),edges:JSON.parse(JSON.stringify(n.edges))};n.history=n.history.slice(0,n.historyIndex+1),n.history.push(r),n.historyIndex=n.history.length-1,n.history.length>50&&(n.history.shift(),n.historyIndex=n.history.length-1)}),undo:()=>e(n=>{if(n.historyIndex>0){n.historyIndex--;const r=n.history[n.historyIndex];n.nodes=JSON.parse(JSON.stringify(r.nodes)),n.edges=JSON.parse(JSON.stringify(r.edges)),console.log("Undo: Restored state from history index",n.historyIndex)}}),redo:()=>e(n=>{if(n.historyIndex<n.history.length-1){n.historyIndex++;const r=n.history[n.historyIndex];n.nodes=JSON.parse(JSON.stringify(r.nodes)),n.edges=JSON.parse(JSON.stringify(r.edges)),console.log("Redo: Restored state from history index",n.historyIndex)}}),propagatePathToAll:()=>{t().saveToHistory(),e(n=>{const r=n.nodes.filter(s=>{var i,l;return((i=s.data)==null?void 0:i.isRoot)&&((l=s.data)==null?void 0:l.topic)});if(r.length===0){console.log("No root nodes with topics found");return}console.log(`Found ${r.length} root nodes with topics`);const o=at.getInstance();if(o.reset(),r.length===1){const s=r[0].data.topic;console.log(`Recalculating path IDs for single topic "${s}"`);const i=o.recalculatePathIds(n.nodes,n.edges,s);n.nodes=i.nodes,console.log(`Recalculated path IDs for topic "${s}"`)}else{console.log("Multiple root nodes detected - processing each topic separately");const s=new Map,i=new Map;r.forEach(a=>{const u=a.data.topic;s.has(u)||(s.set(u,[]),i.set(u,[]));const c=new Set,d=[a.id];for(c.add(a.id);d.length>0;){const w=d.shift();n.edges.filter(_=>_.source===w).forEach(_=>{c.has(_.target)||(c.add(_.target),d.push(_.target))})}const f=n.nodes.filter(w=>c.has(w.id)),g=n.edges.filter(w=>c.has(w.source)&&c.has(w.target));s.set(u,f),i.set(u,g)});let l=[];s.forEach((a,u)=>{const c=i.get(u)||[];console.log(`Processing topic "${u}" with ${a.length} nodes and ${c.length} edges`);const d=o.recalculatePathIds(a,c,u);l=l.concat(d.nodes)}),n.nodes=l}console.log("Path ID propagation completed")})}}))),Yg=["shift","alt","meta","mod","ctrl","control"],QE={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function En(e){return(QE[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function Xg(e){return Yg.includes(e)}function ia(e,t=","){return e.toLowerCase().split(t)}function la(e,t="+",n=">",r=!1,o){let s=[],i=!1;e.includes(n)?(i=!0,s=e.toLocaleLowerCase().split(n).map(u=>En(u))):s=e.toLocaleLowerCase().split(t).map(u=>En(u));const l={alt:s.includes("alt"),ctrl:s.includes("ctrl")||s.includes("control"),shift:s.includes("shift"),meta:s.includes("meta"),mod:s.includes("mod"),useKey:r},a=s.filter(u=>!Yg.includes(u));return{...l,keys:a,description:o,isSequence:i}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&Gg([En(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&Zg([En(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{Qt.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{Qt.clear()},0)}));const Qt=new Set;function Rc(e){return Array.isArray(e)}function qE(e,t=","){return(Rc(e)?e:e.split(t)).every(n=>Qt.has(n.trim().toLowerCase()))}function Gg(e){const t=Array.isArray(e)?e:[e];Qt.has("meta")&&Qt.forEach(n=>!Xg(n)&&Qt.delete(n.toLowerCase())),t.forEach(n=>Qt.add(n.toLowerCase()))}function Zg(e){const t=Array.isArray(e)?e:[e];e==="meta"?Qt.clear():t.forEach(n=>Qt.delete(n.toLowerCase()))}function KE(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function YE(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function XE(e){return Jg(e,["input","textarea","select"])}function Jg(e,t=!1){const{target:n,composed:r}=e;let o;return GE(n)&&r?o=e.composedPath()[0]&&e.composedPath()[0].tagName:o=n&&n.tagName,Rc(t)?!!(o&&t&&t.some(s=>s.toLowerCase()===o.toLowerCase())):!!(o&&t&&t)}function GE(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function ZE(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(n=>t.includes(n))||e.includes("*"):!0}const JE=(e,t,n=!1)=>{const{alt:r,meta:o,mod:s,shift:i,ctrl:l,keys:a,useKey:u}=t,{code:c,key:d,ctrlKey:f,metaKey:g,shiftKey:w,altKey:N}=e,_=En(c);if(u&&(a==null?void 0:a.length)===1&&a.includes(d))return!0;if(!(a!=null&&a.includes(_))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(_))return!1;if(!n){if(r!==N&&_!=="alt"||i!==w&&_!=="shift")return!1;if(s){if(!g&&!f)return!1}else if(o!==g&&_!=="meta"&&_!=="os"||l!==f&&_!=="ctrl"&&_!=="control")return!1}return a&&a.length===1&&a.includes(_)?!0:a?qE(a):!a},ek=R.createContext(void 0),tk=()=>R.useContext(ek);function e0(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((n,r)=>n&&e0(e[r],t[r]),!0):e===t}const nk=R.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),rk=()=>R.useContext(nk);function ok(e){const t=R.useRef(void 0);return e0(t.current,e)||(t.current=e),t.current}const Qf=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},sk=typeof window<"u"?R.useLayoutEffect:R.useEffect;function vo(e,t,n,r){const o=R.useRef(null),s=R.useRef(!1),i=n instanceof Array?r instanceof Array?void 0:r:n,l=Rc(e)?e.join(i==null?void 0:i.delimiter):e,a=n instanceof Array?n:r instanceof Array?r:void 0,u=R.useCallback(t,a??[]),c=R.useRef(u);a?c.current=u:c.current=t;const d=ok(i),{activeScopes:f}=rk(),g=tk();return sk(()=>{if((d==null?void 0:d.enabled)===!1||!ZE(f,d==null?void 0:d.scopes))return;let w=[],N;const _=(v,S=!1)=>{var C;if(!(XE(v)&&!Jg(v,d==null?void 0:d.enableOnFormTags))){if(o.current!==null){const I=o.current.getRootNode();if((I instanceof Document||I instanceof ShadowRoot)&&I.activeElement!==o.current&&!o.current.contains(I.activeElement)){Qf(v);return}}(C=v.target)!=null&&C.isContentEditable&&!(d!=null&&d.enableOnContentEditable)||ia(l,d==null?void 0:d.delimiter).forEach(I=>{var j,P,O,H;if(I.includes((d==null?void 0:d.splitKey)??"+")&&I.includes((d==null?void 0:d.sequenceSplitKey)??">")){console.warn(`Hotkey ${I} contains both ${(d==null?void 0:d.splitKey)??"+"} and ${(d==null?void 0:d.sequenceSplitKey)??">"} which is not supported.`);return}const D=la(I,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description);if(D.isSequence){N=setTimeout(()=>{w=[]},(d==null?void 0:d.sequenceTimeoutMs)??1e3);const L=D.useKey?v.key:En(v.code);if(Xg(L.toLowerCase()))return;w.push(L);const y=(j=D.keys)==null?void 0:j[w.length-1];if(L!==y){w=[],N&&clearTimeout(N);return}w.length===((P=D.keys)==null?void 0:P.length)&&(c.current(v,D),N&&clearTimeout(N),w=[])}else if(JE(v,D,d==null?void 0:d.ignoreModifiers)||(O=D.keys)!=null&&O.includes("*")){if((H=d==null?void 0:d.ignoreEventWhen)!=null&&H.call(d,v)||S&&s.current)return;if(KE(v,D,d==null?void 0:d.preventDefault),!YE(v,D,d==null?void 0:d.enabled)){Qf(v);return}c.current(v,D),S||(s.current=!0)}})}},h=v=>{v.code!==void 0&&(Gg(En(v.code)),((d==null?void 0:d.keydown)===void 0&&(d==null?void 0:d.keyup)!==!0||d!=null&&d.keydown)&&_(v))},m=v=>{v.code!==void 0&&(Zg(En(v.code)),s.current=!1,d!=null&&d.keyup&&_(v,!0))},x=o.current||(i==null?void 0:i.document)||document;return x.addEventListener("keyup",m,i==null?void 0:i.eventListenerOptions),x.addEventListener("keydown",h,i==null?void 0:i.eventListenerOptions),g&&ia(l,d==null?void 0:d.delimiter).forEach(v=>g.addHotkey(la(v,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description))),()=>{x.removeEventListener("keyup",m,i==null?void 0:i.eventListenerOptions),x.removeEventListener("keydown",h,i==null?void 0:i.eventListenerOptions),g&&ia(l,d==null?void 0:d.delimiter).forEach(v=>g.removeHotkey(la(v,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description))),w=[],N&&clearTimeout(N)}},[l,d,f]),o}function ik(){const{selectedNodeId:e,createLinkedQuestion:t,deleteNode:n,undo:r,redo:o}=ke();vo("tab",s=>{if(s.preventDefault(),e){const i=ke.getState().nodes.find(l=>l.id===e);if(i){const l={x:i.position.x+300,y:i.position.y};t(e,l)}}}),vo("delete, backspace",()=>{e&&n(e)}),vo("ctrl+z, cmd+z",s=>{s.preventDefault(),r()}),vo("ctrl+y, cmd+shift+z",s=>{s.preventDefault(),o()}),vo("escape",()=>{ke.getState().setSelectedNodeId(null)})}function lk({id:e,data:t,selected:n}){const{setSelectedNodeId:r,updateNode:o,recalculateFlowIds:s,propagateTopicOnConnection:i,propagatePathIdOnConnection:l,focusOnNode:a,edges:u}=ke(),c=()=>{r(e)},d=_=>{const h=_.target;if(h.tagName==="INPUT"||h.tagName==="TEXTAREA"||h.closest("input")||h.closest("textarea"))return;const m=u.find(x=>x.source===e);m&&a(m.target)},f=_=>{o(e,{questionText:_.target.value})},g=_=>{const h=_.target.value;o(e,{topic:h}),t.isRoot&&s(e,h)},w=_=>{_.stopPropagation()},N=()=>{const{nodes:_,addNode:h,addEdge:m,edges:x}=ke.getState();if(x.find(P=>P.source===e)){console.log("This question already has a connection. Only one outgoing connection is allowed.");return}const S=_.find(P=>P.id===e);if(!S)return;const C=`answer-${Date.now()}`,I={id:C,type:"answer",position:{x:S.position.x+150,y:S.position.y+150},data:{pathId:"path-id-will-be-generated",pathIds:[],answerType:"single",topic:t.topic,variants:[{id:`var-${Date.now()}`,text:"Answer option",score:0}]}};h(I);const j={id:`edge-${e}-${C}`,source:e,target:C,sourceHandle:null,targetHandle:null,animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};m(j),i(e,C),l(e,C)};return p.jsxs("div",{className:`
        bg-white rounded-lg shadow-lg border-2 p-4 min-w-[280px] max-w-[350px]
        ${n?"border-blue-500 shadow-xl ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer
      `,onClick:c,onDoubleClick:d,children:[p.jsx(kt,{type:"target",position:Y.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),p.jsx("span",{className:"text-xs font-semibold text-blue-600",children:t.isRoot?"Root Question":"Question"})]}),p.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:["Level ",t.questionLevel]})]}),p.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathIds&&t.pathIds.length>1?p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"font-semibold text-gray-600",children:["Paths (",t.pathIds.length,"):"]}),t.pathIds.map((_,h)=>p.jsx("div",{className:"text-xs",children:_},h))]}):t.pathId}),t.isRoot&&p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Topic"}),p.jsx("div",{onClick:w,onMouseDown:w,children:p.jsx("input",{type:"text",value:t.topic||"",onChange:g,className:"w-full p-2 border border-gray-200 rounded text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter topic...",onFocus:w,onKeyDown:w})})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Question"}),p.jsx("div",{onClick:w,onMouseDown:w,children:p.jsx("textarea",{value:t.questionText,onChange:f,className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm bg-gray-50 hover:bg-white transition-colors",rows:3,placeholder:"Enter your question here...",onFocus:w,onKeyDown:w})})]}),p.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[p.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:t.elementId}),p.jsx("span",{className:"text-gray-400",children:"|"}),p.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:t.subElementId})]})]}),p.jsx(kt,{type:"source",position:Y.Bottom,className:"w-3 h-3 bg-green-500 border-2 border-white cursor-pointer hover:bg-green-600 transition-colors",style:{background:"#22c55e"},onClick:_=>{_.stopPropagation(),N()}})]})}/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),t0=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=R.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...l},a)=>R.createElement("svg",{ref:a,...uk,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:t0("lucide",o),...l},[...i.map(([u,c])=>R.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const n=R.forwardRef(({className:r,...o},s)=>R.createElement(ck,{ref:s,iconNode:t,className:t0(`lucide-${ak(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=xe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=xe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=xe("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=xe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=xe("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=xe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=xe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=xe("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=xe("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=xe("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=xe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=xe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=xe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=xe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=xe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Ek({id:e,data:t,selected:n}){var L;const{setSelectedNodeId:r,updateNode:o,nodes:s,edges:i,addNode:l,addEdge:a,propagateTopicOnConnection:u,focusOnNode:c}=ke(),[d,f]=R.useState(t.answerType||"single");R.useEffect(()=>{f(t.answerType||"single")},[t.answerType]);const g=()=>{r(e)},w=y=>{if(d!=="single")return;const T=y.target;if(T.tagName==="INPUT"||T.tagName==="TEXTAREA"||T.closest("input")||T.closest("textarea")||T.closest("button"))return;const k=i.find(A=>A.source===e&&A.sourceHandle==="default");k&&c(k.target)},N=(y,T)=>{if(d!=="multiple")return;const k=T.target;if(k.tagName==="INPUT"||k.tagName==="TEXTAREA"||k.closest("input")||k.closest("textarea")||k.closest("button"))return;const A=`variant-${y}`,b=i.find(E=>E.source===e&&E.sourceHandle===A);b&&c(b.target)},_=(y,T)=>{if(d!=="combinations")return;const k=T.target;if(k.tagName==="INPUT"||k.tagName==="TEXTAREA"||k.closest("input")||k.closest("textarea")||k.closest("button"))return;const A=`combination-${y}`,b=i.find(E=>E.source===e&&E.sourceHandle===A);b&&c(b.target)},h=y=>{const{edges:T}=ke.getState();if(T.find($=>$.source===e&&$.sourceHandle===(y||"default"))){console.log("This answer variant already has a connection. Only one connection per variant is allowed.");return}const A=s.find($=>$.id===e);if(!A)return;let b=t.topic;if(!b){const $=V=>{var Q;const B=s.find(G=>G.id===V);if(!B)return"Topic";if((Q=B.data)!=null&&Q.topic)return B.data.topic;const W=ke.getState().edges.find(G=>G.target===V);return W?$(W.source):"Topic"};b=$(e)}const E=`question-${Date.now()}`,M={id:E,type:"question",position:{x:y==="default"?A.position.x:A.position.x+200,y:A.position.y+200},data:{pathId:"path-id-will-be-generated",topic:b,isRoot:!1,questionText:"",questionLevel:2,elementId:"E01",subElementId:"SE01"}};l(M);const z={id:`edge-${e}-${E}`,source:e,target:E,sourceHandle:y||"default",targetHandle:null,animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};a(z),u(e,E)},m=()=>{const y={id:`var-${Date.now()}`,text:"New Answer",score:0},T=t.variants||[];o(e,{variants:[...T,y]})},x=(y,T)=>{const A=(t.variants||[]).map(b=>b.id===y?{...b,...T}:b);o(e,{variants:A})},v=y=>{const T=t.variants||[];if(T.length>1){const k=T.filter(A=>A.id!==y);o(e,{variants:k})}},S=y=>{const T=[],k=y.length;for(let A=1;A<Math.pow(2,k);A++){const b=[];for(let M=0;M<k;M++)A&1<<M&&b.push(M);const E={id:`combo-${A}`,variantIndices:b,pathId:`combination-${b.join("-")}`,label:`Variants ${b.map(M=>M+1).join(" + ")}`};T.push(E)}return T},C=()=>{if(d!=="combinations")return[];const y=t.variants||[];return y.length<2?[]:t.combinations||S(y)},I=()=>C().filter(T=>{const k=`combination-${T.id}`;return i.some(A=>A.source===e&&A.sourceHandle===k)}),j=()=>C().filter(T=>{const k=`combination-${T.id}`;return!i.some(A=>A.source===e&&A.sourceHandle===k)}),P=y=>{if(console.log("Creating linked question for combination:",y),i.find(z=>z.source===e&&z.sourceHandle===`combination-${y}`)){console.log("This combination already has a connection. Only one connection per combination is allowed.");return}const k=s.find(z=>z.id===e);if(!k)return;let A=t.topic;if(!A){const z=$=>{var W;const V=s.find(Q=>Q.id===$);if(!V)return"Topic";if((W=V.data)!=null&&W.topic)return V.data.topic;const B=ke.getState().edges.find(Q=>Q.target===$);return B?z(B.source):"Topic"};A=z(e)}const b=`question-${Date.now()}`,E={id:b,type:"question",position:{x:k.position.x+200,y:k.position.y+200},data:{pathId:"path-id-will-be-generated",topic:A,isRoot:!1,questionText:"",questionLevel:2,elementId:"E01",subElementId:"SE01"}};l(E);const M={id:`edge-${e}-${b}`,source:e,target:b,sourceHandle:`combination-${y}`,targetHandle:null,animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};a(M),u(e,b)},O=y=>{f(y),o(e,{answerType:y});const{edges:T,deleteEdge:k,nodes:A,updateNode:b}=ke.getState(),E=T.filter(M=>M.source===e);console.log(`Switching to ${y} mode: removing ${E.length} outgoing edges and cleaning up pathIDs`),E.forEach(M=>{var $,V;const z=A.find(B=>B.id===M.target);if(z){const B=(($=z.data)==null?void 0:$.pathIds)||[(V=z.data)==null?void 0:V.pathId].filter(Boolean),W=t.pathId;if(W){const Q=B.filter(G=>!G.startsWith(W));b(M.target,{pathId:Q.length>0?Q[0]:void 0,pathIds:Q.length>0?Q:[]}),console.log(`Cleaned pathIDs for target node ${M.target}: removed paths starting with ${W}`)}}}),E.forEach(M=>k(M.id))},H=y=>{y.stopPropagation()},D=t.variants||[];return p.jsxs("div",{className:`
        bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg shadow-lg border-2 p-4 w-[350px]
        ${n?"border-purple-500 shadow-xl ring-2 ring-purple-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer relative
      `,onClick:g,onDoubleClick:w,children:[p.jsx(kt,{type:"target",position:Y.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),p.jsx("span",{className:"text-xs font-semibold text-purple-600",children:"Answer"})]}),t.answerLevel&&p.jsxs("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:["Level ",t.answerLevel]}),p.jsxs("div",{className:"flex items-center space-x-2 text-xs",onClick:H,onMouseDown:H,children:[p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"radio",value:"single",checked:d==="single",onChange:y=>O(y.target.value),className:"mr-1"}),"Single"]}),p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"radio",value:"multiple",checked:d==="multiple",onChange:y=>O(y.target.value),className:"mr-1"}),"Multiple"]}),p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"radio",value:"combinations",checked:d==="combinations",onChange:y=>O(y.target.value),className:"mr-1"}),"Combinations"]})]})]}),p.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathIds&&t.pathIds.length>0?t.pathIds.length>1?p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"font-semibold text-gray-600",children:["Paths (",t.pathIds.length,"):"]}),t.pathIds.map((y,T)=>p.jsx("div",{className:"text-xs",children:y},T))]}):t.pathIds[0]:t.pathId||"No path"}),p.jsx("div",{className:`text-xs rounded px-2 py-1 text-center font-medium ${d==="single"?"bg-blue-50 text-blue-600":d==="multiple"?"bg-green-50 text-green-600":"bg-yellow-50 text-yellow-600"}`,children:d==="single"?"↓ Single path (bottom)":d==="multiple"?"→ Multiple paths (variants)":"→ Combinations (variants)"}),p.jsx("div",{className:"space-y-2",children:D.map((y,T)=>{var b;const k=`variant-${T}`,A=(b=t.orphanedVariants)==null?void 0:b.includes(k);return p.jsxs("div",{className:"relative",children:[p.jsxs("div",{className:`flex items-center space-x-2 bg-white rounded-lg p-3 shadow-sm border ${d==="multiple"?"border-green-200 hover:border-green-300":"border-gray-100"} ${A?"ring-1 ring-orange-400 border-orange-300":""} transition-colors`,onClick:H,onMouseDown:H,onDoubleClick:E=>N(T,E),children:[p.jsx("input",{type:"text",value:y.text,onChange:E=>x(y.id,{text:E.target.value}),className:"flex-1 text-sm bg-transparent focus:outline-none",placeholder:"Answer text...",onFocus:H,onKeyDown:H}),p.jsx("input",{type:"number",value:y.score,onChange:E=>x(y.id,{score:Number(E.target.value)}),className:"w-12 text-xs text-center bg-gray-50 rounded px-1 py-1 focus:outline-none focus:bg-white border border-gray-200 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [-moz-appearance:textfield]",placeholder:"0",title:"Score",min:"-999",max:"999",onFocus:H,onKeyDown:H,onWheel:E=>{E.currentTarget.blur(),E.stopPropagation()},onClick:H,onMouseDown:H}),D.length>1&&p.jsx("button",{onClick:E=>{E.stopPropagation(),v(y.id)},className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:p.jsx(Nk,{size:12})})]}),d==="multiple"&&p.jsx(kt,{type:"source",position:Y.Right,id:`variant-${T}`,style:{top:"50%",right:"-5px",transform:"translateY(-50%)",background:A?"#fb923c":"#22c55e",width:"10px",height:"10px",zIndex:10,cursor:"pointer"},className:"border-2 border-white hover:scale-125 transition-transform",onClick:E=>{E.stopPropagation(),h(`variant-${T}`)}})]},y.id)})}),d==="combinations"&&D.length>1&&p.jsx("div",{className:"space-y-3 border-t pt-3",children:p.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 space-y-2",children:[p.jsx("div",{className:"text-xs text-yellow-700 mb-2",children:"All combinations are active. Connect them to questions:"}),C().map(y=>{const T=j().some(A=>A.id===y.id),k=I().some(A=>A.id===y.id);return p.jsxs("div",{className:"relative",children:[p.jsxs("div",{className:`flex items-center space-x-2 bg-white rounded-lg p-2 shadow-sm border transition-colors ${k?"border-green-300 bg-green-50":T?"border-orange-300 bg-orange-50":"border-gray-200"}`,onClick:H,onMouseDown:H,onDoubleClick:A=>_(y.id,A),children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.label}),p.jsx("div",{className:"text-xs text-gray-500 font-mono",children:y.pathId})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[k&&p.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:"Connected"}),T&&p.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-orange-100 text-orange-800",children:"Orphaned"})]}),p.jsx("div",{className:"flex space-x-1",children:y.variantIndices.map(A=>p.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:A+1},A))})]}),p.jsx(kt,{type:"source",position:Y.Right,id:`combination-${y.id}`,style:{top:"50%",right:"-5px",transform:"translateY(-50%)",background:T?"#fb923c":"#f59e0b",width:"10px",height:"10px",zIndex:10,cursor:"pointer"},className:"border-2 border-white hover:scale-125 transition-transform",onClick:A=>{A.stopPropagation(),P(y.id)}})]},y.id)})]})}),p.jsxs("button",{onClick:y=>{y.stopPropagation(),m()},className:"w-full flex items-center justify-center space-x-2 p-2 border-2 border-dashed border-purple-300 rounded-lg text-sm text-purple-600 hover:border-purple-500 hover:bg-purple-50 transition-colors font-medium",children:[p.jsx(yk,{size:14}),p.jsx("span",{children:"Add Answer"})]})]}),d==="single"&&p.jsx(kt,{type:"source",position:Y.Bottom,id:"default",className:"w-3 h-3 border-2 border-white cursor-pointer hover:scale-125 transition-transform",style:{background:(L=t.orphanedVariants)!=null&&L.includes("default")?"#fb923c":"#22c55e"},onClick:y=>{y.stopPropagation(),h("default")}})]})}function kk({id:e,data:t,selected:n}){const{setSelectedNodeId:r,updateNode:o}=ke(),s=()=>{r(e)},i=a=>{o(e,{recommendation:a.target.value})},l=a=>{a.stopPropagation()};return p.jsxs("div",{className:`
        bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg shadow-lg border-2 p-4 min-w-[280px] max-w-[350px]
        ${n?"border-green-500 shadow-xl ring-2 ring-green-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer
      `,onClick:s,children:[p.jsx(kt,{type:"target",position:Y.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),p.jsx("span",{className:"text-xs font-semibold text-green-600",children:"Outcome"})]}),p.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Final"})]}),p.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathIds&&t.pathIds.length>1?p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"font-semibold text-gray-600",children:["Paths (",t.pathIds.length,"):"]}),t.pathIds.map((a,u)=>p.jsx("div",{className:"text-xs",children:a},u))]}):t.pathId}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Recommendation"}),p.jsx("div",{onClick:l,onMouseDown:l,children:p.jsx("textarea",{value:t.recommendation||"",onChange:i,className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm bg-gray-50 hover:bg-white transition-colors",rows:4,placeholder:"Enter recommendation text...",onFocus:l,onKeyDown:l})})]}),p.jsx("div",{className:"text-xs rounded px-2 py-1 text-center font-medium bg-green-50 text-green-600 border border-green-200",children:"🎯 Final Outcome"})]})]})}const _k={question:lk,answer:Ek,outcome:kk},Ck={animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};function bk({shouldAutoOrganize:e=!1,onAutoOrganizeComplete:t}){const{nodes:n,edges:r,addEdge:o,updateNodePosition:s,deleteEdge:i,propagateTopicOnConnection:l,propagatePathIdOnConnection:a,selectedNodeId:u,setNodes:c,focusNodeId:d,clearFocusNode:f}=ke(),[g,w,N]=nE(n),[_,h,m]=rE(r),x=hl(),v=F.useRef(!1),S=F.useRef(null);ik(),F.useEffect(()=>{if(d&&x){const D=g.find(L=>L.id===d);D&&(x.fitView({nodes:[D],padding:.3,maxZoom:1.2,minZoom:.5,duration:800}),setTimeout(()=>{f()},100))}},[d,g,x,f]),F.useEffect(()=>{const{cleanupDuplicateEdges:D}=ke.getState();D()},[]),F.useEffect(()=>{w(D=>{if(v.current)return console.log("Bulk update detected - using store positions directly"),n;if(D.length===0)return n;const y=(()=>{const z=new Set,$=new Set;return r.forEach(V=>{z.add(V.target),$.add(V.source)}),n.filter(V=>{var Q;if(V.type==="question"&&((Q=V.data)!=null&&Q.isRoot))return!$.has(V.id);if(V.type==="outcome")return!z.has(V.id);const B=z.has(V.id),W=$.has(V.id);return!B||!W}).map(V=>V.id)})(),k=(()=>{const z=new Map;return n.forEach($=>{var V;if($.type==="answer"&&((V=$.data)!=null&&V.variants)){const B=$.data.variants,W=$.data.answerType||"single",Q=[];W==="multiple"&&B.forEach((G,J)=>{const K=`variant-${J}`;r.some(re=>re.source===$.id&&re.sourceHandle===K)||Q.push(K)}),W==="single"&&(r.some(J=>J.source===$.id&&J.sourceHandle==="default")||Q.push("default")),Q.length>0&&z.set($.id,Q)}}),z})(),A=z=>{if(!z)return{parents:[],children:[]};const $=r.filter(B=>B.target===z).map(B=>B.source),V=r.filter(B=>B.source===z).map(B=>B.target);return{parents:$,children:V}},{parents:b,children:E}=A(u),M=new Map;return D.forEach(z=>{M.set(z.id,z.position)}),n.map(z=>{const $=M.get(z.id);return{...z,position:$||z.position,data:{...z.data,isOrphaned:y.includes(z.id),isParent:b.includes(z.id),isChild:E.includes(z.id),isSelected:u===z.id,orphanedVariants:k.get(z.id)||[]}}})})},[n,r,w,u]),F.useEffect(()=>{const D=r.map(L=>{let y="#9ca3af",T={stroke:y,strokeWidth:2};return u&&(L.source===u||L.target===u)&&(y="#2563eb",T={stroke:y,strokeWidth:2,filter:"drop-shadow(0 0 16px #2563ebcc)",opacity:1}),{...L,style:{...L.style,...T}}});h(D)},[r,h,u]);const C=R.useCallback(D=>{if(!D.source||!D.target)return;console.log("Creating edge:",D);const L=n.find(b=>b.id===D.source),y=n.find(b=>b.id===D.target);if(!L||!y){console.log("Source or target node not found");return}if(L.type==="answer"&&y.type!=="question"&&y.type!=="outcome"){console.log("Answer nodes can only connect to Question nodes or Outcome nodes");return}if(L.type==="question"&&y.type!=="answer"){console.log("Question nodes can only connect to Answer nodes");return}if(L.type==="answer"&&r.find(E=>E.source===D.source&&E.sourceHandle===D.sourceHandle)){console.log("Answer variant already has a connection. Only one connection per variant is allowed.");return}if(L.type==="question"&&r.find(E=>E.source===D.source)){console.log("Question node already has a connection. Only one outgoing connection is allowed.");return}if(((b,E)=>{if(b===E)return!0;const M=new Set,z=[E];for(;z.length>0;){const $=z.pop();if(M.has($))continue;if(M.add($),$===b)return!0;r.filter(B=>B.source===$).forEach(B=>{M.has(B.target)||z.push(B.target)})}return!1})(D.source,D.target)){console.log("Connection would create a loop, preventing connection");return}const k=at.getInstance(),A={...D,source:D.source,target:D.target,id:k.generateEdgeId(D.source,D.target,D.sourceHandle||void 0),animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};console.log("Generated edge:",A),o(A),l(D.source,D.target),a(D.source,D.target,D.sourceHandle||void 0)},[o,r,l,a,n]),I=R.useCallback((D,L)=>{ke.getState().setSelectedNodeId(L.id)},[]),j=R.useCallback(()=>{ke.getState().setSelectedNodeId(null)},[]),P=R.useCallback(D=>{if(N(D),v.current){console.log("Skipping position sync during bulk update");return}D.forEach(L=>{L.type==="position"&&L.position&&s&&s(L.id,L.position)})},[N,s]),O=R.useCallback(D=>{m(D),D.forEach(L=>{L.type==="remove"&&L.id&&(console.log("Edge deleted:",L.id),i(L.id))})},[m,i]);F.useEffect(()=>(window.flowCanvasSetBulkUpdate=()=>{console.log("Setting bulk update flag"),v.current=!0,S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{console.log("Resetting bulk update flag"),v.current=!1,S.current=null},500)},()=>{S.current&&clearTimeout(S.current),delete window.flowCanvasSetBulkUpdate}),[]),R.useEffect(()=>{if(e&&x&&n.length>0){console.log("Auto-organizing nodes...");const D=setTimeout(()=>{H(),setTimeout(()=>{x.fitView({padding:.2,maxZoom:.8,minZoom:.1,duration:1e3}),t==null||t()},500)},1e3);return()=>clearTimeout(D)}},[e,x,n.length,t]);const H=()=>{if(console.log("Organizing nodes..."),n.length<2){console.log("Not enough nodes to organize");return}const D=400,L=420,y=150,T=150,k=4,A=new Map,b=new Map,E=new Map;n.forEach(K=>{A.set(K.id,[]),E.set(K.id,0)}),r.forEach(K=>{const Z=A.get(K.source)||[];Z.push(K.target),A.set(K.source,Z),b.set(K.target,K.source);const re=E.get(K.target)||0;E.set(K.target,re+1)});const M=n.filter(K=>(E.get(K.id)||0)===0);M.length===0&&n.length>0&&M.push(n[0]);const z=new Map,$=new Map,V=new Set;let B=0;const W=[];for(M.forEach(K=>{W.push({node:K,level:0}),z.set(K.id,0)});W.length>0;){const{node:K,level:Z}=W.shift();if(V.has(K.id))continue;V.add(K.id),B=Math.max(B,Z);const re=$.get(Z)||[];re.push(K),$.set(Z,re),(A.get(K.id)||[]).forEach(ve=>{const Ne=n.find(ae=>ae.id===ve);Ne&&!V.has(ve)&&(W.push({node:Ne,level:Z+1}),z.set(ve,Z+1))})}const Q=[];for(let K=0;K<=B;K++){const Z=$.get(K)||[];Q.push(...Z)}const G=n.filter(K=>!V.has(K.id));Q.push(...G);const J=Q.map((K,Z)=>{const re=Math.floor(Z/k),me=Z%k,ve=Math.min(Q.length,k),ae=(Math.min(Q.length-re*k,k)-1)*D,Le=(ve-1)*D,X={x:y+(Le-ae)/2+me*D,y:T+re*L};return{...K,position:X}});window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),setTimeout(()=>{c(J),console.log("Organization complete!")},50)};return p.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-50 to-gray-100",children:p.jsxs(Rg,{nodes:g,edges:_,onNodesChange:P,onEdgesChange:O,onConnect:C,onNodeClick:I,onPaneClick:j,nodeTypes:_k,connectionMode:Cn.Loose,defaultEdgeOptions:Ck,className:"bg-transparent",nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,selectNodesOnDrag:!1,panOnDrag:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!1,preventScrolling:!1,children:[p.jsx(CE,{variant:ht.Dots,gap:16,size:1,color:"#e5e7eb"}),p.jsx(wE,{className:"bg-white shadow-lg rounded-lg border border-gray-200"}),p.jsx(hE,{className:"bg-white shadow-lg rounded-lg border border-gray-200",nodeColor:D=>{var L;if((L=D.data)!=null&&L.isOrphaned)return"#fb923c";switch(D.type){case"question":return"#2563eb";case"answer":return"#8b5cf6";case"outcome":return"#22c55e";default:return"#9ca3af"}},maskColor:"rgba(255, 255, 255, 0.8)",pannable:!0,zoomable:!0}),p.jsx(cl,{position:"top-right",className:"bg-white/95 backdrop-blur shadow-lg rounded-lg p-4 m-4 border border-gray-200",children:p.jsxs("div",{className:"text-sm space-y-1",children:[p.jsx("div",{className:"font-semibold text-gray-700 mb-2",children:"Flow Stats"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),p.jsxs("span",{children:["Questions: ",g.filter(D=>D.type==="question").length]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),p.jsxs("span",{children:["Answers: ",g.filter(D=>D.type==="answer").length]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),p.jsxs("span",{children:["Outcomes: ",g.filter(D=>D.type==="outcome").length]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),p.jsxs("span",{children:["Connections: ",_.length]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),p.jsxs("span",{children:["Orphaned: ",g.filter(D=>{var L;return(L=D.data)==null?void 0:L.isOrphaned}).length]})]})]})})]})})}class Eu{generateCombinationsForNode(t){const n=[],r=t.length;for(let o=1;o<Math.pow(2,r);o++){const s=[],i=[];for(let a=0;a<r;a++)o&1<<a&&(s.push(a),i.push(t[a].text||`Variant ${a+1}`));const l={id:`combo-${o}`,variantIndices:s,pathId:`PATH-V${s.join("+V")}`,label:i.join(" + ")};n.push(l)}return n}exportToJson(t,n){const r=t.filter(f=>f.type==="question"),o=t.filter(f=>f.type==="answer"),s=t.filter(f=>f.type==="outcome"),i=r.find(f=>f.data.isRoot),a={topic:(i==null?void 0:i.data.topic)||"UNTITLED",version:"1.0.0",createdAt:new Date().toISOString(),totalQuestions:r.length},u={};r.forEach(f=>{u[f.id]={id:f.id,type:"question",pathId:f.data.pathId,pathIds:f.data.pathIds&&f.data.pathIds.length>1?f.data.pathIds:void 0,content:f.data.questionText,level:f.data.questionLevel,position:f.position,topic:f.data.topic}}),o.forEach(f=>{var g,w;u[f.id]={id:f.id,type:"answer",pathId:f.data.pathId,pathIds:f.data.pathIds&&f.data.pathIds.length>1?f.data.pathIds:void 0,content:`${((g=f.data.variants)==null?void 0:g.length)||0} variants`,level:0,position:f.position,topic:f.data.topic,answerType:f.data.answerType,variants:(w=f.data.variants)==null?void 0:w.map(N=>({id:N.id,text:N.text,score:N.score,allowsInput:N.allowsInput,inputValidation:N.inputValidation})),combinations:f.data.answerType==="combinations"?this.generateCombinationsForNode(f.data.variants||[]):void 0,combinationRules:f.data.combinationRules}}),s.forEach(f=>{u[f.id]={id:f.id,type:"outcome",pathId:f.data.pathId,pathIds:f.data.pathIds&&f.data.pathIds.length>1?f.data.pathIds:void 0,content:f.data.recommendation||"No recommendation provided",level:0,position:f.position,topic:f.data.topic,recommendation:f.data.recommendation}});const c={},d={};return n.forEach(f=>{const g=t.find(N=>N.id===f.source),w=t.find(N=>N.id===f.target);!g||!w||(c[f.source]||(c[f.source]={}),f.sourceHandle&&f.sourceHandle.startsWith("variant-")?(c[f.source].variants||(c[f.source].variants={}),c[f.source].variants[f.sourceHandle]=w.data.pathId):f.sourceHandle&&f.sourceHandle.startsWith("combination-")?(c[f.source].combinations||(c[f.source].combinations={}),c[f.source].combinations[f.sourceHandle]=w.data.pathId):c[f.source].default=w.data.pathId)}),o.forEach(f=>{(f.data.answerType==="multiple"||f.data.answerType==="combinations")&&f.data.combinationRules&&(d[f.id]=f.data.combinationRules.map((g,w)=>({condition:g.selectedVariants,nextNode:g.nextNode,priority:w+1})))}),{metadata:a,nodes:u,navigation:c,multipleChoiceRules:d}}exportToExcel(t){const n=this.convertToCSV(t);return new Blob([n],{type:"text/csv"})}convertToCSV(t){const r=[["Path ID","All Path IDs","Clean Path ID","Type","Content","Level","Variants","Scores","Next Path"]];return Object.values(t.nodes).forEach(o=>{var s,i;o.type==="question"?r.push([o.pathId,o.pathIds?o.pathIds.join(" | "):o.pathId,this.cleanPathId(o.pathId),"Question",o.content,o.level.toString(),"","",((s=t.navigation[o.id])==null?void 0:s.default)||""]):o.type==="answer"?((i=o.variants)==null||i.forEach((l,a)=>{var c,d;const u=((d=(c=t.navigation[o.id])==null?void 0:c.variants)==null?void 0:d[`variant-${a}`])||"";r.push([o.pathId,o.pathIds?o.pathIds.join(" | "):o.pathId,this.cleanPathId(o.pathId),"Answer",l.text,"0",l.text,l.score.toString(),u])}),o.answerType==="combinations"&&o.combinations&&o.combinations.forEach(l=>{var u,c;const a=((c=(u=t.navigation[o.id])==null?void 0:u.combinations)==null?void 0:c[`combination-${l.id}`])||"";r.push([o.pathId,o.pathIds?o.pathIds.join(" | "):o.pathId,this.cleanPathId(o.pathId),"Combination",l.label,"0",l.label,l.variantIndices.map(d=>{var f,g;return((g=(f=o.variants)==null?void 0:f[d])==null?void 0:g.score)||0}).reduce((d,f)=>d+f,0).toString(),a])})):o.type==="outcome"&&r.push([o.pathId,o.pathIds?o.pathIds.join(" | "):o.pathId,this.cleanPathId(o.pathId),"Outcome",o.recommendation||"No recommendation","0","","",""])}),r.map(o=>o.map(s=>`"${s.replace(/"/g,'""')}"`).join(",")).join(`
`)}cleanPathId(t){const n=t.split("-");return n.length<=2?t:n.slice(1).join("-")}importFromJson(t){const n=[],r=[];return Object.values(t.nodes).forEach((o,s)=>{const i=o.position||{x:200+s%3*400,y:200+Math.floor(s/3)*300};o.type==="question"?n.push({id:o.id,type:"question",position:i,data:{pathId:o.pathId,pathIds:o.pathIds||[o.pathId],topic:o.topic||"IMPORTED",isRoot:o.level===1,questionText:o.content,questionLevel:o.level,elementId:"IMPORTED",subElementId:"IMPORTED"}}):o.type==="answer"?n.push({id:o.id,type:"answer",position:i,data:{pathId:o.pathId,pathIds:o.pathIds||[o.pathId],answerType:o.answerType||"single",variants:o.variants||[],combinations:o.combinations,combinationRules:o.combinationRules,topic:o.topic||"IMPORTED"}}):o.type==="outcome"&&n.push({id:o.id,type:"outcome",position:i,data:{pathId:o.pathId,pathIds:o.pathIds||[o.pathId],recommendation:o.recommendation||"No recommendation provided",topic:o.topic||"IMPORTED"}})}),Object.entries(t.navigation).forEach(([o,s])=>{if(s.default){const i=n.find(l=>l.data.pathId===s.default);i&&r.push({id:`edge-${o}-${i.id}`,source:o,target:i.id,sourceHandle:"default",animated:!0})}s.variants&&Object.entries(s.variants).forEach(([i,l])=>{const a=n.find(u=>u.data.pathId===l);a&&r.push({id:`edge-${o}-${a.id}-${i}`,source:o,target:a.id,sourceHandle:i,animated:!0})}),s.combinations&&Object.entries(s.combinations).forEach(([i,l])=>{const a=n.find(u=>u.data.pathId===l);a&&r.push({id:`edge-${o}-${a.id}-${i}`,source:o,target:a.id,sourceHandle:i,animated:!0})})}),{nodes:n,edges:r}}testCombinationExportImport(){var r,o;console.log("Testing combination export/import functionality...");const t=[{id:"test-answer-1",type:"answer",position:{x:100,y:100},data:{pathId:"Test-A1",pathIds:["Test-A1"],answerType:"combinations",variants:[{id:"var1",text:"Option A",score:1},{id:"var2",text:"Option B",score:2}],topic:"Test"}},{id:"test-question-1",type:"question",position:{x:300,y:100},data:{pathId:"Test-A1-V0+V1-Q1",pathIds:["Test-A1-V0+V1-Q1"],questionText:"Test Question",questionLevel:2,topic:"Test",isRoot:!1,elementId:"E1",subElementId:"SE1"}}],n=[{id:"test-edge-1",source:"test-answer-1",target:"test-question-1",sourceHandle:"combination-combo-3",animated:!0}];try{const s=this.exportToJson(t,n);console.log("Export successful:",{hasNavigationCombinations:!!((r=s.navigation["test-answer-1"])!=null&&r.combinations),hasCombinationData:!!((o=s.nodes["test-answer-1"])!=null&&o.combinations)});const{nodes:i,edges:l}=this.importFromJson(s);return console.log("Import successful:",{nodeCount:i.length,edgeCount:l.length,hasCombinationHandle:l.some(a=>{var u;return(u=a.sourceHandle)==null?void 0:u.startsWith("combination-")})}),!0}catch(s){return console.error("Test failed:",s),!1}}}function Ik({onAddNode:e,onLoadDemo:t,onClearAll:n,onSetNodes:r,nodes:o=[]}){const{setEdges:s,edges:i,nodes:l,setNodes:a,propagatePathToAll:u}=ke(),c=o.length>0?o:l,d=()=>{const S=c.map(O=>O.position);let C=200,I=200;const j=350,P=4;for(let O=0;O<c.length+1;O++){const H=O%P,D=Math.floor(O/P);if(C=200+H*j,I=200+D*j,!S.some(y=>Math.abs(y.x-C)<250&&Math.abs(y.y-I)<200))break}return{x:C,y:I}},f=()=>{const S=at.getInstance(),C=d(),I=S.getNextQuestionNumber(null),j="NEW-TOPIC",P=S.generateQuestionPathId(null,I,j),O={id:`q-${Date.now()}`,type:"question",position:C,data:{pathId:P,topic:j,isRoot:!0,questionText:"New Question",questionLevel:1,elementId:"NEW",subElementId:"NEW"}};S.registerNode(O.id,P),e==null||e(O)},g=()=>{const S=at.getInstance(),C=d(),j=`STANDALONE-A${S.getNextAnswerNumber("STANDALONE")}`,P={id:`a-${Date.now()}`,type:"answer",position:C,data:{pathId:j,answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}};e==null||e(P)},w=()=>{const S=at.getInstance(),C=d(),j=`STANDALONE-E${S.getNextOutcomeNumber("STANDALONE")}`,P={id:`o-${Date.now()}`,type:"outcome",position:C,data:{pathId:j,recommendation:"Enter your recommendation here...",topic:"General"}};e==null||e(P)},N=()=>{const S=ke.getState(),I=new Eu().exportToJson(c,S.edges),j=new Blob([JSON.stringify(I,null,2)],{type:"application/json"}),P=URL.createObjectURL(j),O=document.createElement("a");O.href=P,O.download=`flow-${I.metadata.topic}-${Date.now()}.json`,O.click(),URL.revokeObjectURL(P)},_=()=>{const S=document.createElement("input");S.type="file",S.accept=".json",S.onchange=C=>{var j;const I=(j=C.target.files)==null?void 0:j[0];if(I){const P=new FileReader;P.onload=O=>{var H;try{const D=JSON.parse((H=O.target)==null?void 0:H.result);if(D.metadata&&D.nodes&&D.navigation){const L=new Eu,{nodes:y,edges:T}=L.importFromJson(D);window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),r==null||r(y),s(T)}else D.nodes&&D.edges?(window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),r==null||r(D.nodes),s(D.edges)):console.error("Invalid file format")}catch(D){console.error("Error importing flow:",D)}},P.readAsText(I)}},S.click()},h=()=>{t==null||t()},m=()=>{n==null||n()},x=()=>{u()},v=()=>{if(console.log("Organize button clicked!"),console.log("actualNodes:",c),console.log("actualNodes.length:",c.length),c.length<2){console.log("Not enough nodes to organize");return}console.log("Organizing",c.length,"nodes");const S=400,C=420,I=150,j=150,P=4,O=new Map,H=new Map,D=new Map;c.forEach($=>{O.set($.id,[]),D.set($.id,0)}),i.forEach($=>{const V=O.get($.source)||[];V.push($.target),O.set($.source,V),H.set($.target,$.source);const B=D.get($.target)||0;D.set($.target,B+1)}),console.log("Parent-child relationships:",{children:O,parents:H});const L=c.filter($=>(D.get($.id)||0)===0);L.length===0&&c.length>0&&L.push(c[0]),console.log("Root nodes:",L.map($=>$.id));const y=new Map,T=new Map,k=new Set;let A=0;const b=[];for(L.forEach($=>{b.push({node:$,level:0}),y.set($.id,0)});b.length>0;){const{node:$,level:V}=b.shift();if(k.has($.id))continue;k.add($.id),A=Math.max(A,V);const B=T.get(V)||[];B.push($),T.set(V,B),(O.get($.id)||[]).forEach(Q=>{const G=c.find(J=>J.id===Q);G&&!k.has(Q)&&(b.push({node:G,level:V+1}),y.set(Q,V+1))})}console.log("Nodes by level:",T);const E=[];for(let $=0;$<=A;$++){const V=T.get($)||[];E.push(...V)}const M=c.filter($=>!k.has($.id));E.push(...M),console.log("Ordered nodes:",E.map($=>$.id));const z=E.map(($,V)=>{const B=Math.floor(V/P),W=V%P,Q=Math.min(E.length,P),J=(Math.min(E.length-B*P,P)-1)*S,K=(Q-1)*S,re={x:I+(K-J)/2+W*S,y:j+B*C};return console.log(`Node ${$.id} (index ${V}): row ${B}, col ${W} -> position ${re.x},${re.y}`),{...$,position:re}});console.log("Updated nodes:",z),window.flowCanvasSetBulkUpdate?(window.flowCanvasSetBulkUpdate(),console.log("Bulk update flag set")):console.log("flowCanvasSetBulkUpdate not found on window"),setTimeout(()=>{console.log("About to call setNodes..."),a(z),console.log("setNodes called"),r&&(console.log("Also calling onSetNodes callback..."),r(z)),console.log("Organization complete!")},50)};return p.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 bg-white border-b border-gray-200",children:[p.jsx("div",{className:"flex items-center gap-1",children:p.jsxs("button",{onClick:v,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors text-sm font-medium w-[140px] h-10",title:"Organize nodes in a hierarchical layout",children:[p.jsx(gk,{size:16}),p.jsx("span",{children:"Organize"})]})}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsxs("button",{onClick:f,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[p.jsx(n0,{size:16}),p.jsx("span",{children:"Add Question"})]}),p.jsxs("button",{onClick:g,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[p.jsx(o0,{size:16}),p.jsx("span",{children:"Add Answer"})]}),p.jsxs("button",{onClick:w,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[p.jsx(s0,{size:16}),p.jsx("span",{children:"Add Outcome"})]})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsxs("button",{onClick:N,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",children:[p.jsx(r0,{size:16}),p.jsx("span",{children:"Export JSON"})]}),p.jsxs("button",{onClick:_,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",children:[p.jsx(i0,{size:16}),p.jsx("span",{children:"Import JSON"})]}),p.jsxs("button",{onClick:x,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",title:"Propagate path IDs from root nodes to all connected nodes",children:[p.jsx(xk,{size:16}),p.jsx("span",{children:"Propagate Path"})]})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsxs("button",{onClick:h,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-slate-500 text-white rounded-lg hover:bg-slate-600 transition-colors text-sm font-medium w-[140px] h-10",children:[p.jsx(dk,{size:16}),p.jsx("span",{children:"Load Demo"})]}),p.jsxs("button",{onClick:m,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm font-medium w-[140px] h-10",children:[p.jsx(wk,{size:16}),p.jsx("span",{children:"Clear All"})]})]})]})}function Pk({onEnterApp:e}){return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[p.jsxs("div",{className:"relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10"}),p.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"flex items-center justify-center mb-6",children:p.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl shadow-lg",children:p.jsx(hk,{className:"w-8 h-8 text-white"})})}),p.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Question Flow Builder"}),p.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Create interactive questionnaire flows with a powerful visual interface. Design complex decision trees, manage answer variants, and export your work seamlessly."}),p.jsxs("button",{onClick:e,className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[p.jsx(Gf,{className:"w-5 h-5 mr-2"}),"Start Building",p.jsx(qf,{className:"w-5 h-5 ml-2"})]})]})})]}),p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Powerful Features"}),p.jsx("p",{className:"text-lg text-gray-600",children:"Everything you need to create professional questionnaire flows"})]}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx(mk,{className:"w-6 h-6 text-blue-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Visual Flow Builder"}),p.jsx("p",{className:"text-gray-600",children:"Drag and drop nodes to create complex questionnaire flows. Connect questions, answers, and outcomes with intuitive visual connections."})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx(Xf,{className:"w-6 h-6 text-cyan-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Double-Click Navigation"}),p.jsx("p",{className:"text-gray-600",children:"Double-click any node, answer variant, or combination to instantly focus on the next connected element. Navigate your flow with ease."})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx(pk,{className:"w-6 h-6 text-green-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Keyboard Shortcuts"}),p.jsx("p",{className:"text-gray-600",children:"Work efficiently with keyboard shortcuts: Tab to create nodes, Delete to remove, Cmd/Ctrl+Z for undo, and more."})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(i0,{className:"w-3 h-3 text-purple-600"}),p.jsx(r0,{className:"w-3 h-3 text-purple-600"})]})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Import & Export"}),p.jsx("p",{className:"text-gray-600",children:"Import Excel files or JSON flows. Export your work to share or backup. Seamless integration with existing workflows."})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx(fk,{className:"w-6 h-6 text-orange-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Real-time Validation"}),p.jsx("p",{className:"text-gray-600",children:"Instant visual feedback for orphaned nodes, missing connections, and flow integrity issues. Orange highlights show problems."})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx(Kf,{className:"w-6 h-6 text-indigo-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Smart Path IDs"}),p.jsx("p",{className:"text-gray-600",children:"Automatic generation of hierarchical path IDs (Q1, Q2, A1, A2, E1, E2) for questions, answers, and outcomes. All paths visible on nodes."})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx(Yf,{className:"w-6 h-6 text-rose-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Answer Combinations"}),p.jsx("p",{className:"text-gray-600",children:"Create complex multi-select scenarios with combination logic. Generate paths like V1+V2, V1+V3 for sophisticated questionnaire flows."})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx(Sk,{className:"w-6 h-6 text-teal-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Smart Path Propagation"}),p.jsx("p",{className:"text-gray-600",children:"Intelligent path propagation across all answer types. Single, Multiple, and Combinations modes all generate correct variant paths."})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx(vk,{className:"w-6 h-6 text-emerald-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Undo/Redo System"}),p.jsx("p",{className:"text-gray-600",children:"50-state history with standard keyboard shortcuts. Never lose your work with comprehensive undo/redo functionality."})]})]})]}),p.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 py-16",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Answer Types & Modes"}),p.jsx("p",{className:"text-lg text-gray-600",children:"Three powerful modes for different questionnaire scenarios"})]}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Single Mode"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Traditional single-choice questions where users select one answer from multiple options."}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[p.jsx("div",{className:"text-sm text-gray-700 mb-2",children:"Example Path IDs:"}),p.jsx("div",{className:"text-xs font-mono text-blue-600",children:"Topic-Q1-A1-E1"}),p.jsx("div",{className:"text-xs font-mono text-blue-600",children:"Topic-Q1-A2-E2"})]})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:p.jsxs("div",{className:"flex space-x-1",children:[p.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),p.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"})]})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Multiple Mode"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Multi-choice questions where each answer variant creates its own independent path."}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[p.jsx("div",{className:"text-sm text-gray-700 mb-2",children:"Example Path IDs:"}),p.jsx("div",{className:"text-xs font-mono text-purple-600",children:"Topic-Q1-A1-V1-E1"}),p.jsx("div",{className:"text-xs font-mono text-purple-600",children:"Topic-Q1-A1-V2-E2"})]})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mb-4",children:p.jsx(Yf,{className:"w-6 h-6 text-rose-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Combinations Mode"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Advanced multi-select with combination logic. Each possible combination of answers creates unique paths."}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[p.jsx("div",{className:"text-sm text-gray-700 mb-2",children:"Example Path IDs:"}),p.jsx("div",{className:"text-xs font-mono text-rose-600",children:"Topic-Q1-A1-V1+V2-E1"}),p.jsx("div",{className:"text-xs font-mono text-rose-600",children:"Topic-Q1-A1-V1+V3-E2"})]})]})]})]})}),p.jsx("div",{className:"bg-white py-16",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Node Types & Visual Guide"}),p.jsx("p",{className:"text-lg text-gray-600",children:"Understanding the visual language of your flows"})]}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-lg p-6 shadow-lg mb-4 max-w-sm mx-auto",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[p.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),p.jsx("span",{className:"text-sm font-semibold text-blue-600",children:"Question"})]}),p.jsx("div",{className:"text-sm text-gray-700 mb-3",children:"What is your experience level?"}),p.jsxs("div",{className:"flex flex-wrap gap-1 justify-center",children:[p.jsx("div",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Topic-Q1"}),p.jsx("div",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Topic-Q2"})]})]}),p.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[p.jsx(n0,{className:"w-5 h-5 inline mr-2 text-blue-500"}),"Question Nodes"]}),p.jsx("p",{className:"text-gray-600 text-sm",children:"Blue theme • Single outgoing connection • Contains question text and level information • Shows all propagated path IDs"})]}),p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 rounded-lg p-6 shadow-lg mb-4 max-w-sm mx-auto",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[p.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),p.jsx("span",{className:"text-sm font-semibold text-purple-600",children:"Answer"})]}),p.jsxs("div",{className:"space-y-2 mb-3",children:[p.jsx("div",{className:"text-xs bg-white rounded px-2 py-1 border",children:"Yes (Score: 1)"}),p.jsx("div",{className:"text-xs bg-white rounded px-2 py-1 border",children:"No (Score: 0)"})]}),p.jsxs("div",{className:"flex flex-wrap gap-1 justify-center",children:[p.jsx("div",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:"Topic-Q1-A1"}),p.jsx("div",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:"Topic-Q1-A1-V1"})]})]}),p.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[p.jsx(o0,{className:"w-5 h-5 inline mr-2 text-purple-500"}),"Answer Nodes"]}),p.jsx("p",{className:"text-gray-600 text-sm",children:"Purple theme • Three modes: Single, Multiple, Combinations • Scoring system • Shows all propagated path IDs"})]}),p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-lg p-6 shadow-lg mb-4 max-w-sm mx-auto",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[p.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),p.jsx("span",{className:"text-sm font-semibold text-green-600",children:"Outcome"})]}),p.jsx("div",{className:"text-sm text-gray-700 mb-3",children:"You should explore visual tools..."}),p.jsxs("div",{className:"flex flex-wrap gap-1 justify-center",children:[p.jsx("div",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Topic-Q1-A1-E1"}),p.jsx("div",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Topic-Q1-A1-V1-E1"})]})]}),p.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[p.jsx(s0,{className:"w-5 h-5 inline mr-2 text-green-500"}),"Outcome Nodes"]}),p.jsx("p",{className:"text-gray-600 text-sm",children:"Green theme • End points • Contains recommendations • No outgoing connections • Shows all propagated path IDs"})]})]})]})}),p.jsx("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 py-16",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Navigation & Interaction"}),p.jsx("p",{className:"text-lg text-gray-600",children:"Intuitive ways to navigate and interact with your flows"})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-16 h-16 bg-cyan-100 rounded-lg flex items-center justify-center mb-6 mx-auto",children:p.jsx(Xf,{className:"w-8 h-8 text-cyan-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4 text-center",children:"Double-Click Navigation"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:"Question Nodes"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Double-click to focus on the connected answer node"})]})]}),p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:"Answer Nodes (Single)"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Double-click to focus on the next connected node"})]})]}),p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:"Answer Variants (Multiple)"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Double-click individual variants to follow their path"})]})]}),p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx("div",{className:"w-2 h-2 bg-rose-500 rounded-full mt-2"}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:"Combinations"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Double-click combination items to navigate their unique paths"})]})]})]})]}),p.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-lg flex items-center justify-center mb-6 mx-auto",children:p.jsx(Kf,{className:"w-8 h-8 text-indigo-600"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4 text-center",children:"PathID Display System"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[p.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"All Nodes Show Multiple Paths"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Every node displays all propagated path IDs as badges, making it easy to track complex flows"})]}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[p.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Automatic Propagation"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Path IDs automatically propagate through the flow, updating connected nodes when changes occur"})]}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[p.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Smart Variant Generation"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Multiple and Combinations modes generate appropriate variant paths (V1, V2, V1+V2, etc.)"})]})]})]})]})]})}),p.jsx("div",{className:"bg-gray-50 py-16",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Visual Indicators & Alerts"}),p.jsx("p",{className:"text-lg text-gray-600",children:"Understand what the colors and effects mean"})]}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[p.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-orange-100 rounded-lg border-2 border-orange-300 ring-2 ring-orange-400 flex items-center justify-center",children:p.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"})}),p.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Orange Glow"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Orphaned nodes or variants missing connections"})]}),p.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[p.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-green-100 rounded-lg border-2 border-green-300 ring-2 ring-green-400 flex items-center justify-center",children:p.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})}),p.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Green Glow"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Selected node and its connected parent/child nodes"})]}),p.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[p.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-blue-100 rounded-lg flex items-center justify-center",children:p.jsx("div",{className:"w-12 h-1 bg-blue-500 rounded shadow-lg",style:{boxShadow:"0 0 8px rgba(37, 99, 235, 0.6)"}})}),p.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Blue Edges"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Connections from selected nodes with blue glow effect"})]}),p.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[p.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gray-100 rounded-lg flex items-center justify-center",children:p.jsx("div",{className:"w-12 h-1 bg-gray-400 rounded"})}),p.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Gray Edges"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Default connection lines between nodes"})]})]})]})}),p.jsx("div",{className:"bg-white py-16",children:p.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Keyboard Shortcuts"}),p.jsx("p",{className:"text-lg text-gray-600",children:"Work faster with these essential shortcuts"})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Navigation & Selection"}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsx("span",{className:"text-gray-700",children:"Create linked question"}),p.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Tab"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsx("span",{className:"text-gray-700",children:"Delete selected node"}),p.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Delete"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsx("span",{className:"text-gray-700",children:"Deselect all"}),p.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Escape"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Undo & Redo"}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsx("span",{className:"text-gray-700",children:"Undo (Windows)"}),p.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Ctrl + Z"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsx("span",{className:"text-gray-700",children:"Undo (Mac)"}),p.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"⌘ + Z"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsx("span",{className:"text-gray-700",children:"Redo (Windows)"}),p.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Ctrl + Y"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsx("span",{className:"text-gray-700",children:"Redo (Mac)"}),p.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"⌘ + ⇧ + Z"})]})]})]})]})}),p.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 py-16",children:p.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Build Your First Flow?"}),p.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Start with our pre-loaded example or create your own from scratch"}),p.jsxs("button",{onClick:e,className:"inline-flex items-center px-8 py-4 bg-white text-blue-600 font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[p.jsx(Gf,{className:"w-5 h-5 mr-2"}),"Launch Flow Builder",p.jsx(qf,{className:"w-5 h-5 ml-2"})]})]})})]})}const Tk=[{id:"q1",type:"question",position:{x:100,y:100},data:{pathId:"DEMO-Q1",topic:"DEMO",isRoot:!0,questionText:"What is your experience level with React?",questionLevel:1,elementId:"DEMO",subElementId:"REACT"}},{id:"a1",type:"answer",position:{x:100,y:250},data:{pathId:"DEMO-Q1-A1",answerType:"single",variants:[{id:"var1",text:"Beginner",score:1},{id:"var2",text:"Intermediate",score:2},{id:"var3",text:"Advanced",score:3}]}},{id:"q2",type:"question",position:{x:450,y:100},data:{pathId:"DEMO-Q1-A1-Q2",topic:"DEMO",isRoot:!1,questionText:"Do you prefer TypeScript over JavaScript?",questionLevel:2,elementId:"DEMO",subElementId:"TYPESCRIPT"}},{id:"a2",type:"answer",position:{x:450,y:250},data:{pathId:"DEMO-Q1-A1-Q2-A1",answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}}],jk=[{id:"e1",source:"q1",target:"a1",animated:!0},{id:"e2",source:"a1",target:"q2",sourceHandle:"var2",animated:!0},{id:"e3",source:"q2",target:"a2",animated:!0}],gr={nodes:Tk,edges:jk};function $k(){const[e,t]=R.useState(!0),[n,r]=R.useState(!1),o=R.useRef(!1),{nodes:s,addNode:i,setNodes:l,setEdges:a,clearFlow:u}=ke(),c=R.useCallback(async()=>{try{const h=await fetch("/qnatool/flow-Topic-1752233651561.json");if(h.ok){const m=await h.json(),x=new Eu,{nodes:v,edges:S}=x.importFromJson(m);window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),l(v),a(S),console.log("Default flow loaded successfully")}else console.warn("Default flow not found, loading demo data instead"),l(gr.nodes),a(gr.edges)}catch(h){console.error("Error loading default flow:",h),l(gr.nodes),a(gr.edges)}t(!1),r(!0)},[l,a]),d=R.useCallback(h=>{i(h)},[i]),f=R.useCallback(()=>{r(!1),o.current=!0,console.log("Auto-organize completed")},[]),g=R.useCallback(()=>{l(gr.nodes),a(gr.edges),setTimeout(()=>{const{cleanupDuplicateEdges:h}=ke.getState();h()},100)},[l,a]),w=R.useCallback(()=>{u()},[u]),N=R.useCallback(h=>{l(h)},[l]),_=R.useCallback(()=>{t(!0)},[]);return e?p.jsx(Pk,{onEnterApp:c}):p.jsxs("div",{className:"h-screen flex flex-col bg-gray-100",children:[p.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-2 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx("button",{onClick:_,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"← Back to Home"}),p.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Question Flow Builder"})]}),p.jsxs("div",{className:"text-sm text-gray-500",children:[s.length," nodes • Auto-loaded flow"]})]}),p.jsx(Ik,{onAddNode:d,onLoadDemo:g,onClearAll:w,onSetNodes:N,nodes:s}),p.jsx("div",{className:"flex-1",children:p.jsx(Mc,{children:p.jsx(bk,{shouldAutoOrganize:n&&!o.current,onAutoOrganizeComplete:f})})})]})}aa.createRoot(document.getElementById("root")).render(p.jsx(F.StrictMode,{children:p.jsx($k,{})}));
