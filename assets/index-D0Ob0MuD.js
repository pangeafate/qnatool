var D0=Object.defineProperty;var O0=(e,t,n)=>t in e?D0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ys=(e,t,n)=>O0(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Yf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xf={exports:{}},Vi={},Gf={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var us=Symbol.for("react.element"),L0=Symbol.for("react.portal"),F0=Symbol.for("react.fragment"),H0=Symbol.for("react.strict_mode"),V0=Symbol.for("react.profiler"),B0=Symbol.for("react.provider"),U0=Symbol.for("react.context"),W0=Symbol.for("react.forward_ref"),Q0=Symbol.for("react.suspense"),q0=Symbol.for("react.memo"),K0=Symbol.for("react.lazy"),Hc=Symbol.iterator;function Y0(e){return e===null||typeof e!="object"?null:(e=Hc&&e[Hc]||e["@@iterator"],typeof e=="function"?e:null)}var Zf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jf=Object.assign,ep={};function Zr(e,t,n){this.props=e,this.context=t,this.refs=ep,this.updater=n||Zf}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tp(){}tp.prototype=Zr.prototype;function _u(e,t,n){this.props=e,this.context=t,this.refs=ep,this.updater=n||Zf}var ku=_u.prototype=new tp;ku.constructor=_u;Jf(ku,Zr.prototype);ku.isPureReactComponent=!0;var Vc=Array.isArray,np=Object.prototype.hasOwnProperty,Cu={current:null},rp={key:!0,ref:!0,__self:!0,__source:!0};function op(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)np.call(t,r)&&!rp.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:us,type:e,key:s,ref:i,props:o,_owner:Cu.current}}function X0(e,t){return{$$typeof:us,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Iu(e){return typeof e=="object"&&e!==null&&e.$$typeof===us}function G0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bc=/\/+/g;function Nl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?G0(""+e.key):t.toString(36)}function Us(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case us:case L0:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+Nl(i,0):r,Vc(o)?(n="",e!=null&&(n=e.replace(Bc,"$&/")+"/"),Us(o,t,n,"",function(u){return u})):o!=null&&(Iu(o)&&(o=X0(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Bc,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Vc(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+Nl(s,l);i+=Us(s,t,n,a,o)}else if(a=Y0(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+Nl(s,l++),i+=Us(s,t,n,a,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function vs(e,t,n){if(e==null)return e;var r=[],o=0;return Us(e,r,"","",function(s){return t.call(n,s,o++)}),r}function Z0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},Ws={transition:null},J0={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Ws,ReactCurrentOwner:Cu};function sp(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:vs,forEach:function(e,t,n){vs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vs(e,function(){t++}),t},toArray:function(e){return vs(e,function(t){return t})||[]},only:function(e){if(!Iu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=Zr;ee.Fragment=F0;ee.Profiler=V0;ee.PureComponent=_u;ee.StrictMode=H0;ee.Suspense=Q0;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J0;ee.act=sp;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Jf({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Cu.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)np.call(t,a)&&!rp.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:us,type:e.type,key:o,ref:s,props:r,_owner:i}};ee.createContext=function(e){return e={$$typeof:U0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:B0,_context:e},e.Consumer=e};ee.createElement=op;ee.createFactory=function(e){var t=op.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:W0,render:e}};ee.isValidElement=Iu;ee.lazy=function(e){return{$$typeof:K0,_payload:{_status:-1,_result:e},_init:Z0}};ee.memo=function(e,t){return{$$typeof:q0,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=Ws.transition;Ws.transition={};try{e()}finally{Ws.transition=t}};ee.unstable_act=sp;ee.useCallback=function(e,t){return Be.current.useCallback(e,t)};ee.useContext=function(e){return Be.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};ee.useEffect=function(e,t){return Be.current.useEffect(e,t)};ee.useId=function(){return Be.current.useId()};ee.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return Be.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};ee.useRef=function(e){return Be.current.useRef(e)};ee.useState=function(e){return Be.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return Be.current.useTransition()};ee.version="18.3.1";Gf.exports=ee;var R=Gf.exports;const H=Yf(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey=R,ty=Symbol.for("react.element"),ny=Symbol.for("react.fragment"),ry=Object.prototype.hasOwnProperty,oy=ey.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sy={key:!0,ref:!0,__self:!0,__source:!0};function ip(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)ry.call(t,r)&&!sy.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:ty,type:e,key:s,ref:i,props:o,_owner:oy.current}}Vi.Fragment=ny;Vi.jsx=ip;Vi.jsxs=ip;Xf.exports=Vi;var y=Xf.exports,aa={},lp={exports:{}},ot={},ap={exports:{}},up={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,_){var M=$.length;$.push(_);e:for(;0<M;){var D=M-1>>>1,z=$[D];if(0<o(z,_))$[D]=_,$[M]=z,M=D;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var _=$[0],M=$.pop();if(M!==_){$[0]=M;e:for(var D=0,z=$.length,V=z>>>1;D<V;){var B=2*(D+1)-1,Q=$[B],q=B+1,W=$[q];if(0>o(Q,M))q<z&&0>o(W,Q)?($[D]=W,$[q]=M,D=q):($[D]=Q,$[B]=M,D=B);else if(q<z&&0>o(W,M))$[D]=W,$[q]=M,D=q;else break e}}return _}function o($,_){var M=$.sortIndex-_.sortIndex;return M!==0?M:$.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var a=[],u=[],c=1,d=null,f=3,m=!1,N=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g($){for(var _=n(u);_!==null;){if(_.callback===null)r(u);else if(_.startTime<=$)r(u),_.sortIndex=_.expirationTime,t(a,_);else break;_=n(u)}}function v($){if(w=!1,g($),!N)if(n(a)!==null)N=!0,k(S);else{var _=n(u);_!==null&&O(v,_.startTime-$)}}function S($,_){N=!1,w&&(w=!1,p(T),T=-1),m=!0;var M=f;try{for(g(_),d=n(a);d!==null&&(!(d.expirationTime>_)||$&&!A());){var D=d.callback;if(typeof D=="function"){d.callback=null,f=d.priorityLevel;var z=D(d.expirationTime<=_);_=e.unstable_now(),typeof z=="function"?d.callback=z:d===n(a)&&r(a),g(_)}else r(a);d=n(a)}if(d!==null)var V=!0;else{var B=n(u);B!==null&&O(v,B.startTime-_),V=!1}return V}finally{d=null,f=M,m=!1}}var C=!1,I=null,T=-1,P=5,E=-1;function A(){return!(e.unstable_now()-E<P)}function F(){if(I!==null){var $=e.unstable_now();E=$;var _=!0;try{_=I(!0,$)}finally{_?L():(C=!1,I=null)}}else C=!1}var L;if(typeof h=="function")L=function(){h(F)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,j=x.port2;x.port1.onmessage=F,L=function(){j.postMessage(null)}}else L=function(){b(F,0)};function k($){I=$,C||(C=!0,L())}function O($,_){T=b(function(){$(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){N||m||(N=!0,k(S))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function($){switch(f){case 1:case 2:case 3:var _=3;break;default:_=f}var M=f;f=_;try{return $()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,_){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var M=f;f=$;try{return _()}finally{f=M}},e.unstable_scheduleCallback=function($,_,M){var D=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?D+M:D):M=D,$){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=M+z,$={id:c++,callback:_,priorityLevel:$,startTime:M,expirationTime:z,sortIndex:-1},M>D?($.sortIndex=M,t(u,$),n(a)===null&&$===n(u)&&(w?(p(T),T=-1):w=!0,O(v,M-D))):($.sortIndex=z,t(a,$),N||m||(N=!0,k(S))),$},e.unstable_shouldYield=A,e.unstable_wrapCallback=function($){var _=f;return function(){var M=f;f=_;try{return $.apply(this,arguments)}finally{f=M}}}})(up);ap.exports=up;var iy=ap.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly=R,et=iy;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cp=new Set,Ro={};function or(e,t){Lr(e,t),Lr(e+"Capture",t)}function Lr(e,t){for(Ro[e]=t,e=0;e<t.length;e++)cp.add(t[e])}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ua=Object.prototype.hasOwnProperty,ay=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uc={},Wc={};function uy(e){return ua.call(Wc,e)?!0:ua.call(Uc,e)?!1:ay.test(e)?Wc[e]=!0:(Uc[e]=!0,!1)}function cy(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dy(e,t,n,r){if(t===null||typeof t>"u"||cy(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ue(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new Ue(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new Ue(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new Ue(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new Ue(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new Ue(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new Ue(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new Ue(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new Ue(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new Ue(e,5,!1,e.toLowerCase(),null,!1,!1)});var bu=/[\-:]([a-z])/g;function Pu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bu,Pu);Me[t]=new Ue(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bu,Pu);Me[t]=new Ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bu,Pu);Me[t]=new Ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new Ue(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new Ue(e,1,!1,e.toLowerCase(),null,!0,!0)});function $u(e,t,n,r){var o=Me.hasOwnProperty(t)?Me[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dy(t,n,o,r)&&(n=null),r||o===null?uy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tn=ly.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xs=Symbol.for("react.element"),yr=Symbol.for("react.portal"),vr=Symbol.for("react.fragment"),Tu=Symbol.for("react.strict_mode"),ca=Symbol.for("react.profiler"),dp=Symbol.for("react.provider"),fp=Symbol.for("react.context"),Mu=Symbol.for("react.forward_ref"),da=Symbol.for("react.suspense"),fa=Symbol.for("react.suspense_list"),ju=Symbol.for("react.memo"),on=Symbol.for("react.lazy"),pp=Symbol.for("react.offscreen"),Qc=Symbol.iterator;function so(e){return e===null||typeof e!="object"?null:(e=Qc&&e[Qc]||e["@@iterator"],typeof e=="function"?e:null)}var he=Object.assign,Sl;function wo(e){if(Sl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sl=t&&t[1]||""}return`
`+Sl+e}var El=!1;function _l(e,t){if(!e||El)return"";El=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,l=s.length-1;1<=i&&0<=l&&o[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==s[l]){var a=`
`+o[i].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=i&&0<=l);break}}}finally{El=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wo(e):""}function fy(e){switch(e.tag){case 5:return wo(e.type);case 16:return wo("Lazy");case 13:return wo("Suspense");case 19:return wo("SuspenseList");case 0:case 2:case 15:return e=_l(e.type,!1),e;case 11:return e=_l(e.type.render,!1),e;case 1:return e=_l(e.type,!0),e;default:return""}}function pa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vr:return"Fragment";case yr:return"Portal";case ca:return"Profiler";case Tu:return"StrictMode";case da:return"Suspense";case fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fp:return(e.displayName||"Context")+".Consumer";case dp:return(e._context.displayName||"Context")+".Provider";case Mu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ju:return t=e.displayName||null,t!==null?t:pa(e.type)||"Memo";case on:t=e._payload,e=e._init;try{return pa(e(t))}catch{}}return null}function py(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pa(t);case 8:return t===Tu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _n(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hy(e){var t=hp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ws(e){e._valueTracker||(e._valueTracker=hy(e))}function mp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ha(e,t){var n=t.checked;return he({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_n(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gp(e,t){t=t.checked,t!=null&&$u(e,"checked",t,!1)}function ma(e,t){gp(e,t);var n=_n(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ga(e,t.type,n):t.hasOwnProperty("defaultValue")&&ga(e,t.type,_n(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ga(e,t,n){(t!=="number"||ii(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var No=Array.isArray;function $r(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_n(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ya(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return he({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(No(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_n(n)}}function yp(e,t){var n=_n(t.value),r=_n(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Xc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function va(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ns,xp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ns=Ns||document.createElement("div"),Ns.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Do(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},my=["Webkit","ms","Moz","O"];Object.keys(Io).forEach(function(e){my.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Io[t]=Io[e]})});function wp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Io.hasOwnProperty(e)&&Io[e]?(""+t).trim():t+"px"}function Np(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=wp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var gy=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xa(e,t){if(t){if(gy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function wa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Na=null;function zu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sa=null,Tr=null,Mr=null;function Gc(e){if(e=fs(e)){if(typeof Sa!="function")throw Error(U(280));var t=e.stateNode;t&&(t=qi(t),Sa(e.stateNode,e.type,t))}}function Sp(e){Tr?Mr?Mr.push(e):Mr=[e]:Tr=e}function Ep(){if(Tr){var e=Tr,t=Mr;if(Mr=Tr=null,Gc(e),t)for(e=0;e<t.length;e++)Gc(t[e])}}function _p(e,t){return e(t)}function kp(){}var kl=!1;function Cp(e,t,n){if(kl)return e(t,n);kl=!0;try{return _p(e,t,n)}finally{kl=!1,(Tr!==null||Mr!==null)&&(kp(),Ep())}}function Oo(e,t){var n=e.stateNode;if(n===null)return null;var r=qi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var Ea=!1;if(Yt)try{var io={};Object.defineProperty(io,"passive",{get:function(){Ea=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Ea=!1}function yy(e,t,n,r,o,s,i,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var bo=!1,li=null,ai=!1,_a=null,vy={onError:function(e){bo=!0,li=e}};function xy(e,t,n,r,o,s,i,l,a){bo=!1,li=null,yy.apply(vy,arguments)}function wy(e,t,n,r,o,s,i,l,a){if(xy.apply(this,arguments),bo){if(bo){var u=li;bo=!1,li=null}else throw Error(U(198));ai||(ai=!0,_a=u)}}function sr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ip(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zc(e){if(sr(e)!==e)throw Error(U(188))}function Ny(e){var t=e.alternate;if(!t){if(t=sr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Zc(o),e;if(s===r)return Zc(o),t;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function bp(e){return e=Ny(e),e!==null?Pp(e):null}function Pp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pp(e);if(t!==null)return t;e=e.sibling}return null}var $p=et.unstable_scheduleCallback,Jc=et.unstable_cancelCallback,Sy=et.unstable_shouldYield,Ey=et.unstable_requestPaint,ve=et.unstable_now,_y=et.unstable_getCurrentPriorityLevel,Au=et.unstable_ImmediatePriority,Tp=et.unstable_UserBlockingPriority,ui=et.unstable_NormalPriority,ky=et.unstable_LowPriority,Mp=et.unstable_IdlePriority,Bi=null,jt=null;function Cy(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Bi,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Py,Iy=Math.log,by=Math.LN2;function Py(e){return e>>>=0,e===0?32:31-(Iy(e)/by|0)|0}var Ss=64,Es=4194304;function So(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ci(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~o;l!==0?r=So(l):(s&=i,s!==0&&(r=So(s)))}else i=n&~o,i!==0?r=So(i):s!==0&&(r=So(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-kt(t),o=1<<n,r|=e[n],t&=~o;return r}function $y(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ty(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-kt(s),l=1<<i,a=o[i];a===-1?(!(l&n)||l&r)&&(o[i]=$y(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function ka(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jp(){var e=Ss;return Ss<<=1,!(Ss&4194240)&&(Ss=64),e}function Cl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function cs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=n}function My(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-kt(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Ru(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-kt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var re=0;function zp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ap,Du,Rp,Dp,Op,Ca=!1,_s=[],hn=null,mn=null,gn=null,Lo=new Map,Fo=new Map,un=[],jy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ed(e,t){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":Lo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(t.pointerId)}}function lo(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=fs(t),t!==null&&Du(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function zy(e,t,n,r,o){switch(t){case"focusin":return hn=lo(hn,e,t,n,r,o),!0;case"dragenter":return mn=lo(mn,e,t,n,r,o),!0;case"mouseover":return gn=lo(gn,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Lo.set(s,lo(Lo.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Fo.set(s,lo(Fo.get(s)||null,e,t,n,r,o)),!0}return!1}function Lp(e){var t=Hn(e.target);if(t!==null){var n=sr(t);if(n!==null){if(t=n.tag,t===13){if(t=Ip(n),t!==null){e.blockedOn=t,Op(e.priority,function(){Rp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ia(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Na=r,n.target.dispatchEvent(r),Na=null}else return t=fs(n),t!==null&&Du(t),e.blockedOn=n,!1;t.shift()}return!0}function td(e,t,n){Qs(e)&&n.delete(t)}function Ay(){Ca=!1,hn!==null&&Qs(hn)&&(hn=null),mn!==null&&Qs(mn)&&(mn=null),gn!==null&&Qs(gn)&&(gn=null),Lo.forEach(td),Fo.forEach(td)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,Ca||(Ca=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,Ay)))}function Ho(e){function t(o){return ao(o,e)}if(0<_s.length){ao(_s[0],e);for(var n=1;n<_s.length;n++){var r=_s[n];r.blockedOn===e&&(r.blockedOn=null)}}for(hn!==null&&ao(hn,e),mn!==null&&ao(mn,e),gn!==null&&ao(gn,e),Lo.forEach(t),Fo.forEach(t),n=0;n<un.length;n++)r=un[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)Lp(n),n.blockedOn===null&&un.shift()}var jr=tn.ReactCurrentBatchConfig,di=!0;function Ry(e,t,n,r){var o=re,s=jr.transition;jr.transition=null;try{re=1,Ou(e,t,n,r)}finally{re=o,jr.transition=s}}function Dy(e,t,n,r){var o=re,s=jr.transition;jr.transition=null;try{re=4,Ou(e,t,n,r)}finally{re=o,jr.transition=s}}function Ou(e,t,n,r){if(di){var o=Ia(e,t,n,r);if(o===null)Rl(e,t,r,fi,n),ed(e,r);else if(zy(o,e,t,n,r))r.stopPropagation();else if(ed(e,r),t&4&&-1<jy.indexOf(e)){for(;o!==null;){var s=fs(o);if(s!==null&&Ap(s),s=Ia(e,t,n,r),s===null&&Rl(e,t,r,fi,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Rl(e,t,r,null,n)}}var fi=null;function Ia(e,t,n,r){if(fi=null,e=zu(r),e=Hn(e),e!==null)if(t=sr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ip(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fi=e,null}function Fp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_y()){case Au:return 1;case Tp:return 4;case ui:case ky:return 16;case Mp:return 536870912;default:return 16}default:return 16}}var fn=null,Lu=null,qs=null;function Hp(){if(qs)return qs;var e,t=Lu,n=t.length,r,o="value"in fn?fn.value:fn.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return qs=o.slice(e,1<r?1-r:void 0)}function Ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ks(){return!0}function nd(){return!1}function st(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ks:nd,this.isPropagationStopped=nd,this}return he(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),t}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fu=st(Jr),ds=he({},Jr,{view:0,detail:0}),Oy=st(ds),Il,bl,uo,Ui=he({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uo&&(uo&&e.type==="mousemove"?(Il=e.screenX-uo.screenX,bl=e.screenY-uo.screenY):bl=Il=0,uo=e),Il)},movementY:function(e){return"movementY"in e?e.movementY:bl}}),rd=st(Ui),Ly=he({},Ui,{dataTransfer:0}),Fy=st(Ly),Hy=he({},ds,{relatedTarget:0}),Pl=st(Hy),Vy=he({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),By=st(Vy),Uy=he({},Jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wy=st(Uy),Qy=he({},Jr,{data:0}),od=st(Qy),qy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ky={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yy[e])?!!t[e]:!1}function Hu(){return Xy}var Gy=he({},ds,{key:function(e){if(e.key){var t=qy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ky[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(e){return e.type==="keypress"?Ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zy=st(Gy),Jy=he({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sd=st(Jy),ev=he({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),tv=st(ev),nv=he({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rv=st(nv),ov=he({},Ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sv=st(ov),iv=[9,13,27,32],Vu=Yt&&"CompositionEvent"in window,Po=null;Yt&&"documentMode"in document&&(Po=document.documentMode);var lv=Yt&&"TextEvent"in window&&!Po,Vp=Yt&&(!Vu||Po&&8<Po&&11>=Po),id=" ",ld=!1;function Bp(e,t){switch(e){case"keyup":return iv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Up(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xr=!1;function av(e,t){switch(e){case"compositionend":return Up(t);case"keypress":return t.which!==32?null:(ld=!0,id);case"textInput":return e=t.data,e===id&&ld?null:e;default:return null}}function uv(e,t){if(xr)return e==="compositionend"||!Vu&&Bp(e,t)?(e=Hp(),qs=Lu=fn=null,xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vp&&t.locale!=="ko"?null:t.data;default:return null}}var cv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cv[e.type]:t==="textarea"}function Wp(e,t,n,r){Sp(r),t=pi(t,"onChange"),0<t.length&&(n=new Fu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $o=null,Vo=null;function dv(e){nh(e,0)}function Wi(e){var t=Sr(e);if(mp(t))return e}function fv(e,t){if(e==="change")return t}var Qp=!1;if(Yt){var $l;if(Yt){var Tl="oninput"in document;if(!Tl){var ud=document.createElement("div");ud.setAttribute("oninput","return;"),Tl=typeof ud.oninput=="function"}$l=Tl}else $l=!1;Qp=$l&&(!document.documentMode||9<document.documentMode)}function cd(){$o&&($o.detachEvent("onpropertychange",qp),Vo=$o=null)}function qp(e){if(e.propertyName==="value"&&Wi(Vo)){var t=[];Wp(t,Vo,e,zu(e)),Cp(dv,t)}}function pv(e,t,n){e==="focusin"?(cd(),$o=t,Vo=n,$o.attachEvent("onpropertychange",qp)):e==="focusout"&&cd()}function hv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wi(Vo)}function mv(e,t){if(e==="click")return Wi(t)}function gv(e,t){if(e==="input"||e==="change")return Wi(t)}function yv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:yv;function Bo(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ua.call(t,o)||!It(e[o],t[o]))return!1}return!0}function dd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fd(e,t){var n=dd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dd(n)}}function Kp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yp(){for(var e=window,t=ii();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ii(e.document)}return t}function Bu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vv(e){var t=Yp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Kp(n.ownerDocument.documentElement,n)){if(r!==null&&Bu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=fd(n,s);var i=fd(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xv=Yt&&"documentMode"in document&&11>=document.documentMode,wr=null,ba=null,To=null,Pa=!1;function pd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pa||wr==null||wr!==ii(r)||(r=wr,"selectionStart"in r&&Bu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),To&&Bo(To,r)||(To=r,r=pi(ba,"onSelect"),0<r.length&&(t=new Fu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wr)))}function Cs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},Ml={},Xp={};Yt&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function Qi(e){if(Ml[e])return Ml[e];if(!Nr[e])return e;var t=Nr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Xp)return Ml[e]=t[n];return e}var Gp=Qi("animationend"),Zp=Qi("animationiteration"),Jp=Qi("animationstart"),eh=Qi("transitionend"),th=new Map,hd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(e,t){th.set(e,t),or(t,[e])}for(var jl=0;jl<hd.length;jl++){var zl=hd[jl],wv=zl.toLowerCase(),Nv=zl[0].toUpperCase()+zl.slice(1);In(wv,"on"+Nv)}In(Gp,"onAnimationEnd");In(Zp,"onAnimationIteration");In(Jp,"onAnimationStart");In("dblclick","onDoubleClick");In("focusin","onFocus");In("focusout","onBlur");In(eh,"onTransitionEnd");Lr("onMouseEnter",["mouseout","mouseover"]);Lr("onMouseLeave",["mouseout","mouseover"]);Lr("onPointerEnter",["pointerout","pointerover"]);Lr("onPointerLeave",["pointerout","pointerover"]);or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));or("onBeforeInput",["compositionend","keypress","textInput","paste"]);or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function md(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,wy(r,t,void 0,e),e.currentTarget=null}function nh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&o.isPropagationStopped())break e;md(o,l,u),s=a}else for(i=0;i<r.length;i++){if(l=r[i],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&o.isPropagationStopped())break e;md(o,l,u),s=a}}}if(ai)throw e=_a,ai=!1,_a=null,e}function ae(e,t){var n=t[za];n===void 0&&(n=t[za]=new Set);var r=e+"__bubble";n.has(r)||(rh(t,e,2,!1),n.add(r))}function Al(e,t,n){var r=0;t&&(r|=4),rh(n,e,r,t)}var Is="_reactListening"+Math.random().toString(36).slice(2);function Uo(e){if(!e[Is]){e[Is]=!0,cp.forEach(function(n){n!=="selectionchange"&&(Sv.has(n)||Al(n,!1,e),Al(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Is]||(t[Is]=!0,Al("selectionchange",!1,t))}}function rh(e,t,n,r){switch(Fp(t)){case 1:var o=Ry;break;case 4:o=Dy;break;default:o=Ou}n=o.bind(null,t,n,e),o=void 0,!Ea||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Rl(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var a=i.tag;if((a===3||a===4)&&(a=i.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;i=i.return}for(;l!==null;){if(i=Hn(l),i===null)return;if(a=i.tag,a===5||a===6){r=s=i;continue e}l=l.parentNode}}r=r.return}Cp(function(){var u=s,c=zu(n),d=[];e:{var f=th.get(e);if(f!==void 0){var m=Fu,N=e;switch(e){case"keypress":if(Ks(n)===0)break e;case"keydown":case"keyup":m=Zy;break;case"focusin":N="focus",m=Pl;break;case"focusout":N="blur",m=Pl;break;case"beforeblur":case"afterblur":m=Pl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Fy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=tv;break;case Gp:case Zp:case Jp:m=By;break;case eh:m=rv;break;case"scroll":m=Oy;break;case"wheel":m=sv;break;case"copy":case"cut":case"paste":m=Wy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=sd}var w=(t&4)!==0,b=!w&&e==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var h=u,g;h!==null;){g=h;var v=g.stateNode;if(g.tag===5&&v!==null&&(g=v,p!==null&&(v=Oo(h,p),v!=null&&w.push(Wo(h,v,g)))),b)break;h=h.return}0<w.length&&(f=new m(f,N,null,n,c),d.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Na&&(N=n.relatedTarget||n.fromElement)&&(Hn(N)||N[Xt]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(N=n.relatedTarget||n.toElement,m=u,N=N?Hn(N):null,N!==null&&(b=sr(N),N!==b||N.tag!==5&&N.tag!==6)&&(N=null)):(m=null,N=u),m!==N)){if(w=rd,v="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(w=sd,v="onPointerLeave",p="onPointerEnter",h="pointer"),b=m==null?f:Sr(m),g=N==null?f:Sr(N),f=new w(v,h+"leave",m,n,c),f.target=b,f.relatedTarget=g,v=null,Hn(c)===u&&(w=new w(p,h+"enter",N,n,c),w.target=g,w.relatedTarget=b,v=w),b=v,m&&N)t:{for(w=m,p=N,h=0,g=w;g;g=dr(g))h++;for(g=0,v=p;v;v=dr(v))g++;for(;0<h-g;)w=dr(w),h--;for(;0<g-h;)p=dr(p),g--;for(;h--;){if(w===p||p!==null&&w===p.alternate)break t;w=dr(w),p=dr(p)}w=null}else w=null;m!==null&&gd(d,f,m,w,!1),N!==null&&b!==null&&gd(d,b,N,w,!0)}}e:{if(f=u?Sr(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=fv;else if(ad(f))if(Qp)S=gv;else{S=hv;var C=pv}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=mv);if(S&&(S=S(e,u))){Wp(d,S,n,c);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&ga(f,"number",f.value)}switch(C=u?Sr(u):window,e){case"focusin":(ad(C)||C.contentEditable==="true")&&(wr=C,ba=u,To=null);break;case"focusout":To=ba=wr=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,pd(d,n,c);break;case"selectionchange":if(xv)break;case"keydown":case"keyup":pd(d,n,c)}var I;if(Vu)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else xr?Bp(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Vp&&n.locale!=="ko"&&(xr||T!=="onCompositionStart"?T==="onCompositionEnd"&&xr&&(I=Hp()):(fn=c,Lu="value"in fn?fn.value:fn.textContent,xr=!0)),C=pi(u,T),0<C.length&&(T=new od(T,e,null,n,c),d.push({event:T,listeners:C}),I?T.data=I:(I=Up(n),I!==null&&(T.data=I)))),(I=lv?av(e,n):uv(e,n))&&(u=pi(u,"onBeforeInput"),0<u.length&&(c=new od("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}nh(d,t)})}function Wo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Oo(e,n),s!=null&&r.unshift(Wo(e,s,o)),s=Oo(e,t),s!=null&&r.push(Wo(e,s,o))),e=e.return}return r}function dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gd(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=Oo(n,s),a!=null&&i.unshift(Wo(n,a,l))):o||(a=Oo(n,s),a!=null&&i.push(Wo(n,a,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Ev=/\r\n?/g,_v=/\u0000|\uFFFD/g;function yd(e){return(typeof e=="string"?e:""+e).replace(Ev,`
`).replace(_v,"")}function bs(e,t,n){if(t=yd(t),yd(e)!==t&&n)throw Error(U(425))}function hi(){}var $a=null,Ta=null;function Ma(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ja=typeof setTimeout=="function"?setTimeout:void 0,kv=typeof clearTimeout=="function"?clearTimeout:void 0,vd=typeof Promise=="function"?Promise:void 0,Cv=typeof queueMicrotask=="function"?queueMicrotask:typeof vd<"u"?function(e){return vd.resolve(null).then(e).catch(Iv)}:ja;function Iv(e){setTimeout(function(){throw e})}function Dl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Ho(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ho(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var eo=Math.random().toString(36).slice(2),Mt="__reactFiber$"+eo,Qo="__reactProps$"+eo,Xt="__reactContainer$"+eo,za="__reactEvents$"+eo,bv="__reactListeners$"+eo,Pv="__reactHandles$"+eo;function Hn(e){var t=e[Mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xt]||n[Mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xd(e);e!==null;){if(n=e[Mt])return n;e=xd(e)}return t}e=n,n=e.parentNode}return null}function fs(e){return e=e[Mt]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function qi(e){return e[Qo]||null}var Aa=[],Er=-1;function bn(e){return{current:e}}function ue(e){0>Er||(e.current=Aa[Er],Aa[Er]=null,Er--)}function ie(e,t){Er++,Aa[Er]=e.current,e.current=t}var kn={},Oe=bn(kn),Ke=bn(!1),Xn=kn;function Fr(e,t){var n=e.type.contextTypes;if(!n)return kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ye(e){return e=e.childContextTypes,e!=null}function mi(){ue(Ke),ue(Oe)}function wd(e,t,n){if(Oe.current!==kn)throw Error(U(168));ie(Oe,t),ie(Ke,n)}function oh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(U(108,py(e)||"Unknown",o));return he({},n,r)}function gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Xn=Oe.current,ie(Oe,e),ie(Ke,Ke.current),!0}function Nd(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=oh(e,t,Xn),r.__reactInternalMemoizedMergedChildContext=e,ue(Ke),ue(Oe),ie(Oe,e)):ue(Ke),ie(Ke,n)}var Vt=null,Ki=!1,Ol=!1;function sh(e){Vt===null?Vt=[e]:Vt.push(e)}function $v(e){Ki=!0,sh(e)}function Pn(){if(!Ol&&Vt!==null){Ol=!0;var e=0,t=re;try{var n=Vt;for(re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vt=null,Ki=!1}catch(o){throw Vt!==null&&(Vt=Vt.slice(e+1)),$p(Au,Pn),o}finally{re=t,Ol=!1}}return null}var _r=[],kr=0,yi=null,vi=0,it=[],lt=0,Gn=null,Bt=1,Ut="";function Rn(e,t){_r[kr++]=vi,_r[kr++]=yi,yi=e,vi=t}function ih(e,t,n){it[lt++]=Bt,it[lt++]=Ut,it[lt++]=Gn,Gn=e;var r=Bt;e=Ut;var o=32-kt(r)-1;r&=~(1<<o),n+=1;var s=32-kt(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Bt=1<<32-kt(t)+o|n<<o|r,Ut=s+e}else Bt=1<<s|n<<o|r,Ut=e}function Uu(e){e.return!==null&&(Rn(e,1),ih(e,1,0))}function Wu(e){for(;e===yi;)yi=_r[--kr],_r[kr]=null,vi=_r[--kr],_r[kr]=null;for(;e===Gn;)Gn=it[--lt],it[lt]=null,Ut=it[--lt],it[lt]=null,Bt=it[--lt],it[lt]=null}var Je=null,Ze=null,ce=!1,Nt=null;function lh(e,t){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ze=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gn!==null?{id:Bt,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Ze=null,!0):!1;default:return!1}}function Ra(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Da(e){if(ce){var t=Ze;if(t){var n=t;if(!Sd(e,t)){if(Ra(e))throw Error(U(418));t=yn(n.nextSibling);var r=Je;t&&Sd(e,t)?lh(r,n):(e.flags=e.flags&-4097|2,ce=!1,Je=e)}}else{if(Ra(e))throw Error(U(418));e.flags=e.flags&-4097|2,ce=!1,Je=e}}}function Ed(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Ps(e){if(e!==Je)return!1;if(!ce)return Ed(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ma(e.type,e.memoizedProps)),t&&(t=Ze)){if(Ra(e))throw ah(),Error(U(418));for(;t;)lh(e,t),t=yn(t.nextSibling)}if(Ed(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=Je?yn(e.stateNode.nextSibling):null;return!0}function ah(){for(var e=Ze;e;)e=yn(e.nextSibling)}function Hr(){Ze=Je=null,ce=!1}function Qu(e){Nt===null?Nt=[e]:Nt.push(e)}var Tv=tn.ReactCurrentBatchConfig;function co(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=o.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function $s(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _d(e){var t=e._init;return t(e._payload)}function uh(e){function t(p,h){if(e){var g=p.deletions;g===null?(p.deletions=[h],p.flags|=16):g.push(h)}}function n(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function o(p,h){return p=Nn(p,h),p.index=0,p.sibling=null,p}function s(p,h,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<h?(p.flags|=2,h):g):(p.flags|=2,h)):(p.flags|=1048576,h)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,h,g,v){return h===null||h.tag!==6?(h=Wl(g,p.mode,v),h.return=p,h):(h=o(h,g),h.return=p,h)}function a(p,h,g,v){var S=g.type;return S===vr?c(p,h,g.props.children,v,g.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===on&&_d(S)===h.type)?(v=o(h,g.props),v.ref=co(p,h,g),v.return=p,v):(v=ti(g.type,g.key,g.props,null,p.mode,v),v.ref=co(p,h,g),v.return=p,v)}function u(p,h,g,v){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=Ql(g,p.mode,v),h.return=p,h):(h=o(h,g.children||[]),h.return=p,h)}function c(p,h,g,v,S){return h===null||h.tag!==7?(h=qn(g,p.mode,v,S),h.return=p,h):(h=o(h,g),h.return=p,h)}function d(p,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Wl(""+h,p.mode,g),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case xs:return g=ti(h.type,h.key,h.props,null,p.mode,g),g.ref=co(p,null,h),g.return=p,g;case yr:return h=Ql(h,p.mode,g),h.return=p,h;case on:var v=h._init;return d(p,v(h._payload),g)}if(No(h)||so(h))return h=qn(h,p.mode,g,null),h.return=p,h;$s(p,h)}return null}function f(p,h,g,v){var S=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:l(p,h,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case xs:return g.key===S?a(p,h,g,v):null;case yr:return g.key===S?u(p,h,g,v):null;case on:return S=g._init,f(p,h,S(g._payload),v)}if(No(g)||so(g))return S!==null?null:c(p,h,g,v,null);$s(p,g)}return null}function m(p,h,g,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return p=p.get(g)||null,l(h,p,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case xs:return p=p.get(v.key===null?g:v.key)||null,a(h,p,v,S);case yr:return p=p.get(v.key===null?g:v.key)||null,u(h,p,v,S);case on:var C=v._init;return m(p,h,g,C(v._payload),S)}if(No(v)||so(v))return p=p.get(g)||null,c(h,p,v,S,null);$s(h,v)}return null}function N(p,h,g,v){for(var S=null,C=null,I=h,T=h=0,P=null;I!==null&&T<g.length;T++){I.index>T?(P=I,I=null):P=I.sibling;var E=f(p,I,g[T],v);if(E===null){I===null&&(I=P);break}e&&I&&E.alternate===null&&t(p,I),h=s(E,h,T),C===null?S=E:C.sibling=E,C=E,I=P}if(T===g.length)return n(p,I),ce&&Rn(p,T),S;if(I===null){for(;T<g.length;T++)I=d(p,g[T],v),I!==null&&(h=s(I,h,T),C===null?S=I:C.sibling=I,C=I);return ce&&Rn(p,T),S}for(I=r(p,I);T<g.length;T++)P=m(I,p,T,g[T],v),P!==null&&(e&&P.alternate!==null&&I.delete(P.key===null?T:P.key),h=s(P,h,T),C===null?S=P:C.sibling=P,C=P);return e&&I.forEach(function(A){return t(p,A)}),ce&&Rn(p,T),S}function w(p,h,g,v){var S=so(g);if(typeof S!="function")throw Error(U(150));if(g=S.call(g),g==null)throw Error(U(151));for(var C=S=null,I=h,T=h=0,P=null,E=g.next();I!==null&&!E.done;T++,E=g.next()){I.index>T?(P=I,I=null):P=I.sibling;var A=f(p,I,E.value,v);if(A===null){I===null&&(I=P);break}e&&I&&A.alternate===null&&t(p,I),h=s(A,h,T),C===null?S=A:C.sibling=A,C=A,I=P}if(E.done)return n(p,I),ce&&Rn(p,T),S;if(I===null){for(;!E.done;T++,E=g.next())E=d(p,E.value,v),E!==null&&(h=s(E,h,T),C===null?S=E:C.sibling=E,C=E);return ce&&Rn(p,T),S}for(I=r(p,I);!E.done;T++,E=g.next())E=m(I,p,T,E.value,v),E!==null&&(e&&E.alternate!==null&&I.delete(E.key===null?T:E.key),h=s(E,h,T),C===null?S=E:C.sibling=E,C=E);return e&&I.forEach(function(F){return t(p,F)}),ce&&Rn(p,T),S}function b(p,h,g,v){if(typeof g=="object"&&g!==null&&g.type===vr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case xs:e:{for(var S=g.key,C=h;C!==null;){if(C.key===S){if(S=g.type,S===vr){if(C.tag===7){n(p,C.sibling),h=o(C,g.props.children),h.return=p,p=h;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===on&&_d(S)===C.type){n(p,C.sibling),h=o(C,g.props),h.ref=co(p,C,g),h.return=p,p=h;break e}n(p,C);break}else t(p,C);C=C.sibling}g.type===vr?(h=qn(g.props.children,p.mode,v,g.key),h.return=p,p=h):(v=ti(g.type,g.key,g.props,null,p.mode,v),v.ref=co(p,h,g),v.return=p,p=v)}return i(p);case yr:e:{for(C=g.key;h!==null;){if(h.key===C)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(p,h.sibling),h=o(h,g.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else t(p,h);h=h.sibling}h=Ql(g,p.mode,v),h.return=p,p=h}return i(p);case on:return C=g._init,b(p,h,C(g._payload),v)}if(No(g))return N(p,h,g,v);if(so(g))return w(p,h,g,v);$s(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(p,h.sibling),h=o(h,g),h.return=p,p=h):(n(p,h),h=Wl(g,p.mode,v),h.return=p,p=h),i(p)):n(p,h)}return b}var Vr=uh(!0),ch=uh(!1),xi=bn(null),wi=null,Cr=null,qu=null;function Ku(){qu=Cr=wi=null}function Yu(e){var t=xi.current;ue(xi),e._currentValue=t}function Oa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zr(e,t){wi=e,qu=Cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qe=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(qu!==e)if(e={context:e,memoizedValue:t,next:null},Cr===null){if(wi===null)throw Error(U(308));Cr=e,wi.dependencies={lanes:0,firstContext:e}}else Cr=Cr.next=e;return t}var Vn=null;function Xu(e){Vn===null?Vn=[e]:Vn.push(e)}function dh(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Xu(t)):(n.next=o.next,o.next=n),t.interleaved=n,Gt(e,r)}function Gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sn=!1;function Gu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Gt(e,n)}return o=r.interleaved,o===null?(t.next=t,Xu(r)):(t.next=o.next,o.next=t),r.interleaved=t,Gt(e,n)}function Ys(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ru(e,n)}}function kd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ni(e,t,n,r){var o=e.updateQueue;sn=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,i===null?s=u:i.next=u,i=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==i&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=o.baseState;i=0,c=u=a=null,l=s;do{var f=l.lane,m=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var N=e,w=l;switch(f=t,m=n,w.tag){case 1:if(N=w.payload,typeof N=="function"){d=N.call(m,d,f);break e}d=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=w.payload,f=typeof N=="function"?N.call(m,d,f):N,f==null)break e;d=he({},d,f);break e;case 2:sn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=m,a=d):c=c.next=m,i|=f;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;f=l,l=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(c===null&&(a=d),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Jn|=i,e.lanes=i,e.memoizedState=d}}function Cd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(U(191,o));o.call(r)}}}var ps={},zt=bn(ps),qo=bn(ps),Ko=bn(ps);function Bn(e){if(e===ps)throw Error(U(174));return e}function Zu(e,t){switch(ie(Ko,t),ie(qo,e),ie(zt,ps),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:va(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=va(t,e)}ue(zt),ie(zt,t)}function Br(){ue(zt),ue(qo),ue(Ko)}function ph(e){Bn(Ko.current);var t=Bn(zt.current),n=va(t,e.type);t!==n&&(ie(qo,e),ie(zt,n))}function Ju(e){qo.current===e&&(ue(zt),ue(qo))}var fe=bn(0);function Si(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ll=[];function ec(){for(var e=0;e<Ll.length;e++)Ll[e]._workInProgressVersionPrimary=null;Ll.length=0}var Xs=tn.ReactCurrentDispatcher,Fl=tn.ReactCurrentBatchConfig,Zn=0,pe=null,Ne=null,Ie=null,Ei=!1,Mo=!1,Yo=0,Mv=0;function Ae(){throw Error(U(321))}function tc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!It(e[n],t[n]))return!1;return!0}function nc(e,t,n,r,o,s){if(Zn=s,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xs.current=e===null||e.memoizedState===null?Rv:Dv,e=n(r,o),Mo){s=0;do{if(Mo=!1,Yo=0,25<=s)throw Error(U(301));s+=1,Ie=Ne=null,t.updateQueue=null,Xs.current=Ov,e=n(r,o)}while(Mo)}if(Xs.current=_i,t=Ne!==null&&Ne.next!==null,Zn=0,Ie=Ne=pe=null,Ei=!1,t)throw Error(U(300));return e}function rc(){var e=Yo!==0;return Yo=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?pe.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function mt(){if(Ne===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ie===null?pe.memoizedState:Ie.next;if(t!==null)Ie=t,Ne=e;else{if(e===null)throw Error(U(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ie===null?pe.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function Xo(e,t){return typeof t=="function"?t(e):t}function Hl(e){var t=mt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Ne,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var l=i=null,a=null,u=s;do{var c=u.lane;if((Zn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,i=r):a=a.next=d,pe.lanes|=c,Jn|=c}u=u.next}while(u!==null&&u!==s);a===null?i=r:a.next=l,It(r,t.memoizedState)||(Qe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,pe.lanes|=s,Jn|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vl(e){var t=mt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);It(s,t.memoizedState)||(Qe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function hh(){}function mh(e,t){var n=pe,r=mt(),o=t(),s=!It(r.memoizedState,o);if(s&&(r.memoizedState=o,Qe=!0),r=r.queue,oc(vh.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ie!==null&&Ie.memoizedState.tag&1){if(n.flags|=2048,Go(9,yh.bind(null,n,r,o,t),void 0,null),be===null)throw Error(U(349));Zn&30||gh(n,t,o)}return o}function gh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yh(e,t,n,r){t.value=n,t.getSnapshot=r,xh(t)&&wh(e)}function vh(e,t,n){return n(function(){xh(t)&&wh(e)})}function xh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!It(e,n)}catch{return!0}}function wh(e){var t=Gt(e,1);t!==null&&Ct(t,e,1,-1)}function Id(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Av.bind(null,pe,e),[t.memoizedState,e]}function Go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Nh(){return mt().memoizedState}function Gs(e,t,n,r){var o=Tt();pe.flags|=e,o.memoizedState=Go(1|t,n,void 0,r===void 0?null:r)}function Yi(e,t,n,r){var o=mt();r=r===void 0?null:r;var s=void 0;if(Ne!==null){var i=Ne.memoizedState;if(s=i.destroy,r!==null&&tc(r,i.deps)){o.memoizedState=Go(t,n,s,r);return}}pe.flags|=e,o.memoizedState=Go(1|t,n,s,r)}function bd(e,t){return Gs(8390656,8,e,t)}function oc(e,t){return Yi(2048,8,e,t)}function Sh(e,t){return Yi(4,2,e,t)}function Eh(e,t){return Yi(4,4,e,t)}function _h(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kh(e,t,n){return n=n!=null?n.concat([e]):null,Yi(4,4,_h.bind(null,t,e),n)}function sc(){}function Ch(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ih(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bh(e,t,n){return Zn&21?(It(n,t)||(n=jp(),pe.lanes|=n,Jn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=n)}function jv(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var r=Fl.transition;Fl.transition={};try{e(!1),t()}finally{re=n,Fl.transition=r}}function Ph(){return mt().memoizedState}function zv(e,t,n){var r=wn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$h(e))Th(t,n);else if(n=dh(e,t,n,r),n!==null){var o=Ve();Ct(n,e,r,o),Mh(n,t,r)}}function Av(e,t,n){var r=wn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($h(e))Th(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,n);if(o.hasEagerState=!0,o.eagerState=l,It(l,i)){var a=t.interleaved;a===null?(o.next=o,Xu(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=dh(e,t,o,r),n!==null&&(o=Ve(),Ct(n,e,r,o),Mh(n,t,r))}}function $h(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function Th(e,t){Mo=Ei=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Mh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ru(e,n)}}var _i={readContext:ht,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},Rv={readContext:ht,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:bd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gs(4194308,4,_h.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gs(4,2,e,t)},useMemo:function(e,t){var n=Tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Tt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=zv.bind(null,pe,e),[r.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:Id,useDebugValue:sc,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=Id(!1),t=e[0];return e=jv.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pe,o=Tt();if(ce){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),be===null)throw Error(U(349));Zn&30||gh(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,bd(vh.bind(null,r,s,e),[e]),r.flags|=2048,Go(9,yh.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Tt(),t=be.identifierPrefix;if(ce){var n=Ut,r=Bt;n=(r&~(1<<32-kt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Mv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dv={readContext:ht,useCallback:Ch,useContext:ht,useEffect:oc,useImperativeHandle:kh,useInsertionEffect:Sh,useLayoutEffect:Eh,useMemo:Ih,useReducer:Hl,useRef:Nh,useState:function(){return Hl(Xo)},useDebugValue:sc,useDeferredValue:function(e){var t=mt();return bh(t,Ne.memoizedState,e)},useTransition:function(){var e=Hl(Xo)[0],t=mt().memoizedState;return[e,t]},useMutableSource:hh,useSyncExternalStore:mh,useId:Ph,unstable_isNewReconciler:!1},Ov={readContext:ht,useCallback:Ch,useContext:ht,useEffect:oc,useImperativeHandle:kh,useInsertionEffect:Sh,useLayoutEffect:Eh,useMemo:Ih,useReducer:Vl,useRef:Nh,useState:function(){return Vl(Xo)},useDebugValue:sc,useDeferredValue:function(e){var t=mt();return Ne===null?t.memoizedState=e:bh(t,Ne.memoizedState,e)},useTransition:function(){var e=Vl(Xo)[0],t=mt().memoizedState;return[e,t]},useMutableSource:hh,useSyncExternalStore:mh,useId:Ph,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=he({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function La(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:he({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xi={isMounted:function(e){return(e=e._reactInternals)?sr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),o=wn(e),s=qt(r,o);s.payload=t,n!=null&&(s.callback=n),t=vn(e,s,o),t!==null&&(Ct(t,e,o,r),Ys(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),o=wn(e),s=qt(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=vn(e,s,o),t!==null&&(Ct(t,e,o,r),Ys(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=wn(e),o=qt(n,r);o.tag=2,t!=null&&(o.callback=t),t=vn(e,o,r),t!==null&&(Ct(t,e,r,n),Ys(t,e,r))}};function Pd(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!Bo(n,r)||!Bo(o,s):!0}function jh(e,t,n){var r=!1,o=kn,s=t.contextType;return typeof s=="object"&&s!==null?s=ht(s):(o=Ye(t)?Xn:Oe.current,r=t.contextTypes,s=(r=r!=null)?Fr(e,o):kn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function $d(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xi.enqueueReplaceState(t,t.state,null)}function Fa(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Gu(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=ht(s):(s=Ye(t)?Xn:Oe.current,o.context=Fr(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(La(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Xi.enqueueReplaceState(o,o.state,null),Ni(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ur(e,t){try{var n="",r=t;do n+=fy(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Bl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ha(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Lv=typeof WeakMap=="function"?WeakMap:Map;function zh(e,t,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ci||(Ci=!0,Ga=r),Ha(e,t)},n}function Ah(e,t,n){n=qt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ha(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ha(e,t),typeof r!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Td(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Lv;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Jv.bind(null,e,t,n),t.then(e,e))}function Md(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qt(-1,1),t.tag=2,vn(n,t,1))),n.lanes|=1),e)}var Fv=tn.ReactCurrentOwner,Qe=!1;function He(e,t,n,r){t.child=e===null?ch(t,null,n,r):Vr(t,e.child,n,r)}function zd(e,t,n,r,o){n=n.render;var s=t.ref;return zr(t,o),r=nc(e,t,n,r,s,o),n=rc(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(ce&&n&&Uu(t),t.flags|=1,He(e,t,r,o),t.child)}function Ad(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!pc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Rh(e,t,s,r,o)):(e=ti(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Bo,n(i,r)&&e.ref===t.ref)return Zt(e,t,o)}return t.flags|=1,e=Nn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Rh(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Bo(s,r)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,Zt(e,t,o)}return Va(e,t,n,r,o)}function Dh(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(br,Ge),Ge|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(br,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ie(br,Ge),Ge|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ie(br,Ge),Ge|=r;return He(e,t,o,n),t.child}function Oh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Va(e,t,n,r,o){var s=Ye(n)?Xn:Oe.current;return s=Fr(t,s),zr(t,o),n=nc(e,t,n,r,s,o),r=rc(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(ce&&r&&Uu(t),t.flags|=1,He(e,t,n,o),t.child)}function Rd(e,t,n,r,o){if(Ye(n)){var s=!0;gi(t)}else s=!1;if(zr(t,o),t.stateNode===null)Zs(e,t),jh(t,n,r),Fa(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var a=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=ht(u):(u=Ye(n)?Xn:Oe.current,u=Fr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||a!==u)&&$d(t,i,r,u),sn=!1;var f=t.memoizedState;i.state=f,Ni(t,r,i,o),a=t.memoizedState,l!==r||f!==a||Ke.current||sn?(typeof c=="function"&&(La(t,n,c,r),a=t.memoizedState),(l=sn||Pd(t,n,l,r,f,a,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),i.props=r,i.state=a,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,fh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:vt(t.type,l),i.props=u,d=t.pendingProps,f=i.context,a=n.contextType,typeof a=="object"&&a!==null?a=ht(a):(a=Ye(n)?Xn:Oe.current,a=Fr(t,a));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==d||f!==a)&&$d(t,i,r,a),sn=!1,f=t.memoizedState,i.state=f,Ni(t,r,i,o);var N=t.memoizedState;l!==d||f!==N||Ke.current||sn?(typeof m=="function"&&(La(t,n,m,r),N=t.memoizedState),(u=sn||Pd(t,n,u,r,f,N,a)||!1)?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,N,a),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,N,a)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),i.props=r,i.state=N,i.context=a,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ba(e,t,n,r,s,o)}function Ba(e,t,n,r,o,s){Oh(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Nd(t,n,!1),Zt(e,t,s);r=t.stateNode,Fv.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Vr(t,e.child,null,s),t.child=Vr(t,null,l,s)):He(e,t,l,s),t.memoizedState=r.state,o&&Nd(t,n,!0),t.child}function Lh(e){var t=e.stateNode;t.pendingContext?wd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wd(e,t.context,!1),Zu(e,t.containerInfo)}function Dd(e,t,n,r,o){return Hr(),Qu(o),t.flags|=256,He(e,t,n,r),t.child}var Ua={dehydrated:null,treeContext:null,retryLane:0};function Wa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fh(e,t,n){var r=t.pendingProps,o=fe.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ie(fe,o&1),e===null)return Da(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Ji(i,r,0,null),e=qn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Wa(n),t.memoizedState=Ua,e):ic(t,i));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Hv(e,t,i,r,l,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Nn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?s=Nn(l,s):(s=qn(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Wa(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Ua,r}return s=e.child,e=s.sibling,r=Nn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ic(e,t){return t=Ji({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ts(e,t,n,r){return r!==null&&Qu(r),Vr(t,e.child,null,n),e=ic(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hv(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=Bl(Error(U(422))),Ts(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Ji({mode:"visible",children:r.children},o,0,null),s=qn(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Vr(t,e.child,null,i),t.child.memoizedState=Wa(i),t.memoizedState=Ua,s);if(!(t.mode&1))return Ts(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(U(419)),r=Bl(s,r,void 0),Ts(e,t,i,r)}if(l=(i&e.childLanes)!==0,Qe||l){if(r=be,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Gt(e,o),Ct(r,e,o,-1))}return fc(),r=Bl(Error(U(421))),Ts(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=ex.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Ze=yn(o.nextSibling),Je=t,ce=!0,Nt=null,e!==null&&(it[lt++]=Bt,it[lt++]=Ut,it[lt++]=Gn,Bt=e.id,Ut=e.overflow,Gn=t),t=ic(t,r.children),t.flags|=4096,t)}function Od(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Oa(e.return,t,n)}function Ul(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function Hh(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(He(e,t,r.children,n),r=fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Od(e,n,t);else if(e.tag===19)Od(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ie(fe,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Si(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ul(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Si(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ul(t,!0,n,null,s);break;case"together":Ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Nn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vv(e,t,n){switch(t.tag){case 3:Lh(t),Hr();break;case 5:ph(t);break;case 1:Ye(t.type)&&gi(t);break;case 4:Zu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ie(xi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ie(fe,fe.current&1),t.flags|=128,null):n&t.child.childLanes?Fh(e,t,n):(ie(fe,fe.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);ie(fe,fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Hh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ie(fe,fe.current),r)break;return null;case 22:case 23:return t.lanes=0,Dh(e,t,n)}return Zt(e,t,n)}var Vh,Qa,Bh,Uh;Vh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qa=function(){};Bh=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Bn(zt.current);var s=null;switch(n){case"input":o=ha(e,o),r=ha(e,r),s=[];break;case"select":o=he({},o,{value:void 0}),r=he({},r,{value:void 0}),s=[];break;case"textarea":o=ya(e,o),r=ya(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=hi)}xa(n,r);var i;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ro.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||a&&a.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in a)a.hasOwnProperty(i)&&l[i]!==a[i]&&(n||(n={}),n[i]=a[i])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ae("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Uh=function(e,t,n,r){n!==r&&(t.flags|=4)};function fo(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bv(e,t,n){var r=t.pendingProps;switch(Wu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Ye(t.type)&&mi(),Re(t),null;case 3:return r=t.stateNode,Br(),ue(Ke),ue(Oe),ec(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ps(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(eu(Nt),Nt=null))),Qa(e,t),Re(t),null;case 5:Ju(t);var o=Bn(Ko.current);if(n=t.type,e!==null&&t.stateNode!=null)Bh(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return Re(t),null}if(e=Bn(zt.current),Ps(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Mt]=t,r[Qo]=s,e=(t.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(o=0;o<Eo.length;o++)ae(Eo[o],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":qc(r,s),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ae("invalid",r);break;case"textarea":Yc(r,s),ae("invalid",r)}xa(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&bs(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&bs(r.textContent,l,e),o=["children",""+l]):Ro.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ae("scroll",r)}switch(n){case"input":ws(r),Kc(r,s,!0);break;case"textarea":ws(r),Xc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hi)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Mt]=t,e[Qo]=r,Vh(e,t,!1,!1),t.stateNode=e;e:{switch(i=wa(n,r),n){case"dialog":ae("cancel",e),ae("close",e),o=r;break;case"iframe":case"object":case"embed":ae("load",e),o=r;break;case"video":case"audio":for(o=0;o<Eo.length;o++)ae(Eo[o],e);o=r;break;case"source":ae("error",e),o=r;break;case"img":case"image":case"link":ae("error",e),ae("load",e),o=r;break;case"details":ae("toggle",e),o=r;break;case"input":qc(e,r),o=ha(e,r),ae("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=he({},r,{value:void 0}),ae("invalid",e);break;case"textarea":Yc(e,r),o=ya(e,r),ae("invalid",e);break;default:o=r}xa(n,o),l=o;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Np(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&xp(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Do(e,a):typeof a=="number"&&Do(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ro.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ae("scroll",e):a!=null&&$u(e,s,a,i))}switch(n){case"input":ws(e),Kc(e,r,!1);break;case"textarea":ws(e),Xc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_n(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?$r(e,!!r.multiple,s,!1):r.defaultValue!=null&&$r(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=hi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(e&&t.stateNode!=null)Uh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Bn(Ko.current),Bn(zt.current),Ps(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mt]=t,(s=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:bs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bs(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mt]=t,t.stateNode=r}return Re(t),null;case 13:if(ue(fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&Ze!==null&&t.mode&1&&!(t.flags&128))ah(),Hr(),t.flags|=98560,s=!1;else if(s=Ps(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(U(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Mt]=t}else Hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),s=!1}else Nt!==null&&(eu(Nt),Nt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?Ee===0&&(Ee=3):fc())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return Br(),Qa(e,t),e===null&&Uo(t.stateNode.containerInfo),Re(t),null;case 10:return Yu(t.type._context),Re(t),null;case 17:return Ye(t.type)&&mi(),Re(t),null;case 19:if(ue(fe),s=t.memoizedState,s===null)return Re(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)fo(s,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Si(e),i!==null){for(t.flags|=128,fo(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(fe,fe.current&1|2),t.child}e=e.sibling}s.tail!==null&&ve()>Wr&&(t.flags|=128,r=!0,fo(s,!1),t.lanes=4194304)}else{if(!r)if(e=Si(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!ce)return Re(t),null}else 2*ve()-s.renderingStartTime>Wr&&n!==1073741824&&(t.flags|=128,r=!0,fo(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ve(),t.sibling=null,n=fe.current,ie(fe,r?n&1|2:n&1),t):(Re(t),null);case 22:case 23:return dc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ge&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function Uv(e,t){switch(Wu(t),t.tag){case 1:return Ye(t.type)&&mi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Br(),ue(Ke),ue(Oe),ec(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ju(t),null;case 13:if(ue(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(fe),null;case 4:return Br(),null;case 10:return Yu(t.type._context),null;case 22:case 23:return dc(),null;case 24:return null;default:return null}}var Ms=!1,De=!1,Wv=typeof WeakSet=="function"?WeakSet:Set,K=null;function Ir(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(e,t,r)}else n.current=null}function qa(e,t,n){try{n()}catch(r){ge(e,t,r)}}var Ld=!1;function Qv(e,t){if($a=di,e=Yp(),Bu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,l=-1,a=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var m;d!==n||o!==0&&d.nodeType!==3||(l=i+o),d!==s||r!==0&&d.nodeType!==3||(a=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++u===o&&(l=i),f===s&&++c===r&&(a=i),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ta={focusedElem:e,selectionRange:n},di=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var w=N.memoizedProps,b=N.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:vt(t.type,w),b);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(v){ge(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return N=Ld,Ld=!1,N}function jo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&qa(t,n,s)}o=o.next}while(o!==r)}}function Gi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ka(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Wh(e){var t=e.alternate;t!==null&&(e.alternate=null,Wh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[Qo],delete t[za],delete t[bv],delete t[Pv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qh(e){return e.tag===5||e.tag===3||e.tag===4}function Fd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ya(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hi));else if(r!==4&&(e=e.child,e!==null))for(Ya(e,t,n),e=e.sibling;e!==null;)Ya(e,t,n),e=e.sibling}function Xa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Xa(e,t,n),e=e.sibling;e!==null;)Xa(e,t,n),e=e.sibling}var $e=null,xt=!1;function nn(e,t,n){for(n=n.child;n!==null;)qh(e,t,n),n=n.sibling}function qh(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Bi,n)}catch{}switch(n.tag){case 5:De||Ir(n,t);case 6:var r=$e,o=xt;$e=null,nn(e,t,n),$e=r,xt=o,$e!==null&&(xt?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(xt?(e=$e,n=n.stateNode,e.nodeType===8?Dl(e.parentNode,n):e.nodeType===1&&Dl(e,n),Ho(e)):Dl($e,n.stateNode));break;case 4:r=$e,o=xt,$e=n.stateNode.containerInfo,xt=!0,nn(e,t,n),$e=r,xt=o;break;case 0:case 11:case 14:case 15:if(!De&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&qa(n,t,i),o=o.next}while(o!==r)}nn(e,t,n);break;case 1:if(!De&&(Ir(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ge(n,t,l)}nn(e,t,n);break;case 21:nn(e,t,n);break;case 22:n.mode&1?(De=(r=De)||n.memoizedState!==null,nn(e,t,n),De=r):nn(e,t,n);break;default:nn(e,t,n)}}function Hd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Wv),t.forEach(function(r){var o=tx.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function yt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:$e=l.stateNode,xt=!1;break e;case 3:$e=l.stateNode.containerInfo,xt=!0;break e;case 4:$e=l.stateNode.containerInfo,xt=!0;break e}l=l.return}if($e===null)throw Error(U(160));qh(s,i,o),$e=null,xt=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){ge(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kh(t,e),t=t.sibling}function Kh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),$t(e),r&4){try{jo(3,e,e.return),Gi(3,e)}catch(w){ge(e,e.return,w)}try{jo(5,e,e.return)}catch(w){ge(e,e.return,w)}}break;case 1:yt(t,e),$t(e),r&512&&n!==null&&Ir(n,n.return);break;case 5:if(yt(t,e),$t(e),r&512&&n!==null&&Ir(n,n.return),e.flags&32){var o=e.stateNode;try{Do(o,"")}catch(w){ge(e,e.return,w)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&gp(o,s),wa(l,i);var u=wa(l,s);for(i=0;i<a.length;i+=2){var c=a[i],d=a[i+1];c==="style"?Np(o,d):c==="dangerouslySetInnerHTML"?xp(o,d):c==="children"?Do(o,d):$u(o,c,d,u)}switch(l){case"input":ma(o,s);break;case"textarea":yp(o,s);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?$r(o,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?$r(o,!!s.multiple,s.defaultValue,!0):$r(o,!!s.multiple,s.multiple?[]:"",!1))}o[Qo]=s}catch(w){ge(e,e.return,w)}}break;case 6:if(yt(t,e),$t(e),r&4){if(e.stateNode===null)throw Error(U(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(w){ge(e,e.return,w)}}break;case 3:if(yt(t,e),$t(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ho(t.containerInfo)}catch(w){ge(e,e.return,w)}break;case 4:yt(t,e),$t(e);break;case 13:yt(t,e),$t(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(uc=ve())),r&4&&Hd(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(De=(u=De)||c,yt(t,e),De=u):yt(t,e),$t(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(K=e,c=e.child;c!==null;){for(d=K=c;K!==null;){switch(f=K,m=f.child,f.tag){case 0:case 11:case 14:case 15:jo(4,f,f.return);break;case 1:Ir(f,f.return);var N=f.stateNode;if(typeof N.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(w){ge(r,n,w)}}break;case 5:Ir(f,f.return);break;case 22:if(f.memoizedState!==null){Bd(d);continue}}m!==null?(m.return=f,K=m):Bd(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,i=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=wp("display",i))}catch(w){ge(e,e.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){ge(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yt(t,e),$t(e),r&4&&Hd(e);break;case 21:break;default:yt(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Qh(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Do(o,""),r.flags&=-33);var s=Fd(e);Xa(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Fd(e);Ya(e,l,i);break;default:throw Error(U(161))}}catch(a){ge(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qv(e,t,n){K=e,Yh(e)}function Yh(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var o=K,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Ms;if(!i){var l=o.alternate,a=l!==null&&l.memoizedState!==null||De;l=Ms;var u=De;if(Ms=i,(De=a)&&!u)for(K=o;K!==null;)i=K,a=i.child,i.tag===22&&i.memoizedState!==null?Ud(o):a!==null?(a.return=i,K=a):Ud(o);for(;s!==null;)K=s,Yh(s),s=s.sibling;K=o,Ms=l,De=u}Vd(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,K=s):Vd(e)}}function Vd(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||Gi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!De)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:vt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Cd(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cd(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ho(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}De||t.flags&512&&Ka(t)}catch(f){ge(t,t.return,f)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function Bd(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function Ud(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gi(4,t)}catch(a){ge(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){ge(t,o,a)}}var s=t.return;try{Ka(t)}catch(a){ge(t,s,a)}break;case 5:var i=t.return;try{Ka(t)}catch(a){ge(t,i,a)}}}catch(a){ge(t,t.return,a)}if(t===e){K=null;break}var l=t.sibling;if(l!==null){l.return=t.return,K=l;break}K=t.return}}var Kv=Math.ceil,ki=tn.ReactCurrentDispatcher,lc=tn.ReactCurrentOwner,ft=tn.ReactCurrentBatchConfig,ne=0,be=null,xe=null,Te=0,Ge=0,br=bn(0),Ee=0,Zo=null,Jn=0,Zi=0,ac=0,zo=null,We=null,uc=0,Wr=1/0,Ht=null,Ci=!1,Ga=null,xn=null,js=!1,pn=null,Ii=0,Ao=0,Za=null,Js=-1,ei=0;function Ve(){return ne&6?ve():Js!==-1?Js:Js=ve()}function wn(e){return e.mode&1?ne&2&&Te!==0?Te&-Te:Tv.transition!==null?(ei===0&&(ei=jp()),ei):(e=re,e!==0||(e=window.event,e=e===void 0?16:Fp(e.type)),e):1}function Ct(e,t,n,r){if(50<Ao)throw Ao=0,Za=null,Error(U(185));cs(e,n,r),(!(ne&2)||e!==be)&&(e===be&&(!(ne&2)&&(Zi|=n),Ee===4&&cn(e,Te)),Xe(e,r),n===1&&ne===0&&!(t.mode&1)&&(Wr=ve()+500,Ki&&Pn()))}function Xe(e,t){var n=e.callbackNode;Ty(e,t);var r=ci(e,e===be?Te:0);if(r===0)n!==null&&Jc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Jc(n),t===1)e.tag===0?$v(Wd.bind(null,e)):sh(Wd.bind(null,e)),Cv(function(){!(ne&6)&&Pn()}),n=null;else{switch(zp(r)){case 1:n=Au;break;case 4:n=Tp;break;case 16:n=ui;break;case 536870912:n=Mp;break;default:n=ui}n=rm(n,Xh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xh(e,t){if(Js=-1,ei=0,ne&6)throw Error(U(327));var n=e.callbackNode;if(Ar()&&e.callbackNode!==n)return null;var r=ci(e,e===be?Te:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bi(e,r);else{t=r;var o=ne;ne|=2;var s=Zh();(be!==e||Te!==t)&&(Ht=null,Wr=ve()+500,Qn(e,t));do try{Gv();break}catch(l){Gh(e,l)}while(!0);Ku(),ki.current=s,ne=o,xe!==null?t=0:(be=null,Te=0,t=Ee)}if(t!==0){if(t===2&&(o=ka(e),o!==0&&(r=o,t=Ja(e,o))),t===1)throw n=Zo,Qn(e,0),cn(e,r),Xe(e,ve()),n;if(t===6)cn(e,r);else{if(o=e.current.alternate,!(r&30)&&!Yv(o)&&(t=bi(e,r),t===2&&(s=ka(e),s!==0&&(r=s,t=Ja(e,s))),t===1))throw n=Zo,Qn(e,0),cn(e,r),Xe(e,ve()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:Dn(e,We,Ht);break;case 3:if(cn(e,r),(r&130023424)===r&&(t=uc+500-ve(),10<t)){if(ci(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ja(Dn.bind(null,e,We,Ht),t);break}Dn(e,We,Ht);break;case 4:if(cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-kt(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kv(r/1960))-r,10<r){e.timeoutHandle=ja(Dn.bind(null,e,We,Ht),r);break}Dn(e,We,Ht);break;case 5:Dn(e,We,Ht);break;default:throw Error(U(329))}}}return Xe(e,ve()),e.callbackNode===n?Xh.bind(null,e):null}function Ja(e,t){var n=zo;return e.current.memoizedState.isDehydrated&&(Qn(e,t).flags|=256),e=bi(e,t),e!==2&&(t=We,We=n,t!==null&&eu(t)),e}function eu(e){We===null?We=e:We.push.apply(We,e)}function Yv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!It(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~ac,t&=~Zi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-kt(t),r=1<<n;e[n]=-1,t&=~r}}function Wd(e){if(ne&6)throw Error(U(327));Ar();var t=ci(e,0);if(!(t&1))return Xe(e,ve()),null;var n=bi(e,t);if(e.tag!==0&&n===2){var r=ka(e);r!==0&&(t=r,n=Ja(e,r))}if(n===1)throw n=Zo,Qn(e,0),cn(e,t),Xe(e,ve()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dn(e,We,Ht),Xe(e,ve()),null}function cc(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(Wr=ve()+500,Ki&&Pn())}}function er(e){pn!==null&&pn.tag===0&&!(ne&6)&&Ar();var t=ne;ne|=1;var n=ft.transition,r=re;try{if(ft.transition=null,re=1,e)return e()}finally{re=r,ft.transition=n,ne=t,!(ne&6)&&Pn()}}function dc(){Ge=br.current,ue(br)}function Qn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kv(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch(Wu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mi();break;case 3:Br(),ue(Ke),ue(Oe),ec();break;case 5:Ju(r);break;case 4:Br();break;case 13:ue(fe);break;case 19:ue(fe);break;case 10:Yu(r.type._context);break;case 22:case 23:dc()}n=n.return}if(be=e,xe=e=Nn(e.current,null),Te=Ge=t,Ee=0,Zo=null,ac=Zi=Jn=0,We=zo=null,Vn!==null){for(t=0;t<Vn.length;t++)if(n=Vn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Vn=null}return e}function Gh(e,t){do{var n=xe;try{if(Ku(),Xs.current=_i,Ei){for(var r=pe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ei=!1}if(Zn=0,Ie=Ne=pe=null,Mo=!1,Yo=0,lc.current=null,n===null||n.return===null){Ee=1,Zo=t,xe=null;break}e:{var s=e,i=n.return,l=n,a=t;if(t=Te,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Md(i);if(m!==null){m.flags&=-257,jd(m,i,l,s,t),m.mode&1&&Td(s,u,t),t=m,a=u;var N=t.updateQueue;if(N===null){var w=new Set;w.add(a),t.updateQueue=w}else N.add(a);break e}else{if(!(t&1)){Td(s,u,t),fc();break e}a=Error(U(426))}}else if(ce&&l.mode&1){var b=Md(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),jd(b,i,l,s,t),Qu(Ur(a,l));break e}}s=a=Ur(a,l),Ee!==4&&(Ee=2),zo===null?zo=[s]:zo.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=zh(s,a,t);kd(s,p);break e;case 1:l=a;var h=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(xn===null||!xn.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var v=Ah(s,l,t);kd(s,v);break e}}s=s.return}while(s!==null)}em(n)}catch(S){t=S,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function Zh(){var e=ki.current;return ki.current=_i,e===null?_i:e}function fc(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),be===null||!(Jn&268435455)&&!(Zi&268435455)||cn(be,Te)}function bi(e,t){var n=ne;ne|=2;var r=Zh();(be!==e||Te!==t)&&(Ht=null,Qn(e,t));do try{Xv();break}catch(o){Gh(e,o)}while(!0);if(Ku(),ne=n,ki.current=r,xe!==null)throw Error(U(261));return be=null,Te=0,Ee}function Xv(){for(;xe!==null;)Jh(xe)}function Gv(){for(;xe!==null&&!Sy();)Jh(xe)}function Jh(e){var t=nm(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?em(e):xe=t,lc.current=null}function em(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Uv(n,t),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,xe=null;return}}else if(n=Bv(n,t,Ge),n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Ee===0&&(Ee=5)}function Dn(e,t,n){var r=re,o=ft.transition;try{ft.transition=null,re=1,Zv(e,t,n,r)}finally{ft.transition=o,re=r}return null}function Zv(e,t,n,r){do Ar();while(pn!==null);if(ne&6)throw Error(U(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(My(e,s),e===be&&(xe=be=null,Te=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||js||(js=!0,rm(ui,function(){return Ar(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ft.transition,ft.transition=null;var i=re;re=1;var l=ne;ne|=4,lc.current=null,Qv(e,n),Kh(n,e),vv(Ta),di=!!$a,Ta=$a=null,e.current=n,qv(n),Ey(),ne=l,re=i,ft.transition=s}else e.current=n;if(js&&(js=!1,pn=e,Ii=o),s=e.pendingLanes,s===0&&(xn=null),Cy(n.stateNode),Xe(e,ve()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ci)throw Ci=!1,e=Ga,Ga=null,e;return Ii&1&&e.tag!==0&&Ar(),s=e.pendingLanes,s&1?e===Za?Ao++:(Ao=0,Za=e):Ao=0,Pn(),null}function Ar(){if(pn!==null){var e=zp(Ii),t=ft.transition,n=re;try{if(ft.transition=null,re=16>e?16:e,pn===null)var r=!1;else{if(e=pn,pn=null,Ii=0,ne&6)throw Error(U(331));var o=ne;for(ne|=4,K=e.current;K!==null;){var s=K,i=s.child;if(K.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(K=u;K!==null;){var c=K;switch(c.tag){case 0:case 11:case 15:jo(8,c,s)}var d=c.child;if(d!==null)d.return=c,K=d;else for(;K!==null;){c=K;var f=c.sibling,m=c.return;if(Wh(c),c===u){K=null;break}if(f!==null){f.return=m,K=f;break}K=m}}}var N=s.alternate;if(N!==null){var w=N.child;if(w!==null){N.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}K=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,K=i;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jo(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,K=p;break e}K=s.return}}var h=e.current;for(K=h;K!==null;){i=K;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,K=g;else e:for(i=h;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gi(9,l)}}catch(S){ge(l,l.return,S)}if(l===i){K=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,K=v;break e}K=l.return}}if(ne=o,Pn(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Bi,e)}catch{}r=!0}return r}finally{re=n,ft.transition=t}}return!1}function Qd(e,t,n){t=Ur(n,t),t=zh(e,t,1),e=vn(e,t,1),t=Ve(),e!==null&&(cs(e,1,t),Xe(e,t))}function ge(e,t,n){if(e.tag===3)Qd(e,e,n);else for(;t!==null;){if(t.tag===3){Qd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xn===null||!xn.has(r))){e=Ur(n,e),e=Ah(t,e,1),t=vn(t,e,1),e=Ve(),t!==null&&(cs(t,1,e),Xe(t,e));break}}t=t.return}}function Jv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,be===e&&(Te&n)===n&&(Ee===4||Ee===3&&(Te&130023424)===Te&&500>ve()-uc?Qn(e,0):ac|=n),Xe(e,t)}function tm(e,t){t===0&&(e.mode&1?(t=Es,Es<<=1,!(Es&130023424)&&(Es=4194304)):t=1);var n=Ve();e=Gt(e,t),e!==null&&(cs(e,t,n),Xe(e,n))}function ex(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),tm(e,n)}function tx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),tm(e,n)}var nm;nm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ke.current)Qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qe=!1,Vv(e,t,n);Qe=!!(e.flags&131072)}else Qe=!1,ce&&t.flags&1048576&&ih(t,vi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zs(e,t),e=t.pendingProps;var o=Fr(t,Oe.current);zr(t,n),o=nc(null,t,r,e,o,n);var s=rc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(r)?(s=!0,gi(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Gu(t),o.updater=Xi,t.stateNode=o,o._reactInternals=t,Fa(t,r,e,n),t=Ba(null,t,r,!0,s,n)):(t.tag=0,ce&&s&&Uu(t),He(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zs(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=rx(r),e=vt(r,e),o){case 0:t=Va(null,t,r,e,n);break e;case 1:t=Rd(null,t,r,e,n);break e;case 11:t=zd(null,t,r,e,n);break e;case 14:t=Ad(null,t,r,vt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),Va(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),Rd(e,t,r,o,n);case 3:e:{if(Lh(t),e===null)throw Error(U(387));r=t.pendingProps,s=t.memoizedState,o=s.element,fh(e,t),Ni(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Ur(Error(U(423)),t),t=Dd(e,t,r,n,o);break e}else if(r!==o){o=Ur(Error(U(424)),t),t=Dd(e,t,r,n,o);break e}else for(Ze=yn(t.stateNode.containerInfo.firstChild),Je=t,ce=!0,Nt=null,n=ch(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hr(),r===o){t=Zt(e,t,n);break e}He(e,t,r,n)}t=t.child}return t;case 5:return ph(t),e===null&&Da(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,Ma(r,o)?i=null:s!==null&&Ma(r,s)&&(t.flags|=32),Oh(e,t),He(e,t,i,n),t.child;case 6:return e===null&&Da(t),null;case 13:return Fh(e,t,n);case 4:return Zu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vr(t,null,r,n):He(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),zd(e,t,r,o,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,ie(xi,r._currentValue),r._currentValue=i,s!==null)if(It(s.value,i)){if(s.children===o.children&&!Ke.current){t=Zt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=qt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Oa(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(U(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Oa(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}He(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,zr(t,n),o=ht(o),r=r(o),t.flags|=1,He(e,t,r,n),t.child;case 14:return r=t.type,o=vt(r,t.pendingProps),o=vt(r.type,o),Ad(e,t,r,o,n);case 15:return Rh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),Zs(e,t),t.tag=1,Ye(r)?(e=!0,gi(t)):e=!1,zr(t,n),jh(t,r,o),Fa(t,r,o,n),Ba(null,t,r,!0,e,n);case 19:return Hh(e,t,n);case 22:return Dh(e,t,n)}throw Error(U(156,t.tag))};function rm(e,t){return $p(e,t)}function nx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,n,r){return new nx(e,t,n,r)}function pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rx(e){if(typeof e=="function")return pc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mu)return 11;if(e===ju)return 14}return 2}function Nn(e,t){var n=e.alternate;return n===null?(n=ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ti(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")pc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case vr:return qn(n.children,o,s,t);case Tu:i=8,o|=8;break;case ca:return e=ct(12,n,t,o|2),e.elementType=ca,e.lanes=s,e;case da:return e=ct(13,n,t,o),e.elementType=da,e.lanes=s,e;case fa:return e=ct(19,n,t,o),e.elementType=fa,e.lanes=s,e;case pp:return Ji(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dp:i=10;break e;case fp:i=9;break e;case Mu:i=11;break e;case ju:i=14;break e;case on:i=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=ct(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function qn(e,t,n,r){return e=ct(7,e,r,t),e.lanes=n,e}function Ji(e,t,n,r){return e=ct(22,e,r,t),e.elementType=pp,e.lanes=n,e.stateNode={isHidden:!1},e}function Wl(e,t,n){return e=ct(6,e,null,t),e.lanes=n,e}function Ql(e,t,n){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ox(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function hc(e,t,n,r,o,s,i,l,a){return e=new ox(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ct(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gu(s),e}function sx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function om(e){if(!e)return kn;e=e._reactInternals;e:{if(sr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(Ye(n))return oh(e,n,t)}return t}function sm(e,t,n,r,o,s,i,l,a){return e=hc(n,r,!0,e,o,s,i,l,a),e.context=om(null),n=e.current,r=Ve(),o=wn(n),s=qt(r,o),s.callback=t??null,vn(n,s,o),e.current.lanes=o,cs(e,o,r),Xe(e,r),e}function el(e,t,n,r){var o=t.current,s=Ve(),i=wn(o);return n=om(n),t.context===null?t.context=n:t.pendingContext=n,t=qt(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=vn(o,t,i),e!==null&&(Ct(e,o,i,s),Ys(e,o,i)),i}function Pi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mc(e,t){qd(e,t),(e=e.alternate)&&qd(e,t)}function ix(){return null}var im=typeof reportError=="function"?reportError:function(e){console.error(e)};function gc(e){this._internalRoot=e}tl.prototype.render=gc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));el(e,t,null,null)};tl.prototype.unmount=gc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;er(function(){el(null,e,null,null)}),t[Xt]=null}};function tl(e){this._internalRoot=e}tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<un.length&&t!==0&&t<un[n].priority;n++);un.splice(n,0,e),n===0&&Lp(e)}};function yc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kd(){}function lx(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var u=Pi(i);s.call(u)}}var i=sm(t,r,e,0,null,!1,!1,"",Kd);return e._reactRootContainer=i,e[Xt]=i.current,Uo(e.nodeType===8?e.parentNode:e),er(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=Pi(a);l.call(u)}}var a=hc(e,0,!1,null,null,!1,!1,"",Kd);return e._reactRootContainer=a,e[Xt]=a.current,Uo(e.nodeType===8?e.parentNode:e),er(function(){el(t,a,n,r)}),a}function rl(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var l=o;o=function(){var a=Pi(i);l.call(a)}}el(t,i,e,o)}else i=lx(n,t,e,o,r);return Pi(i)}Ap=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=So(t.pendingLanes);n!==0&&(Ru(t,n|1),Xe(t,ve()),!(ne&6)&&(Wr=ve()+500,Pn()))}break;case 13:er(function(){var r=Gt(e,1);if(r!==null){var o=Ve();Ct(r,e,1,o)}}),mc(e,1)}};Du=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var n=Ve();Ct(t,e,134217728,n)}mc(e,134217728)}};Rp=function(e){if(e.tag===13){var t=wn(e),n=Gt(e,t);if(n!==null){var r=Ve();Ct(n,e,t,r)}mc(e,t)}};Dp=function(){return re};Op=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};Sa=function(e,t,n){switch(t){case"input":if(ma(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=qi(r);if(!o)throw Error(U(90));mp(r),ma(r,o)}}}break;case"textarea":yp(e,n);break;case"select":t=n.value,t!=null&&$r(e,!!n.multiple,t,!1)}};_p=cc;kp=er;var ax={usingClientEntryPoint:!1,Events:[fs,Sr,qi,Sp,Ep,cc]},po={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ux={bundleType:po.bundleType,version:po.version,rendererPackageName:po.rendererPackageName,rendererConfig:po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bp(e),e===null?null:e.stateNode},findFiberByHostInstance:po.findFiberByHostInstance||ix,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zs.isDisabled&&zs.supportsFiber)try{Bi=zs.inject(ux),jt=zs}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ax;ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yc(t))throw Error(U(200));return sx(e,t,null,n)};ot.createRoot=function(e,t){if(!yc(e))throw Error(U(299));var n=!1,r="",o=im;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=hc(e,1,!1,null,null,n,!1,r,o),e[Xt]=t.current,Uo(e.nodeType===8?e.parentNode:e),new gc(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=bp(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return er(e)};ot.hydrate=function(e,t,n){if(!nl(t))throw Error(U(200));return rl(null,e,t,!0,n)};ot.hydrateRoot=function(e,t,n){if(!yc(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=im;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=sm(t,null,e,1,n??null,o,!1,s,i),e[Xt]=t.current,Uo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new tl(t)};ot.render=function(e,t,n){if(!nl(t))throw Error(U(200));return rl(null,e,t,!1,n)};ot.unmountComponentAtNode=function(e){if(!nl(e))throw Error(U(40));return e._reactRootContainer?(er(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};ot.unstable_batchedUpdates=cc;ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return rl(e,t,n,!1,r)};ot.version="18.3.1-next-f1338f8080-20240426";function lm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lm)}catch(e){console.error(e)}}lm(),lp.exports=ot;var cx=lp.exports,Yd=cx;aa.createRoot=Yd.createRoot,aa.hydrateRoot=Yd.hydrateRoot;function je(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=je(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var am={exports:{}},um={},cm={exports:{}},dm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qr=R;function dx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fx=typeof Object.is=="function"?Object.is:dx,px=Qr.useState,hx=Qr.useEffect,mx=Qr.useLayoutEffect,gx=Qr.useDebugValue;function yx(e,t){var n=t(),r=px({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return mx(function(){o.value=n,o.getSnapshot=t,ql(o)&&s({inst:o})},[e,n,t]),hx(function(){return ql(o)&&s({inst:o}),e(function(){ql(o)&&s({inst:o})})},[e]),gx(n),n}function ql(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fx(e,n)}catch{return!0}}function vx(e,t){return t()}var xx=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vx:yx;dm.useSyncExternalStore=Qr.useSyncExternalStore!==void 0?Qr.useSyncExternalStore:xx;cm.exports=dm;var wx=cm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=R,Nx=wx;function Sx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ex=typeof Object.is=="function"?Object.is:Sx,_x=Nx.useSyncExternalStore,kx=ol.useRef,Cx=ol.useEffect,Ix=ol.useMemo,bx=ol.useDebugValue;um.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var s=kx(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=Ix(function(){function a(m){if(!u){if(u=!0,c=m,m=r(m),o!==void 0&&i.hasValue){var N=i.value;if(o(N,m))return d=N}return d=m}if(N=d,Ex(c,m))return N;var w=r(m);return o!==void 0&&o(N,w)?(c=m,N):(c=m,d=w)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return a(t())},f===null?void 0:function(){return a(f())}]},[t,n,r,o]);var l=_x(e,s[0],s[1]);return Cx(function(){i.hasValue=!0,i.value=l},[l]),bx(l),l};am.exports=um;var Px=am.exports;const fm=Yf(Px),$x={},Xd=e=>{let t;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const m=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(N=>N(t,m))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{($x?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,a);return a},pm=e=>e?Xd(e):Xd,{useDebugValue:Tx}=H,{useSyncExternalStoreWithSelector:Mx}=fm,jx=e=>e;function hm(e,t=jx,n){const r=Mx(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Tx(r),r}const Gd=(e,t)=>{const n=pm(e),r=(o,s=t)=>hm(n,o,s);return Object.assign(r,n),r},zx=(e,t)=>e?Gd(e,t):Gd;function Pe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Ax={value:()=>{}};function sl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ni(n)}function ni(e){this._=e}function Rx(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ni.prototype=sl.prototype={constructor:ni,on:function(e,t){var n=this._,r=Rx(e+"",n),o,s=-1,i=r.length;if(arguments.length<2){for(;++s<i;)if((o=(e=r[s]).type)&&(o=Dx(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(o=(e=r[s]).type)n[o]=Zd(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Zd(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ni(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,s;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,o=s.length;r<o;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,s=r.length;o<s;++o)r[o].value.apply(t,n)}};function Dx(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Zd(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Ax,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var tu="http://www.w3.org/1999/xhtml";const Jd={svg:"http://www.w3.org/2000/svg",xhtml:tu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function il(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Jd.hasOwnProperty(t)?{space:Jd[t],local:e}:e}function Ox(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===tu&&t.documentElement.namespaceURI===tu?t.createElement(e):t.createElementNS(n,e)}}function Lx(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function mm(e){var t=il(e);return(t.local?Lx:Ox)(t)}function Fx(){}function vc(e){return e==null?Fx:function(){return this.querySelector(e)}}function Hx(e){typeof e!="function"&&(e=vc(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,l=r[o]=new Array(i),a,u,c=0;c<i;++c)(a=s[c])&&(u=e.call(a,a.__data__,c,s))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new tt(r,this._parents)}function Vx(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Bx(){return[]}function gm(e){return e==null?Bx:function(){return this.querySelectorAll(e)}}function Ux(e){return function(){return Vx(e.apply(this,arguments))}}function Wx(e){typeof e=="function"?e=Ux(e):e=gm(e);for(var t=this._groups,n=t.length,r=[],o=[],s=0;s<n;++s)for(var i=t[s],l=i.length,a,u=0;u<l;++u)(a=i[u])&&(r.push(e.call(a,a.__data__,u,i)),o.push(a));return new tt(r,o)}function ym(e){return function(){return this.matches(e)}}function vm(e){return function(t){return t.matches(e)}}var Qx=Array.prototype.find;function qx(e){return function(){return Qx.call(this.children,e)}}function Kx(){return this.firstElementChild}function Yx(e){return this.select(e==null?Kx:qx(typeof e=="function"?e:vm(e)))}var Xx=Array.prototype.filter;function Gx(){return Array.from(this.children)}function Zx(e){return function(){return Xx.call(this.children,e)}}function Jx(e){return this.selectAll(e==null?Gx:Zx(typeof e=="function"?e:vm(e)))}function e1(e){typeof e!="function"&&(e=ym(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,l=r[o]=[],a,u=0;u<i;++u)(a=s[u])&&e.call(a,a.__data__,u,s)&&l.push(a);return new tt(r,this._parents)}function xm(e){return new Array(e.length)}function t1(){return new tt(this._enter||this._groups.map(xm),this._parents)}function $i(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}$i.prototype={constructor:$i,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function n1(e){return function(){return e}}function r1(e,t,n,r,o,s){for(var i=0,l,a=t.length,u=s.length;i<u;++i)(l=t[i])?(l.__data__=s[i],r[i]=l):n[i]=new $i(e,s[i]);for(;i<a;++i)(l=t[i])&&(o[i]=l)}function o1(e,t,n,r,o,s,i){var l,a,u=new Map,c=t.length,d=s.length,f=new Array(c),m;for(l=0;l<c;++l)(a=t[l])&&(f[l]=m=i.call(a,a.__data__,l,t)+"",u.has(m)?o[l]=a:u.set(m,a));for(l=0;l<d;++l)m=i.call(e,s[l],l,s)+"",(a=u.get(m))?(r[l]=a,a.__data__=s[l],u.delete(m)):n[l]=new $i(e,s[l]);for(l=0;l<c;++l)(a=t[l])&&u.get(f[l])===a&&(o[l]=a)}function s1(e){return e.__data__}function i1(e,t){if(!arguments.length)return Array.from(this,s1);var n=t?o1:r1,r=this._parents,o=this._groups;typeof e!="function"&&(e=n1(e));for(var s=o.length,i=new Array(s),l=new Array(s),a=new Array(s),u=0;u<s;++u){var c=r[u],d=o[u],f=d.length,m=l1(e.call(c,c&&c.__data__,u,r)),N=m.length,w=l[u]=new Array(N),b=i[u]=new Array(N),p=a[u]=new Array(f);n(c,d,w,b,p,m,t);for(var h=0,g=0,v,S;h<N;++h)if(v=w[h]){for(h>=g&&(g=h+1);!(S=b[g])&&++g<N;);v._next=S||null}}return i=new tt(i,r),i._enter=l,i._exit=a,i}function l1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function a1(){return new tt(this._exit||this._groups.map(xm),this._parents)}function u1(e,t,n){var r=this.enter(),o=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?s.remove():n(s),r&&o?r.merge(o).order():o}function c1(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,s=r.length,i=Math.min(o,s),l=new Array(o),a=0;a<i;++a)for(var u=n[a],c=r[a],d=u.length,f=l[a]=new Array(d),m,N=0;N<d;++N)(m=u[N]||c[N])&&(f[N]=m);for(;a<o;++a)l[a]=n[a];return new tt(l,this._parents)}function d1(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,s=r[o],i;--o>=0;)(i=r[o])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function f1(e){e||(e=p1);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s){for(var i=n[s],l=i.length,a=o[s]=new Array(l),u,c=0;c<l;++c)(u=i[c])&&(a[c]=u);a.sort(t)}return new tt(o,this._parents).order()}function p1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function h1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function m1(){return Array.from(this)}function g1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length;o<s;++o){var i=r[o];if(i)return i}return null}function y1(){let e=0;for(const t of this)++e;return e}function v1(){return!this.node()}function x1(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],s=0,i=o.length,l;s<i;++s)(l=o[s])&&e.call(l,l.__data__,s,o);return this}function w1(e){return function(){this.removeAttribute(e)}}function N1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function S1(e,t){return function(){this.setAttribute(e,t)}}function E1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function _1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function k1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function C1(e,t){var n=il(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?N1:w1:typeof t=="function"?n.local?k1:_1:n.local?E1:S1)(n,t))}function wm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function I1(e){return function(){this.style.removeProperty(e)}}function b1(e,t,n){return function(){this.style.setProperty(e,t,n)}}function P1(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function $1(e,t,n){return arguments.length>1?this.each((t==null?I1:typeof t=="function"?P1:b1)(e,t,n??"")):qr(this.node(),e)}function qr(e,t){return e.style.getPropertyValue(t)||wm(e).getComputedStyle(e,null).getPropertyValue(t)}function T1(e){return function(){delete this[e]}}function M1(e,t){return function(){this[e]=t}}function j1(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function z1(e,t){return arguments.length>1?this.each((t==null?T1:typeof t=="function"?j1:M1)(e,t)):this.node()[e]}function Nm(e){return e.trim().split(/^|\s+/)}function xc(e){return e.classList||new Sm(e)}function Sm(e){this._node=e,this._names=Nm(e.getAttribute("class")||"")}Sm.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Em(e,t){for(var n=xc(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function _m(e,t){for(var n=xc(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function A1(e){return function(){Em(this,e)}}function R1(e){return function(){_m(this,e)}}function D1(e,t){return function(){(t.apply(this,arguments)?Em:_m)(this,e)}}function O1(e,t){var n=Nm(e+"");if(arguments.length<2){for(var r=xc(this.node()),o=-1,s=n.length;++o<s;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?D1:t?A1:R1)(n,t))}function L1(){this.textContent=""}function F1(e){return function(){this.textContent=e}}function H1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function V1(e){return arguments.length?this.each(e==null?L1:(typeof e=="function"?H1:F1)(e)):this.node().textContent}function B1(){this.innerHTML=""}function U1(e){return function(){this.innerHTML=e}}function W1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Q1(e){return arguments.length?this.each(e==null?B1:(typeof e=="function"?W1:U1)(e)):this.node().innerHTML}function q1(){this.nextSibling&&this.parentNode.appendChild(this)}function K1(){return this.each(q1)}function Y1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function X1(){return this.each(Y1)}function G1(e){var t=typeof e=="function"?e:mm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Z1(){return null}function J1(e,t){var n=typeof e=="function"?e:mm(e),r=t==null?Z1:typeof t=="function"?t:vc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ew(){var e=this.parentNode;e&&e.removeChild(this)}function tw(){return this.each(ew)}function nw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function rw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ow(e){return this.select(e?rw:nw)}function sw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function iw(e){return function(t){e.call(this,t,this.__data__)}}function lw(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function aw(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,s;n<o;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function uw(e,t,n){return function(){var r=this.__on,o,s=iw(t);if(r){for(var i=0,l=r.length;i<l;++i)if((o=r[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=t;return}}this.addEventListener(e.type,s,n),o={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(o):this.__on=[o]}}function cw(e,t,n){var r=lw(e+""),o,s=r.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(o=0,c=l[a];o<s;++o)if((i=r[o]).type===c.type&&i.name===c.name)return c.value}return}for(l=t?uw:aw,o=0;o<s;++o)this.each(l(r[o],t,n));return this}function km(e,t,n){var r=wm(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function dw(e,t){return function(){return km(this,e,t)}}function fw(e,t){return function(){return km(this,e,t.apply(this,arguments))}}function pw(e,t){return this.each((typeof t=="function"?fw:dw)(e,t))}function*hw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length,i;o<s;++o)(i=r[o])&&(yield i)}var Cm=[null];function tt(e,t){this._groups=e,this._parents=t}function hs(){return new tt([[document.documentElement]],Cm)}function mw(){return this}tt.prototype=hs.prototype={constructor:tt,select:Hx,selectAll:Wx,selectChild:Yx,selectChildren:Jx,filter:e1,data:i1,enter:t1,exit:a1,join:u1,merge:c1,selection:mw,order:d1,sort:f1,call:h1,nodes:m1,node:g1,size:y1,empty:v1,each:x1,attr:C1,style:$1,property:z1,classed:O1,text:V1,html:Q1,raise:K1,lower:X1,append:G1,insert:J1,remove:tw,clone:ow,datum:sw,on:cw,dispatch:pw,[Symbol.iterator]:hw};function ut(e){return typeof e=="string"?new tt([[document.querySelector(e)]],[document.documentElement]):new tt([[e]],Cm)}function gw(e){let t;for(;t=e.sourceEvent;)e=t;return e}function wt(e,t){if(e=gw(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const yw={passive:!1},Jo={capture:!0,passive:!1};function Kl(e){e.stopImmediatePropagation()}function Rr(e){e.preventDefault(),e.stopImmediatePropagation()}function Im(e){var t=e.document.documentElement,n=ut(e).on("dragstart.drag",Rr,Jo);"onselectstart"in t?n.on("selectstart.drag",Rr,Jo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function bm(e,t){var n=e.document.documentElement,r=ut(e).on("dragstart.drag",null);t&&(r.on("click.drag",Rr,Jo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const As=e=>()=>e;function nu(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:s,x:i,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}nu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function vw(e){return!e.ctrlKey&&!e.button}function xw(){return this.parentNode}function ww(e,t){return t??{x:e.x,y:e.y}}function Nw(){return navigator.maxTouchPoints||"ontouchstart"in this}function Sw(){var e=vw,t=xw,n=ww,r=Nw,o={},s=sl("start","drag","end"),i=0,l,a,u,c,d=0;function f(v){v.on("mousedown.drag",m).filter(r).on("touchstart.drag",b).on("touchmove.drag",p,yw).on("touchend.drag touchcancel.drag",h).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(v,S){if(!(c||!e.call(this,v,S))){var C=g(this,t.call(this,v,S),v,S,"mouse");C&&(ut(v.view).on("mousemove.drag",N,Jo).on("mouseup.drag",w,Jo),Im(v.view),Kl(v),u=!1,l=v.clientX,a=v.clientY,C("start",v))}}function N(v){if(Rr(v),!u){var S=v.clientX-l,C=v.clientY-a;u=S*S+C*C>d}o.mouse("drag",v)}function w(v){ut(v.view).on("mousemove.drag mouseup.drag",null),bm(v.view,u),Rr(v),o.mouse("end",v)}function b(v,S){if(e.call(this,v,S)){var C=v.changedTouches,I=t.call(this,v,S),T=C.length,P,E;for(P=0;P<T;++P)(E=g(this,I,v,S,C[P].identifier,C[P]))&&(Kl(v),E("start",v,C[P]))}}function p(v){var S=v.changedTouches,C=S.length,I,T;for(I=0;I<C;++I)(T=o[S[I].identifier])&&(Rr(v),T("drag",v,S[I]))}function h(v){var S=v.changedTouches,C=S.length,I,T;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),I=0;I<C;++I)(T=o[S[I].identifier])&&(Kl(v),T("end",v,S[I]))}function g(v,S,C,I,T,P){var E=s.copy(),A=wt(P||C,S),F,L,x;if((x=n.call(v,new nu("beforestart",{sourceEvent:C,target:f,identifier:T,active:i,x:A[0],y:A[1],dx:0,dy:0,dispatch:E}),I))!=null)return F=x.x-A[0]||0,L=x.y-A[1]||0,function j(k,O,$){var _=A,M;switch(k){case"start":o[T]=j,M=i++;break;case"end":delete o[T],--i;case"drag":A=wt($||O,S),M=i;break}E.call(k,v,new nu(k,{sourceEvent:O,subject:x,target:f,identifier:T,active:M,x:A[0]+F,y:A[1]+L,dx:A[0]-_[0],dy:A[1]-_[1],dispatch:E}),I)}}return f.filter=function(v){return arguments.length?(e=typeof v=="function"?v:As(!!v),f):e},f.container=function(v){return arguments.length?(t=typeof v=="function"?v:As(v),f):t},f.subject=function(v){return arguments.length?(n=typeof v=="function"?v:As(v),f):n},f.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:As(!!v),f):r},f.on=function(){var v=s.on.apply(s,arguments);return v===s?f:v},f.clickDistance=function(v){return arguments.length?(d=(v=+v)*v,f):Math.sqrt(d)},f}function wc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Pm(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ms(){}var es=.7,Ti=1/es,Dr="\\s*([+-]?\\d+)\\s*",ts="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",At="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ew=/^#([0-9a-f]{3,8})$/,_w=new RegExp(`^rgb\\(${Dr},${Dr},${Dr}\\)$`),kw=new RegExp(`^rgb\\(${At},${At},${At}\\)$`),Cw=new RegExp(`^rgba\\(${Dr},${Dr},${Dr},${ts}\\)$`),Iw=new RegExp(`^rgba\\(${At},${At},${At},${ts}\\)$`),bw=new RegExp(`^hsl\\(${ts},${At},${At}\\)$`),Pw=new RegExp(`^hsla\\(${ts},${At},${At},${ts}\\)$`),ef={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wc(ms,ns,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tf,formatHex:tf,formatHex8:$w,formatHsl:Tw,formatRgb:nf,toString:nf});function tf(){return this.rgb().formatHex()}function $w(){return this.rgb().formatHex8()}function Tw(){return $m(this).formatHsl()}function nf(){return this.rgb().formatRgb()}function ns(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ew.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?rf(t):n===3?new qe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Rs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Rs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_w.exec(e))?new qe(t[1],t[2],t[3],1):(t=kw.exec(e))?new qe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Cw.exec(e))?Rs(t[1],t[2],t[3],t[4]):(t=Iw.exec(e))?Rs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bw.exec(e))?lf(t[1],t[2]/100,t[3]/100,1):(t=Pw.exec(e))?lf(t[1],t[2]/100,t[3]/100,t[4]):ef.hasOwnProperty(e)?rf(ef[e]):e==="transparent"?new qe(NaN,NaN,NaN,0):null}function rf(e){return new qe(e>>16&255,e>>8&255,e&255,1)}function Rs(e,t,n,r){return r<=0&&(e=t=n=NaN),new qe(e,t,n,r)}function Mw(e){return e instanceof ms||(e=ns(e)),e?(e=e.rgb(),new qe(e.r,e.g,e.b,e.opacity)):new qe}function ru(e,t,n,r){return arguments.length===1?Mw(e):new qe(e,t,n,r??1)}function qe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}wc(qe,ru,Pm(ms,{brighter(e){return e=e==null?Ti:Math.pow(Ti,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?es:Math.pow(es,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qe(Kn(this.r),Kn(this.g),Kn(this.b),Mi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:of,formatHex:of,formatHex8:jw,formatRgb:sf,toString:sf}));function of(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}`}function jw(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}${Un((isNaN(this.opacity)?1:this.opacity)*255)}`}function sf(){const e=Mi(this.opacity);return`${e===1?"rgb(":"rgba("}${Kn(this.r)}, ${Kn(this.g)}, ${Kn(this.b)}${e===1?")":`, ${e})`}`}function Mi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Un(e){return e=Kn(e),(e<16?"0":"")+e.toString(16)}function lf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new St(e,t,n,r)}function $m(e){if(e instanceof St)return new St(e.h,e.s,e.l,e.opacity);if(e instanceof ms||(e=ns(e)),!e)return new St;if(e instanceof St)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),s=Math.max(t,n,r),i=NaN,l=s-o,a=(s+o)/2;return l?(t===s?i=(n-r)/l+(n<r)*6:n===s?i=(r-t)/l+2:i=(t-n)/l+4,l/=a<.5?s+o:2-s-o,i*=60):l=a>0&&a<1?0:i,new St(i,l,a,e.opacity)}function zw(e,t,n,r){return arguments.length===1?$m(e):new St(e,t,n,r??1)}function St(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}wc(St,zw,Pm(ms,{brighter(e){return e=e==null?Ti:Math.pow(Ti,e),new St(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?es:Math.pow(es,e),new St(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new qe(Yl(e>=240?e-240:e+120,o,r),Yl(e,o,r),Yl(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new St(af(this.h),Ds(this.s),Ds(this.l),Mi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Mi(this.opacity);return`${e===1?"hsl(":"hsla("}${af(this.h)}, ${Ds(this.s)*100}%, ${Ds(this.l)*100}%${e===1?")":`, ${e})`}`}}));function af(e){return e=(e||0)%360,e<0?e+360:e}function Ds(e){return Math.max(0,Math.min(1,e||0))}function Yl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Tm=e=>()=>e;function Aw(e,t){return function(n){return e+n*t}}function Rw(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Dw(e){return(e=+e)==1?Mm:function(t,n){return n-t?Rw(t,n,e):Tm(isNaN(t)?n:t)}}function Mm(e,t){var n=t-e;return n?Aw(e,n):Tm(isNaN(e)?t:e)}const uf=function e(t){var n=Dw(t);function r(o,s){var i=n((o=ru(o)).r,(s=ru(s)).r),l=n(o.g,s.g),a=n(o.b,s.b),u=Mm(o.opacity,s.opacity);return function(c){return o.r=i(c),o.g=l(c),o.b=a(c),o.opacity=u(c),o+""}}return r.gamma=e,r}(1);function ln(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ou=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xl=new RegExp(ou.source,"g");function Ow(e){return function(){return e}}function Lw(e){return function(t){return e(t)+""}}function Fw(e,t){var n=ou.lastIndex=Xl.lastIndex=0,r,o,s,i=-1,l=[],a=[];for(e=e+"",t=t+"";(r=ou.exec(e))&&(o=Xl.exec(t));)(s=o.index)>n&&(s=t.slice(n,s),l[i]?l[i]+=s:l[++i]=s),(r=r[0])===(o=o[0])?l[i]?l[i]+=o:l[++i]=o:(l[++i]=null,a.push({i,x:ln(r,o)})),n=Xl.lastIndex;return n<t.length&&(s=t.slice(n),l[i]?l[i]+=s:l[++i]=s),l.length<2?a[0]?Lw(a[0].x):Ow(t):(t=a.length,function(u){for(var c=0,d;c<t;++c)l[(d=a[c]).i]=d.x(u);return l.join("")})}var cf=180/Math.PI,su={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jm(e,t,n,r,o,s){var i,l,a;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,i=-i),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*cf,skewX:Math.atan(a)*cf,scaleX:i,scaleY:l}}var Os;function Hw(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?su:jm(t.a,t.b,t.c,t.d,t.e,t.f)}function Vw(e){return e==null||(Os||(Os=document.createElementNS("http://www.w3.org/2000/svg","g")),Os.setAttribute("transform",e),!(e=Os.transform.baseVal.consolidate()))?su:(e=e.matrix,jm(e.a,e.b,e.c,e.d,e.e,e.f))}function zm(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function s(u,c,d,f,m,N){if(u!==d||c!==f){var w=m.push("translate(",null,t,null,n);N.push({i:w-4,x:ln(u,d)},{i:w-2,x:ln(c,f)})}else(d||f)&&m.push("translate("+d+t+f+n)}function i(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(o(d)+"rotate(",null,r)-2,x:ln(u,c)})):c&&d.push(o(d)+"rotate("+c+r)}function l(u,c,d,f){u!==c?f.push({i:d.push(o(d)+"skewX(",null,r)-2,x:ln(u,c)}):c&&d.push(o(d)+"skewX("+c+r)}function a(u,c,d,f,m,N){if(u!==d||c!==f){var w=m.push(o(m)+"scale(",null,",",null,")");N.push({i:w-4,x:ln(u,d)},{i:w-2,x:ln(c,f)})}else(d!==1||f!==1)&&m.push(o(m)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,f),i(u.rotate,c.rotate,d,f),l(u.skewX,c.skewX,d,f),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(m){for(var N=-1,w=f.length,b;++N<w;)d[(b=f[N]).i]=b.x(m);return d.join("")}}}var Bw=zm(Hw,"px, ","px)","deg)"),Uw=zm(Vw,", ",")",")"),Ww=1e-12;function df(e){return((e=Math.exp(e))+1/e)/2}function Qw(e){return((e=Math.exp(e))-1/e)/2}function qw(e){return((e=Math.exp(2*e))-1)/(e+1)}const Kw=function e(t,n,r){function o(s,i){var l=s[0],a=s[1],u=s[2],c=i[0],d=i[1],f=i[2],m=c-l,N=d-a,w=m*m+N*N,b,p;if(w<Ww)p=Math.log(f/u)/t,b=function(I){return[l+I*m,a+I*N,u*Math.exp(t*I*p)]};else{var h=Math.sqrt(w),g=(f*f-u*u+r*w)/(2*u*n*h),v=(f*f-u*u-r*w)/(2*f*n*h),S=Math.log(Math.sqrt(g*g+1)-g),C=Math.log(Math.sqrt(v*v+1)-v);p=(C-S)/t,b=function(I){var T=I*p,P=df(S),E=u/(n*h)*(P*qw(t*T+S)-Qw(S));return[l+E*m,a+E*N,u*P/df(t*T+S)]}}return b.duration=p*1e3*t/Math.SQRT2,b}return o.rho=function(s){var i=Math.max(.001,+s),l=i*i,a=l*l;return e(i,l,a)},o}(Math.SQRT2,2,4);var Kr=0,_o=0,ho=0,Am=1e3,ji,ko,zi=0,tr=0,ll=0,rs=typeof performance=="object"&&performance.now?performance:Date,Rm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Nc(){return tr||(Rm(Yw),tr=rs.now()+ll)}function Yw(){tr=0}function Ai(){this._call=this._time=this._next=null}Ai.prototype=Dm.prototype={constructor:Ai,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Nc():+n)+(t==null?0:+t),!this._next&&ko!==this&&(ko?ko._next=this:ji=this,ko=this),this._call=e,this._time=n,iu()},stop:function(){this._call&&(this._call=null,this._time=1/0,iu())}};function Dm(e,t,n){var r=new Ai;return r.restart(e,t,n),r}function Xw(){Nc(),++Kr;for(var e=ji,t;e;)(t=tr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Kr}function ff(){tr=(zi=rs.now())+ll,Kr=_o=0;try{Xw()}finally{Kr=0,Zw(),tr=0}}function Gw(){var e=rs.now(),t=e-zi;t>Am&&(ll-=t,zi=e)}function Zw(){for(var e,t=ji,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ji=n);ko=e,iu(r)}function iu(e){if(!Kr){_o&&(_o=clearTimeout(_o));var t=e-tr;t>24?(e<1/0&&(_o=setTimeout(ff,e-rs.now()-ll)),ho&&(ho=clearInterval(ho))):(ho||(zi=rs.now(),ho=setInterval(Gw,Am)),Kr=1,Rm(ff))}}function pf(e,t,n){var r=new Ai;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var Jw=sl("start","end","cancel","interrupt"),e2=[],Om=0,hf=1,lu=2,ri=3,mf=4,au=5,oi=6;function al(e,t,n,r,o,s){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;t2(e,n,{name:t,index:r,group:o,on:Jw,tween:e2,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Om})}function Sc(e,t){var n=bt(e,t);if(n.state>Om)throw new Error("too late; already scheduled");return n}function Rt(e,t){var n=bt(e,t);if(n.state>ri)throw new Error("too late; already running");return n}function bt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function t2(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Dm(s,0,n.time);function s(u){n.state=hf,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var c,d,f,m;if(n.state!==hf)return a();for(c in r)if(m=r[c],m.name===n.name){if(m.state===ri)return pf(i);m.state===mf?(m.state=oi,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[c]):+c<t&&(m.state=oi,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[c])}if(pf(function(){n.state===ri&&(n.state=mf,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=lu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===lu){for(n.state=ri,o=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(m=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=m);o.length=d+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=au,1),d=-1,f=o.length;++d<f;)o[d].call(e,c);n.state===au&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=oi,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function si(e,t){var n=e.__transition,r,o,s=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){s=!1;continue}o=r.state>lu&&r.state<au,r.state=oi,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}s&&delete e.__transition}}function n2(e){return this.each(function(){si(this,e)})}function r2(e,t){var n,r;return function(){var o=Rt(this,e),s=o.tween;if(s!==n){r=n=s;for(var i=0,l=r.length;i<l;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}o.tween=r}}function o2(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var s=Rt(this,e),i=s.tween;if(i!==r){o=(r=i).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}s.tween=o}}function s2(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=bt(this.node(),n).tween,o=0,s=r.length,i;o<s;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((t==null?r2:o2)(n,e,t))}function Ec(e,t,n){var r=e._id;return e.each(function(){var o=Rt(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return bt(o,r).value[t]}}function Lm(e,t){var n;return(typeof t=="number"?ln:t instanceof ns?uf:(n=ns(t))?(t=n,uf):Fw)(e,t)}function i2(e){return function(){this.removeAttribute(e)}}function l2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function a2(e,t,n){var r,o=n+"",s;return function(){var i=this.getAttribute(e);return i===o?null:i===r?s:s=t(r=i,n)}}function u2(e,t,n){var r,o=n+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===r?s:s=t(r=i,n)}}function c2(e,t,n){var r,o,s;return function(){var i,l=n(this),a;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),a=l+"",i===a?null:i===r&&a===o?s:(o=a,s=t(r=i,l)))}}function d2(e,t,n){var r,o,s;return function(){var i,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),a=l+"",i===a?null:i===r&&a===o?s:(o=a,s=t(r=i,l)))}}function f2(e,t){var n=il(e),r=n==="transform"?Uw:Lm;return this.attrTween(e,typeof t=="function"?(n.local?d2:c2)(n,r,Ec(this,"attr."+e,t)):t==null?(n.local?l2:i2)(n):(n.local?u2:a2)(n,r,t))}function p2(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function h2(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function m2(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&h2(e,s)),n}return o._value=t,o}function g2(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&p2(e,s)),n}return o._value=t,o}function y2(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=il(e);return this.tween(n,(r.local?m2:g2)(r,t))}function v2(e,t){return function(){Sc(this,e).delay=+t.apply(this,arguments)}}function x2(e,t){return t=+t,function(){Sc(this,e).delay=t}}function w2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?v2:x2)(t,e)):bt(this.node(),t).delay}function N2(e,t){return function(){Rt(this,e).duration=+t.apply(this,arguments)}}function S2(e,t){return t=+t,function(){Rt(this,e).duration=t}}function E2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?N2:S2)(t,e)):bt(this.node(),t).duration}function _2(e,t){if(typeof t!="function")throw new Error;return function(){Rt(this,e).ease=t}}function k2(e){var t=this._id;return arguments.length?this.each(_2(t,e)):bt(this.node(),t).ease}function C2(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Rt(this,e).ease=n}}function I2(e){if(typeof e!="function")throw new Error;return this.each(C2(this._id,e))}function b2(e){typeof e!="function"&&(e=ym(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,l=r[o]=[],a,u=0;u<i;++u)(a=s[u])&&e.call(a,a.__data__,u,s)&&l.push(a);return new Jt(r,this._parents,this._name,this._id)}function P2(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,s=Math.min(r,o),i=new Array(r),l=0;l<s;++l)for(var a=t[l],u=n[l],c=a.length,d=i[l]=new Array(c),f,m=0;m<c;++m)(f=a[m]||u[m])&&(d[m]=f);for(;l<r;++l)i[l]=t[l];return new Jt(i,this._parents,this._name,this._id)}function $2(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function T2(e,t,n){var r,o,s=$2(t)?Sc:Rt;return function(){var i=s(this,e),l=i.on;l!==r&&(o=(r=l).copy()).on(t,n),i.on=o}}function M2(e,t){var n=this._id;return arguments.length<2?bt(this.node(),n).on.on(e):this.each(T2(n,e,t))}function j2(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function z2(){return this.on("end.remove",j2(this._id))}function A2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vc(e));for(var r=this._groups,o=r.length,s=new Array(o),i=0;i<o;++i)for(var l=r[i],a=l.length,u=s[i]=new Array(a),c,d,f=0;f<a;++f)(c=l[f])&&(d=e.call(c,c.__data__,f,l))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,al(u[f],t,n,f,u,bt(c,n)));return new Jt(s,this._parents,t,n)}function R2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=gm(e));for(var r=this._groups,o=r.length,s=[],i=[],l=0;l<o;++l)for(var a=r[l],u=a.length,c,d=0;d<u;++d)if(c=a[d]){for(var f=e.call(c,c.__data__,d,a),m,N=bt(c,n),w=0,b=f.length;w<b;++w)(m=f[w])&&al(m,t,n,w,f,N);s.push(f),i.push(c)}return new Jt(s,i,t,n)}var D2=hs.prototype.constructor;function O2(){return new D2(this._groups,this._parents)}function L2(e,t){var n,r,o;return function(){var s=qr(this,e),i=(this.style.removeProperty(e),qr(this,e));return s===i?null:s===n&&i===r?o:o=t(n=s,r=i)}}function Fm(e){return function(){this.style.removeProperty(e)}}function F2(e,t,n){var r,o=n+"",s;return function(){var i=qr(this,e);return i===o?null:i===r?s:s=t(r=i,n)}}function H2(e,t,n){var r,o,s;return function(){var i=qr(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),qr(this,e))),i===a?null:i===r&&a===o?s:(o=a,s=t(r=i,l))}}function V2(e,t){var n,r,o,s="style."+t,i="end."+s,l;return function(){var a=Rt(this,e),u=a.on,c=a.value[s]==null?l||(l=Fm(t)):void 0;(u!==n||o!==c)&&(r=(n=u).copy()).on(i,o=c),a.on=r}}function B2(e,t,n){var r=(e+="")=="transform"?Bw:Lm;return t==null?this.styleTween(e,L2(e,r)).on("end.style."+e,Fm(e)):typeof t=="function"?this.styleTween(e,H2(e,r,Ec(this,"style."+e,t))).each(V2(this._id,e)):this.styleTween(e,F2(e,r,t),n).on("end.style."+e,null)}function U2(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function W2(e,t,n){var r,o;function s(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&U2(e,i,n)),r}return s._value=t,s}function Q2(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,W2(e,t,n??""))}function q2(e){return function(){this.textContent=e}}function K2(e){return function(){var t=e(this);this.textContent=t??""}}function Y2(e){return this.tween("text",typeof e=="function"?K2(Ec(this,"text",e)):q2(e==null?"":e+""))}function X2(e){return function(t){this.textContent=e.call(this,t)}}function G2(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&X2(o)),t}return r._value=e,r}function Z2(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,G2(e))}function J2(){for(var e=this._name,t=this._id,n=Hm(),r=this._groups,o=r.length,s=0;s<o;++s)for(var i=r[s],l=i.length,a,u=0;u<l;++u)if(a=i[u]){var c=bt(a,t);al(a,e,n,u,i,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Jt(r,this._parents,e,n)}function eN(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(s,i){var l={value:i},a={value:function(){--o===0&&s()}};n.each(function(){var u=Rt(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&s()})}var tN=0;function Jt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Hm(){return++tN}var Ft=hs.prototype;Jt.prototype={constructor:Jt,select:A2,selectAll:R2,selectChild:Ft.selectChild,selectChildren:Ft.selectChildren,filter:b2,merge:P2,selection:O2,transition:J2,call:Ft.call,nodes:Ft.nodes,node:Ft.node,size:Ft.size,empty:Ft.empty,each:Ft.each,on:M2,attr:f2,attrTween:y2,style:B2,styleTween:Q2,text:Y2,textTween:Z2,remove:z2,tween:s2,delay:w2,duration:E2,ease:k2,easeVarying:I2,end:eN,[Symbol.iterator]:Ft[Symbol.iterator]};function nN(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var rN={time:null,delay:0,duration:250,ease:nN};function oN(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function sN(e){var t,n;e instanceof Jt?(t=e._id,e=e._name):(t=Hm(),(n=rN).time=Nc(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var i=r[s],l=i.length,a,u=0;u<l;++u)(a=i[u])&&al(a,e,t,u,i,n||oN(a,t));return new Jt(r,this._parents,e,t)}hs.prototype.interrupt=n2;hs.prototype.transition=sN;const Ls=e=>()=>e;function iN(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Wt(e,t,n){this.k=e,this.x=t,this.y=n}Wt.prototype={constructor:Wt,scale:function(e){return e===1?this:new Wt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Wt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Kt=new Wt(1,0,0);Wt.prototype;function Gl(e){e.stopImmediatePropagation()}function mo(e){e.preventDefault(),e.stopImmediatePropagation()}function lN(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function aN(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function gf(){return this.__zoom||Kt}function uN(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function cN(){return navigator.maxTouchPoints||"ontouchstart"in this}function dN(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function Vm(){var e=lN,t=aN,n=dN,r=uN,o=cN,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Kw,u=sl("start","zoom","end"),c,d,f,m=500,N=150,w=0,b=10;function p(x){x.property("__zoom",gf).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",E).filter(o).on("touchstart.zoom",A).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(x,j,k,O){var $=x.selection?x.selection():x;$.property("__zoom",gf),x!==$?S(x,j,k,O):$.interrupt().each(function(){C(this,arguments).event(O).start().zoom(null,typeof j=="function"?j.apply(this,arguments):j).end()})},p.scaleBy=function(x,j,k,O){p.scaleTo(x,function(){var $=this.__zoom.k,_=typeof j=="function"?j.apply(this,arguments):j;return $*_},k,O)},p.scaleTo=function(x,j,k,O){p.transform(x,function(){var $=t.apply(this,arguments),_=this.__zoom,M=k==null?v($):typeof k=="function"?k.apply(this,arguments):k,D=_.invert(M),z=typeof j=="function"?j.apply(this,arguments):j;return n(g(h(_,z),M,D),$,i)},k,O)},p.translateBy=function(x,j,k,O){p.transform(x,function(){return n(this.__zoom.translate(typeof j=="function"?j.apply(this,arguments):j,typeof k=="function"?k.apply(this,arguments):k),t.apply(this,arguments),i)},null,O)},p.translateTo=function(x,j,k,O,$){p.transform(x,function(){var _=t.apply(this,arguments),M=this.__zoom,D=O==null?v(_):typeof O=="function"?O.apply(this,arguments):O;return n(Kt.translate(D[0],D[1]).scale(M.k).translate(typeof j=="function"?-j.apply(this,arguments):-j,typeof k=="function"?-k.apply(this,arguments):-k),_,i)},O,$)};function h(x,j){return j=Math.max(s[0],Math.min(s[1],j)),j===x.k?x:new Wt(j,x.x,x.y)}function g(x,j,k){var O=j[0]-k[0]*x.k,$=j[1]-k[1]*x.k;return O===x.x&&$===x.y?x:new Wt(x.k,O,$)}function v(x){return[(+x[0][0]+ +x[1][0])/2,(+x[0][1]+ +x[1][1])/2]}function S(x,j,k,O){x.on("start.zoom",function(){C(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(O).end()}).tween("zoom",function(){var $=this,_=arguments,M=C($,_).event(O),D=t.apply($,_),z=k==null?v(D):typeof k=="function"?k.apply($,_):k,V=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),B=$.__zoom,Q=typeof j=="function"?j.apply($,_):j,q=a(B.invert(z).concat(V/B.k),Q.invert(z).concat(V/Q.k));return function(W){if(W===1)W=Q;else{var G=q(W),Z=V/G[2];W=new Wt(Z,z[0]-G[0]*Z,z[1]-G[1]*Z)}M.zoom(null,W)}})}function C(x,j,k){return!k&&x.__zooming||new I(x,j)}function I(x,j){this.that=x,this.args=j,this.active=0,this.sourceEvent=null,this.extent=t.apply(x,j),this.taps=0}I.prototype={event:function(x){return x&&(this.sourceEvent=x),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(x,j){return this.mouse&&x!=="mouse"&&(this.mouse[1]=j.invert(this.mouse[0])),this.touch0&&x!=="touch"&&(this.touch0[1]=j.invert(this.touch0[0])),this.touch1&&x!=="touch"&&(this.touch1[1]=j.invert(this.touch1[0])),this.that.__zoom=j,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(x){var j=ut(this.that).datum();u.call(x,this.that,new iN(x,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:u}),j)}};function T(x,...j){if(!e.apply(this,arguments))return;var k=C(this,j).event(x),O=this.__zoom,$=Math.max(s[0],Math.min(s[1],O.k*Math.pow(2,r.apply(this,arguments)))),_=wt(x);if(k.wheel)(k.mouse[0][0]!==_[0]||k.mouse[0][1]!==_[1])&&(k.mouse[1]=O.invert(k.mouse[0]=_)),clearTimeout(k.wheel);else{if(O.k===$)return;k.mouse=[_,O.invert(_)],si(this),k.start()}mo(x),k.wheel=setTimeout(M,N),k.zoom("mouse",n(g(h(O,$),k.mouse[0],k.mouse[1]),k.extent,i));function M(){k.wheel=null,k.end()}}function P(x,...j){if(f||!e.apply(this,arguments))return;var k=x.currentTarget,O=C(this,j,!0).event(x),$=ut(x.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",V,!0),_=wt(x,k),M=x.clientX,D=x.clientY;Im(x.view),Gl(x),O.mouse=[_,this.__zoom.invert(_)],si(this),O.start();function z(B){if(mo(B),!O.moved){var Q=B.clientX-M,q=B.clientY-D;O.moved=Q*Q+q*q>w}O.event(B).zoom("mouse",n(g(O.that.__zoom,O.mouse[0]=wt(B,k),O.mouse[1]),O.extent,i))}function V(B){$.on("mousemove.zoom mouseup.zoom",null),bm(B.view,O.moved),mo(B),O.event(B).end()}}function E(x,...j){if(e.apply(this,arguments)){var k=this.__zoom,O=wt(x.changedTouches?x.changedTouches[0]:x,this),$=k.invert(O),_=k.k*(x.shiftKey?.5:2),M=n(g(h(k,_),O,$),t.apply(this,j),i);mo(x),l>0?ut(this).transition().duration(l).call(S,M,O,x):ut(this).call(p.transform,M,O,x)}}function A(x,...j){if(e.apply(this,arguments)){var k=x.touches,O=k.length,$=C(this,j,x.changedTouches.length===O).event(x),_,M,D,z;for(Gl(x),M=0;M<O;++M)D=k[M],z=wt(D,this),z=[z,this.__zoom.invert(z),D.identifier],$.touch0?!$.touch1&&$.touch0[2]!==z[2]&&($.touch1=z,$.taps=0):($.touch0=z,_=!0,$.taps=1+!!c);c&&(c=clearTimeout(c)),_&&($.taps<2&&(d=z[0],c=setTimeout(function(){c=null},m)),si(this),$.start())}}function F(x,...j){if(this.__zooming){var k=C(this,j).event(x),O=x.changedTouches,$=O.length,_,M,D,z;for(mo(x),_=0;_<$;++_)M=O[_],D=wt(M,this),k.touch0&&k.touch0[2]===M.identifier?k.touch0[0]=D:k.touch1&&k.touch1[2]===M.identifier&&(k.touch1[0]=D);if(M=k.that.__zoom,k.touch1){var V=k.touch0[0],B=k.touch0[1],Q=k.touch1[0],q=k.touch1[1],W=(W=Q[0]-V[0])*W+(W=Q[1]-V[1])*W,G=(G=q[0]-B[0])*G+(G=q[1]-B[1])*G;M=h(M,Math.sqrt(W/G)),D=[(V[0]+Q[0])/2,(V[1]+Q[1])/2],z=[(B[0]+q[0])/2,(B[1]+q[1])/2]}else if(k.touch0)D=k.touch0[0],z=k.touch0[1];else return;k.zoom("touch",n(g(M,D,z),k.extent,i))}}function L(x,...j){if(this.__zooming){var k=C(this,j).event(x),O=x.changedTouches,$=O.length,_,M;for(Gl(x),f&&clearTimeout(f),f=setTimeout(function(){f=null},m),_=0;_<$;++_)M=O[_],k.touch0&&k.touch0[2]===M.identifier?delete k.touch0:k.touch1&&k.touch1[2]===M.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(M=wt(M,this),Math.hypot(d[0]-M[0],d[1]-M[1])<b)){var D=ut(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return p.wheelDelta=function(x){return arguments.length?(r=typeof x=="function"?x:Ls(+x),p):r},p.filter=function(x){return arguments.length?(e=typeof x=="function"?x:Ls(!!x),p):e},p.touchable=function(x){return arguments.length?(o=typeof x=="function"?x:Ls(!!x),p):o},p.extent=function(x){return arguments.length?(t=typeof x=="function"?x:Ls([[+x[0][0],+x[0][1]],[+x[1][0],+x[1][1]]]),p):t},p.scaleExtent=function(x){return arguments.length?(s[0]=+x[0],s[1]=+x[1],p):[s[0],s[1]]},p.translateExtent=function(x){return arguments.length?(i[0][0]=+x[0][0],i[1][0]=+x[1][0],i[0][1]=+x[0][1],i[1][1]=+x[1][1],p):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},p.constrain=function(x){return arguments.length?(n=x,p):n},p.duration=function(x){return arguments.length?(l=+x,p):l},p.interpolate=function(x){return arguments.length?(a=x,p):a},p.on=function(){var x=u.on.apply(u,arguments);return x===u?p:x},p.clickDistance=function(x){return arguments.length?(w=(x=+x)*x,p):Math.sqrt(w)},p.tapDistance=function(x){return arguments.length?(b=+x,p):b},p}const ul=R.createContext(null),fN=ul.Provider,en={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Bm=en.error001();function le(e,t){const n=R.useContext(ul);if(n===null)throw new Error(Bm);return hm(n,e,t)}const _e=()=>{const e=R.useContext(ul);if(e===null)throw new Error(Bm);return R.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},pN=e=>e.userSelectionActive?"none":"all";function cl({position:e,children:t,className:n,style:r,...o}){const s=le(pN),i=`${e}`.split("-");return H.createElement("div",{className:je(["react-flow__panel",n,...i]),style:{...r,pointerEvents:s},...o},t)}function hN({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:H.createElement(cl,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},H.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const mN=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:s={},labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...c})=>{const d=R.useRef(null),[f,m]=R.useState({x:0,y:0,width:0,height:0}),N=je(["react-flow__edge-textwrapper",u]);return R.useEffect(()=>{if(d.current){const w=d.current.getBBox();m({x:w.x,y:w.y,width:w.width,height:w.height})}},[n]),typeof n>"u"||!n?null:H.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:N,visibility:f.width?"visible":"hidden",...c},o&&H.createElement("rect",{width:f.width+2*i[0],x:-i[0],y:-i[1],height:f.height+2*i[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),H.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:d,style:r},n),a)};var gN=R.memo(mN);const _c=e=>({width:e.offsetWidth,height:e.offsetHeight}),Yr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),kc=(e={x:0,y:0},t)=>({x:Yr(e.x,t[0][0],t[1][0]),y:Yr(e.y,t[0][1],t[1][1])}),yf=(e,t,n)=>e<t?Yr(Math.abs(e-t),1,50)/50:e>n?-Yr(Math.abs(e-n),1,50)/50:0,Um=(e,t)=>{const n=yf(e.x,35,t.width-35)*20,r=yf(e.y,35,t.height-35)*20;return[n,r]},Wm=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Qm=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),os=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),qm=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),vf=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),yN=(e,t)=>qm(Qm(os(e),os(t))),uu=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},vN=e=>dt(e.width)&&dt(e.height)&&dt(e.x)&&dt(e.y),dt=e=>!isNaN(e)&&isFinite(e),ye=Symbol.for("internals"),Km=["Enter"," ","Escape"],xN=(e,t)=>{},wN=e=>"nativeEvent"in e;function cu(e){var o,s;const t=wN(e)?e.nativeEvent:e,n=((s=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Ym=e=>"clientX"in e,Sn=(e,t)=>{var s,i;const n=Ym(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,o=n?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Ri=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},gs=({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m=20})=>H.createElement(H.Fragment,null,H.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:f}),m&&H.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),o&&dt(n)&&dt(r)?H.createElement(gN,{x:n,y:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u}):null);gs.displayName="BaseEdge";function go(e,t,n){return n===void 0?n:r=>{const o=t().edges.find(s=>s.id===e);o&&n(r,{...o})}}function Xm({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,s=n<e?n+o:n-o,i=Math.abs(r-t)/2,l=r<t?r+i:r-i;return[s,l,o,i]}function Gm({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:s,targetControlX:i,targetControlY:l}){const a=e*.125+o*.375+i*.375+n*.125,u=t*.125+s*.375+l*.375+r*.125,c=Math.abs(a-e),d=Math.abs(u-t);return[a,u,c,d]}var Cn;(function(e){e.Strict="strict",e.Loose="loose"})(Cn||(Cn={}));var Wn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Wn||(Wn={}));var ss;(function(e){e.Partial="partial",e.Full="full"})(ss||(ss={}));var dn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(dn||(dn={}));var Di;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Di||(Di={}));var Y;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Y||(Y={}));function xf({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Y.Left||e===Y.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function Zm({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:s=Y.Top}){const[i,l]=xf({pos:n,x1:e,y1:t,x2:r,y2:o}),[a,u]=xf({pos:s,x1:r,y1:o,x2:e,y2:t}),[c,d,f,m]=Gm({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:i,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${i},${l} ${a},${u} ${r},${o}`,c,d,f,m]}const Cc=R.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=Y.Bottom,targetPosition:s=Y.Top,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:N,interactionWidth:w})=>{const[b,p,h]=Zm({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:s});return H.createElement(gs,{path:b,labelX:p,labelY:h,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:N,interactionWidth:w})});Cc.displayName="SimpleBezierEdge";const wf={[Y.Left]:{x:-1,y:0},[Y.Right]:{x:1,y:0},[Y.Top]:{x:0,y:-1},[Y.Bottom]:{x:0,y:1}},NN=({source:e,sourcePosition:t=Y.Bottom,target:n})=>t===Y.Left||t===Y.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Nf=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function SN({source:e,sourcePosition:t=Y.Bottom,target:n,targetPosition:r=Y.Top,center:o,offset:s}){const i=wf[t],l=wf[r],a={x:e.x+i.x*s,y:e.y+i.y*s},u={x:n.x+l.x*s,y:n.y+l.y*s},c=NN({source:a,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",f=c[d];let m=[],N,w;const b={x:0,y:0},p={x:0,y:0},[h,g,v,S]=Xm({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[d]*l[d]===-1){N=o.x??h,w=o.y??g;const I=[{x:N,y:a.y},{x:N,y:u.y}],T=[{x:a.x,y:w},{x:u.x,y:w}];i[d]===f?m=d==="x"?I:T:m=d==="x"?T:I}else{const I=[{x:a.x,y:u.y}],T=[{x:u.x,y:a.y}];if(d==="x"?m=i.x===f?T:I:m=i.y===f?I:T,t===r){const L=Math.abs(e[d]-n[d]);if(L<=s){const x=Math.min(s-1,s-L);i[d]===f?b[d]=(a[d]>e[d]?-1:1)*x:p[d]=(u[d]>n[d]?-1:1)*x}}if(t!==r){const L=d==="x"?"y":"x",x=i[d]===l[L],j=a[L]>u[L],k=a[L]<u[L];(i[d]===1&&(!x&&j||x&&k)||i[d]!==1&&(!x&&k||x&&j))&&(m=d==="x"?I:T)}const P={x:a.x+b.x,y:a.y+b.y},E={x:u.x+p.x,y:u.y+p.y},A=Math.max(Math.abs(P.x-m[0].x),Math.abs(E.x-m[0].x)),F=Math.max(Math.abs(P.y-m[0].y),Math.abs(E.y-m[0].y));A>=F?(N=(P.x+E.x)/2,w=m[0].y):(N=m[0].x,w=(P.y+E.y)/2)}return[[e,{x:a.x+b.x,y:a.y+b.y},...m,{x:u.x+p.x,y:u.y+p.y},n],N,w,v,S]}function EN(e,t,n,r){const o=Math.min(Nf(e,t)/2,Nf(t,n)/2,r),{x:s,y:i}=t;if(e.x===s&&s===n.x||e.y===i&&i===n.y)return`L${s} ${i}`;if(e.y===i){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${s+o*u},${i}Q ${s},${i} ${s},${i+o*c}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${s},${i+o*a}Q ${s},${i} ${s+o*l},${i}`}function du({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:s=Y.Top,borderRadius:i=5,centerX:l,centerY:a,offset:u=20}){const[c,d,f,m,N]=SN({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:s,center:{x:l,y:a},offset:u});return[c.reduce((b,p,h)=>{let g="";return h>0&&h<c.length-1?g=EN(c[h-1],p,c[h+1],i):g=`${h===0?"M":"L"}${p.x} ${p.y}`,b+=g,b},""),d,f,m,N]}const dl=R.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,sourcePosition:d=Y.Bottom,targetPosition:f=Y.Top,markerEnd:m,markerStart:N,pathOptions:w,interactionWidth:b})=>{const[p,h,g]=du({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:f,borderRadius:w==null?void 0:w.borderRadius,offset:w==null?void 0:w.offset});return H.createElement(gs,{path:p,labelX:h,labelY:g,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:m,markerStart:N,interactionWidth:b})});dl.displayName="SmoothStepEdge";const Ic=R.memo(e=>{var t;return H.createElement(dl,{...e,pathOptions:R.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Ic.displayName="StepEdge";function _N({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,s,i,l]=Xm({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,s,i,l]}const bc=R.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m})=>{const[N,w,b]=_N({sourceX:e,sourceY:t,targetX:n,targetY:r});return H.createElement(gs,{path:N,labelX:w,labelY:b,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m})});bc.displayName="StraightEdge";function Fs(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Sf({pos:e,x1:t,y1:n,x2:r,y2:o,c:s}){switch(e){case Y.Left:return[t-Fs(t-r,s),n];case Y.Right:return[t+Fs(r-t,s),n];case Y.Top:return[t,n-Fs(n-o,s)];case Y.Bottom:return[t,n+Fs(o-n,s)]}}function Jm({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:s=Y.Top,curvature:i=.25}){const[l,a]=Sf({pos:n,x1:e,y1:t,x2:r,y2:o,c:i}),[u,c]=Sf({pos:s,x1:r,y1:o,x2:e,y2:t,c:i}),[d,f,m,N]=Gm({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${l},${a} ${u},${c} ${r},${o}`,d,f,m,N]}const Oi=R.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=Y.Bottom,targetPosition:s=Y.Top,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:N,pathOptions:w,interactionWidth:b})=>{const[p,h,g]=Jm({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:s,curvature:w==null?void 0:w.curvature});return H.createElement(gs,{path:p,labelX:h,labelY:g,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:N,interactionWidth:b})});Oi.displayName="BezierEdge";const Pc=R.createContext(null),kN=Pc.Provider;Pc.Consumer;const CN=()=>R.useContext(Pc),IN=e=>"id"in e&&"source"in e&&"target"in e,bN=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,fu=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,PN=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),$N=(e,t)=>{if(!e.source||!e.target)return t;let n;return IN(e)?n={...e}:n={...e,id:bN(e)},PN(n,t)?t:t.concat(n)},pu=({x:e,y:t},[n,r,o],s,[i,l])=>{const a={x:(e-n)/o,y:(t-r)/o};return s?{x:i*Math.round(a.x/i),y:l*Math.round(a.y/l)}:a},eg=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),Yn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},fl=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const{x:s,y:i}=Yn(o,t).positionAbsolute;return Qm(r,os({x:s,y:i,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return qm(n)},tg=(e,t,[n,r,o]=[0,0,1],s=!1,i=!1,l=[0,0])=>{const a={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},u=[];return e.forEach(c=>{const{width:d,height:f,selectable:m=!0,hidden:N=!1}=c;if(i&&!m||N)return!1;const{positionAbsolute:w}=Yn(c,l),b={x:w.x,y:w.y,width:d||0,height:f||0},p=uu(a,b),h=typeof d>"u"||typeof f>"u"||d===null||f===null,g=s&&p>0,v=(d||0)*(f||0);(h||g||p>=v||c.dragging)&&u.push(c)}),u},ng=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},rg=(e,t,n,r,o,s=.1)=>{const i=t/(e.width*(1+s)),l=n/(e.height*(1+s)),a=Math.min(i,l),u=Yr(a,r,o),c=e.x+e.width/2,d=e.y+e.height/2,f=t/2-c*u,m=n/2-d*u;return{x:f,y:m,zoom:u}},On=(e,t=0)=>e.transition().duration(t);function Ef(e,t,n,r){return(t[n]||[]).reduce((o,s)=>{var i,l;return`${e.id}-${s.id}-${n}`!==r&&o.push({id:s.id||null,type:n,nodeId:e.id,x:(((i=e.positionAbsolute)==null?void 0:i.x)??0)+s.x+s.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+s.y+s.height/2}),o},[])}function TN(e,t,n,r,o,s){const{x:i,y:l}=Sn(e),u=t.elementsFromPoint(i,l).find(N=>N.classList.contains("react-flow__handle"));if(u){const N=u.getAttribute("data-nodeid");if(N){const w=$c(void 0,u),b=u.getAttribute("data-handleid"),p=s({nodeId:N,id:b,type:w});if(p){const h=o.find(g=>g.nodeId===N&&g.type===w&&g.id===b);return{handle:{id:b,type:w,nodeId:N,x:(h==null?void 0:h.x)||n.x,y:(h==null?void 0:h.y)||n.y},validHandleResult:p}}}}let c=[],d=1/0;if(o.forEach(N=>{const w=Math.sqrt((N.x-n.x)**2+(N.y-n.y)**2);if(w<=r){const b=s(N);w<=d&&(w<d?c=[{handle:N,validHandleResult:b}]:w===d&&c.push({handle:N,validHandleResult:b}),d=w)}}),!c.length)return{handle:null,validHandleResult:og()};if(c.length===1)return c[0];const f=c.some(({validHandleResult:N})=>N.isValid),m=c.some(({handle:N})=>N.type==="target");return c.find(({handle:N,validHandleResult:w})=>m?N.type==="target":f?w.isValid:!0)||c[0]}const MN={source:null,target:null,sourceHandle:null,targetHandle:null},og=()=>({handleDomNode:null,isValid:!1,connection:MN,endHandle:null});function sg(e,t,n,r,o,s,i){const l=o==="target",a=i.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...og(),handleDomNode:a};if(a){const c=$c(void 0,a),d=a.getAttribute("data-nodeid"),f=a.getAttribute("data-handleid"),m=a.classList.contains("connectable"),N=a.classList.contains("connectableend"),w={source:l?d:n,sourceHandle:l?f:r,target:l?n:d,targetHandle:l?r:f};u.connection=w,m&&N&&(t===Cn.Strict?l&&c==="source"||!l&&c==="target":d!==n||f!==r)&&(u.endHandle={nodeId:d,handleId:f,type:c},u.isValid=s(w))}return u}function jN({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((o,s)=>{if(s[ye]){const{handleBounds:i}=s[ye];let l=[],a=[];i&&(l=Ef(s,i,"source",`${t}-${n}-${r}`),a=Ef(s,i,"target",`${t}-${n}-${r}`)),o.push(...l,...a)}return o},[])}function $c(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Zl(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function zN(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function ig({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:s,setState:i,isValidConnection:l,edgeUpdaterType:a,onReconnectEnd:u}){const c=Wm(e.target),{connectionMode:d,domNode:f,autoPanOnConnect:m,connectionRadius:N,onConnectStart:w,panBy:b,getNodes:p,cancelConnection:h}=s();let g=0,v;const{x:S,y:C}=Sn(e),I=c==null?void 0:c.elementFromPoint(S,C),T=$c(a,I),P=f==null?void 0:f.getBoundingClientRect();if(!P||!T)return;let E,A=Sn(e,P),F=!1,L=null,x=!1,j=null;const k=jN({nodes:p(),nodeId:n,handleId:t,handleType:T}),O=()=>{if(!m)return;const[M,D]=Um(A,P);b({x:M,y:D}),g=requestAnimationFrame(O)};i({connectionPosition:A,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:T,connectionStartHandle:{nodeId:n,handleId:t,type:T},connectionEndHandle:null}),w==null||w(e,{nodeId:n,handleId:t,handleType:T});function $(M){const{transform:D}=s();A=Sn(M,P);const{handle:z,validHandleResult:V}=TN(M,c,pu(A,D,!1,[1,1]),N,k,B=>sg(B,d,n,t,o?"target":"source",l,c));if(v=z,F||(O(),F=!0),j=V.handleDomNode,L=V.connection,x=V.isValid,i({connectionPosition:v&&x?eg({x:v.x,y:v.y},D):A,connectionStatus:zN(!!v,x),connectionEndHandle:V.endHandle}),!v&&!x&&!j)return Zl(E);L.source!==L.target&&j&&(Zl(E),E=j,j.classList.add("connecting","react-flow__handle-connecting"),j.classList.toggle("valid",x),j.classList.toggle("react-flow__handle-valid",x))}function _(M){var D,z;(v||j)&&L&&x&&(r==null||r(L)),(z=(D=s()).onConnectEnd)==null||z.call(D,M),a&&(u==null||u(M)),Zl(E),h(),cancelAnimationFrame(g),F=!1,x=!1,L=null,j=null,c.removeEventListener("mousemove",$),c.removeEventListener("mouseup",_),c.removeEventListener("touchmove",$),c.removeEventListener("touchend",_)}c.addEventListener("mousemove",$),c.addEventListener("mouseup",_),c.addEventListener("touchmove",$),c.addEventListener("touchend",_)}const _f=()=>!0,AN=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),RN=(e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:s,connectionClickStartHandle:i}=r;return{connecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n}},lg=R.forwardRef(({type:e="source",position:t=Y.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:s=!0,id:i,onConnect:l,children:a,className:u,onMouseDown:c,onTouchStart:d,...f},m)=>{var P,E;const N=i||null,w=e==="target",b=_e(),p=CN(),{connectOnClick:h,noPanClassName:g}=le(AN,Pe),{connecting:v,clickConnecting:S}=le(RN(p,N,e),Pe);p||(E=(P=b.getState()).onError)==null||E.call(P,"010",en.error010());const C=A=>{const{defaultEdgeOptions:F,onConnect:L,hasDefaultEdges:x}=b.getState(),j={...F,...A};if(x){const{edges:k,setEdges:O}=b.getState();O($N(j,k))}L==null||L(j),l==null||l(j)},I=A=>{if(!p)return;const F=Ym(A);o&&(F&&A.button===0||!F)&&ig({event:A,handleId:N,nodeId:p,onConnect:C,isTarget:w,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||_f}),F?c==null||c(A):d==null||d(A)},T=A=>{const{onClickConnectStart:F,onClickConnectEnd:L,connectionClickStartHandle:x,connectionMode:j,isValidConnection:k}=b.getState();if(!p||!x&&!o)return;if(!x){F==null||F(A,{nodeId:p,handleId:N,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:p,type:e,handleId:N}});return}const O=Wm(A.target),$=n||k||_f,{connection:_,isValid:M}=sg({nodeId:p,id:N,type:e},j,x.nodeId,x.handleId||null,x.type,$,O);M&&C(_),L==null||L(A),b.setState({connectionClickStartHandle:null})};return H.createElement("div",{"data-handleid":N,"data-nodeid":p,"data-handlepos":t,"data-id":`${p}-${N}-${e}`,className:je(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",g,u,{source:!w,target:w,connectable:r,connectablestart:o,connectableend:s,connecting:S,connectionindicator:r&&(o&&!v||s&&v)}]),onMouseDown:I,onTouchStart:I,onClick:h?T:void 0,ref:m,...f},a)});lg.displayName="Handle";var _t=R.memo(lg);const ag=({data:e,isConnectable:t,targetPosition:n=Y.Top,sourcePosition:r=Y.Bottom})=>H.createElement(H.Fragment,null,H.createElement(_t,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,H.createElement(_t,{type:"source",position:r,isConnectable:t}));ag.displayName="DefaultNode";var hu=R.memo(ag);const ug=({data:e,isConnectable:t,sourcePosition:n=Y.Bottom})=>H.createElement(H.Fragment,null,e==null?void 0:e.label,H.createElement(_t,{type:"source",position:n,isConnectable:t}));ug.displayName="InputNode";var cg=R.memo(ug);const dg=({data:e,isConnectable:t,targetPosition:n=Y.Top})=>H.createElement(H.Fragment,null,H.createElement(_t,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);dg.displayName="OutputNode";var fg=R.memo(dg);const Tc=()=>null;Tc.displayName="GroupNode";const DN=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Hs=e=>e.id;function ON(e,t){return Pe(e.selectedNodes.map(Hs),t.selectedNodes.map(Hs))&&Pe(e.selectedEdges.map(Hs),t.selectedEdges.map(Hs))}const pg=R.memo(({onSelectionChange:e})=>{const t=_e(),{selectedNodes:n,selectedEdges:r}=le(DN,ON);return R.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChange.forEach(s=>s(o))},[n,r,e]),null});pg.displayName="SelectionListener";const LN=e=>!!e.onSelectionChange;function FN({onSelectionChange:e}){const t=le(LN);return e||t?H.createElement(pg,{onSelectionChange:e}):null}const HN=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function fr(e,t){R.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function J(e,t,n){R.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const VN=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:s,onConnectEnd:i,onClickConnectStart:l,onClickConnectEnd:a,nodesDraggable:u,nodesConnectable:c,nodesFocusable:d,edgesFocusable:f,edgesUpdatable:m,elevateNodesOnSelect:N,minZoom:w,maxZoom:b,nodeExtent:p,onNodesChange:h,onEdgesChange:g,elementsSelectable:v,connectionMode:S,snapGrid:C,snapToGrid:I,translateExtent:T,connectOnClick:P,defaultEdgeOptions:E,fitView:A,fitViewOptions:F,onNodesDelete:L,onEdgesDelete:x,onNodeDrag:j,onNodeDragStart:k,onNodeDragStop:O,onSelectionDrag:$,onSelectionDragStart:_,onSelectionDragStop:M,noPanClassName:D,nodeOrigin:z,rfId:V,autoPanOnConnect:B,autoPanOnNodeDrag:Q,onError:q,connectionRadius:W,isValidConnection:G,nodeDragThreshold:Z})=>{const{setNodes:te,setEdges:se,setDefaultNodesAndEdges:de,setMinZoom:we,setMaxZoom:Ce,setTranslateExtent:me,setNodeExtent:Le,reset:oe}=le(HN,Pe),X=_e();return R.useEffect(()=>{const Fe=r==null?void 0:r.map(Dt=>({...Dt,...E}));return de(n,Fe),()=>{oe()}},[]),J("defaultEdgeOptions",E,X.setState),J("connectionMode",S,X.setState),J("onConnect",o,X.setState),J("onConnectStart",s,X.setState),J("onConnectEnd",i,X.setState),J("onClickConnectStart",l,X.setState),J("onClickConnectEnd",a,X.setState),J("nodesDraggable",u,X.setState),J("nodesConnectable",c,X.setState),J("nodesFocusable",d,X.setState),J("edgesFocusable",f,X.setState),J("edgesUpdatable",m,X.setState),J("elementsSelectable",v,X.setState),J("elevateNodesOnSelect",N,X.setState),J("snapToGrid",I,X.setState),J("snapGrid",C,X.setState),J("onNodesChange",h,X.setState),J("onEdgesChange",g,X.setState),J("connectOnClick",P,X.setState),J("fitViewOnInit",A,X.setState),J("fitViewOnInitOptions",F,X.setState),J("onNodesDelete",L,X.setState),J("onEdgesDelete",x,X.setState),J("onNodeDrag",j,X.setState),J("onNodeDragStart",k,X.setState),J("onNodeDragStop",O,X.setState),J("onSelectionDrag",$,X.setState),J("onSelectionDragStart",_,X.setState),J("onSelectionDragStop",M,X.setState),J("noPanClassName",D,X.setState),J("nodeOrigin",z,X.setState),J("rfId",V,X.setState),J("autoPanOnConnect",B,X.setState),J("autoPanOnNodeDrag",Q,X.setState),J("onError",q,X.setState),J("connectionRadius",W,X.setState),J("isValidConnection",G,X.setState),J("nodeDragThreshold",Z,X.setState),fr(e,te),fr(t,se),fr(w,we),fr(b,Ce),fr(T,me),fr(p,Le),null},kf={display:"none"},BN={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},hg="react-flow__node-desc",mg="react-flow__edge-desc",UN="react-flow__aria-live",WN=e=>e.ariaLiveMessage;function QN({rfId:e}){const t=le(WN);return H.createElement("div",{id:`${UN}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:BN},t)}function qN({rfId:e,disableKeyboardA11y:t}){return H.createElement(H.Fragment,null,H.createElement("div",{id:`${hg}-${e}`,style:kf},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),H.createElement("div",{id:`${mg}-${e}`,style:kf},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&H.createElement(QN,{rfId:e}))}var is=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=R.useState(!1),o=R.useRef(!1),s=R.useRef(new Set([])),[i,l]=R.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),c=u.reduce((d,f)=>d.concat(...f),[]);return[u,c]}return[[],[]]},[e]);return R.useEffect(()=>{const a=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||a;if(e!==null){const c=m=>{if(o.current=m.ctrlKey||m.metaKey||m.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&cu(m))return!1;const w=If(m.code,l);s.current.add(m[w]),Cf(i,s.current,!1)&&(m.preventDefault(),r(!0))},d=m=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&cu(m))return!1;const w=If(m.code,l);Cf(i,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(m[w]),m.key==="Meta"&&s.current.clear(),o.current=!1},f=()=>{s.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",f)}}},[e,r]),n};function Cf(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function If(e,t){return t.includes(e)?"code":"key"}function gg(e,t,n,r){var l,a;const o=e.parentNode||e.parentId;if(!o)return n;const s=t.get(o),i=Yn(s,r);return gg(s,t,{x:(n.x??0)+i.x,y:(n.y??0)+i.y,z:(((l=s[ye])==null?void 0:l.z)??0)>(n.z??0)?((a=s[ye])==null?void 0:a.z)??0:n.z??0},r)}function yg(e,t,n){e.forEach(r=>{var s;const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n!=null&&n[r.id]){const{x:i,y:l,z:a}=gg(r,e,{...r.position,z:((s=r[ye])==null?void 0:s.z)??0},t);r.positionAbsolute={x:i,y:l},r[ye].z=a,n!=null&&n[r.id]&&(r[ye].isParent=!0)}})}function Jl(e,t,n,r){const o=new Map,s={},i=r?1e3:0;return e.forEach(l=>{var m;const a=(dt(l.zIndex)?l.zIndex:0)+(l.selected?i:0),u=t.get(l.id),c={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},d=l.parentNode||l.parentId;d&&(s[d]=!0);const f=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(c,ye,{enumerable:!1,value:{handleBounds:f||(m=u==null?void 0:u[ye])==null?void 0:m.handleBounds,z:a}}),o.set(l.id,c)}),yg(o,n,s),o}function vg(e,t={}){const{getNodes:n,width:r,height:o,minZoom:s,maxZoom:i,d3Zoom:l,d3Selection:a,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=e(),f=t.initial&&!u&&c;if(l&&a&&(f||!t.initial)){const N=n().filter(b=>{var h;const p=t.includeHiddenNodes?b.width&&b.height:!b.hidden;return(h=t.nodes)!=null&&h.length?p&&t.nodes.some(g=>g.id===b.id):p}),w=N.every(b=>b.width&&b.height);if(N.length>0&&w){const b=fl(N,d),{x:p,y:h,zoom:g}=rg(b,r,o,t.minZoom??s,t.maxZoom??i,t.padding??.1),v=Kt.translate(p,h).scale(g);return typeof t.duration=="number"&&t.duration>0?l.transform(On(a,t.duration),v):l.transform(a,v),!0}}return!1}function KN(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[ye]:r[ye],selected:n.selected})}),new Map(t)}function YN(e,t){return t.map(n=>{const r=e.find(o=>o.id===n.id);return r&&(n.selected=r.selected),n})}function Vs({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:s,onNodesChange:i,onEdgesChange:l,hasDefaultNodes:a,hasDefaultEdges:u}=n();e!=null&&e.length&&(a&&r({nodeInternals:KN(e,o)}),i==null||i(e)),t!=null&&t.length&&(u&&r({edges:YN(t,s)}),l==null||l(t))}const pr=()=>{},XN={zoomIn:pr,zoomOut:pr,zoomTo:pr,getZoom:()=>1,setViewport:pr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:pr,fitBounds:pr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},GN=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),ZN=()=>{const e=_e(),{d3Zoom:t,d3Selection:n}=le(GN,Pe);return R.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(On(n,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(On(n,o==null?void 0:o.duration),1/1.2),zoomTo:(o,s)=>t.scaleTo(On(n,s==null?void 0:s.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,s)=>{const[i,l,a]=e.getState().transform,u=Kt.translate(o.x??i,o.y??l).scale(o.zoom??a);t.transform(On(n,s==null?void 0:s.duration),u)},getViewport:()=>{const[o,s,i]=e.getState().transform;return{x:o,y:s,zoom:i}},fitView:o=>vg(e.getState,o),setCenter:(o,s,i)=>{const{width:l,height:a,maxZoom:u}=e.getState(),c=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:u,d=l/2-o*c,f=a/2-s*c,m=Kt.translate(d,f).scale(c);t.transform(On(n,i==null?void 0:i.duration),m)},fitBounds:(o,s)=>{const{width:i,height:l,minZoom:a,maxZoom:u}=e.getState(),{x:c,y:d,zoom:f}=rg(o,i,l,a,u,(s==null?void 0:s.padding)??.1),m=Kt.translate(c,d).scale(f);t.transform(On(n,s==null?void 0:s.duration),m)},project:o=>{const{transform:s,snapToGrid:i,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),pu(o,s,i,l)},screenToFlowPosition:o=>{const{transform:s,snapToGrid:i,snapGrid:l,domNode:a}=e.getState();if(!a)return o;const{x:u,y:c}=a.getBoundingClientRect(),d={x:o.x-u,y:o.y-c};return pu(d,s,i,l)},flowToScreenPosition:o=>{const{transform:s,domNode:i}=e.getState();if(!i)return o;const{x:l,y:a}=i.getBoundingClientRect(),u=eg(o,s);return{x:u.x+l,y:u.y+a}},viewportInitialized:!0}:XN,[t,n])};function pl(){const e=ZN(),t=_e(),n=R.useCallback(()=>t.getState().getNodes().map(w=>({...w})),[]),r=R.useCallback(w=>t.getState().nodeInternals.get(w),[]),o=R.useCallback(()=>{const{edges:w=[]}=t.getState();return w.map(b=>({...b}))},[]),s=R.useCallback(w=>{const{edges:b=[]}=t.getState();return b.find(p=>p.id===w)},[]),i=R.useCallback(w=>{const{getNodes:b,setNodes:p,hasDefaultNodes:h,onNodesChange:g}=t.getState(),v=b(),S=typeof w=="function"?w(v):w;if(h)p(S);else if(g){const C=S.length===0?v.map(I=>({type:"remove",id:I.id})):S.map(I=>({item:I,type:"reset"}));g(C)}},[]),l=R.useCallback(w=>{const{edges:b=[],setEdges:p,hasDefaultEdges:h,onEdgesChange:g}=t.getState(),v=typeof w=="function"?w(b):w;if(h)p(v);else if(g){const S=v.length===0?b.map(C=>({type:"remove",id:C.id})):v.map(C=>({item:C,type:"reset"}));g(S)}},[]),a=R.useCallback(w=>{const b=Array.isArray(w)?w:[w],{getNodes:p,setNodes:h,hasDefaultNodes:g,onNodesChange:v}=t.getState();if(g){const C=[...p(),...b];h(C)}else if(v){const S=b.map(C=>({item:C,type:"add"}));v(S)}},[]),u=R.useCallback(w=>{const b=Array.isArray(w)?w:[w],{edges:p=[],setEdges:h,hasDefaultEdges:g,onEdgesChange:v}=t.getState();if(g)h([...p,...b]);else if(v){const S=b.map(C=>({item:C,type:"add"}));v(S)}},[]),c=R.useCallback(()=>{const{getNodes:w,edges:b=[],transform:p}=t.getState(),[h,g,v]=p;return{nodes:w().map(S=>({...S})),edges:b.map(S=>({...S})),viewport:{x:h,y:g,zoom:v}}},[]),d=R.useCallback(({nodes:w,edges:b})=>{const{nodeInternals:p,getNodes:h,edges:g,hasDefaultNodes:v,hasDefaultEdges:S,onNodesDelete:C,onEdgesDelete:I,onNodesChange:T,onEdgesChange:P}=t.getState(),E=(w||[]).map(j=>j.id),A=(b||[]).map(j=>j.id),F=h().reduce((j,k)=>{const O=k.parentNode||k.parentId,$=!E.includes(k.id)&&O&&j.find(M=>M.id===O);return(typeof k.deletable=="boolean"?k.deletable:!0)&&(E.includes(k.id)||$)&&j.push(k),j},[]),L=g.filter(j=>typeof j.deletable=="boolean"?j.deletable:!0),x=L.filter(j=>A.includes(j.id));if(F||x){const j=ng(F,L),k=[...x,...j],O=k.reduce(($,_)=>($.includes(_.id)||$.push(_.id),$),[]);if((S||v)&&(S&&t.setState({edges:g.filter($=>!O.includes($.id))}),v&&(F.forEach($=>{p.delete($.id)}),t.setState({nodeInternals:new Map(p)}))),O.length>0&&(I==null||I(k),P&&P(O.map($=>({id:$,type:"remove"})))),F.length>0&&(C==null||C(F),T)){const $=F.map(_=>({id:_.id,type:"remove"}));T($)}}},[]),f=R.useCallback(w=>{const b=vN(w),p=b?null:t.getState().nodeInternals.get(w.id);return!b&&!p?[null,null,b]:[b?w:vf(p),p,b]},[]),m=R.useCallback((w,b=!0,p)=>{const[h,g,v]=f(w);return h?(p||t.getState().getNodes()).filter(S=>{if(!v&&(S.id===g.id||!S.positionAbsolute))return!1;const C=vf(S),I=uu(C,h);return b&&I>0||I>=h.width*h.height}):[]},[]),N=R.useCallback((w,b,p=!0)=>{const[h]=f(w);if(!h)return!1;const g=uu(h,b);return p&&g>0||g>=h.width*h.height},[]);return R.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:o,getEdge:s,setNodes:i,setEdges:l,addNodes:a,addEdges:u,toObject:c,deleteElements:d,getIntersectingNodes:m,isNodeIntersecting:N}),[e,n,r,o,s,i,l,a,u,c,d,m,N])}const JN={actInsideInputWithModifier:!1};var eS=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=_e(),{deleteElements:r}=pl(),o=is(e,JN),s=is(t);R.useEffect(()=>{if(o){const{edges:i,getNodes:l}=n.getState(),a=l().filter(c=>c.selected),u=i.filter(c=>c.selected);r({nodes:a,edges:u}),n.setState({nodesSelectionActive:!1})}},[o]),R.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function tS(e){const t=_e();R.useEffect(()=>{let n;const r=()=>{var s,i;if(!e.current)return;const o=_c(e.current);(o.height===0||o.width===0)&&((i=(s=t.getState()).onError)==null||i.call(s,"004",en.error004())),t.setState({width:o.width||500,height:o.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Mc={position:"absolute",width:"100%",height:"100%",top:0,left:0},nS=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Bs=e=>({x:e.x,y:e.y,zoom:e.k}),hr=(e,t)=>e.target.closest(`.${t}`),bf=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Pf=e=>{const t=e.ctrlKey&&Ri()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},rS=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),oS=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:o=!0,zoomOnPinch:s=!0,panOnScroll:i=!1,panOnScrollSpeed:l=.5,panOnScrollMode:a=Wn.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:d=!0,defaultViewport:f,translateExtent:m,minZoom:N,maxZoom:w,zoomActivationKeyCode:b,preventScrolling:p=!0,children:h,noWheelClassName:g,noPanClassName:v})=>{const S=R.useRef(),C=_e(),I=R.useRef(!1),T=R.useRef(!1),P=R.useRef(null),E=R.useRef({x:0,y:0,zoom:0}),{d3Zoom:A,d3Selection:F,d3ZoomHandler:L,userSelectionActive:x}=le(rS,Pe),j=is(b),k=R.useRef(0),O=R.useRef(!1),$=R.useRef();return tS(P),R.useEffect(()=>{if(P.current){const _=P.current.getBoundingClientRect(),M=Vm().scaleExtent([N,w]).translateExtent(m),D=ut(P.current).call(M),z=Kt.translate(f.x,f.y).scale(Yr(f.zoom,N,w)),V=[[0,0],[_.width,_.height]],B=M.constrain()(z,V,m);M.transform(D,B),M.wheelDelta(Pf),C.setState({d3Zoom:M,d3Selection:D,d3ZoomHandler:D.on("wheel.zoom"),transform:[B.x,B.y,B.k],domNode:P.current.closest(".react-flow")})}},[]),R.useEffect(()=>{F&&A&&(i&&!j&&!x?F.on("wheel.zoom",_=>{if(hr(_,g))return!1;_.preventDefault(),_.stopImmediatePropagation();const M=F.property("__zoom").k||1;if(_.ctrlKey&&s){const G=wt(_),Z=Pf(_),te=M*Math.pow(2,Z);A.scaleTo(F,te,G,_);return}const D=_.deltaMode===1?20:1;let z=a===Wn.Vertical?0:_.deltaX*D,V=a===Wn.Horizontal?0:_.deltaY*D;!Ri()&&_.shiftKey&&a!==Wn.Vertical&&(z=_.deltaY*D,V=0),A.translateBy(F,-(z/M)*l,-(V/M)*l,{internal:!0});const B=Bs(F.property("__zoom")),{onViewportChangeStart:Q,onViewportChange:q,onViewportChangeEnd:W}=C.getState();clearTimeout($.current),O.current||(O.current=!0,t==null||t(_,B),Q==null||Q(B)),O.current&&(e==null||e(_,B),q==null||q(B),$.current=setTimeout(()=>{n==null||n(_,B),W==null||W(B),O.current=!1},150))},{passive:!1}):typeof L<"u"&&F.on("wheel.zoom",function(_,M){if(!p&&_.type==="wheel"&&!_.ctrlKey||hr(_,g))return null;_.preventDefault(),L.call(this,_,M)},{passive:!1}))},[x,i,a,F,A,L,j,s,p,g,t,e,n]),R.useEffect(()=>{A&&A.on("start",_=>{var z,V;if(!_.sourceEvent||_.sourceEvent.internal)return null;k.current=(z=_.sourceEvent)==null?void 0:z.button;const{onViewportChangeStart:M}=C.getState(),D=Bs(_.transform);I.current=!0,E.current=D,((V=_.sourceEvent)==null?void 0:V.type)==="mousedown"&&C.setState({paneDragging:!0}),M==null||M(D),t==null||t(_.sourceEvent,D)})},[A,t]),R.useEffect(()=>{A&&(x&&!I.current?A.on("zoom",null):x||A.on("zoom",_=>{var D;const{onViewportChange:M}=C.getState();if(C.setState({transform:[_.transform.x,_.transform.y,_.transform.k]}),T.current=!!(r&&bf(d,k.current??0)),(e||M)&&!((D=_.sourceEvent)!=null&&D.internal)){const z=Bs(_.transform);M==null||M(z),e==null||e(_.sourceEvent,z)}}))},[x,A,e,d,r]),R.useEffect(()=>{A&&A.on("end",_=>{if(!_.sourceEvent||_.sourceEvent.internal)return null;const{onViewportChangeEnd:M}=C.getState();if(I.current=!1,C.setState({paneDragging:!1}),r&&bf(d,k.current??0)&&!T.current&&r(_.sourceEvent),T.current=!1,(n||M)&&nS(E.current,_.transform)){const D=Bs(_.transform);E.current=D,clearTimeout(S.current),S.current=setTimeout(()=>{M==null||M(D),n==null||n(_.sourceEvent,D)},i?150:0)}})},[A,i,d,n,r]),R.useEffect(()=>{A&&A.filter(_=>{const M=j||o,D=s&&_.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&_.button===1&&_.type==="mousedown"&&(hr(_,"react-flow__node")||hr(_,"react-flow__edge")))return!0;if(!d&&!M&&!i&&!u&&!s||x||!u&&_.type==="dblclick"||hr(_,g)&&_.type==="wheel"||hr(_,v)&&(_.type!=="wheel"||i&&_.type==="wheel"&&!j)||!s&&_.ctrlKey&&_.type==="wheel"||!M&&!i&&!D&&_.type==="wheel"||!d&&(_.type==="mousedown"||_.type==="touchstart")||Array.isArray(d)&&!d.includes(_.button)&&_.type==="mousedown")return!1;const z=Array.isArray(d)&&d.includes(_.button)||!_.button||_.button<=1;return(!_.ctrlKey||_.type==="wheel")&&z})},[x,A,o,s,i,u,d,c,j]),H.createElement("div",{className:"react-flow__renderer",ref:P,style:Mc},h)},sS=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function iS(){const{userSelectionActive:e,userSelectionRect:t}=le(sS,Pe);return e&&t?H.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function $f(e,t){const n=t.parentNode||t.parentId,r=e.find(o=>o.id===n);if(r){const o=t.position.x+t.width-r.width,s=t.position.y+t.height-r.height;if(o>0||s>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,o>0&&(r.style.width+=o),s>0&&(r.style.height+=s),t.position.x<0){const i=Math.abs(t.position.x);r.position.x=r.position.x-i,r.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);r.position.y=r.position.y-i,r.style.height+=i,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function xg(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,o)=>{const s=e.filter(l=>l.id===o.id);if(s.length===0)return r.push(o),r;const i={...o};for(const l of s)if(l)switch(l.type){case"select":{i.selected=l.selected;break}case"position":{typeof l.position<"u"&&(i.position=l.position),typeof l.positionAbsolute<"u"&&(i.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(i.dragging=l.dragging),i.expandParent&&$f(r,i);break}case"dimensions":{typeof l.dimensions<"u"&&(i.width=l.dimensions.width,i.height=l.dimensions.height),typeof l.updateStyle<"u"&&(i.style={...i.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(i.resizing=l.resizing),i.expandParent&&$f(r,i);break}case"remove":return r}return r.push(i),r},n)}function wg(e,t){return xg(e,t)}function lS(e,t){return xg(e,t)}const an=(e,t)=>({id:e,type:"select",selected:t});function Pr(e,t){return e.reduce((n,r)=>{const o=t.includes(r.id);return!r.selected&&o?(r.selected=!0,n.push(an(r.id,!0))):r.selected&&!o&&(r.selected=!1,n.push(an(r.id,!1))),n},[])}const ea=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},aS=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Ng=R.memo(({isSelecting:e,selectionMode:t=ss.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:o,onPaneClick:s,onPaneContextMenu:i,onPaneScroll:l,onPaneMouseEnter:a,onPaneMouseMove:u,onPaneMouseLeave:c,children:d})=>{const f=R.useRef(null),m=_e(),N=R.useRef(0),w=R.useRef(0),b=R.useRef(),{userSelectionActive:p,elementsSelectable:h,dragging:g}=le(aS,Pe),v=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),N.current=0,w.current=0},S=L=>{s==null||s(L),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},C=L=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){L.preventDefault();return}i==null||i(L)},I=l?L=>l(L):void 0,T=L=>{const{resetSelectedElements:x,domNode:j}=m.getState();if(b.current=j==null?void 0:j.getBoundingClientRect(),!h||!e||L.button!==0||L.target!==f.current||!b.current)return;const{x:k,y:O}=Sn(L,b.current);x(),m.setState({userSelectionRect:{width:0,height:0,startX:k,startY:O,x:k,y:O}}),r==null||r(L)},P=L=>{const{userSelectionRect:x,nodeInternals:j,edges:k,transform:O,onNodesChange:$,onEdgesChange:_,nodeOrigin:M,getNodes:D}=m.getState();if(!e||!b.current||!x)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const z=Sn(L,b.current),V=x.startX??0,B=x.startY??0,Q={...x,x:z.x<V?z.x:V,y:z.y<B?z.y:B,width:Math.abs(z.x-V),height:Math.abs(z.y-B)},q=D(),W=tg(j,Q,O,t===ss.Partial,!0,M),G=ng(W,k).map(te=>te.id),Z=W.map(te=>te.id);if(N.current!==Z.length){N.current=Z.length;const te=Pr(q,Z);te.length&&($==null||$(te))}if(w.current!==G.length){w.current=G.length;const te=Pr(k,G);te.length&&(_==null||_(te))}m.setState({userSelectionRect:Q})},E=L=>{if(L.button!==0)return;const{userSelectionRect:x}=m.getState();!p&&x&&L.target===f.current&&(S==null||S(L)),m.setState({nodesSelectionActive:N.current>0}),v(),o==null||o(L)},A=L=>{p&&(m.setState({nodesSelectionActive:N.current>0}),o==null||o(L)),v()},F=h&&(e||p);return H.createElement("div",{className:je(["react-flow__pane",{dragging:g,selection:e}]),onClick:F?void 0:ea(S,f),onContextMenu:ea(C,f),onWheel:ea(I,f),onMouseEnter:F?void 0:a,onMouseDown:F?T:void 0,onMouseMove:F?P:u,onMouseUp:F?E:void 0,onMouseLeave:F?A:c,ref:f,style:Mc},d,H.createElement(iS,null))});Ng.displayName="Pane";function Sg(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:Sg(r,t):!1}function Tf(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function uS(e,t,n,r){return Array.from(e.values()).filter(o=>(o.selected||o.id===r)&&(!o.parentNode||o.parentId||!Sg(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var s,i;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=o.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((i=o.positionAbsolute)==null?void 0:i.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}})}function cS(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Eg(e,t,n,r,o=[0,0],s){const i=cS(e,e.extent||r);let l=i;const a=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(a&&e.width&&e.height){const d=n.get(a),{x:f,y:m}=Yn(d,o).positionAbsolute;l=d&&dt(f)&&dt(m)&&dt(d.width)&&dt(d.height)?[[f+e.width*o[0],m+e.height*o[1]],[f+d.width-e.width+e.width*o[0],m+d.height-e.height+e.height*o[1]]]:l}else s==null||s("005",en.error005()),l=i;else if(e.extent&&a&&e.extent!=="parent"){const d=n.get(a),{x:f,y:m}=Yn(d,o).positionAbsolute;l=[[e.extent[0][0]+f,e.extent[0][1]+m],[e.extent[1][0]+f,e.extent[1][1]+m]]}let u={x:0,y:0};if(a){const d=n.get(a);u=Yn(d,o).positionAbsolute}const c=l&&l!=="parent"?kc(t,l):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function ta({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?r.find(o=>o.id===e):r[0],r]}const Mf=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const s=Array.from(o),i=t.getBoundingClientRect(),l={x:i.width*r[0],y:i.height*r[1]};return s.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-i.left-l.x)/n,y:(u.top-i.top-l.y)/n,..._c(a)}})};function yo(e,t,n){return n===void 0?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function mu({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:s,multiSelectionActive:i,nodeInternals:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",en.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&i)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):o([e])}function dS(){const e=_e();return R.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:o,snapToGrid:s}=e.getState(),i=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,a={x:(i-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:s?o[0]*Math.round(a.x/o[0]):a.x,ySnapped:s?o[1]*Math.round(a.y/o[1]):a.y,...a}},[])}function na(e){return(t,n,r)=>e==null?void 0:e(t,r)}function _g({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:s,selectNodesOnDrag:i}){const l=_e(),[a,u]=R.useState(!1),c=R.useRef([]),d=R.useRef({x:null,y:null}),f=R.useRef(0),m=R.useRef(null),N=R.useRef({x:0,y:0}),w=R.useRef(null),b=R.useRef(!1),p=R.useRef(!1),h=R.useRef(!1),g=dS();return R.useEffect(()=>{if(e!=null&&e.current){const v=ut(e.current),S=({x:T,y:P})=>{const{nodeInternals:E,onNodeDrag:A,onSelectionDrag:F,updateNodePositions:L,nodeExtent:x,snapGrid:j,snapToGrid:k,nodeOrigin:O,onError:$}=l.getState();d.current={x:T,y:P};let _=!1,M={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&x){const z=fl(c.current,O);M=os(z)}if(c.current=c.current.map(z=>{const V={x:T-z.distance.x,y:P-z.distance.y};k&&(V.x=j[0]*Math.round(V.x/j[0]),V.y=j[1]*Math.round(V.y/j[1]));const B=[[x[0][0],x[0][1]],[x[1][0],x[1][1]]];c.current.length>1&&x&&!z.extent&&(B[0][0]=z.positionAbsolute.x-M.x+x[0][0],B[1][0]=z.positionAbsolute.x+(z.width??0)-M.x2+x[1][0],B[0][1]=z.positionAbsolute.y-M.y+x[0][1],B[1][1]=z.positionAbsolute.y+(z.height??0)-M.y2+x[1][1]);const Q=Eg(z,V,E,B,O,$);return _=_||z.position.x!==Q.position.x||z.position.y!==Q.position.y,z.position=Q.position,z.positionAbsolute=Q.positionAbsolute,z}),!_)return;L(c.current,!0,!0),u(!0);const D=o?A:na(F);if(D&&w.current){const[z,V]=ta({nodeId:o,dragItems:c.current,nodeInternals:E});D(w.current,z,V)}},C=()=>{if(!m.current)return;const[T,P]=Um(N.current,m.current);if(T!==0||P!==0){const{transform:E,panBy:A}=l.getState();d.current.x=(d.current.x??0)-T/E[2],d.current.y=(d.current.y??0)-P/E[2],A({x:T,y:P})&&S(d.current)}f.current=requestAnimationFrame(C)},I=T=>{var O;const{nodeInternals:P,multiSelectionActive:E,nodesDraggable:A,unselectNodesAndEdges:F,onNodeDragStart:L,onSelectionDragStart:x}=l.getState();p.current=!0;const j=o?L:na(x);(!i||!s)&&!E&&o&&((O=P.get(o))!=null&&O.selected||F()),o&&s&&i&&mu({id:o,store:l,nodeRef:e});const k=g(T);if(d.current=k,c.current=uS(P,A,k,o),j&&c.current){const[$,_]=ta({nodeId:o,dragItems:c.current,nodeInternals:P});j(T.sourceEvent,$,_)}};if(t)v.on(".drag",null);else{const T=Sw().on("start",P=>{const{domNode:E,nodeDragThreshold:A}=l.getState();A===0&&I(P),h.current=!1;const F=g(P);d.current=F,m.current=(E==null?void 0:E.getBoundingClientRect())||null,N.current=Sn(P.sourceEvent,m.current)}).on("drag",P=>{var L,x;const E=g(P),{autoPanOnNodeDrag:A,nodeDragThreshold:F}=l.getState();if(P.sourceEvent.type==="touchmove"&&P.sourceEvent.touches.length>1&&(h.current=!0),!h.current){if(!b.current&&p.current&&A&&(b.current=!0,C()),!p.current){const j=E.xSnapped-(((L=d==null?void 0:d.current)==null?void 0:L.x)??0),k=E.ySnapped-(((x=d==null?void 0:d.current)==null?void 0:x.y)??0);Math.sqrt(j*j+k*k)>F&&I(P)}(d.current.x!==E.xSnapped||d.current.y!==E.ySnapped)&&c.current&&p.current&&(w.current=P.sourceEvent,N.current=Sn(P.sourceEvent,m.current),S(E))}}).on("end",P=>{if(!(!p.current||h.current)&&(u(!1),b.current=!1,p.current=!1,cancelAnimationFrame(f.current),c.current)){const{updateNodePositions:E,nodeInternals:A,onNodeDragStop:F,onSelectionDragStop:L}=l.getState(),x=o?F:na(L);if(E(c.current,!1,!1),x){const[j,k]=ta({nodeId:o,dragItems:c.current,nodeInternals:A});x(P.sourceEvent,j,k)}}}).filter(P=>{const E=P.target;return!P.button&&(!n||!Tf(E,`.${n}`,e))&&(!r||Tf(E,r,e))});return v.call(T),()=>{v.on(".drag",null)}}}},[e,t,n,r,s,l,o,i,g]),a}function kg(){const e=_e();return R.useCallback(n=>{const{nodeInternals:r,nodeExtent:o,updateNodePositions:s,getNodes:i,snapToGrid:l,snapGrid:a,onError:u,nodesDraggable:c}=e.getState(),d=i().filter(h=>h.selected&&(h.draggable||c&&typeof h.draggable>"u")),f=l?a[0]:5,m=l?a[1]:5,N=n.isShiftPressed?4:1,w=n.x*f*N,b=n.y*m*N,p=d.map(h=>{if(h.positionAbsolute){const g={x:h.positionAbsolute.x+w,y:h.positionAbsolute.y+b};l&&(g.x=a[0]*Math.round(g.x/a[0]),g.y=a[1]*Math.round(g.y/a[1]));const{positionAbsolute:v,position:S}=Eg(h,g,r,o,void 0,u);h.position=S,h.positionAbsolute=v}return h});s(p,!0,!1)},[])}const Or={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var vo=e=>{const t=({id:n,type:r,data:o,xPos:s,yPos:i,xPosOrigin:l,yPosOrigin:a,selected:u,onClick:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:m,onContextMenu:N,onDoubleClick:w,style:b,className:p,isDraggable:h,isSelectable:g,isConnectable:v,isFocusable:S,selectNodesOnDrag:C,sourcePosition:I,targetPosition:T,hidden:P,resizeObserver:E,dragHandle:A,zIndex:F,isParent:L,noDragClassName:x,noPanClassName:j,initialized:k,disableKeyboardA11y:O,ariaLabel:$,rfId:_,hasHandleBounds:M})=>{const D=_e(),z=R.useRef(null),V=R.useRef(null),B=R.useRef(I),Q=R.useRef(T),q=R.useRef(r),W=g||h||c||d||f||m,G=kg(),Z=yo(n,D.getState,d),te=yo(n,D.getState,f),se=yo(n,D.getState,m),de=yo(n,D.getState,N),we=yo(n,D.getState,w),Ce=oe=>{const{nodeDragThreshold:X}=D.getState();if(g&&(!C||!h||X>0)&&mu({id:n,store:D,nodeRef:z}),c){const Fe=D.getState().nodeInternals.get(n);Fe&&c(oe,{...Fe})}},me=oe=>{if(!cu(oe)&&!O)if(Km.includes(oe.key)&&g){const X=oe.key==="Escape";mu({id:n,store:D,unselect:X,nodeRef:z})}else h&&u&&Object.prototype.hasOwnProperty.call(Or,oe.key)&&(D.setState({ariaLiveMessage:`Moved selected node ${oe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~i}`}),G({x:Or[oe.key].x,y:Or[oe.key].y,isShiftPressed:oe.shiftKey}))};R.useEffect(()=>()=>{V.current&&(E==null||E.unobserve(V.current),V.current=null)},[]),R.useEffect(()=>{if(z.current&&!P){const oe=z.current;(!k||!M||V.current!==oe)&&(V.current&&(E==null||E.unobserve(V.current)),E==null||E.observe(oe),V.current=oe)}},[P,k,M]),R.useEffect(()=>{const oe=q.current!==r,X=B.current!==I,Fe=Q.current!==T;z.current&&(oe||X||Fe)&&(oe&&(q.current=r),X&&(B.current=I),Fe&&(Q.current=T),D.getState().updateNodeDimensions([{id:n,nodeElement:z.current,forceUpdate:!0}]))},[n,r,I,T]);const Le=_g({nodeRef:z,disabled:P||!h,noDragClassName:x,handleSelector:A,nodeId:n,isSelectable:g,selectNodesOnDrag:C});return P?null:H.createElement("div",{className:je(["react-flow__node",`react-flow__node-${r}`,{[j]:h},p,{selected:u,selectable:g,parent:L,dragging:Le}]),ref:z,style:{zIndex:F,transform:`translate(${l}px,${a}px)`,pointerEvents:W?"all":"none",visibility:k?"visible":"hidden",...b},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Z,onMouseMove:te,onMouseLeave:se,onContextMenu:de,onClick:Ce,onDoubleClick:we,onKeyDown:S?me:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":O?void 0:`${hg}-${_}`,"aria-label":$},H.createElement(kN,{value:n},H.createElement(e,{id:n,data:o,type:r,xPos:s,yPos:i,selected:u,isConnectable:v,sourcePosition:I,targetPosition:T,dragging:Le,dragHandle:A,zIndex:F})))};return t.displayName="NodeWrapper",R.memo(t)};const fS=e=>{const t=e.getNodes().filter(n=>n.selected);return{...fl(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function pS({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=_e(),{width:o,height:s,x:i,y:l,transformString:a,userSelectionActive:u}=le(fS,Pe),c=kg(),d=R.useRef(null);if(R.useEffect(()=>{var N;n||(N=d.current)==null||N.focus({preventScroll:!0})},[n]),_g({nodeRef:d}),u||!o||!s)return null;const f=e?N=>{const w=r.getState().getNodes().filter(b=>b.selected);e(N,w)}:void 0,m=N=>{Object.prototype.hasOwnProperty.call(Or,N.key)&&c({x:Or[N.key].x,y:Or[N.key].y,isShiftPressed:N.shiftKey})};return H.createElement("div",{className:je(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a}},H.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:o,height:s,top:l,left:i}}))}var hS=R.memo(pS);const mS=e=>e.nodesSelectionActive,Cg=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:i,deleteKeyCode:l,onMove:a,onMoveStart:u,onMoveEnd:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:m,onSelectionStart:N,onSelectionEnd:w,multiSelectionKeyCode:b,panActivationKeyCode:p,zoomActivationKeyCode:h,elementsSelectable:g,zoomOnScroll:v,zoomOnPinch:S,panOnScroll:C,panOnScrollSpeed:I,panOnScrollMode:T,zoomOnDoubleClick:P,panOnDrag:E,defaultViewport:A,translateExtent:F,minZoom:L,maxZoom:x,preventScrolling:j,onSelectionContextMenu:k,noWheelClassName:O,noPanClassName:$,disableKeyboardA11y:_})=>{const M=le(mS),D=is(d),z=is(p),V=z||E,B=z||C,Q=D||f&&V!==!0;return eS({deleteKeyCode:l,multiSelectionKeyCode:b}),H.createElement(oS,{onMove:a,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:s,elementsSelectable:g,zoomOnScroll:v,zoomOnPinch:S,panOnScroll:B,panOnScrollSpeed:I,panOnScrollMode:T,zoomOnDoubleClick:P,panOnDrag:!D&&V,defaultViewport:A,translateExtent:F,minZoom:L,maxZoom:x,zoomActivationKeyCode:h,preventScrolling:j,noWheelClassName:O,noPanClassName:$},H.createElement(Ng,{onSelectionStart:N,onSelectionEnd:w,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:i,panOnDrag:V,isSelecting:!!Q,selectionMode:m},e,M&&H.createElement(hS,{onSelectionContextMenu:k,noPanClassName:$,disableKeyboardA11y:_})))};Cg.displayName="FlowRenderer";var gS=R.memo(Cg);function yS(e){return le(R.useCallback(n=>e?tg(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function vS(e){const t={input:vo(e.input||cg),default:vo(e.default||hu),output:vo(e.output||fg),group:vo(e.group||Tc)},n={},r=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,s)=>(o[s]=vo(e[s]||hu),o),n);return{...t,...r}}const xS=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},wS=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Ig=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:s,onError:i}=le(wS,Pe),l=yS(e.onlyRenderVisibleElements),a=R.useRef(),u=R.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(d=>{const f=d.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));s(f)});return a.current=c,c},[]);return R.useEffect(()=>()=>{var c;(c=a==null?void 0:a.current)==null||c.disconnect()},[]),H.createElement("div",{className:"react-flow__nodes",style:Mc},l.map(c=>{var S,C,I;let d=c.type||"default";e.nodeTypes[d]||(i==null||i("003",en.error003(d)),d="default");const f=e.nodeTypes[d]||e.nodeTypes.default,m=!!(c.draggable||t&&typeof c.draggable>"u"),N=!!(c.selectable||o&&typeof c.selectable>"u"),w=!!(c.connectable||n&&typeof c.connectable>"u"),b=!!(c.focusable||r&&typeof c.focusable>"u"),p=e.nodeExtent?kc(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,h=(p==null?void 0:p.x)??0,g=(p==null?void 0:p.y)??0,v=xS({x:h,y:g,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return H.createElement(f,{key:c.id,id:c.id,className:c.className,style:c.style,type:d,data:c.data,sourcePosition:c.sourcePosition||Y.Bottom,targetPosition:c.targetPosition||Y.Top,hidden:c.hidden,xPos:h,yPos:g,xPosOrigin:v.x,yPosOrigin:v.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:m,isSelectable:N,isConnectable:w,isFocusable:b,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((S=c[ye])==null?void 0:S.z)??0,isParent:!!((C=c[ye])!=null&&C.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((I=c[ye])!=null&&I.handleBounds)})}))};Ig.displayName="NodeRenderer";var NS=R.memo(Ig);const SS=(e,t,n)=>n===Y.Left?e-t:n===Y.Right?e+t:e,ES=(e,t,n)=>n===Y.Top?e-t:n===Y.Bottom?e+t:e,jf="react-flow__edgeupdater",zf=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:s,onMouseOut:i,type:l})=>H.createElement("circle",{onMouseDown:o,onMouseEnter:s,onMouseOut:i,className:je([jf,`${jf}-${l}`]),cx:SS(t,r,e),cy:ES(n,r,e),r,stroke:"transparent",fill:"transparent"}),_S=()=>!0;var mr=e=>{const t=({id:n,className:r,type:o,data:s,onClick:i,onEdgeDoubleClick:l,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:N,labelBgBorderRadius:w,style:b,source:p,target:h,sourceX:g,sourceY:v,targetX:S,targetY:C,sourcePosition:I,targetPosition:T,elementsSelectable:P,hidden:E,sourceHandleId:A,targetHandleId:F,onContextMenu:L,onMouseEnter:x,onMouseMove:j,onMouseLeave:k,reconnectRadius:O,onReconnect:$,onReconnectStart:_,onReconnectEnd:M,markerEnd:D,markerStart:z,rfId:V,ariaLabel:B,isFocusable:Q,isReconnectable:q,pathOptions:W,interactionWidth:G,disableKeyboardA11y:Z})=>{const te=R.useRef(null),[se,de]=R.useState(!1),[we,Ce]=R.useState(!1),me=_e(),Le=R.useMemo(()=>`url('#${fu(z,V)}')`,[z,V]),oe=R.useMemo(()=>`url('#${fu(D,V)}')`,[D,V]);if(E)return null;const X=ze=>{var Pt;const{edges:gt,addSelectedEdges:Mn,unselectNodesAndEdges:jn,multiSelectionActive:zn}=me.getState(),Lt=gt.find(ro=>ro.id===n);Lt&&(P&&(me.setState({nodesSelectionActive:!1}),Lt.selected&&zn?(jn({nodes:[],edges:[Lt]}),(Pt=te.current)==null||Pt.blur()):Mn([n])),i&&i(ze,Lt))},Fe=go(n,me.getState,l),Dt=go(n,me.getState,L),to=go(n,me.getState,x),ir=go(n,me.getState,j),lr=go(n,me.getState,k),Ot=(ze,gt)=>{if(ze.button!==0)return;const{edges:Mn,isValidConnection:jn}=me.getState(),zn=gt?h:p,Lt=(gt?F:A)||null,Pt=gt?"target":"source",ro=jn||_S,vl=gt,oo=Mn.find(An=>An.id===n);Ce(!0),_==null||_(ze,oo,Pt);const xl=An=>{Ce(!1),M==null||M(An,oo,Pt)};ig({event:ze,handleId:Lt,nodeId:zn,onConnect:An=>$==null?void 0:$(oo,An),isTarget:vl,getState:me.getState,setState:me.setState,isValidConnection:ro,edgeUpdaterType:Pt,onReconnectEnd:xl})},ar=ze=>Ot(ze,!0),$n=ze=>Ot(ze,!1),Tn=()=>de(!0),ur=()=>de(!1),cr=!P&&!i,no=ze=>{var gt;if(!Z&&Km.includes(ze.key)&&P){const{unselectNodesAndEdges:Mn,addSelectedEdges:jn,edges:zn}=me.getState();ze.key==="Escape"?((gt=te.current)==null||gt.blur(),Mn({edges:[zn.find(Pt=>Pt.id===n)]})):jn([n])}};return H.createElement("g",{className:je(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:a,animated:u,inactive:cr,updating:se}]),onClick:X,onDoubleClick:Fe,onContextMenu:Dt,onMouseEnter:to,onMouseMove:ir,onMouseLeave:lr,onKeyDown:Q?no:void 0,tabIndex:Q?0:void 0,role:Q?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":B===null?void 0:B||`Edge from ${p} to ${h}`,"aria-describedby":Q?`${mg}-${V}`:void 0,ref:te},!we&&H.createElement(e,{id:n,source:p,target:h,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:N,labelBgBorderRadius:w,data:s,style:b,sourceX:g,sourceY:v,targetX:S,targetY:C,sourcePosition:I,targetPosition:T,sourceHandleId:A,targetHandleId:F,markerStart:Le,markerEnd:oe,pathOptions:W,interactionWidth:G}),q&&H.createElement(H.Fragment,null,(q==="source"||q===!0)&&H.createElement(zf,{position:I,centerX:g,centerY:v,radius:O,onMouseDown:ar,onMouseEnter:Tn,onMouseOut:ur,type:"source"}),(q==="target"||q===!0)&&H.createElement(zf,{position:T,centerX:S,centerY:C,radius:O,onMouseDown:$n,onMouseEnter:Tn,onMouseOut:ur,type:"target"})))};return t.displayName="EdgeWrapper",R.memo(t)};function kS(e){const t={default:mr(e.default||Oi),straight:mr(e.bezier||bc),step:mr(e.step||Ic),smoothstep:mr(e.step||dl),simplebezier:mr(e.simplebezier||Cc)},n={},r=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,s)=>(o[s]=mr(e[s]||Oi),o),n);return{...t,...r}}function Af(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,i=(n==null?void 0:n.height)||t.height;switch(e){case Y.Top:return{x:r+s/2,y:o};case Y.Right:return{x:r+s,y:o+i/2};case Y.Bottom:return{x:r+s/2,y:o+i};case Y.Left:return{x:r,y:o+i/2}}}function Rf(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const CS=(e,t,n,r,o,s)=>{const i=Af(n,e,t),l=Af(s,r,o);return{sourceX:i.x,sourceY:i.y,targetX:l.x,targetY:l.y}};function IS({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:s,width:i,height:l,transform:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=os({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:i/a[2],height:l/a[2]}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),f=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*f)>0}function Df(e){var r,o,s,i,l;const t=((r=e==null?void 0:e[ye])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const bS=[{level:0,isMaxLevel:!0,edges:[]}];function PS(e,t,n=!1){let r=-1;const o=e.reduce((i,l)=>{var c,d;const a=dt(l.zIndex);let u=a?l.zIndex:0;if(n){const f=t.get(l.target),m=t.get(l.source),N=l.selected||(f==null?void 0:f.selected)||(m==null?void 0:m.selected),w=Math.max(((c=m==null?void 0:m[ye])==null?void 0:c.z)||0,((d=f==null?void 0:f[ye])==null?void 0:d.z)||0,1e3);u=(a?l.zIndex:0)+(N?w:0)}return i[u]?i[u].push(l):i[u]=[l],r=u>r?u:r,i},{}),s=Object.entries(o).map(([i,l])=>{const a=+i;return{edges:l,level:a,isMaxLevel:a===r}});return s.length===0?bS:s}function $S(e,t,n){const r=le(R.useCallback(o=>e?o.edges.filter(s=>{const i=t.get(s.source),l=t.get(s.target);return(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&IS({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:l.width,targetHeight:l.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return PS(r,t,n)}const TS=({color:e="none",strokeWidth:t=1})=>H.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),MS=({color:e="none",strokeWidth:t=1})=>H.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Of={[Di.Arrow]:TS,[Di.ArrowClosed]:MS};function jS(e){const t=_e();return R.useMemo(()=>{var o,s;return Object.prototype.hasOwnProperty.call(Of,e)?Of[e]:((s=(o=t.getState()).onError)==null||s.call(o,"009",en.error009(e)),null)},[e])}const zS=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:s="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{const a=jS(t);return a?H.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0"},H.createElement(a,{color:n,strokeWidth:i})):null},AS=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((o,s)=>([s.markerStart,s.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const l=fu(i,t);r.includes(l)||(o.push({id:l,color:i.color||e,...i}),r.push(l))}}),o),[]).sort((o,s)=>o.id.localeCompare(s.id))},bg=({defaultColor:e,rfId:t})=>{const n=le(R.useCallback(AS({defaultColor:e,rfId:t}),[e,t]),(r,o)=>!(r.length!==o.length||r.some((s,i)=>s.id!==o[i].id)));return H.createElement("defs",null,n.map(r=>H.createElement(zS,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};bg.displayName="MarkerDefinitions";var RS=R.memo(bg);const DS=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Pg=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:o,noPanClassName:s,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:N,reconnectRadius:w,children:b,disableKeyboardA11y:p})=>{const{edgesFocusable:h,edgesUpdatable:g,elementsSelectable:v,width:S,height:C,connectionMode:I,nodeInternals:T,onError:P}=le(DS,Pe),E=$S(t,T,n);return S?H.createElement(H.Fragment,null,E.map(({level:A,edges:F,isMaxLevel:L})=>H.createElement("svg",{key:A,style:{zIndex:A},width:S,height:C,className:"react-flow__edges react-flow__container"},L&&H.createElement(RS,{defaultColor:e,rfId:r}),H.createElement("g",null,F.map(x=>{const[j,k,O]=Df(T.get(x.source)),[$,_,M]=Df(T.get(x.target));if(!O||!M)return null;let D=x.type||"default";o[D]||(P==null||P("011",en.error011(D)),D="default");const z=o[D]||o.default,V=I===Cn.Strict?_.target:(_.target??[]).concat(_.source??[]),B=Rf(k.source,x.sourceHandle),Q=Rf(V,x.targetHandle),q=(B==null?void 0:B.position)||Y.Bottom,W=(Q==null?void 0:Q.position)||Y.Top,G=!!(x.focusable||h&&typeof x.focusable>"u"),Z=x.reconnectable||x.updatable,te=typeof f<"u"&&(Z||g&&typeof Z>"u");if(!B||!Q)return P==null||P("008",en.error008(B,x)),null;const{sourceX:se,sourceY:de,targetX:we,targetY:Ce}=CS(j,B,q,$,Q,W);return H.createElement(z,{key:x.id,id:x.id,className:je([x.className,s]),type:D,data:x.data,selected:!!x.selected,animated:!!x.animated,hidden:!!x.hidden,label:x.label,labelStyle:x.labelStyle,labelShowBg:x.labelShowBg,labelBgStyle:x.labelBgStyle,labelBgPadding:x.labelBgPadding,labelBgBorderRadius:x.labelBgBorderRadius,style:x.style,source:x.source,target:x.target,sourceHandleId:x.sourceHandle,targetHandleId:x.targetHandle,markerEnd:x.markerEnd,markerStart:x.markerStart,sourceX:se,sourceY:de,targetX:we,targetY:Ce,sourcePosition:q,targetPosition:W,elementsSelectable:v,onContextMenu:i,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:N,reconnectRadius:w,rfId:r,ariaLabel:x.ariaLabel,isFocusable:G,isReconnectable:te,pathOptions:"pathOptions"in x?x.pathOptions:void 0,interactionWidth:x.interactionWidth,disableKeyboardA11y:p})})))),b):null};Pg.displayName="EdgeRenderer";var OS=R.memo(Pg);const LS=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function FS({children:e}){const t=le(LS);return H.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function HS(e){const t=pl(),n=R.useRef(!1);R.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const VS={[Y.Left]:Y.Right,[Y.Right]:Y.Left,[Y.Top]:Y.Bottom,[Y.Bottom]:Y.Top},$g=({nodeId:e,handleType:t,style:n,type:r=dn.Bezier,CustomComponent:o,connectionStatus:s})=>{var C,I,T;const{fromNode:i,handleId:l,toX:a,toY:u,connectionMode:c}=le(R.useCallback(P=>({fromNode:P.nodeInternals.get(e),handleId:P.connectionHandleId,toX:(P.connectionPosition.x-P.transform[0])/P.transform[2],toY:(P.connectionPosition.y-P.transform[1])/P.transform[2],connectionMode:P.connectionMode}),[e]),Pe),d=(C=i==null?void 0:i[ye])==null?void 0:C.handleBounds;let f=d==null?void 0:d[t];if(c===Cn.Loose&&(f=f||(d==null?void 0:d[t==="source"?"target":"source"])),!i||!f)return null;const m=l?f.find(P=>P.id===l):f[0],N=m?m.x+m.width/2:(i.width??0)/2,w=m?m.y+m.height/2:i.height??0,b=(((I=i.positionAbsolute)==null?void 0:I.x)??0)+N,p=(((T=i.positionAbsolute)==null?void 0:T.y)??0)+w,h=m==null?void 0:m.position,g=h?VS[h]:null;if(!h||!g)return null;if(o)return H.createElement(o,{connectionLineType:r,connectionLineStyle:n,fromNode:i,fromHandle:m,fromX:b,fromY:p,toX:a,toY:u,fromPosition:h,toPosition:g,connectionStatus:s});let v="";const S={sourceX:b,sourceY:p,sourcePosition:h,targetX:a,targetY:u,targetPosition:g};return r===dn.Bezier?[v]=Jm(S):r===dn.Step?[v]=du({...S,borderRadius:0}):r===dn.SmoothStep?[v]=du(S):r===dn.SimpleBezier?[v]=Zm(S):v=`M${b},${p} ${a},${u}`,H.createElement("path",{d:v,fill:"none",className:"react-flow__connection-path",style:n})};$g.displayName="ConnectionLine";const BS=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function US({containerStyle:e,style:t,type:n,component:r}){const{nodeId:o,handleType:s,nodesConnectable:i,width:l,height:a,connectionStatus:u}=le(BS,Pe);return!(o&&s&&l&&i)?null:H.createElement("svg",{style:e,width:l,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},H.createElement("g",{className:je(["react-flow__connection",u])},H.createElement($g,{nodeId:o,handleType:s,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Lf(e,t){return R.useRef(null),_e(),R.useMemo(()=>t(e),[e])}const Tg=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:s,onNodeClick:i,onEdgeClick:l,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:N,onSelectionStart:w,onSelectionEnd:b,connectionLineType:p,connectionLineStyle:h,connectionLineComponent:g,connectionLineContainerStyle:v,selectionKeyCode:S,selectionOnDrag:C,selectionMode:I,multiSelectionKeyCode:T,panActivationKeyCode:P,zoomActivationKeyCode:E,deleteKeyCode:A,onlyRenderVisibleElements:F,elementsSelectable:L,selectNodesOnDrag:x,defaultViewport:j,translateExtent:k,minZoom:O,maxZoom:$,preventScrolling:_,defaultMarkerColor:M,zoomOnScroll:D,zoomOnPinch:z,panOnScroll:V,panOnScrollSpeed:B,panOnScrollMode:Q,zoomOnDoubleClick:q,panOnDrag:W,onPaneClick:G,onPaneMouseEnter:Z,onPaneMouseMove:te,onPaneMouseLeave:se,onPaneScroll:de,onPaneContextMenu:we,onEdgeContextMenu:Ce,onEdgeMouseEnter:me,onEdgeMouseMove:Le,onEdgeMouseLeave:oe,onReconnect:X,onReconnectStart:Fe,onReconnectEnd:Dt,reconnectRadius:to,noDragClassName:ir,noWheelClassName:lr,noPanClassName:Ot,elevateEdgesOnSelect:ar,disableKeyboardA11y:$n,nodeOrigin:Tn,nodeExtent:ur,rfId:cr})=>{const no=Lf(e,vS),ze=Lf(t,kS);return HS(s),H.createElement(gS,{onPaneClick:G,onPaneMouseEnter:Z,onPaneMouseMove:te,onPaneMouseLeave:se,onPaneContextMenu:we,onPaneScroll:de,deleteKeyCode:A,selectionKeyCode:S,selectionOnDrag:C,selectionMode:I,onSelectionStart:w,onSelectionEnd:b,multiSelectionKeyCode:T,panActivationKeyCode:P,zoomActivationKeyCode:E,elementsSelectable:L,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:D,zoomOnPinch:z,zoomOnDoubleClick:q,panOnScroll:V,panOnScrollSpeed:B,panOnScrollMode:Q,panOnDrag:W,defaultViewport:j,translateExtent:k,minZoom:O,maxZoom:$,onSelectionContextMenu:N,preventScrolling:_,noDragClassName:ir,noWheelClassName:lr,noPanClassName:Ot,disableKeyboardA11y:$n},H.createElement(FS,null,H.createElement(OS,{edgeTypes:ze,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:F,onEdgeContextMenu:Ce,onEdgeMouseEnter:me,onEdgeMouseMove:Le,onEdgeMouseLeave:oe,onReconnect:X,onReconnectStart:Fe,onReconnectEnd:Dt,reconnectRadius:to,defaultMarkerColor:M,noPanClassName:Ot,elevateEdgesOnSelect:!!ar,disableKeyboardA11y:$n,rfId:cr},H.createElement(US,{style:h,type:p,component:g,containerStyle:v})),H.createElement("div",{className:"react-flow__edgelabel-renderer"}),H.createElement(NS,{nodeTypes:no,onNodeClick:i,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,selectNodesOnDrag:x,onlyRenderVisibleElements:F,noPanClassName:Ot,noDragClassName:ir,disableKeyboardA11y:$n,nodeOrigin:Tn,nodeExtent:ur,rfId:cr})))};Tg.displayName="GraphView";var WS=R.memo(Tg);const gu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],rn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:gu,nodeExtent:gu,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Cn.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:xN,isValidConnection:void 0},QS=()=>zx((e,t)=>({...rn,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:s}=t();e({nodeInternals:Jl(n,r,o,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(o=>({...r,...o}))})},setDefaultNodesAndEdges:(n,r)=>{const o=typeof n<"u",s=typeof r<"u",i=o?Jl(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:s?r:[],hasDefaultNodes:o,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:s,fitViewOnInitDone:i,fitViewOnInitOptions:l,domNode:a,nodeOrigin:u}=t(),c=a==null?void 0:a.querySelector(".react-flow__viewport");if(!c)return;const d=window.getComputedStyle(c),{m22:f}=new window.DOMMatrixReadOnly(d.transform),m=n.reduce((w,b)=>{const p=o.get(b.id);if(p!=null&&p.hidden)o.set(p.id,{...p,[ye]:{...p[ye],handleBounds:void 0}});else if(p){const h=_c(b.nodeElement);!!(h.width&&h.height&&(p.width!==h.width||p.height!==h.height||b.forceUpdate))&&(o.set(p.id,{...p,[ye]:{...p[ye],handleBounds:{source:Mf(".source",b.nodeElement,f,u),target:Mf(".target",b.nodeElement,f,u)}},...h}),w.push({id:p.id,type:"dimensions",dimensions:h}))}return w},[]);yg(o,u);const N=i||s&&!i&&vg(t,{initial:!0,...l});e({nodeInternals:new Map(o),fitViewOnInitDone:N}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,o=!1)=>{const{triggerNodeChanges:s}=t(),i=n.map(l=>{const a={id:l.id,type:"position",dragging:o};return r&&(a.positionAbsolute=l.positionAbsolute,a.position=l.position),a});s(i)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:s,nodeOrigin:i,getNodes:l,elevateNodesOnSelect:a}=t();if(n!=null&&n.length){if(s){const u=wg(n,l()),c=Jl(u,o,i,a);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:s}=t();let i,l=null;r?i=n.map(a=>an(a,!0)):(i=Pr(s(),n),l=Pr(o,[])),Vs({changedNodes:i,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:s}=t();let i,l=null;r?i=n.map(a=>an(a,!0)):(i=Pr(o,n),l=Pr(s(),[])),Vs({changedNodes:l,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:o,getNodes:s}=t(),i=n||s(),l=r||o,a=i.map(c=>(c.selected=!1,an(c.id,!1))),u=l.map(c=>an(c.id,!1));Vs({changedNodes:a,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r==null||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r==null||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),s=r().filter(l=>l.selected).map(l=>an(l.id,!1)),i=n.filter(l=>l.selected).map(l=>an(l.id,!1));Vs({changedNodes:s,changedEdges:i,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(o=>{o.positionAbsolute=kc(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:o,height:s,d3Zoom:i,d3Selection:l,translateExtent:a}=t();if(!i||!l||!n.x&&!n.y)return!1;const u=Kt.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[o,s]],d=i==null?void 0:i.constrain()(u,c,a);return i.transform(l,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:rn.connectionNodeId,connectionHandleId:rn.connectionHandleId,connectionHandleType:rn.connectionHandleType,connectionStatus:rn.connectionStatus,connectionStartHandle:rn.connectionStartHandle,connectionEndHandle:rn.connectionEndHandle}),reset:()=>e({...rn})}),Object.is),jc=({children:e})=>{const t=R.useRef(null);return t.current||(t.current=QS()),H.createElement(fN,{value:t.current},e)};jc.displayName="ReactFlowProvider";const Mg=({children:e})=>R.useContext(ul)?H.createElement(H.Fragment,null,e):H.createElement(jc,null,e);Mg.displayName="ReactFlowWrapper";const qS={input:cg,default:hu,output:fg,group:Tc},KS={default:Oi,straight:bc,step:Ic,smoothstep:dl,simplebezier:Cc},YS=[0,0],XS=[15,15],GS={x:0,y:0,zoom:1},ZS={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},jg=R.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:s=qS,edgeTypes:i=KS,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onConnect:m,onConnectStart:N,onConnectEnd:w,onClickConnectStart:b,onClickConnectEnd:p,onNodeMouseEnter:h,onNodeMouseMove:g,onNodeMouseLeave:v,onNodeContextMenu:S,onNodeDoubleClick:C,onNodeDragStart:I,onNodeDrag:T,onNodeDragStop:P,onNodesDelete:E,onEdgesDelete:A,onSelectionChange:F,onSelectionDragStart:L,onSelectionDrag:x,onSelectionDragStop:j,onSelectionContextMenu:k,onSelectionStart:O,onSelectionEnd:$,connectionMode:_=Cn.Strict,connectionLineType:M=dn.Bezier,connectionLineStyle:D,connectionLineComponent:z,connectionLineContainerStyle:V,deleteKeyCode:B="Backspace",selectionKeyCode:Q="Shift",selectionOnDrag:q=!1,selectionMode:W=ss.Full,panActivationKeyCode:G="Space",multiSelectionKeyCode:Z=Ri()?"Meta":"Control",zoomActivationKeyCode:te=Ri()?"Meta":"Control",snapToGrid:se=!1,snapGrid:de=XS,onlyRenderVisibleElements:we=!1,selectNodesOnDrag:Ce=!0,nodesDraggable:me,nodesConnectable:Le,nodesFocusable:oe,nodeOrigin:X=YS,edgesFocusable:Fe,edgesUpdatable:Dt,elementsSelectable:to,defaultViewport:ir=GS,minZoom:lr=.5,maxZoom:Ot=2,translateExtent:ar=gu,preventScrolling:$n=!0,nodeExtent:Tn,defaultMarkerColor:ur="#b1b1b7",zoomOnScroll:cr=!0,zoomOnPinch:no=!0,panOnScroll:ze=!1,panOnScrollSpeed:gt=.5,panOnScrollMode:Mn=Wn.Free,zoomOnDoubleClick:jn=!0,panOnDrag:zn=!0,onPaneClick:Lt,onPaneMouseEnter:Pt,onPaneMouseMove:ro,onPaneMouseLeave:vl,onPaneScroll:oo,onPaneContextMenu:xl,children:Dc,onEdgeContextMenu:An,onEdgeDoubleClick:o0,onEdgeMouseEnter:s0,onEdgeMouseMove:i0,onEdgeMouseLeave:l0,onEdgeUpdate:a0,onEdgeUpdateStart:u0,onEdgeUpdateEnd:c0,onReconnect:d0,onReconnectStart:f0,onReconnectEnd:p0,reconnectRadius:h0=10,edgeUpdaterRadius:m0=10,onNodesChange:g0,onEdgesChange:y0,noDragClassName:v0="nodrag",noWheelClassName:x0="nowheel",noPanClassName:Oc="nopan",fitView:w0=!1,fitViewOptions:N0,connectOnClick:S0=!0,attributionPosition:E0,proOptions:_0,defaultEdgeOptions:k0,elevateNodesOnSelect:C0=!0,elevateEdgesOnSelect:I0=!1,disableKeyboardA11y:Lc=!1,autoPanOnConnect:b0=!0,autoPanOnNodeDrag:P0=!0,connectionRadius:$0=20,isValidConnection:T0,onError:M0,style:j0,id:Fc,nodeDragThreshold:z0,...A0},R0)=>{const wl=Fc||"1";return H.createElement("div",{...A0,style:{...j0,...ZS},ref:R0,className:je(["react-flow",o]),"data-testid":"rf__wrapper",id:Fc},H.createElement(Mg,null,H.createElement(WS,{onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:h,onNodeMouseMove:g,onNodeMouseLeave:v,onNodeContextMenu:S,onNodeDoubleClick:C,nodeTypes:s,edgeTypes:i,connectionLineType:M,connectionLineStyle:D,connectionLineComponent:z,connectionLineContainerStyle:V,selectionKeyCode:Q,selectionOnDrag:q,selectionMode:W,deleteKeyCode:B,multiSelectionKeyCode:Z,panActivationKeyCode:G,zoomActivationKeyCode:te,onlyRenderVisibleElements:we,selectNodesOnDrag:Ce,defaultViewport:ir,translateExtent:ar,minZoom:lr,maxZoom:Ot,preventScrolling:$n,zoomOnScroll:cr,zoomOnPinch:no,zoomOnDoubleClick:jn,panOnScroll:ze,panOnScrollSpeed:gt,panOnScrollMode:Mn,panOnDrag:zn,onPaneClick:Lt,onPaneMouseEnter:Pt,onPaneMouseMove:ro,onPaneMouseLeave:vl,onPaneScroll:oo,onPaneContextMenu:xl,onSelectionContextMenu:k,onSelectionStart:O,onSelectionEnd:$,onEdgeContextMenu:An,onEdgeDoubleClick:o0,onEdgeMouseEnter:s0,onEdgeMouseMove:i0,onEdgeMouseLeave:l0,onReconnect:d0??a0,onReconnectStart:f0??u0,onReconnectEnd:p0??c0,reconnectRadius:h0??m0,defaultMarkerColor:ur,noDragClassName:v0,noWheelClassName:x0,noPanClassName:Oc,elevateEdgesOnSelect:I0,rfId:wl,disableKeyboardA11y:Lc,nodeOrigin:X,nodeExtent:Tn}),H.createElement(VN,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:N,onConnectEnd:w,onClickConnectStart:b,onClickConnectEnd:p,nodesDraggable:me,nodesConnectable:Le,nodesFocusable:oe,edgesFocusable:Fe,edgesUpdatable:Dt,elementsSelectable:to,elevateNodesOnSelect:C0,minZoom:lr,maxZoom:Ot,nodeExtent:Tn,onNodesChange:g0,onEdgesChange:y0,snapToGrid:se,snapGrid:de,connectionMode:_,translateExtent:ar,connectOnClick:S0,defaultEdgeOptions:k0,fitView:w0,fitViewOptions:N0,onNodesDelete:E,onEdgesDelete:A,onNodeDragStart:I,onNodeDrag:T,onNodeDragStop:P,onSelectionDrag:x,onSelectionDragStart:L,onSelectionDragStop:j,noPanClassName:Oc,nodeOrigin:X,rfId:wl,autoPanOnConnect:b0,autoPanOnNodeDrag:P0,onError:M0,connectionRadius:$0,isValidConnection:T0,nodeDragThreshold:z0}),H.createElement(FN,{onSelectionChange:F}),Dc,H.createElement(hN,{proOptions:_0,position:E0}),H.createElement(qN,{rfId:wl,disableKeyboardA11y:Lc})))});jg.displayName="ReactFlow";function zg(e){return t=>{const[n,r]=R.useState(t),o=R.useCallback(s=>r(i=>e(s,i)),[]);return[n,r,o]}}const JS=zg(wg),eE=zg(lS),Ag=({id:e,x:t,y:n,width:r,height:o,style:s,color:i,strokeColor:l,strokeWidth:a,className:u,borderRadius:c,shapeRendering:d,onClick:f,selected:m})=>{const{background:N,backgroundColor:w}=s||{},b=i||N||w;return H.createElement("rect",{className:je(["react-flow__minimap-node",{selected:m},u]),x:t,y:n,rx:c,ry:c,width:r,height:o,fill:b,stroke:l,strokeWidth:a,shapeRendering:d,onClick:f?p=>f(p,e):void 0})};Ag.displayName="MiniMapNode";var tE=R.memo(Ag);const nE=e=>e.nodeOrigin,rE=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),ra=e=>e instanceof Function?e:()=>e;function oE({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:s=tE,onClick:i}){const l=le(rE,Pe),a=le(nE),u=ra(t),c=ra(e),d=ra(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return H.createElement(H.Fragment,null,l.map(m=>{const{x:N,y:w}=Yn(m,a).positionAbsolute;return H.createElement(s,{key:m.id,x:N,y:w,width:m.width,height:m.height,style:m.style,selected:m.selected,className:d(m),color:u(m),borderRadius:r,strokeColor:c(m),strokeWidth:o,shapeRendering:f,onClick:i,id:m.id})}))}var sE=R.memo(oE);const iE=200,lE=150,aE=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?yN(fl(t,e.nodeOrigin),n):n,rfId:e.rfId}},uE="react-flow__minimap-desc";function Rg({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:i=2,nodeComponent:l,maskColor:a="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:d="bottom-right",onClick:f,onNodeClick:m,pannable:N=!1,zoomable:w=!1,ariaLabel:b="React Flow mini map",inversePan:p=!1,zoomStep:h=10,offsetScale:g=5}){const v=_e(),S=R.useRef(null),{boundingRect:C,viewBB:I,rfId:T}=le(aE,Pe),P=(e==null?void 0:e.width)??iE,E=(e==null?void 0:e.height)??lE,A=C.width/P,F=C.height/E,L=Math.max(A,F),x=L*P,j=L*E,k=g*L,O=C.x-(x-C.width)/2-k,$=C.y-(j-C.height)/2-k,_=x+k*2,M=j+k*2,D=`${uE}-${T}`,z=R.useRef(0);z.current=L,R.useEffect(()=>{if(S.current){const Q=ut(S.current),q=Z=>{const{transform:te,d3Selection:se,d3Zoom:de}=v.getState();if(Z.sourceEvent.type!=="wheel"||!se||!de)return;const we=-Z.sourceEvent.deltaY*(Z.sourceEvent.deltaMode===1?.05:Z.sourceEvent.deltaMode?1:.002)*h,Ce=te[2]*Math.pow(2,we);de.scaleTo(se,Ce)},W=Z=>{const{transform:te,d3Selection:se,d3Zoom:de,translateExtent:we,width:Ce,height:me}=v.getState();if(Z.sourceEvent.type!=="mousemove"||!se||!de)return;const Le=z.current*Math.max(1,te[2])*(p?-1:1),oe={x:te[0]-Z.sourceEvent.movementX*Le,y:te[1]-Z.sourceEvent.movementY*Le},X=[[0,0],[Ce,me]],Fe=Kt.translate(oe.x,oe.y).scale(te[2]),Dt=de.constrain()(Fe,X,we);de.transform(se,Dt)},G=Vm().on("zoom",N?W:null).on("zoom.wheel",w?q:null);return Q.call(G),()=>{Q.on("zoom",null)}}},[N,w,p,h]);const V=f?Q=>{const q=wt(Q);f(Q,{x:q[0],y:q[1]})}:void 0,B=m?(Q,q)=>{const W=v.getState().nodeInternals.get(q);m(Q,W)}:void 0;return H.createElement(cl,{position:d,style:e,className:je(["react-flow__minimap",t]),"data-testid":"rf__minimap"},H.createElement("svg",{width:P,height:E,viewBox:`${O} ${$} ${_} ${M}`,role:"img","aria-labelledby":D,ref:S,onClick:V},b&&H.createElement("title",{id:D},b),H.createElement(sE,{onClick:B,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:o,nodeStrokeWidth:i,nodeComponent:l}),H.createElement("path",{className:"react-flow__minimap-mask",d:`M${O-k},${$-k}h${_+k*2}v${M+k*2}h${-_-k*2}z
        M${I.x},${I.y}h${I.width}v${I.height}h${-I.width}z`,fill:a,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}Rg.displayName="MiniMap";var cE=R.memo(Rg);function dE(){return H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},H.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function fE(){return H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},H.createElement("path",{d:"M0 0h32v4.2H0z"}))}function pE(){return H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},H.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function hE(){return H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},H.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function mE(){return H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},H.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Co=({children:e,className:t,...n})=>H.createElement("button",{type:"button",className:je(["react-flow__controls-button",t]),...n},e);Co.displayName="ControlButton";const gE=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Dg=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:s,onZoomOut:i,onFitView:l,onInteractiveChange:a,className:u,children:c,position:d="bottom-left"})=>{const f=_e(),[m,N]=R.useState(!1),{isInteractive:w,minZoomReached:b,maxZoomReached:p}=le(gE,Pe),{zoomIn:h,zoomOut:g,fitView:v}=pl();if(R.useEffect(()=>{N(!0)},[]),!m)return null;const S=()=>{h(),s==null||s()},C=()=>{g(),i==null||i()},I=()=>{v(o),l==null||l()},T=()=>{f.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),a==null||a(!w)};return H.createElement(cl,{className:je(["react-flow__controls",u]),position:d,style:e,"data-testid":"rf__controls"},t&&H.createElement(H.Fragment,null,H.createElement(Co,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:p},H.createElement(dE,null)),H.createElement(Co,{onClick:C,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},H.createElement(fE,null))),n&&H.createElement(Co,{className:"react-flow__controls-fitview",onClick:I,title:"fit view","aria-label":"fit view"},H.createElement(pE,null)),r&&H.createElement(Co,{className:"react-flow__controls-interactive",onClick:T,title:"toggle interactivity","aria-label":"toggle interactivity"},w?H.createElement(mE,null):H.createElement(hE,null)),c)};Dg.displayName="Controls";var yE=R.memo(Dg),pt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(pt||(pt={}));function vE({color:e,dimensions:t,lineWidth:n}){return H.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function xE({color:e,radius:t}){return H.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const wE={[pt.Dots]:"#91919a",[pt.Lines]:"#eee",[pt.Cross]:"#e2e2e2"},NE={[pt.Dots]:1,[pt.Lines]:1,[pt.Cross]:6},SE=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Og({id:e,variant:t=pt.Dots,gap:n=20,size:r,lineWidth:o=1,offset:s=2,color:i,style:l,className:a}){const u=R.useRef(null),{transform:c,patternId:d}=le(SE,Pe),f=i||wE[t],m=r||NE[t],N=t===pt.Dots,w=t===pt.Cross,b=Array.isArray(n)?n:[n,n],p=[b[0]*c[2]||1,b[1]*c[2]||1],h=m*c[2],g=w?[h,h]:p,v=N?[h/s,h/s]:[g[0]/s,g[1]/s];return H.createElement("svg",{className:je(["react-flow__background",a]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},H.createElement("pattern",{id:d+e,x:c[0]%p[0],y:c[1]%p[1],width:p[0],height:p[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${v[0]},-${v[1]})`},N?H.createElement(xE,{color:f,radius:h/s}):H.createElement(vE,{dimensions:g,color:f,lineWidth:o})),H.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}Og.displayName="Background";var EE=R.memo(Og);const Lg={},{useDebugValue:_E}=H,{useSyncExternalStoreWithSelector:kE}=fm;let Ff=!1;const CE=e=>e;function IE(e,t=CE,n){(Lg?"production":void 0)!=="production"&&n&&!Ff&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ff=!0);const r=kE(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return _E(r),r}const bE=e=>{(Lg?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?pm(e):e,n=(r,o)=>IE(t,r,o);return Object.assign(n,t),n},PE=e=>bE;var Fg=Symbol.for("immer-nothing"),Hf=Symbol.for("immer-draftable"),nt=Symbol.for("immer-state");function Et(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Xr=Object.getPrototypeOf;function Gr(e){return!!e&&!!e[nt]}function nr(e){var t;return e?Hg(e)||Array.isArray(e)||!!e[Hf]||!!((t=e.constructor)!=null&&t[Hf])||ml(e)||gl(e):!1}var $E=Object.prototype.constructor.toString();function Hg(e){if(!e||typeof e!="object")return!1;const t=Xr(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===$E}function Li(e,t){hl(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function hl(e){const t=e[nt];return t?t.type_:Array.isArray(e)?1:ml(e)?2:gl(e)?3:0}function yu(e,t){return hl(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Vg(e,t,n){const r=hl(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function TE(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ml(e){return e instanceof Map}function gl(e){return e instanceof Set}function Ln(e){return e.copy_||e.base_}function vu(e,t){if(ml(e))return new Map(e);if(gl(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Hg(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[nt];let o=Reflect.ownKeys(r);for(let s=0;s<o.length;s++){const i=o[s],l=r[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[i]})}return Object.create(Xr(e),r)}else{const r=Xr(e);if(r!==null&&n)return{...e};const o=Object.create(r);return Object.assign(o,e)}}function zc(e,t=!1){return yl(e)||Gr(e)||!nr(e)||(hl(e)>1&&(e.set=e.add=e.clear=e.delete=ME),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>zc(r,!0))),e}function ME(){Et(2)}function yl(e){return Object.isFrozen(e)}var jE={};function rr(e){const t=jE[e];return t||Et(0,e),t}var ls;function Bg(){return ls}function zE(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Vf(e,t){t&&(rr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xu(e){wu(e),e.drafts_.forEach(AE),e.drafts_=null}function wu(e){e===ls&&(ls=e.parent_)}function Bf(e){return ls=zE(ls,e)}function AE(e){const t=e[nt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Uf(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[nt].modified_&&(xu(t),Et(4)),nr(e)&&(e=Fi(t,e),t.parent_||Hi(t,e)),t.patches_&&rr("Patches").generateReplacementPatches_(n[nt].base_,e,t.patches_,t.inversePatches_)):e=Fi(t,n,[]),xu(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Fg?e:void 0}function Fi(e,t,n){if(yl(t))return t;const r=t[nt];if(!r)return Li(t,(o,s)=>Wf(e,r,t,o,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Hi(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let s=o,i=!1;r.type_===3&&(s=new Set(o),o.clear(),i=!0),Li(s,(l,a)=>Wf(e,r,o,l,a,n,i)),Hi(e,o,!1),n&&e.patches_&&rr("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Wf(e,t,n,r,o,s,i){if(Gr(o)){const l=s&&t&&t.type_!==3&&!yu(t.assigned_,r)?s.concat(r):void 0,a=Fi(e,o,l);if(Vg(n,r,a),Gr(a))e.canAutoFreeze_=!1;else return}else i&&n.add(o);if(nr(o)&&!yl(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Fi(e,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Hi(e,o)}}function Hi(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&zc(t,n)}function RE(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Bg(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,s=Ac;n&&(o=[r],s=as);const{revoke:i,proxy:l}=Proxy.revocable(o,s);return r.draft_=l,r.revoke_=i,l}var Ac={get(e,t){if(t===nt)return e;const n=Ln(e);if(!yu(n,t))return DE(e,n,t);const r=n[t];return e.finalized_||!nr(r)?r:r===oa(e.base_,t)?(sa(e),e.copy_[t]=Su(r,e)):r},has(e,t){return t in Ln(e)},ownKeys(e){return Reflect.ownKeys(Ln(e))},set(e,t,n){const r=Ug(Ln(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=oa(Ln(e),t),s=o==null?void 0:o[nt];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(TE(n,o)&&(n!==void 0||yu(e.base_,t)))return!0;sa(e),Nu(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return oa(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,sa(e),Nu(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ln(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Et(11)},getPrototypeOf(e){return Xr(e.base_)},setPrototypeOf(){Et(12)}},as={};Li(Ac,(e,t)=>{as[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});as.deleteProperty=function(e,t){return as.set.call(this,e,t,void 0)};as.set=function(e,t,n){return Ac.set.call(this,e[0],t,n,e[0])};function oa(e,t){const n=e[nt];return(n?Ln(n):e)[t]}function DE(e,t,n){var o;const r=Ug(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function Ug(e,t){if(!(t in e))return;let n=Xr(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Xr(n)}}function Nu(e){e.modified_||(e.modified_=!0,e.parent_&&Nu(e.parent_))}function sa(e){e.copy_||(e.copy_=vu(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var OE=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const i=this;return function(a=s,...u){return i.produce(a,c=>n.call(this,c,...u))}}typeof n!="function"&&Et(6),r!==void 0&&typeof r!="function"&&Et(7);let o;if(nr(t)){const s=Bf(this),i=Su(t,void 0);let l=!0;try{o=n(i),l=!1}finally{l?xu(s):wu(s)}return Vf(s,r),Uf(o,s)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===Fg&&(o=void 0),this.autoFreeze_&&zc(o,!0),r){const s=[],i=[];rr("Patches").generateReplacementPatches_(t,o,s,i),r(s,i)}return o}else Et(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...l)=>this.produceWithPatches(i,a=>t(a,...l));let r,o;return[this.produce(t,n,(i,l)=>{r=i,o=l}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){nr(e)||Et(8),Gr(e)&&(e=LE(e));const t=Bf(this),n=Su(e,void 0);return n[nt].isManual_=!0,wu(t),n}finishDraft(e,t){const n=e&&e[nt];(!n||!n.isManual_)&&Et(9);const{scope_:r}=n;return Vf(r,t),Uf(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=rr("Patches").applyPatches_;return Gr(e)?r(e,t):this.produce(e,o=>r(o,t))}};function Su(e,t){const n=ml(e)?rr("MapSet").proxyMap_(e,t):gl(e)?rr("MapSet").proxySet_(e,t):RE(e,t);return(t?t.scope_:Bg()).drafts_.push(n),n}function LE(e){return Gr(e)||Et(10,e),Wg(e)}function Wg(e){if(!nr(e)||yl(e))return e;const t=e[nt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=vu(e,t.scope_.immer_.useStrictShallowCopy_)}else n=vu(e,!0);return Li(n,(r,o)=>{Vg(n,r,Wg(o))}),t&&(t.finalized_=!1),n}var rt=new OE,FE=rt.produce;rt.produceWithPatches.bind(rt);rt.setAutoFreeze.bind(rt);rt.setUseStrictShallowCopy.bind(rt);rt.applyPatches.bind(rt);rt.createDraft.bind(rt);rt.finishDraft.bind(rt);const HE=e=>(t,n,r)=>(r.setState=(o,s,...i)=>{const l=typeof o=="function"?FE(o):o;return t(l,s,...i)},e(r.setState,n,r)),VE=HE,Fn=class Fn{constructor(){ys(this,"counters",new Map);ys(this,"pathRegistry",{nodeToPathsMap:new Map,pathToNodeMap:new Map})}static getInstance(){return Fn.instance||(Fn.instance=new Fn),Fn.instance}generateQuestionPathId(t,n,r){return t?`${t.pathId}-Q${n}`:`${r}-Q${n}`}generateAnswerPathId(t,n){return`${t.pathId}-A${n}`}generateOutcomePathId(t,n){return`${t.pathId}-E${n}`}generateVariantPathId(t,n){return`${t}-V${n+1}`}parseVariantFromPath(t){const n=t.match(/(.*-A\d+)-V(\d+)/);return n?{answerPath:n[1],variantNumber:parseInt(n[2])}:null}parsePathId(t){const n=t.split("-"),r=n[0],o=[];for(let s=1;s<n.length;s++){const i=n[s];i.startsWith("Q")?o.push({type:"Q",number:parseInt(i.substring(1))}):i.startsWith("A")&&o.push({type:"A",number:parseInt(i.substring(1))})}return{topic:r,segments:o}}parsePathIdWithVariants(t){const n=t.split("-"),r=n[0],o=[];for(let s=1;s<n.length;s++){const i=n[s];if(i.startsWith("Q"))o.push({type:"Q",number:parseInt(i.substring(1))});else if(i.startsWith("A"))o.push({type:"A",number:parseInt(i.substring(1))});else if(i.startsWith("V")&&i.includes("+V")){const l=i.substring(1).split("+V").map(a=>parseInt(a));o.push({type:"VC",numbers:l})}else i.startsWith("V")?o.push({type:"V",number:parseInt(i.substring(1))}):i.startsWith("E")&&o.push({type:"E",number:parseInt(i.substring(1))})}return{topic:r,segments:o}}getPathLevel(t){return this.parsePathId(t).segments.filter(r=>r.type==="Q").length}getParentPathId(t){const n=t.split("-");return n.length<=2?null:n.slice(0,-1).join("-")}generateEdgeId(t,n,r){const o=r?`-${r}`:"";return`edge-${t}-${n}${o}`}registerNode(t,n){this.pathRegistry.pathToNodeMap.set(n,t);const r=this.pathRegistry.nodeToPathsMap.get(t)||[];r.includes(n)||this.pathRegistry.nodeToPathsMap.set(t,[...r,n])}getNodePaths(t){return this.pathRegistry.nodeToPathsMap.get(t)||[]}getNodeForPath(t){return this.pathRegistry.pathToNodeMap.get(t)||null}recalculatePathIds(t,n,r){var m,N,w,b,p,h,g,v;const o={nodeToPathsMap:new Map,pathToNodeMap:new Map},s=new Map,i=new Map,l=new Map;t.forEach(S=>{s.set(S.id,S)}),n.forEach(S=>{const C=i.get(S.source)||[];C.push(S),i.set(S.source,C);const I=l.get(S.target)||[];I.push(S),l.set(S.target,I)});const a=t.filter(S=>S.type==="question"&&!n.some(C=>C.target===S.id));this.counters.clear();const u=new Map;t.forEach(S=>{u.set(S.id,{...S,data:{...S.data,pathIds:[],topic:r}})});const c=[];a.forEach(S=>{c.push({nodeId:S.id,parentPathId:null,level:1})});const d=new Set;for(;c.length>0;){const{nodeId:S,parentPathId:C,level:I}=c.shift(),T=u.get(S);if(!T)continue;let P;if(T.type==="question"){const x=this.getQuestionNumberForNode(T.id,C);C===null?P=`${r}-Q${x}`:P=`${C}-Q${x}`}else if(T.type==="answer"){const x=this.getAnswerNumberForNode(T.id,C||"STANDALONE");if(P=`${C||"STANDALONE"}-A${x}`,((m=T.data)==null?void 0:m.answerType)==="single"){const k=`${S}:${P}`;if(!d.has(k)){d.add(k);const O=u.get(S),$=O.data.pathIds||[];if(!$.includes(P)){u.set(S,{...O,data:{...O.data,pathId:P,primaryPathId:P,pathIds:[...$,P],isRoot:!1,questionLevel:I}}),o.pathToNodeMap.set(P,S);const _=o.nodeToPathsMap.get(S)||[];_.includes(P)||o.nodeToPathsMap.set(S,[..._,P])}}}else{const k=u.get(S),O=k.data.pathIds||[],$=[];if(((N=T.data)==null?void 0:N.answerType)==="multiple")(((w=T.data)==null?void 0:w.variants)||[]).forEach((D,z)=>{const V=`${P}-V${z+1}`;O.includes(V)||$.push(V)});else if(((b=T.data)==null?void 0:b.answerType)==="combinations"){const D=(((p=T.data)==null?void 0:p.variants)||[]).length;for(let z=1;z<Math.pow(2,D);z++){const V=[];for(let Q=0;Q<D;Q++)z&1<<Q&&V.push(Q+1);const B=`${P}-V${V.join("+V")}`;O.includes(B)||$.push(B)}}const _=[...O,...$];u.set(S,{...k,data:{...k.data,pathId:P,pathIds:_,isRoot:!1,questionLevel:I}}),$.forEach(M=>{o.pathToNodeMap.set(M,S);const D=o.nodeToPathsMap.get(S)||[];D.includes(M)||o.nodeToPathsMap.set(S,[...D,M])})}const j=i.get(S)||[];((h=T.data)==null?void 0:h.answerType)==="single"?j.forEach(k=>{c.push({nodeId:k.target,parentPathId:P,level:I+1,sourceHandle:k.sourceHandle||void 0,sourceNodeId:S})}):((g=T.data)==null?void 0:g.answerType)==="multiple"?j.forEach(k=>{if(k.sourceHandle&&k.sourceHandle.startsWith("variant-")){const O=parseInt(k.sourceHandle.replace("variant-","")),$=`${P}-V${O+1}`;c.push({nodeId:k.target,parentPathId:$,level:I+1,sourceHandle:k.sourceHandle||void 0,sourceNodeId:S})}}):((v=T.data)==null?void 0:v.answerType)==="combinations"&&j.forEach(k=>{var O;if(k.sourceHandle&&k.sourceHandle.startsWith("combination-")){const $=k.sourceHandle.replace("combination-",""),_=((O=T.data)==null?void 0:O.variants)||[],M=[],D=_.length;for(let V=1;V<Math.pow(2,D);V++){const B=[];for(let q=0;q<D;q++)V&1<<q&&B.push(q);const Q={id:`combo-${V}`,variantIndices:B};M.push(Q)}const z=M.find(V=>V.id===$);if(z){const V=`${P}-V${z.variantIndices.join("+V")}`;c.push({nodeId:k.target,parentPathId:V,level:I+1,sourceHandle:k.sourceHandle||void 0,sourceNodeId:S})}}});continue}else if(T.type==="outcome"){const x=this.getOutcomeNumberForNode(T.id,C||"STANDALONE");P=`${C||"STANDALONE"}-E${x}`}else P=`${C||"STANDALONE"}-NODE`;const E=`${S}:${P}`;if(d.has(E))continue;d.add(E);const A=u.get(S),F=A.data.pathIds||[];if(!F.includes(P)){const x=[...F,P],j=A.data.primaryPathId,k=!j||P.length<(j||"").length;u.set(S,{...A,data:{...A.data,pathId:k?P:A.data.pathId||P,primaryPathId:k?P:j||P,pathIds:x,isRoot:C===null&&T.type==="question",questionLevel:I}})}o.pathToNodeMap.set(P,S);const L=o.nodeToPathsMap.get(S)||[];L.includes(P)||o.nodeToPathsMap.set(S,[...L,P]),T.type!=="answer"&&(i.get(S)||[]).forEach(j=>{if(u.get(j.target)){const O=T.type==="question"?I:I+1;c.push({nodeId:j.target,parentPathId:P,level:O,sourceHandle:j.sourceHandle||void 0,sourceNodeId:S})}})}return t.forEach(S=>{var I,T;const C=u.get(S.id);if(C&&(!C.data.pathIds||C.data.pathIds.length===0)){if(S.type==="answer"&&(((I=S.data)==null?void 0:I.answerType)==="multiple"||((T=S.data)==null?void 0:T.answerType)==="combinations"))return;let P;S.type==="question"?P=`ORPHAN-Q${this.getQuestionNumberForNode(S.id,"ORPHAN")}`:S.type==="answer"?P=`ORPHAN-A${this.getAnswerNumberForNode(S.id,"ORPHAN")}`:S.type==="outcome"?P=`ORPHAN-E${this.getOutcomeNumberForNode(S.id,"ORPHAN")}`:P="ORPHAN-NODE";const E=`${S.id}:${P}`;if(!d.has(E)){d.add(E);const A=u.get(S.id);u.set(S.id,{...A,data:{...A.data,pathId:P,primaryPathId:P,pathIds:[P],isRoot:!1,questionLevel:1}}),o.pathToNodeMap.set(P,S.id),o.nodeToPathsMap.set(S.id,[P])}}}),this.pathRegistry=o,{nodes:Array.from(u.values()),registry:o}}getNextQuestionNumber(t){const n=`Q-${t||"ROOT"}`,r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}getNextAnswerNumber(t){const n=`A-${t}`,r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}getNextOutcomeNumber(t){const n=`E-${t}`,r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}getQuestionNumberForNode(t,n){const r=`Q-NODE-${t}`;if(this.counters.has(r))return this.counters.get(r);const o=`Q-${n||"ROOT"}`,i=(this.counters.get(o)||0)+1;return this.counters.set(o,i),this.counters.set(r,i),i}getAnswerNumberForNode(t,n){const r=`A-NODE-${t}`;if(this.counters.has(r))return this.counters.get(r);const o=`A-${n}`,i=(this.counters.get(o)||0)+1;return this.counters.set(o,i),this.counters.set(r,i),i}getOutcomeNumberForNode(t,n){const r=`E-NODE-${t}`;if(this.counters.has(r))return this.counters.get(r);const o=`E-${n}`,i=(this.counters.get(o)||0)+1;return this.counters.set(o,i),this.counters.set(r,i),i}reset(){this.counters.clear(),this.pathRegistry={nodeToPathsMap:new Map,pathToNodeMap:new Map}}getRegistry(){return this.pathRegistry}getDisplayLabel(t,n){const r=this.parsePathId(t),o=[];switch(r.segments.forEach(s=>{s.type==="Q"&&o.push(s.number)}),n){case"question":return`Q${o.join(".")}`;case"answer":const s=r.segments.filter(i=>i.type==="A").pop();return`A${(s==null?void 0:s.number)||"?"}`;case"outcome":return`Outcome ${this.getPathLevel(t)}`;default:return t}}calculatePathScore(t,n){const r=this.parsePathIdWithVariants(t);let o=0,s=r.topic;for(let i=0;i<r.segments.length;i++){const l=r.segments[i];if(l.type==="Q")s+=`-Q${l.number}`;else if(l.type==="A")s+=`-A${l.number}`;else if(l.type==="V"&&l.number!==void 0){s+=`-V${l.number}`;const a=s.substring(0,s.lastIndexOf("-V")),u=this.getNodeForPath(a);if(u){const c=n.find(d=>d.id===u);if(c&&c.data.variants){const d=l.number-1,f=c.data.variants[d];f&&(o+=f.score||0)}}}else if(l.type==="VC"&&l.numbers){const a=`V${l.numbers.join("+V")}`;s+=`-${a}`;const u=s.substring(0,s.lastIndexOf("-V")),c=this.getNodeForPath(u);if(c){const d=n.find(f=>f.id===c);d&&d.data.variants&&l.numbers.forEach(f=>{const m=d.data.variants[f];m&&(o+=m.score||0)})}}else l.type==="E"&&l.number!==void 0&&(s+=`-E${l.number}`)}return o}getHumanReadablePath(t,n){const r=this.parsePathIdWithVariants(t),o=[];let s="";return r.segments.forEach((i,l)=>{if(i.type==="Q"&&i.number!==void 0){s=l===0?`${r.topic}-Q${i.number}`:s+`-Q${i.number}`;const a=this.getNodeForPath(s),u=n.find(c=>c.id===a);u&&o.push(`Q${i.number}: ${u.data.questionText||"Question"}`)}else if(i.type==="A"&&i.number!==void 0)s+=`-A${i.number}`,o.push(`Answer ${i.number}`);else if(i.type==="V"&&i.number!==void 0){const a=s;s+=`-V${i.number}`;const u=this.getNodeForPath(a),c=n.find(d=>d.id===u);if(c&&c.data.variants){const d=c.data.variants[i.number-1];d&&o.push(` "${d.text}"`)}}else if(i.type==="VC"&&i.numbers){const a=s,u=`V${i.numbers.join("+V")}`;s+=`-${u}`;const c=this.getNodeForPath(a),d=n.find(f=>f.id===c);if(d&&d.data.variants){const f=i.numbers.map(m=>{var N;return(N=d.data.variants[m])==null?void 0:N.text}).filter(Boolean);f.length>0&&o.push(` [${f.join(" + ")}]`)}}else i.type==="E"&&i.number!==void 0&&(s+=`-E${i.number}`,o.push(`Outcome ${i.number}`))}),o.join(" ")}printPathStructure(t){console.log("=== Path Structure Debug ==="),t.forEach(n=>{n.data.pathIds?(console.log(`Node ${n.id} (${n.type}):`),console.log(`  Primary: ${n.data.pathId||n.data.primaryPathId}`),console.log(`  All paths: ${n.data.pathIds.join(", ")}`)):n.data.pathId&&console.log(`Node ${n.id} (${n.type}): ${n.data.pathId}`)}),console.log("=== Counters ==="),this.counters.forEach((n,r)=>{console.log(`${r}: ${n}`)})}};ys(Fn,"instance");let at=Fn;const Se=PE()(VE((e,t)=>({nodes:[],edges:[],selectedNodeId:null,history:[{nodes:[],edges:[]}],historyIndex:0,addNode:n=>{t().saveToHistory(),e(r=>{r.nodes.push(n)})},updateNode:(n,r)=>e(o=>{const s=o.nodes.findIndex(i=>i.id===n);s!==-1&&(o.nodes[s].data={...o.nodes[s].data,...r})}),updateNodePosition:(n,r)=>e(o=>{const s=o.nodes.findIndex(i=>i.id===n);s!==-1&&(o.nodes[s].position=r)}),deleteNode:n=>{t().saveToHistory(),e(r=>{r.nodes=r.nodes.filter(s=>s.id!==n);const o=r.edges.filter(s=>s.source===n||s.target===n);r.edges=r.edges.filter(s=>s.source!==n&&s.target!==n),r.selectedNodeId===n&&(r.selectedNodeId=null),o.length>0&&console.log(`Cleaned up ${o.length} edges for deleted node ${n}`)})},addEdge:n=>{t().saveToHistory(),e(r=>{var s;if(!r.edges.some(i=>i.source===n.source&&i.target===n.target&&i.sourceHandle===n.sourceHandle&&i.targetHandle===n.targetHandle)){r.edges.push(n);const i=r.nodes.find(a=>a.id===n.target),l=r.nodes.find(a=>a.id===n.source);if(i&&i.type==="outcome"&&l){const a=r.nodes.findIndex(u=>u.id===n.target);if(a!==-1){const u=at.getInstance(),c=((s=l.data)==null?void 0:s.pathId)||"PATH",d=u.getOutcomeNumberForNode(n.target,c),f=`${c}-E${d}`;r.nodes[a].data={...r.nodes[a].data,pathId:f},console.log(`Updated outcome node path ID to: ${f}`)}}}})},deleteEdge:n=>{t().saveToHistory(),e(r=>{r.edges=r.edges.filter(o=>o.id!==n)})},setNodes:n=>e(r=>{r.nodes=n}),setEdges:n=>e(r=>{r.edges=n}),setSelectedNodeId:n=>e(r=>{r.selectedNodeId=n}),cleanupDuplicateEdges:()=>e(n=>{const r=[],o=new Set;n.edges.forEach(i=>{const l=`${i.source}-${i.target}-${i.sourceHandle||""}-${i.targetHandle||""}`;o.has(l)||(o.add(l),r.push(i))});const s=n.edges.length-r.length;n.edges=r,s>0&&console.log(`Removed ${s} duplicate edges`)}),recalculateFlowIds:(n,r)=>e(o=>{const i=at.getInstance().recalculatePathIds(o.nodes,o.edges,r);o.nodes=i.nodes,console.log(`Recalculated path IDs for topic: ${r}`)}),propagateTopicOnConnection:(n,r)=>e(o=>{var u;const s=o.nodes.find(c=>c.id===n),i=o.nodes.find(c=>c.id===r);if(!s||!i)return;const l=(c,d=new Set)=>{var N,w,b;if(d.has(c))return null;d.add(c);const f=o.nodes.find(p=>p.id===c);if(!f)return null;if((N=f.data)!=null&&N.topic&&((w=f.data)!=null&&w.isRoot)||(b=f.data)!=null&&b.topic)return f.data.topic;const m=o.edges.find(p=>p.target===c);return m?l(m.source,d):null},a=l(n);if(a&&(!((u=i.data)!=null&&u.topic)||i.data.topic!==a)){const c=o.nodes.findIndex(d=>d.id===r);c!==-1&&(o.nodes[c].data={...o.nodes[c].data,topic:a},console.log(`Propagated topic "${a}" to node ${r}`))}}),propagatePathIdOnConnection:(n,r,o)=>e(s=>{var c,d,f,m,N,w,b;const i=s.nodes.find(p=>p.id===n),l=s.nodes.find(p=>p.id===r);if(!i||!l)return;const a=at.getInstance();let u=[];if(((c=i.data)==null?void 0:c.answerType)==="multiple"&&(o!=null&&o.startsWith("variant-"))){const p=(d=i.data)==null?void 0:d.pathId;if(p&&!p.startsWith("ORPHAN-")){const g=`V${parseInt(o.replace("variant-",""))+1}`,v=`${p}-${g}`;u=[v],console.log(`Generated variant path for Multiple answer: ${v} from base ${p}`)}else{console.log(`Source node ${n} has invalid base path for Multiple variant connection`);return}}else if(((f=i.data)==null?void 0:f.answerType)==="combinations"&&(o!=null&&o.startsWith("combination-"))){const p=(m=i.data)==null?void 0:m.pathId;if(p&&!p.startsWith("ORPHAN-")){const h=o.replace("combination-",""),g=((N=i.data)==null?void 0:N.variants)||[],v=[],S=g.length;for(let I=1;I<Math.pow(2,S);I++){const T=[];for(let E=0;E<S;E++)I&1<<E&&T.push(E);const P={id:`combo-${I}`,variantIndices:T};v.push(P)}const C=v.find(I=>I.id===h);if(C){const I=`V${C.variantIndices.join("+V")}`,T=`${p}-${I}`;u=[T],console.log(`Generated combination path for Combinations answer: ${T} from base ${p}`)}else{console.log(`Could not find matching combination for ${h}`);return}}else{console.log(`Source node ${n} has invalid base path for Combinations connection`);return}}else u=((w=i.data)==null?void 0:w.pathIds)||[(b=i.data)==null?void 0:b.pathId].filter(Boolean);if(u.length===0){console.log(`Source node ${n} has no valid path IDs for propagation`);return}u.forEach(p=>{var v,S;let h;if(l.type==="question"){const C=a.getQuestionNumberForNode(r,p);h=`${p}-Q${C}`}else if(l.type==="answer"){const C=a.getAnswerNumberForNode(r,p);h=`${p}-A${C}`}else if(l.type==="outcome"){const C=a.getOutcomeNumberForNode(r,p);h=`${p}-E${C}`}else h=`${p}-NODE`;const g=s.nodes.findIndex(C=>C.id===r);if(g!==-1){const C=((v=s.nodes[g].data)==null?void 0:v.pathIds)||[(S=s.nodes[g].data)==null?void 0:S.pathId].filter(Boolean);if(C.includes(h))console.log(`Path ID "${h}" already exists for node ${r}`);else{const I=[...C,h];s.nodes[g].data={...s.nodes[g].data,pathId:h,pathIds:I},console.log(`Added path ID "${h}" to ${l.type} node ${r} via handle "${o}". Total paths: ${I.length}`)}}})}),createLinkedQuestion:(n,r)=>e(o=>{var g,v,S,C,I,T,P;const s=o.nodes.find(E=>E.id===n);if(!s)return;const i=at.getInstance(),l=i.getNextQuestionNumber(((g=s.data)==null?void 0:g.pathId)||null),a=((v=s.data)==null?void 0:v.topic)||"NEW-TOPIC",u=(S=s.data)!=null&&S.pathId?{nodeId:s.id,pathId:s.data.pathId,parentPathId:null,level:((C=s.data)==null?void 0:C.questionLevel)||1,topic:a}:null,c=i.generateQuestionPathId(u,l,a),d=`q-${Date.now()}`,f={id:d,type:"question",position:r,data:{pathId:c,topic:a,questionText:"New Question",questionLevel:(((I=s.data)==null?void 0:I.questionLevel)||1)+1,elementId:"NEW",subElementId:"NEW"}},m=i.getNextAnswerNumber(c),N={nodeId:d,pathId:c,parentPathId:((T=s.data)==null?void 0:T.pathId)||null,level:(((P=s.data)==null?void 0:P.questionLevel)||1)+1,topic:a},w=i.generateAnswerPathId(N,m),b=`a-${Date.now()}`,p={id:b,type:"answer",position:{x:r.x,y:r.y+120},data:{pathId:w,answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}},h={id:i.generateEdgeId(d,b),source:d,target:b,animated:!0};o.nodes.push(f,p),o.edges.push(h)}),importFromExcel:n=>e(r=>{r.nodes=n.nodes,r.edges=n.edges}),exportToFormat:n=>{const{nodes:r,edges:o}=t();return n==="json"?{nodes:r,edges:o}:null},clearFlow:()=>e(n=>{n.nodes=[],n.edges=[],n.selectedNodeId=null,n.history=[{nodes:[],edges:[]}],n.historyIndex=0,at.getInstance().reset()}),saveToHistory:()=>e(n=>{const r={nodes:JSON.parse(JSON.stringify(n.nodes)),edges:JSON.parse(JSON.stringify(n.edges))};n.history=n.history.slice(0,n.historyIndex+1),n.history.push(r),n.historyIndex=n.history.length-1,n.history.length>50&&(n.history.shift(),n.historyIndex=n.history.length-1)}),undo:()=>e(n=>{if(n.historyIndex>0){n.historyIndex--;const r=n.history[n.historyIndex];n.nodes=JSON.parse(JSON.stringify(r.nodes)),n.edges=JSON.parse(JSON.stringify(r.edges)),console.log("Undo: Restored state from history index",n.historyIndex)}}),redo:()=>e(n=>{if(n.historyIndex<n.history.length-1){n.historyIndex++;const r=n.history[n.historyIndex];n.nodes=JSON.parse(JSON.stringify(r.nodes)),n.edges=JSON.parse(JSON.stringify(r.edges)),console.log("Redo: Restored state from history index",n.historyIndex)}}),propagatePathToAll:()=>{t().saveToHistory(),e(n=>{const r=n.nodes.filter(s=>{var i,l;return((i=s.data)==null?void 0:i.isRoot)&&((l=s.data)==null?void 0:l.topic)});if(r.length===0){console.log("No root nodes with topics found");return}console.log(`Found ${r.length} root nodes with topics`);const o=at.getInstance();if(o.reset(),r.length===1){const s=r[0].data.topic;console.log(`Recalculating path IDs for single topic "${s}"`);const i=o.recalculatePathIds(n.nodes,n.edges,s);n.nodes=i.nodes,console.log(`Recalculated path IDs for topic "${s}"`)}else{console.log("Multiple root nodes detected - processing each topic separately");const s=new Map,i=new Map;r.forEach(a=>{const u=a.data.topic;s.has(u)||(s.set(u,[]),i.set(u,[]));const c=new Set,d=[a.id];for(c.add(a.id);d.length>0;){const N=d.shift();n.edges.filter(b=>b.source===N).forEach(b=>{c.has(b.target)||(c.add(b.target),d.push(b.target))})}const f=n.nodes.filter(N=>c.has(N.id)),m=n.edges.filter(N=>c.has(N.source)&&c.has(N.target));s.set(u,f),i.set(u,m)});let l=[];s.forEach((a,u)=>{const c=i.get(u)||[];console.log(`Processing topic "${u}" with ${a.length} nodes and ${c.length} edges`);const d=o.recalculatePathIds(a,c,u);l=l.concat(d.nodes)}),n.nodes=l}console.log("Path ID propagation completed")})}}))),Qg=["shift","alt","meta","mod","ctrl","control"],BE={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function En(e){return(BE[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function qg(e){return Qg.includes(e)}function ia(e,t=","){return e.toLowerCase().split(t)}function la(e,t="+",n=">",r=!1,o){let s=[],i=!1;e.includes(n)?(i=!0,s=e.toLocaleLowerCase().split(n).map(u=>En(u))):s=e.toLocaleLowerCase().split(t).map(u=>En(u));const l={alt:s.includes("alt"),ctrl:s.includes("ctrl")||s.includes("control"),shift:s.includes("shift"),meta:s.includes("meta"),mod:s.includes("mod"),useKey:r},a=s.filter(u=>!Qg.includes(u));return{...l,keys:a,description:o,isSequence:i}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&Kg([En(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&Yg([En(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{Qt.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{Qt.clear()},0)}));const Qt=new Set;function Rc(e){return Array.isArray(e)}function UE(e,t=","){return(Rc(e)?e:e.split(t)).every(n=>Qt.has(n.trim().toLowerCase()))}function Kg(e){const t=Array.isArray(e)?e:[e];Qt.has("meta")&&Qt.forEach(n=>!qg(n)&&Qt.delete(n.toLowerCase())),t.forEach(n=>Qt.add(n.toLowerCase()))}function Yg(e){const t=Array.isArray(e)?e:[e];e==="meta"?Qt.clear():t.forEach(n=>Qt.delete(n.toLowerCase()))}function WE(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function QE(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function qE(e){return Xg(e,["input","textarea","select"])}function Xg(e,t=!1){const{target:n,composed:r}=e;let o;return KE(n)&&r?o=e.composedPath()[0]&&e.composedPath()[0].tagName:o=n&&n.tagName,Rc(t)?!!(o&&t&&t.some(s=>s.toLowerCase()===o.toLowerCase())):!!(o&&t&&t)}function KE(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function YE(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(n=>t.includes(n))||e.includes("*"):!0}const XE=(e,t,n=!1)=>{const{alt:r,meta:o,mod:s,shift:i,ctrl:l,keys:a,useKey:u}=t,{code:c,key:d,ctrlKey:f,metaKey:m,shiftKey:N,altKey:w}=e,b=En(c);if(u&&(a==null?void 0:a.length)===1&&a.includes(d))return!0;if(!(a!=null&&a.includes(b))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(b))return!1;if(!n){if(r!==w&&b!=="alt"||i!==N&&b!=="shift")return!1;if(s){if(!m&&!f)return!1}else if(o!==m&&b!=="meta"&&b!=="os"||l!==f&&b!=="ctrl"&&b!=="control")return!1}return a&&a.length===1&&a.includes(b)?!0:a?UE(a):!a},GE=R.createContext(void 0),ZE=()=>R.useContext(GE);function Gg(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((n,r)=>n&&Gg(e[r],t[r]),!0):e===t}const JE=R.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),e_=()=>R.useContext(JE);function t_(e){const t=R.useRef(void 0);return Gg(t.current,e)||(t.current=e),t.current}const Qf=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},n_=typeof window<"u"?R.useLayoutEffect:R.useEffect;function xo(e,t,n,r){const o=R.useRef(null),s=R.useRef(!1),i=n instanceof Array?r instanceof Array?void 0:r:n,l=Rc(e)?e.join(i==null?void 0:i.delimiter):e,a=n instanceof Array?n:r instanceof Array?r:void 0,u=R.useCallback(t,a??[]),c=R.useRef(u);a?c.current=u:c.current=t;const d=t_(i),{activeScopes:f}=e_(),m=ZE();return n_(()=>{if((d==null?void 0:d.enabled)===!1||!YE(f,d==null?void 0:d.scopes))return;let N=[],w;const b=(v,S=!1)=>{var C;if(!(qE(v)&&!Xg(v,d==null?void 0:d.enableOnFormTags))){if(o.current!==null){const I=o.current.getRootNode();if((I instanceof Document||I instanceof ShadowRoot)&&I.activeElement!==o.current&&!o.current.contains(I.activeElement)){Qf(v);return}}(C=v.target)!=null&&C.isContentEditable&&!(d!=null&&d.enableOnContentEditable)||ia(l,d==null?void 0:d.delimiter).forEach(I=>{var T,P,E,A;if(I.includes((d==null?void 0:d.splitKey)??"+")&&I.includes((d==null?void 0:d.sequenceSplitKey)??">")){console.warn(`Hotkey ${I} contains both ${(d==null?void 0:d.splitKey)??"+"} and ${(d==null?void 0:d.sequenceSplitKey)??">"} which is not supported.`);return}const F=la(I,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description);if(F.isSequence){w=setTimeout(()=>{N=[]},(d==null?void 0:d.sequenceTimeoutMs)??1e3);const L=F.useKey?v.key:En(v.code);if(qg(L.toLowerCase()))return;N.push(L);const x=(T=F.keys)==null?void 0:T[N.length-1];if(L!==x){N=[],w&&clearTimeout(w);return}N.length===((P=F.keys)==null?void 0:P.length)&&(c.current(v,F),w&&clearTimeout(w),N=[])}else if(XE(v,F,d==null?void 0:d.ignoreModifiers)||(E=F.keys)!=null&&E.includes("*")){if((A=d==null?void 0:d.ignoreEventWhen)!=null&&A.call(d,v)||S&&s.current)return;if(WE(v,F,d==null?void 0:d.preventDefault),!QE(v,F,d==null?void 0:d.enabled)){Qf(v);return}c.current(v,F),S||(s.current=!0)}})}},p=v=>{v.code!==void 0&&(Kg(En(v.code)),((d==null?void 0:d.keydown)===void 0&&(d==null?void 0:d.keyup)!==!0||d!=null&&d.keydown)&&b(v))},h=v=>{v.code!==void 0&&(Yg(En(v.code)),s.current=!1,d!=null&&d.keyup&&b(v,!0))},g=o.current||(i==null?void 0:i.document)||document;return g.addEventListener("keyup",h,i==null?void 0:i.eventListenerOptions),g.addEventListener("keydown",p,i==null?void 0:i.eventListenerOptions),m&&ia(l,d==null?void 0:d.delimiter).forEach(v=>m.addHotkey(la(v,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description))),()=>{g.removeEventListener("keyup",h,i==null?void 0:i.eventListenerOptions),g.removeEventListener("keydown",p,i==null?void 0:i.eventListenerOptions),m&&ia(l,d==null?void 0:d.delimiter).forEach(v=>m.removeHotkey(la(v,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description))),N=[],w&&clearTimeout(w)}},[l,d,f]),o}function r_(){const{selectedNodeId:e,createLinkedQuestion:t,deleteNode:n,undo:r,redo:o}=Se();xo("tab",s=>{if(s.preventDefault(),e){const i=Se.getState().nodes.find(l=>l.id===e);if(i){const l={x:i.position.x+300,y:i.position.y};t(e,l)}}}),xo("delete, backspace",()=>{e&&n(e)}),xo("ctrl+z, cmd+z",s=>{s.preventDefault(),r()}),xo("ctrl+y, cmd+shift+z",s=>{s.preventDefault(),o()}),xo("escape",()=>{Se.getState().setSelectedNodeId(null)})}function o_({id:e,data:t,selected:n}){const{setSelectedNodeId:r,updateNode:o,recalculateFlowIds:s,propagateTopicOnConnection:i,propagatePathIdOnConnection:l}=Se(),a=()=>{r(e)},u=m=>{o(e,{questionText:m.target.value})},c=m=>{const N=m.target.value;o(e,{topic:N}),t.isRoot&&s(e,N)},d=m=>{m.stopPropagation()},f=()=>{const{nodes:m,addNode:N,addEdge:w,edges:b}=Se.getState();if(b.find(C=>C.source===e)){console.log("This question already has a connection. Only one outgoing connection is allowed.");return}const h=m.find(C=>C.id===e);if(!h)return;const g=`answer-${Date.now()}`,v={id:g,type:"answer",position:{x:h.position.x+150,y:h.position.y+150},data:{pathId:"path-id-will-be-generated",pathIds:[],answerType:"single",topic:t.topic,variants:[{id:`var-${Date.now()}`,text:"Answer option",score:0}]}};N(v);const S={id:`edge-${e}-${g}`,source:e,target:g,sourceHandle:null,targetHandle:null,animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};w(S),i(e,g),l(e,g)};return y.jsxs("div",{className:`
        bg-white rounded-lg shadow-lg border-2 p-4 min-w-[280px] max-w-[350px]
        ${n?"border-blue-500 shadow-xl ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer
      `,onClick:a,children:[y.jsx(_t,{type:"target",position:Y.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),y.jsx("span",{className:"text-xs font-semibold text-blue-600",children:t.isRoot?"Root Question":"Question"})]}),y.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:["Level ",t.questionLevel]})]}),y.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathIds&&t.pathIds.length>1?y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"font-semibold text-gray-600",children:["Paths (",t.pathIds.length,"):"]}),t.pathIds.map((m,N)=>y.jsx("div",{className:"text-xs",children:m},N))]}):t.pathId}),t.isRoot&&y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Topic"}),y.jsx("div",{onClick:d,onMouseDown:d,children:y.jsx("input",{type:"text",value:t.topic||"",onChange:c,className:"w-full p-2 border border-gray-200 rounded text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter topic...",onFocus:d,onKeyDown:d})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Question"}),y.jsx("div",{onClick:d,onMouseDown:d,children:y.jsx("textarea",{value:t.questionText,onChange:u,className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm bg-gray-50 hover:bg-white transition-colors",rows:3,placeholder:"Enter your question here...",onFocus:d,onKeyDown:d})})]}),y.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[y.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:t.elementId}),y.jsx("span",{className:"text-gray-400",children:"|"}),y.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:t.subElementId})]})]}),y.jsx(_t,{type:"source",position:Y.Bottom,className:"w-3 h-3 bg-green-500 border-2 border-white cursor-pointer hover:bg-green-600 transition-colors",style:{background:"#22c55e"},onClick:m=>{m.stopPropagation(),f()}})]})}/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zg=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=R.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...l},a)=>R.createElement("svg",{ref:a,...i_,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Zg("lucide",o),...l},[...i.map(([u,c])=>R.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(e,t)=>{const n=R.forwardRef(({className:r,...o},s)=>R.createElement(l_,{ref:s,iconNode:t,className:Zg(`lucide-${s_(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=ke("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=ke("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=ke("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=ke("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=ke("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=ke("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=ke("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=ke("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=ke("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=ke("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=ke("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=ke("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function w_({id:e,data:t,selected:n}){var P;const{setSelectedNodeId:r,updateNode:o,nodes:s,edges:i,addNode:l,addEdge:a,propagateTopicOnConnection:u}=Se(),[c,d]=R.useState(t.answerType||"single");R.useEffect(()=>{d(t.answerType||"single")},[t.answerType]);const f=()=>{r(e)},m=E=>{const{edges:A}=Se.getState();if(A.find($=>$.source===e&&$.sourceHandle===(E||"default"))){console.log("This answer variant already has a connection. Only one connection per variant is allowed.");return}const L=s.find($=>$.id===e);if(!L)return;let x=t.topic;if(!x){const $=_=>{var z;const M=s.find(V=>V.id===_);if(!M)return"Topic";if((z=M.data)!=null&&z.topic)return M.data.topic;const D=Se.getState().edges.find(V=>V.target===_);return D?$(D.source):"Topic"};x=$(e)}const j=`question-${Date.now()}`,k={id:j,type:"question",position:{x:E==="default"?L.position.x:L.position.x+200,y:L.position.y+200},data:{pathId:"path-id-will-be-generated",topic:x,isRoot:!1,questionText:"",questionLevel:2,elementId:"E01",subElementId:"SE01"}};l(k);const O={id:`edge-${e}-${j}`,source:e,target:j,sourceHandle:E||"default",targetHandle:null,animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};a(O),u(e,j)},N=()=>{const E={id:`var-${Date.now()}`,text:"New Answer",score:0},A=t.variants||[];o(e,{variants:[...A,E]})},w=(E,A)=>{const L=(t.variants||[]).map(x=>x.id===E?{...x,...A}:x);o(e,{variants:L})},b=E=>{const A=t.variants||[];if(A.length>1){const F=A.filter(L=>L.id!==E);o(e,{variants:F})}},p=E=>{const A=[],F=E.length;for(let L=1;L<Math.pow(2,F);L++){const x=[];for(let k=0;k<F;k++)L&1<<k&&x.push(k);const j={id:`combo-${L}`,variantIndices:x,pathId:`combination-${x.join("-")}`,label:`Variants ${x.map(k=>k+1).join(" + ")}`};A.push(j)}return A},h=()=>{if(c!=="combinations")return[];const E=t.variants||[];return E.length<2?[]:t.combinations||p(E)},g=()=>h().filter(A=>{const F=`combination-${A.id}`;return i.some(L=>L.source===e&&L.sourceHandle===F)}),v=()=>h().filter(A=>{const F=`combination-${A.id}`;return!i.some(L=>L.source===e&&L.sourceHandle===F)}),S=E=>{if(console.log("Creating linked question for combination:",E),i.find(O=>O.source===e&&O.sourceHandle===`combination-${E}`)){console.log("This combination already has a connection. Only one connection per combination is allowed.");return}const F=s.find(O=>O.id===e);if(!F)return;let L=t.topic;if(!L){const O=$=>{var D;const _=s.find(z=>z.id===$);if(!_)return"Topic";if((D=_.data)!=null&&D.topic)return _.data.topic;const M=Se.getState().edges.find(z=>z.target===$);return M?O(M.source):"Topic"};L=O(e)}const x=`question-${Date.now()}`,j={id:x,type:"question",position:{x:F.position.x+200,y:F.position.y+200},data:{pathId:"path-id-will-be-generated",topic:L,isRoot:!1,questionText:"",questionLevel:2,elementId:"E01",subElementId:"SE01"}};l(j);const k={id:`edge-${e}-${x}`,source:e,target:x,sourceHandle:`combination-${E}`,targetHandle:null,animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};a(k),u(e,x)},C=E=>{d(E),o(e,{answerType:E});const{edges:A,deleteEdge:F,nodes:L,updateNode:x}=Se.getState(),j=A.filter(k=>k.source===e);console.log(`Switching to ${E} mode: removing ${j.length} outgoing edges and cleaning up pathIDs`),j.forEach(k=>{var $,_;const O=L.find(M=>M.id===k.target);if(O){const M=(($=O.data)==null?void 0:$.pathIds)||[(_=O.data)==null?void 0:_.pathId].filter(Boolean),D=t.pathId;if(D){const z=M.filter(V=>!V.startsWith(D));x(k.target,{pathId:z.length>0?z[0]:void 0,pathIds:z.length>0?z:[]}),console.log(`Cleaned pathIDs for target node ${k.target}: removed paths starting with ${D}`)}}}),j.forEach(k=>F(k.id))},I=E=>{E.stopPropagation()},T=t.variants||[];return y.jsxs("div",{className:`
        bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg shadow-lg border-2 p-4 w-[350px]
        ${n?"border-purple-500 shadow-xl ring-2 ring-purple-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer relative
      `,onClick:f,children:[y.jsx(_t,{type:"target",position:Y.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),y.jsx("span",{className:"text-xs font-semibold text-purple-600",children:"Answer"})]}),t.answerLevel&&y.jsxs("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:["Level ",t.answerLevel]}),y.jsxs("div",{className:"flex items-center space-x-2 text-xs",onClick:I,onMouseDown:I,children:[y.jsxs("label",{className:"flex items-center cursor-pointer",children:[y.jsx("input",{type:"radio",value:"single",checked:c==="single",onChange:E=>C(E.target.value),className:"mr-1"}),"Single"]}),y.jsxs("label",{className:"flex items-center cursor-pointer",children:[y.jsx("input",{type:"radio",value:"multiple",checked:c==="multiple",onChange:E=>C(E.target.value),className:"mr-1"}),"Multiple"]}),y.jsxs("label",{className:"flex items-center cursor-pointer",children:[y.jsx("input",{type:"radio",value:"combinations",checked:c==="combinations",onChange:E=>C(E.target.value),className:"mr-1"}),"Combinations"]})]})]}),y.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathIds&&t.pathIds.length>0?t.pathIds.length>1?y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"font-semibold text-gray-600",children:["Paths (",t.pathIds.length,"):"]}),t.pathIds.map((E,A)=>y.jsx("div",{className:"text-xs",children:E},A))]}):t.pathIds[0]:t.pathId||"No path"}),y.jsx("div",{className:`text-xs rounded px-2 py-1 text-center font-medium ${c==="single"?"bg-blue-50 text-blue-600":c==="multiple"?"bg-green-50 text-green-600":"bg-yellow-50 text-yellow-600"}`,children:c==="single"?" Single path (bottom)":c==="multiple"?" Multiple paths (variants)":" Combinations (variants)"}),y.jsx("div",{className:"space-y-2",children:T.map((E,A)=>{var x;const F=`variant-${A}`,L=(x=t.orphanedVariants)==null?void 0:x.includes(F);return y.jsxs("div",{className:"relative",children:[y.jsxs("div",{className:`flex items-center space-x-2 bg-white rounded-lg p-3 shadow-sm border ${c==="multiple"?"border-green-200 hover:border-green-300":"border-gray-100"} ${L?"ring-1 ring-orange-400 border-orange-300":""} transition-colors`,onClick:I,onMouseDown:I,children:[y.jsx("input",{type:"text",value:E.text,onChange:j=>w(E.id,{text:j.target.value}),className:"flex-1 text-sm bg-transparent focus:outline-none",placeholder:"Answer text...",onFocus:I,onKeyDown:I}),y.jsx("input",{type:"number",value:E.score,onChange:j=>w(E.id,{score:Number(j.target.value)}),className:"w-12 text-xs text-center bg-gray-50 rounded px-1 py-1 focus:outline-none focus:bg-white border border-gray-200 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [-moz-appearance:textfield]",placeholder:"0",title:"Score",min:"-999",max:"999",onFocus:I,onKeyDown:I,onWheel:j=>{j.currentTarget.blur(),j.stopPropagation()},onClick:I,onMouseDown:I}),T.length>1&&y.jsx("button",{onClick:j=>{j.stopPropagation(),b(E.id)},className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:y.jsx(v_,{size:12})})]}),c==="multiple"&&y.jsx(_t,{type:"source",position:Y.Right,id:`variant-${A}`,style:{top:"50%",right:"-5px",transform:"translateY(-50%)",background:L?"#fb923c":"#22c55e",width:"10px",height:"10px",zIndex:10,cursor:"pointer"},className:"border-2 border-white hover:scale-125 transition-transform",onClick:j=>{j.stopPropagation(),m(`variant-${A}`)}})]},E.id)})}),c==="combinations"&&T.length>1&&y.jsx("div",{className:"space-y-3 border-t pt-3",children:y.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 space-y-2",children:[y.jsx("div",{className:"text-xs text-yellow-700 mb-2",children:"All combinations are active. Connect them to questions:"}),h().map(E=>{const A=v().some(L=>L.id===E.id),F=g().some(L=>L.id===E.id);return y.jsxs("div",{className:"relative",children:[y.jsxs("div",{className:`flex items-center space-x-2 bg-white rounded-lg p-2 shadow-sm border transition-colors ${F?"border-green-300 bg-green-50":A?"border-orange-300 bg-orange-50":"border-gray-200"}`,onClick:I,onMouseDown:I,children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.label}),y.jsx("div",{className:"text-xs text-gray-500 font-mono",children:E.pathId})]}),y.jsxs("div",{className:"flex items-center space-x-1",children:[F&&y.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:"Connected"}),A&&y.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-orange-100 text-orange-800",children:"Orphaned"})]}),y.jsx("div",{className:"flex space-x-1",children:E.variantIndices.map(L=>y.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:L+1},L))})]}),y.jsx(_t,{type:"source",position:Y.Right,id:`combination-${E.id}`,style:{top:"50%",right:"-5px",transform:"translateY(-50%)",background:A?"#fb923c":"#f59e0b",width:"10px",height:"10px",zIndex:10,cursor:"pointer"},className:"border-2 border-white hover:scale-125 transition-transform",onClick:L=>{L.stopPropagation(),S(E.id)}})]},E.id)})]})}),y.jsxs("button",{onClick:E=>{E.stopPropagation(),N()},className:"w-full flex items-center justify-center space-x-2 p-2 border-2 border-dashed border-purple-300 rounded-lg text-sm text-purple-600 hover:border-purple-500 hover:bg-purple-50 transition-colors font-medium",children:[y.jsx(h_,{size:14}),y.jsx("span",{children:"Add Answer"})]})]}),c==="single"&&y.jsx(_t,{type:"source",position:Y.Bottom,id:"default",className:"w-3 h-3 border-2 border-white cursor-pointer hover:scale-125 transition-transform",style:{background:(P=t.orphanedVariants)!=null&&P.includes("default")?"#fb923c":"#22c55e"},onClick:E=>{E.stopPropagation(),m("default")}})]})}function N_({id:e,data:t,selected:n}){const{setSelectedNodeId:r,updateNode:o}=Se(),s=()=>{r(e)},i=a=>{o(e,{recommendation:a.target.value})},l=a=>{a.stopPropagation()};return y.jsxs("div",{className:`
        bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg shadow-lg border-2 p-4 min-w-[280px] max-w-[350px]
        ${n?"border-green-500 shadow-xl ring-2 ring-green-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer
      `,onClick:s,children:[y.jsx(_t,{type:"target",position:Y.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),y.jsx("span",{className:"text-xs font-semibold text-green-600",children:"Outcome"})]}),y.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Final"})]}),y.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathIds&&t.pathIds.length>1?y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"font-semibold text-gray-600",children:["Paths (",t.pathIds.length,"):"]}),t.pathIds.map((a,u)=>y.jsx("div",{className:"text-xs",children:a},u))]}):t.pathId}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Recommendation"}),y.jsx("div",{onClick:l,onMouseDown:l,children:y.jsx("textarea",{value:t.recommendation||"",onChange:i,className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm bg-gray-50 hover:bg-white transition-colors",rows:4,placeholder:"Enter recommendation text...",onFocus:l,onKeyDown:l})})]}),y.jsx("div",{className:"text-xs rounded px-2 py-1 text-center font-medium bg-green-50 text-green-600 border border-green-200",children:" Final Outcome"})]})]})}const S_={question:o_,answer:w_,outcome:N_},E_={animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};function __({shouldAutoOrganize:e=!1,onAutoOrganizeComplete:t}){const{nodes:n,edges:r,addEdge:o,updateNodePosition:s,deleteEdge:i,propagateTopicOnConnection:l,propagatePathIdOnConnection:a,selectedNodeId:u,setNodes:c}=Se(),[d,f,m]=JS(n),[N,w,b]=eE(r),p=pl(),h=H.useRef(!1),g=H.useRef(null);r_(),H.useEffect(()=>{const{cleanupDuplicateEdges:E}=Se.getState();E()},[]),H.useEffect(()=>{f(E=>{if(h.current)return console.log("Bulk update detected - using store positions directly"),n;if(E.length===0)return n;const F=(()=>{const _=new Set,M=new Set;return r.forEach(D=>{_.add(D.target),M.add(D.source)}),n.filter(D=>{var B;if(D.type==="question"&&((B=D.data)!=null&&B.isRoot))return!M.has(D.id);if(D.type==="outcome")return!_.has(D.id);const z=_.has(D.id),V=M.has(D.id);return!z||!V}).map(D=>D.id)})(),x=(()=>{const _=new Map;return n.forEach(M=>{var D;if(M.type==="answer"&&((D=M.data)!=null&&D.variants)){const z=M.data.variants,V=M.data.answerType||"single",B=[];V==="multiple"&&z.forEach((Q,q)=>{const W=`variant-${q}`;r.some(Z=>Z.source===M.id&&Z.sourceHandle===W)||B.push(W)}),V==="single"&&(r.some(q=>q.source===M.id&&q.sourceHandle==="default")||B.push("default")),B.length>0&&_.set(M.id,B)}}),_})(),j=_=>{if(!_)return{parents:[],children:[]};const M=r.filter(z=>z.target===_).map(z=>z.source),D=r.filter(z=>z.source===_).map(z=>z.target);return{parents:M,children:D}},{parents:k,children:O}=j(u),$=new Map;return E.forEach(_=>{$.set(_.id,_.position)}),n.map(_=>{const M=$.get(_.id);return{..._,position:M||_.position,data:{..._.data,isOrphaned:F.includes(_.id),isParent:k.includes(_.id),isChild:O.includes(_.id),isSelected:u===_.id,orphanedVariants:x.get(_.id)||[]}}})})},[n,r,f,u]),H.useEffect(()=>{const E=r.map(A=>{let F="#9ca3af",L={stroke:F,strokeWidth:2};return u&&(A.source===u||A.target===u)&&(F="#2563eb",L={stroke:F,strokeWidth:2,filter:"drop-shadow(0 0 16px #2563ebcc)",opacity:1}),{...A,style:{...A.style,...L}}});w(E)},[r,w,u]);const v=R.useCallback(E=>{if(!E.source||!E.target)return;console.log("Creating edge:",E);const A=n.find(k=>k.id===E.source),F=n.find(k=>k.id===E.target);if(!A||!F){console.log("Source or target node not found");return}if(A.type==="answer"&&F.type!=="question"&&F.type!=="outcome"){console.log("Answer nodes can only connect to Question nodes or Outcome nodes");return}if(A.type==="question"&&F.type!=="answer"){console.log("Question nodes can only connect to Answer nodes");return}if(A.type==="answer"&&r.find(O=>O.source===E.source&&O.sourceHandle===E.sourceHandle)){console.log("Answer variant already has a connection. Only one connection per variant is allowed.");return}if(A.type==="question"&&r.find(O=>O.source===E.source)){console.log("Question node already has a connection. Only one outgoing connection is allowed.");return}if(((k,O)=>{if(k===O)return!0;const $=new Set,_=[O];for(;_.length>0;){const M=_.pop();if($.has(M))continue;if($.add(M),M===k)return!0;r.filter(z=>z.source===M).forEach(z=>{$.has(z.target)||_.push(z.target)})}return!1})(E.source,E.target)){console.log("Connection would create a loop, preventing connection");return}const x=at.getInstance(),j={...E,source:E.source,target:E.target,id:x.generateEdgeId(E.source,E.target,E.sourceHandle||void 0),animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};console.log("Generated edge:",j),o(j),l(E.source,E.target),a(E.source,E.target,E.sourceHandle||void 0)},[o,r,l,a,n]),S=R.useCallback((E,A)=>{Se.getState().setSelectedNodeId(A.id)},[]),C=R.useCallback(()=>{Se.getState().setSelectedNodeId(null)},[]),I=R.useCallback(E=>{if(m(E),h.current){console.log("Skipping position sync during bulk update");return}E.forEach(A=>{A.type==="position"&&A.position&&s&&s(A.id,A.position)})},[m,s]),T=R.useCallback(E=>{b(E),E.forEach(A=>{A.type==="remove"&&A.id&&(console.log("Edge deleted:",A.id),i(A.id))})},[b,i]);H.useEffect(()=>(window.flowCanvasSetBulkUpdate=()=>{console.log("Setting bulk update flag"),h.current=!0,g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{console.log("Resetting bulk update flag"),h.current=!1,g.current=null},500)},()=>{g.current&&clearTimeout(g.current),delete window.flowCanvasSetBulkUpdate}),[]),R.useEffect(()=>{if(e&&p&&n.length>0){console.log("Auto-organizing nodes...");const E=setTimeout(()=>{P(),setTimeout(()=>{p.fitView({padding:.2,maxZoom:.8,minZoom:.1,duration:1e3}),t==null||t()},500)},1e3);return()=>clearTimeout(E)}},[e,p,n.length,t]);const P=()=>{if(console.log("Organizing nodes..."),n.length<2){console.log("Not enough nodes to organize");return}const E=400,A=420,F=150,L=150,x=4,j=new Map,k=new Map,O=new Map;n.forEach(W=>{j.set(W.id,[]),O.set(W.id,0)}),r.forEach(W=>{const G=j.get(W.source)||[];G.push(W.target),j.set(W.source,G),k.set(W.target,W.source);const Z=O.get(W.target)||0;O.set(W.target,Z+1)});const $=n.filter(W=>(O.get(W.id)||0)===0);$.length===0&&n.length>0&&$.push(n[0]);const _=new Map,M=new Map,D=new Set;let z=0;const V=[];for($.forEach(W=>{V.push({node:W,level:0}),_.set(W.id,0)});V.length>0;){const{node:W,level:G}=V.shift();if(D.has(W.id))continue;D.add(W.id),z=Math.max(z,G);const Z=M.get(G)||[];Z.push(W),M.set(G,Z),(j.get(W.id)||[]).forEach(se=>{const de=n.find(we=>we.id===se);de&&!D.has(se)&&(V.push({node:de,level:G+1}),_.set(se,G+1))})}const B=[];for(let W=0;W<=z;W++){const G=M.get(W)||[];B.push(...G)}const Q=n.filter(W=>!D.has(W.id));B.push(...Q);const q=B.map((W,G)=>{const Z=Math.floor(G/x),te=G%x,se=Math.min(B.length,x),we=(Math.min(B.length-Z*x,x)-1)*E,Ce=(se-1)*E,Le={x:F+(Ce-we)/2+te*E,y:L+Z*A};return{...W,position:Le}});window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),setTimeout(()=>{c(q),console.log("Organization complete!")},50)};return y.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-50 to-gray-100",children:y.jsxs(jg,{nodes:d,edges:N,onNodesChange:I,onEdgesChange:T,onConnect:v,onNodeClick:S,onPaneClick:C,nodeTypes:S_,connectionMode:Cn.Loose,defaultEdgeOptions:E_,className:"bg-transparent",nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,selectNodesOnDrag:!1,panOnDrag:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!1,preventScrolling:!1,children:[y.jsx(EE,{variant:pt.Dots,gap:16,size:1,color:"#e5e7eb"}),y.jsx(yE,{className:"bg-white shadow-lg rounded-lg border border-gray-200"}),y.jsx(cE,{className:"bg-white shadow-lg rounded-lg border border-gray-200",nodeColor:E=>{var A;if((A=E.data)!=null&&A.isOrphaned)return"#fb923c";switch(E.type){case"question":return"#2563eb";case"answer":return"#8b5cf6";case"outcome":return"#22c55e";default:return"#9ca3af"}},maskColor:"rgba(255, 255, 255, 0.8)",pannable:!0,zoomable:!0}),y.jsx(cl,{position:"top-right",className:"bg-white/95 backdrop-blur shadow-lg rounded-lg p-4 m-4 border border-gray-200",children:y.jsxs("div",{className:"text-sm space-y-1",children:[y.jsx("div",{className:"font-semibold text-gray-700 mb-2",children:"Flow Stats"}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),y.jsxs("span",{children:["Questions: ",d.filter(E=>E.type==="question").length]})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),y.jsxs("span",{children:["Answers: ",d.filter(E=>E.type==="answer").length]})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),y.jsxs("span",{children:["Outcomes: ",d.filter(E=>E.type==="outcome").length]})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),y.jsxs("span",{children:["Connections: ",N.length]})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),y.jsxs("span",{children:["Orphaned: ",d.filter(E=>{var A;return(A=E.data)==null?void 0:A.isOrphaned}).length]})]})]})})]})})}class Eu{generateCombinationsForNode(t){const n=[],r=t.length;for(let o=1;o<Math.pow(2,r);o++){const s=[],i=[];for(let a=0;a<r;a++)o&1<<a&&(s.push(a),i.push(t[a].text||`Variant ${a+1}`));const l={id:`combo-${o}`,variantIndices:s,pathId:`PATH-V${s.join("+V")}`,label:i.join(" + ")};n.push(l)}return n}exportToJson(t,n){const r=t.filter(f=>f.type==="question"),o=t.filter(f=>f.type==="answer"),s=t.filter(f=>f.type==="outcome"),i=r.find(f=>f.data.isRoot),a={topic:(i==null?void 0:i.data.topic)||"UNTITLED",version:"1.0.0",createdAt:new Date().toISOString(),totalQuestions:r.length},u={};r.forEach(f=>{u[f.id]={id:f.id,type:"question",pathId:f.data.pathId,pathIds:f.data.pathIds&&f.data.pathIds.length>1?f.data.pathIds:void 0,content:f.data.questionText,level:f.data.questionLevel,position:f.position,topic:f.data.topic}}),o.forEach(f=>{var m,N;u[f.id]={id:f.id,type:"answer",pathId:f.data.pathId,pathIds:f.data.pathIds&&f.data.pathIds.length>1?f.data.pathIds:void 0,content:`${((m=f.data.variants)==null?void 0:m.length)||0} variants`,level:0,position:f.position,topic:f.data.topic,answerType:f.data.answerType,variants:(N=f.data.variants)==null?void 0:N.map(w=>({id:w.id,text:w.text,score:w.score,allowsInput:w.allowsInput,inputValidation:w.inputValidation})),combinations:f.data.answerType==="combinations"?this.generateCombinationsForNode(f.data.variants||[]):void 0,combinationRules:f.data.combinationRules}}),s.forEach(f=>{u[f.id]={id:f.id,type:"outcome",pathId:f.data.pathId,pathIds:f.data.pathIds&&f.data.pathIds.length>1?f.data.pathIds:void 0,content:f.data.recommendation||"No recommendation provided",level:0,position:f.position,topic:f.data.topic,recommendation:f.data.recommendation}});const c={},d={};return n.forEach(f=>{const m=t.find(w=>w.id===f.source),N=t.find(w=>w.id===f.target);!m||!N||(c[f.source]||(c[f.source]={}),f.sourceHandle&&f.sourceHandle.startsWith("variant-")?(c[f.source].variants||(c[f.source].variants={}),c[f.source].variants[f.sourceHandle]=N.data.pathId):f.sourceHandle&&f.sourceHandle.startsWith("combination-")?(c[f.source].combinations||(c[f.source].combinations={}),c[f.source].combinations[f.sourceHandle]=N.data.pathId):c[f.source].default=N.data.pathId)}),o.forEach(f=>{(f.data.answerType==="multiple"||f.data.answerType==="combinations")&&f.data.combinationRules&&(d[f.id]=f.data.combinationRules.map((m,N)=>({condition:m.selectedVariants,nextNode:m.nextNode,priority:N+1})))}),{metadata:a,nodes:u,navigation:c,multipleChoiceRules:d}}exportToExcel(t){const n=this.convertToCSV(t);return new Blob([n],{type:"text/csv"})}convertToCSV(t){const r=[["Path ID","All Path IDs","Clean Path ID","Type","Content","Level","Variants","Scores","Next Path"]];return Object.values(t.nodes).forEach(o=>{var s,i;o.type==="question"?r.push([o.pathId,o.pathIds?o.pathIds.join(" | "):o.pathId,this.cleanPathId(o.pathId),"Question",o.content,o.level.toString(),"","",((s=t.navigation[o.id])==null?void 0:s.default)||""]):o.type==="answer"?((i=o.variants)==null||i.forEach((l,a)=>{var c,d;const u=((d=(c=t.navigation[o.id])==null?void 0:c.variants)==null?void 0:d[`variant-${a}`])||"";r.push([o.pathId,o.pathIds?o.pathIds.join(" | "):o.pathId,this.cleanPathId(o.pathId),"Answer",l.text,"0",l.text,l.score.toString(),u])}),o.answerType==="combinations"&&o.combinations&&o.combinations.forEach(l=>{var u,c;const a=((c=(u=t.navigation[o.id])==null?void 0:u.combinations)==null?void 0:c[`combination-${l.id}`])||"";r.push([o.pathId,o.pathIds?o.pathIds.join(" | "):o.pathId,this.cleanPathId(o.pathId),"Combination",l.label,"0",l.label,l.variantIndices.map(d=>{var f,m;return((m=(f=o.variants)==null?void 0:f[d])==null?void 0:m.score)||0}).reduce((d,f)=>d+f,0).toString(),a])})):o.type==="outcome"&&r.push([o.pathId,o.pathIds?o.pathIds.join(" | "):o.pathId,this.cleanPathId(o.pathId),"Outcome",o.recommendation||"No recommendation","0","","",""])}),r.map(o=>o.map(s=>`"${s.replace(/"/g,'""')}"`).join(",")).join(`
`)}cleanPathId(t){const n=t.split("-");return n.length<=2?t:n.slice(1).join("-")}importFromJson(t){const n=[],r=[];return Object.values(t.nodes).forEach((o,s)=>{const i=o.position||{x:200+s%3*400,y:200+Math.floor(s/3)*300};o.type==="question"?n.push({id:o.id,type:"question",position:i,data:{pathId:o.pathId,pathIds:o.pathIds||[o.pathId],topic:o.topic||"IMPORTED",isRoot:o.level===1,questionText:o.content,questionLevel:o.level,elementId:"IMPORTED",subElementId:"IMPORTED"}}):o.type==="answer"?n.push({id:o.id,type:"answer",position:i,data:{pathId:o.pathId,pathIds:o.pathIds||[o.pathId],answerType:o.answerType||"single",variants:o.variants||[],combinations:o.combinations,combinationRules:o.combinationRules,topic:o.topic||"IMPORTED"}}):o.type==="outcome"&&n.push({id:o.id,type:"outcome",position:i,data:{pathId:o.pathId,pathIds:o.pathIds||[o.pathId],recommendation:o.recommendation||"No recommendation provided",topic:o.topic||"IMPORTED"}})}),Object.entries(t.navigation).forEach(([o,s])=>{if(s.default){const i=n.find(l=>l.data.pathId===s.default);i&&r.push({id:`edge-${o}-${i.id}`,source:o,target:i.id,sourceHandle:"default",animated:!0})}s.variants&&Object.entries(s.variants).forEach(([i,l])=>{const a=n.find(u=>u.data.pathId===l);a&&r.push({id:`edge-${o}-${a.id}-${i}`,source:o,target:a.id,sourceHandle:i,animated:!0})}),s.combinations&&Object.entries(s.combinations).forEach(([i,l])=>{const a=n.find(u=>u.data.pathId===l);a&&r.push({id:`edge-${o}-${a.id}-${i}`,source:o,target:a.id,sourceHandle:i,animated:!0})})}),{nodes:n,edges:r}}testCombinationExportImport(){var r,o;console.log("Testing combination export/import functionality...");const t=[{id:"test-answer-1",type:"answer",position:{x:100,y:100},data:{pathId:"Test-A1",pathIds:["Test-A1"],answerType:"combinations",variants:[{id:"var1",text:"Option A",score:1},{id:"var2",text:"Option B",score:2}],topic:"Test"}},{id:"test-question-1",type:"question",position:{x:300,y:100},data:{pathId:"Test-A1-V0+V1-Q1",pathIds:["Test-A1-V0+V1-Q1"],questionText:"Test Question",questionLevel:2,topic:"Test",isRoot:!1,elementId:"E1",subElementId:"SE1"}}],n=[{id:"test-edge-1",source:"test-answer-1",target:"test-question-1",sourceHandle:"combination-combo-3",animated:!0}];try{const s=this.exportToJson(t,n);console.log("Export successful:",{hasNavigationCombinations:!!((r=s.navigation["test-answer-1"])!=null&&r.combinations),hasCombinationData:!!((o=s.nodes["test-answer-1"])!=null&&o.combinations)});const{nodes:i,edges:l}=this.importFromJson(s);return console.log("Import successful:",{nodeCount:i.length,edgeCount:l.length,hasCombinationHandle:l.some(a=>{var u;return(u=a.sourceHandle)==null?void 0:u.startsWith("combination-")})}),!0}catch(s){return console.error("Test failed:",s),!1}}}function k_({onAddNode:e,onLoadDemo:t,onClearAll:n,onSetNodes:r,nodes:o=[]}){const{setEdges:s,edges:i,nodes:l,setNodes:a,propagatePathToAll:u}=Se(),c=o.length>0?o:l,d=()=>{const S=c.map(E=>E.position);let C=200,I=200;const T=350,P=4;for(let E=0;E<c.length+1;E++){const A=E%P,F=Math.floor(E/P);if(C=200+A*T,I=200+F*T,!S.some(x=>Math.abs(x.x-C)<250&&Math.abs(x.y-I)<200))break}return{x:C,y:I}},f=()=>{const S=at.getInstance(),C=d(),I=S.getNextQuestionNumber(null),T="NEW-TOPIC",P=S.generateQuestionPathId(null,I,T),E={id:`q-${Date.now()}`,type:"question",position:C,data:{pathId:P,topic:T,isRoot:!0,questionText:"New Question",questionLevel:1,elementId:"NEW",subElementId:"NEW"}};S.registerNode(E.id,P),e==null||e(E)},m=()=>{const S=at.getInstance(),C=d(),T=`STANDALONE-A${S.getNextAnswerNumber("STANDALONE")}`,P={id:`a-${Date.now()}`,type:"answer",position:C,data:{pathId:T,answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}};e==null||e(P)},N=()=>{const S=at.getInstance(),C=d(),T=`STANDALONE-E${S.getNextOutcomeNumber("STANDALONE")}`,P={id:`o-${Date.now()}`,type:"outcome",position:C,data:{pathId:T,recommendation:"Enter your recommendation here...",topic:"General"}};e==null||e(P)},w=()=>{const S=Se.getState(),I=new Eu().exportToJson(c,S.edges),T=new Blob([JSON.stringify(I,null,2)],{type:"application/json"}),P=URL.createObjectURL(T),E=document.createElement("a");E.href=P,E.download=`flow-${I.metadata.topic}-${Date.now()}.json`,E.click(),URL.revokeObjectURL(P)},b=()=>{const S=document.createElement("input");S.type="file",S.accept=".json",S.onchange=C=>{var T;const I=(T=C.target.files)==null?void 0:T[0];if(I){const P=new FileReader;P.onload=E=>{var A;try{const F=JSON.parse((A=E.target)==null?void 0:A.result);if(F.metadata&&F.nodes&&F.navigation){const L=new Eu,{nodes:x,edges:j}=L.importFromJson(F);window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),r==null||r(x),s(j)}else F.nodes&&F.edges?(window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),r==null||r(F.nodes),s(F.edges)):console.error("Invalid file format")}catch(F){console.error("Error importing flow:",F)}},P.readAsText(I)}},S.click()},p=()=>{t==null||t()},h=()=>{n==null||n()},g=()=>{u()},v=()=>{if(console.log("Organize button clicked!"),console.log("actualNodes:",c),console.log("actualNodes.length:",c.length),c.length<2){console.log("Not enough nodes to organize");return}console.log("Organizing",c.length,"nodes");const S=400,C=420,I=150,T=150,P=4,E=new Map,A=new Map,F=new Map;c.forEach(z=>{E.set(z.id,[]),F.set(z.id,0)}),i.forEach(z=>{const V=E.get(z.source)||[];V.push(z.target),E.set(z.source,V),A.set(z.target,z.source);const B=F.get(z.target)||0;F.set(z.target,B+1)}),console.log("Parent-child relationships:",{children:E,parents:A});const L=c.filter(z=>(F.get(z.id)||0)===0);L.length===0&&c.length>0&&L.push(c[0]),console.log("Root nodes:",L.map(z=>z.id));const x=new Map,j=new Map,k=new Set;let O=0;const $=[];for(L.forEach(z=>{$.push({node:z,level:0}),x.set(z.id,0)});$.length>0;){const{node:z,level:V}=$.shift();if(k.has(z.id))continue;k.add(z.id),O=Math.max(O,V);const B=j.get(V)||[];B.push(z),j.set(V,B),(E.get(z.id)||[]).forEach(q=>{const W=c.find(G=>G.id===q);W&&!k.has(q)&&($.push({node:W,level:V+1}),x.set(q,V+1))})}console.log("Nodes by level:",j);const _=[];for(let z=0;z<=O;z++){const V=j.get(z)||[];_.push(...V)}const M=c.filter(z=>!k.has(z.id));_.push(...M),console.log("Ordered nodes:",_.map(z=>z.id));const D=_.map((z,V)=>{const B=Math.floor(V/P),Q=V%P,q=Math.min(_.length,P),G=(Math.min(_.length-B*P,P)-1)*S,Z=(q-1)*S,se={x:I+(Z-G)/2+Q*S,y:T+B*C};return console.log(`Node ${z.id} (index ${V}): row ${B}, col ${Q} -> position ${se.x},${se.y}`),{...z,position:se}});console.log("Updated nodes:",D),window.flowCanvasSetBulkUpdate?(window.flowCanvasSetBulkUpdate(),console.log("Bulk update flag set")):console.log("flowCanvasSetBulkUpdate not found on window"),setTimeout(()=>{console.log("About to call setNodes..."),a(D),console.log("setNodes called"),r&&(console.log("Also calling onSetNodes callback..."),r(D)),console.log("Organization complete!")},50)};return y.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 bg-white border-b border-gray-200",children:[y.jsx("div",{className:"flex items-center gap-1",children:y.jsxs("button",{onClick:v,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors text-sm font-medium w-[140px] h-10",title:"Organize nodes in a hierarchical layout",children:[y.jsx(p_,{size:16}),y.jsx("span",{children:"Organize"})]})}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsxs("button",{onClick:f,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[y.jsx(Jg,{size:16}),y.jsx("span",{children:"Add Question"})]}),y.jsxs("button",{onClick:m,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[y.jsx(t0,{size:16}),y.jsx("span",{children:"Add Answer"})]}),y.jsxs("button",{onClick:N,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[y.jsx(n0,{size:16}),y.jsx("span",{children:"Add Outcome"})]})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsxs("button",{onClick:w,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",children:[y.jsx(e0,{size:16}),y.jsx("span",{children:"Export JSON"})]}),y.jsxs("button",{onClick:b,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",children:[y.jsx(r0,{size:16}),y.jsx("span",{children:"Import JSON"})]}),y.jsxs("button",{onClick:g,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",title:"Propagate path IDs from root nodes to all connected nodes",children:[y.jsx(m_,{size:16}),y.jsx("span",{children:"Propagate Path"})]})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsxs("button",{onClick:p,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-slate-500 text-white rounded-lg hover:bg-slate-600 transition-colors text-sm font-medium w-[140px] h-10",children:[y.jsx(a_,{size:16}),y.jsx("span",{children:"Load Demo"})]}),y.jsxs("button",{onClick:h,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm font-medium w-[140px] h-10",children:[y.jsx(y_,{size:16}),y.jsx("span",{children:"Clear All"})]})]})]})}function C_({onEnterApp:e}){return y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[y.jsxs("div",{className:"relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10"}),y.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"flex items-center justify-center mb-6",children:y.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl shadow-lg",children:y.jsx(c_,{className:"w-8 h-8 text-white"})})}),y.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Question Flow Builder"}),y.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Create interactive questionnaire flows with a powerful visual interface. Design complex decision trees, manage answer variants, and export your work seamlessly."}),y.jsxs("button",{onClick:e,className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[y.jsx(Kf,{className:"w-5 h-5 mr-2"}),"Start Building",y.jsx(qf,{className:"w-5 h-5 ml-2"})]})]})})]}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Powerful Features"}),y.jsx("p",{className:"text-lg text-gray-600",children:"Everything you need to create professional questionnaire flows"})]}),y.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[y.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:y.jsx(f_,{className:"w-6 h-6 text-blue-600"})}),y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Visual Flow Builder"}),y.jsx("p",{className:"text-gray-600",children:"Drag and drop nodes to create complex questionnaire flows. Connect questions, answers, and outcomes with intuitive visual connections."})]}),y.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[y.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:y.jsx(d_,{className:"w-6 h-6 text-green-600"})}),y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Keyboard Shortcuts"}),y.jsx("p",{className:"text-gray-600",children:"Work efficiently with keyboard shortcuts: Tab to create nodes, Delete to remove, Cmd/Ctrl+Z for undo, and more."})]}),y.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[y.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx(r0,{className:"w-3 h-3 text-purple-600"}),y.jsx(e0,{className:"w-3 h-3 text-purple-600"})]})}),y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Import & Export"}),y.jsx("p",{className:"text-gray-600",children:"Import Excel files or JSON flows. Export your work to share or backup. Seamless integration with existing workflows."})]}),y.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[y.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-4",children:y.jsx(u_,{className:"w-6 h-6 text-orange-600"})}),y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Real-time Validation"}),y.jsx("p",{className:"text-gray-600",children:"Instant visual feedback for orphaned nodes, missing connections, and flow integrity issues. Orange highlights show problems."})]}),y.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[y.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mb-4",children:y.jsx(x_,{className:"w-6 h-6 text-indigo-600"})}),y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Smart Path IDs"}),y.jsx("p",{className:"text-gray-600",children:"Automatic generation of hierarchical path IDs (Q1, Q2, A1, A2, E1, E2) for questions, answers, and outcomes."})]}),y.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[y.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center mb-4",children:y.jsx(g_,{className:"w-6 h-6 text-emerald-600"})}),y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Undo/Redo System"}),y.jsx("p",{className:"text-gray-600",children:"50-state history with standard keyboard shortcuts. Never lose your work with comprehensive undo/redo functionality."})]})]})]}),y.jsx("div",{className:"bg-white py-16",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Node Types & Visual Guide"}),y.jsx("p",{className:"text-lg text-gray-600",children:"Understanding the visual language of your flows"})]}),y.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-lg p-6 shadow-lg mb-4 max-w-sm mx-auto",children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[y.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),y.jsx("span",{className:"text-sm font-semibold text-blue-600",children:"Question"})]}),y.jsx("div",{className:"text-sm text-gray-700 mb-3",children:"What is your experience level?"}),y.jsx("div",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full inline-block",children:"Topic-Q1"})]}),y.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[y.jsx(Jg,{className:"w-5 h-5 inline mr-2 text-blue-500"}),"Question Nodes"]}),y.jsx("p",{className:"text-gray-600 text-sm",children:"Blue theme  Single outgoing connection  Contains question text and level information"})]}),y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 rounded-lg p-6 shadow-lg mb-4 max-w-sm mx-auto",children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[y.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),y.jsx("span",{className:"text-sm font-semibold text-purple-600",children:"Answer"})]}),y.jsxs("div",{className:"space-y-2 mb-3",children:[y.jsx("div",{className:"text-xs bg-white rounded px-2 py-1 border",children:"Yes (Score: 1)"}),y.jsx("div",{className:"text-xs bg-white rounded px-2 py-1 border",children:"No (Score: 0)"})]}),y.jsx("div",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full inline-block",children:"Topic-Q1-A1"})]}),y.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[y.jsx(t0,{className:"w-5 h-5 inline mr-2 text-purple-500"}),"Answer Nodes"]}),y.jsx("p",{className:"text-gray-600 text-sm",children:"Purple theme  Multiple variants  Single or multiple choice modes  Scoring system"})]}),y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-lg p-6 shadow-lg mb-4 max-w-sm mx-auto",children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[y.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),y.jsx("span",{className:"text-sm font-semibold text-green-600",children:"Outcome"})]}),y.jsx("div",{className:"text-sm text-gray-700 mb-3",children:"You should explore visual tools..."}),y.jsx("div",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full inline-block",children:"Topic-Q1-A1-E1"})]}),y.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[y.jsx(n0,{className:"w-5 h-5 inline mr-2 text-green-500"}),"Outcome Nodes"]}),y.jsx("p",{className:"text-gray-600 text-sm",children:"Green theme  End points  Contains recommendations  No outgoing connections"})]})]})]})}),y.jsx("div",{className:"bg-gray-50 py-16",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Visual Indicators & Alerts"}),y.jsx("p",{className:"text-lg text-gray-600",children:"Understand what the colors and effects mean"})]}),y.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[y.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[y.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-orange-100 rounded-lg border-2 border-orange-300 ring-2 ring-orange-400 flex items-center justify-center",children:y.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"})}),y.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Orange Glow"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Orphaned nodes or variants missing connections"})]}),y.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[y.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-green-100 rounded-lg border-2 border-green-300 ring-2 ring-green-400 flex items-center justify-center",children:y.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})}),y.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Green Glow"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Selected node and its connected parent/child nodes"})]}),y.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[y.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-blue-100 rounded-lg flex items-center justify-center",children:y.jsx("div",{className:"w-12 h-1 bg-blue-500 rounded shadow-lg",style:{boxShadow:"0 0 8px rgba(37, 99, 235, 0.6)"}})}),y.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Blue Edges"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Connections from selected nodes with blue glow effect"})]}),y.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[y.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gray-100 rounded-lg flex items-center justify-center",children:y.jsx("div",{className:"w-12 h-1 bg-gray-400 rounded"})}),y.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Gray Edges"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Default connection lines between nodes"})]})]})]})}),y.jsx("div",{className:"bg-white py-16",children:y.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Keyboard Shortcuts"}),y.jsx("p",{className:"text-lg text-gray-600",children:"Work faster with these essential shortcuts"})]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Navigation & Selection"}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[y.jsx("span",{className:"text-gray-700",children:"Create linked question"}),y.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Tab"})]}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[y.jsx("span",{className:"text-gray-700",children:"Delete selected node"}),y.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Delete"})]}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[y.jsx("span",{className:"text-gray-700",children:"Deselect all"}),y.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Escape"})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Undo & Redo"}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[y.jsx("span",{className:"text-gray-700",children:"Undo (Windows)"}),y.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Ctrl + Z"})]}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[y.jsx("span",{className:"text-gray-700",children:"Undo (Mac)"}),y.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:" + Z"})]}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[y.jsx("span",{className:"text-gray-700",children:"Redo (Windows)"}),y.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Ctrl + Y"})]}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[y.jsx("span",{className:"text-gray-700",children:"Redo (Mac)"}),y.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:" +  + Z"})]})]})]})]})}),y.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 py-16",children:y.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[y.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Build Your First Flow?"}),y.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Start with our pre-loaded example or create your own from scratch"}),y.jsxs("button",{onClick:e,className:"inline-flex items-center px-8 py-4 bg-white text-blue-600 font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[y.jsx(Kf,{className:"w-5 h-5 mr-2"}),"Launch Flow Builder",y.jsx(qf,{className:"w-5 h-5 ml-2"})]})]})})]})}const I_=[{id:"q1",type:"question",position:{x:100,y:100},data:{pathId:"DEMO-Q1",topic:"DEMO",isRoot:!0,questionText:"What is your experience level with React?",questionLevel:1,elementId:"DEMO",subElementId:"REACT"}},{id:"a1",type:"answer",position:{x:100,y:250},data:{pathId:"DEMO-Q1-A1",answerType:"single",variants:[{id:"var1",text:"Beginner",score:1},{id:"var2",text:"Intermediate",score:2},{id:"var3",text:"Advanced",score:3}]}},{id:"q2",type:"question",position:{x:450,y:100},data:{pathId:"DEMO-Q1-A1-Q2",topic:"DEMO",isRoot:!1,questionText:"Do you prefer TypeScript over JavaScript?",questionLevel:2,elementId:"DEMO",subElementId:"TYPESCRIPT"}},{id:"a2",type:"answer",position:{x:450,y:250},data:{pathId:"DEMO-Q1-A1-Q2-A1",answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}}],b_=[{id:"e1",source:"q1",target:"a1",animated:!0},{id:"e2",source:"a1",target:"q2",sourceHandle:"var2",animated:!0},{id:"e3",source:"q2",target:"a2",animated:!0}],gr={nodes:I_,edges:b_};function P_(){const[e,t]=R.useState(!0),[n,r]=R.useState(!1),o=R.useRef(!1),{nodes:s,addNode:i,setNodes:l,setEdges:a,clearFlow:u}=Se(),c=R.useCallback(async()=>{try{const p=await fetch("/qnatool/flow-Topic-1752233651561.json");if(p.ok){const h=await p.json(),g=new Eu,{nodes:v,edges:S}=g.importFromJson(h);window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),l(v),a(S),console.log("Default flow loaded successfully")}else console.warn("Default flow not found, loading demo data instead"),l(gr.nodes),a(gr.edges)}catch(p){console.error("Error loading default flow:",p),l(gr.nodes),a(gr.edges)}t(!1),r(!0)},[l,a]),d=R.useCallback(p=>{i(p)},[i]),f=R.useCallback(()=>{r(!1),o.current=!0,console.log("Auto-organize completed")},[]),m=R.useCallback(()=>{l(gr.nodes),a(gr.edges),setTimeout(()=>{const{cleanupDuplicateEdges:p}=Se.getState();p()},100)},[l,a]),N=R.useCallback(()=>{u()},[u]),w=R.useCallback(p=>{l(p)},[l]),b=R.useCallback(()=>{t(!0)},[]);return e?y.jsx(C_,{onEnterApp:c}):y.jsxs("div",{className:"h-screen flex flex-col bg-gray-100",children:[y.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-2 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("button",{onClick:b,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:" Back to Home"}),y.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Question Flow Builder"})]}),y.jsxs("div",{className:"text-sm text-gray-500",children:[s.length," nodes  Auto-loaded flow"]})]}),y.jsx(k_,{onAddNode:d,onLoadDemo:m,onClearAll:N,onSetNodes:w,nodes:s}),y.jsx("div",{className:"flex-1",children:y.jsx(jc,{children:y.jsx(__,{shouldAutoOrganize:n&&!o.current,onAutoOrganizeComplete:f})})})]})}aa.createRoot(document.getElementById("root")).render(y.jsx(H.StrictMode,{children:y.jsx(P_,{})}));
