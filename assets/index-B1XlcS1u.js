var W0=Object.defineProperty;var Q0=(e,t,n)=>t in e?W0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var vs=(e,t,n)=>Q0(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function tp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var np={exports:{}},Ui={},rp={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds=Symbol.for("react.element"),q0=Symbol.for("react.portal"),Y0=Symbol.for("react.fragment"),K0=Symbol.for("react.strict_mode"),X0=Symbol.for("react.profiler"),G0=Symbol.for("react.provider"),Z0=Symbol.for("react.context"),J0=Symbol.for("react.forward_ref"),ey=Symbol.for("react.suspense"),ty=Symbol.for("react.memo"),ny=Symbol.for("react.lazy"),Uc=Symbol.iterator;function ry(e){return e===null||typeof e!="object"?null:(e=Uc&&e[Uc]||e["@@iterator"],typeof e=="function"?e:null)}var op={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sp=Object.assign,ip={};function to(e,t,n){this.props=e,this.context=t,this.refs=ip,this.updater=n||op}to.prototype.isReactComponent={};to.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};to.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lp(){}lp.prototype=to.prototype;function Cu(e,t,n){this.props=e,this.context=t,this.refs=ip,this.updater=n||op}var ju=Cu.prototype=new lp;ju.constructor=Cu;sp(ju,to.prototype);ju.isPureReactComponent=!0;var Wc=Array.isArray,ap=Object.prototype.hasOwnProperty,Iu={current:null},up={key:!0,ref:!0,__self:!0,__source:!0};function cp(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)ap.call(t,r)&&!up.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:ds,type:e,key:s,ref:i,props:o,_owner:Iu.current}}function oy(e,t){return{$$typeof:ds,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ds}function sy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qc=/\/+/g;function El(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sy(""+e.key):t.toString(36)}function Qs(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ds:case q0:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+El(i,0):r,Wc(o)?(n="",e!=null&&(n=e.replace(Qc,"$&/")+"/"),Qs(o,t,n,"",function(u){return u})):o!=null&&(Pu(o)&&(o=oy(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Qc,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Wc(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+El(s,l);i+=Qs(s,t,n,a,o)}else if(a=ry(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+El(s,l++),i+=Qs(s,t,n,a,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ws(e,t,n){if(e==null)return e;var r=[],o=0;return Qs(e,r,"","",function(s){return t.call(n,s,o++)}),r}function iy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},qs={transition:null},ly={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:qs,ReactCurrentOwner:Iu};function dp(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:ws,forEach:function(e,t,n){ws(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ws(e,function(){t++}),t},toArray:function(e){return ws(e,function(t){return t})||[]},only:function(e){if(!Pu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=to;se.Fragment=Y0;se.Profiler=X0;se.PureComponent=Cu;se.StrictMode=K0;se.Suspense=ey;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ly;se.act=dp;se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sp({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Iu.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)ap.call(t,a)&&!up.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ds,type:e.type,key:o,ref:s,props:r,_owner:i}};se.createContext=function(e){return e={$$typeof:Z0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:G0,_context:e},e.Consumer=e};se.createElement=cp;se.createFactory=function(e){var t=cp.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:J0,render:e}};se.isValidElement=Pu;se.lazy=function(e){return{$$typeof:ny,_payload:{_status:-1,_result:e},_init:iy}};se.memo=function(e,t){return{$$typeof:ty,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=qs.transition;qs.transition={};try{e()}finally{qs.transition=t}};se.unstable_act=dp;se.useCallback=function(e,t){return Be.current.useCallback(e,t)};se.useContext=function(e){return Be.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};se.useEffect=function(e,t){return Be.current.useEffect(e,t)};se.useId=function(){return Be.current.useId()};se.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return Be.current.useMemo(e,t)};se.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};se.useRef=function(e){return Be.current.useRef(e)};se.useState=function(e){return Be.current.useState(e)};se.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};se.useTransition=function(){return Be.current.useTransition()};se.version="18.3.1";rp.exports=se;var M=rp.exports;const V=tp(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay=M,uy=Symbol.for("react.element"),cy=Symbol.for("react.fragment"),dy=Object.prototype.hasOwnProperty,fy=ay.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,py={key:!0,ref:!0,__self:!0,__source:!0};function fp(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)dy.call(t,r)&&!py.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:uy,type:e,key:s,ref:i,props:o,_owner:fy.current}}Ui.Fragment=cy;Ui.jsx=fp;Ui.jsxs=fp;np.exports=Ui;var c=np.exports,da={},pp={exports:{}},st={},hp={exports:{}},mp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,E){var T=C.length;C.push(E);e:for(;0<T;){var R=T-1>>>1,k=C[R];if(0<o(k,E))C[R]=E,C[T]=k,T=R;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var E=C[0],T=C.pop();if(T!==E){C[0]=T;e:for(var R=0,k=C.length,L=k>>>1;R<L;){var D=2*(R+1)-1,H=C[D],W=D+1,Q=C[W];if(0>o(H,T))W<k&&0>o(Q,H)?(C[R]=Q,C[W]=T,R=W):(C[R]=H,C[D]=T,R=D);else if(W<k&&0>o(Q,T))C[R]=Q,C[W]=T,R=W;else break e}}return E}function o(C,E){var T=C.sortIndex-E.sortIndex;return T!==0?T:C.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var a=[],u=[],f=1,d=null,p=3,h=!1,N=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(C){for(var E=n(u);E!==null;){if(E.callback===null)r(u);else if(E.startTime<=C)r(u),E.sortIndex=E.expirationTime,t(a,E);else break;E=n(u)}}function x(C){if(v=!1,y(C),!N)if(n(a)!==null)N=!0,j(S);else{var E=n(u);E!==null&&O(x,E.startTime-C)}}function S(C,E){N=!1,v&&(v=!1,m(I),I=-1),h=!0;var T=p;try{for(y(E),d=n(a);d!==null&&(!(d.expirationTime>E)||C&&!B());){var R=d.callback;if(typeof R=="function"){d.callback=null,p=d.priorityLevel;var k=R(d.expirationTime<=E);E=e.unstable_now(),typeof k=="function"?d.callback=k:d===n(a)&&r(a),y(E)}else r(a);d=n(a)}if(d!==null)var L=!0;else{var D=n(u);D!==null&&O(x,D.startTime-E),L=!1}return L}finally{d=null,p=T,h=!1}}var P=!1,$=null,I=-1,b=5,F=-1;function B(){return!(e.unstable_now()-F<b)}function U(){if($!==null){var C=e.unstable_now();F=C;var E=!0;try{E=$(!0,C)}finally{E?A():(P=!1,$=null)}}else P=!1}var A;if(typeof g=="function")A=function(){g(U)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,z=w.port2;w.port1.onmessage=U,A=function(){z.postMessage(null)}}else A=function(){_(U,0)};function j(C){$=C,P||(P=!0,A())}function O(C,E){I=_(function(){C(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){N||h||(N=!0,j(S))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(C){switch(p){case 1:case 2:case 3:var E=3;break;default:E=p}var T=p;p=E;try{return C()}finally{p=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,E){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var T=p;p=C;try{return E()}finally{p=T}},e.unstable_scheduleCallback=function(C,E,T){var R=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?R+T:R):T=R,C){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=T+k,C={id:f++,callback:E,priorityLevel:C,startTime:T,expirationTime:k,sortIndex:-1},T>R?(C.sortIndex=T,t(u,C),n(a)===null&&C===n(u)&&(v?(m(I),I=-1):v=!0,O(x,T-R))):(C.sortIndex=k,t(a,C),N||h||(N=!0,j(S))),C},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(C){var E=p;return function(){var T=p;p=E;try{return C.apply(this,arguments)}finally{p=T}}}})(mp);hp.exports=mp;var hy=hp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my=M,tt=hy;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gp=new Set,Oo={};function ur(e,t){Vr(e,t),Vr(e+"Capture",t)}function Vr(e,t){for(Oo[e]=t,e=0;e<t.length;e++)gp.add(t[e])}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fa=Object.prototype.hasOwnProperty,gy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qc={},Yc={};function yy(e){return fa.call(Yc,e)?!0:fa.call(qc,e)?!1:gy.test(e)?Yc[e]=!0:(qc[e]=!0,!1)}function xy(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vy(e,t,n,r){if(t===null||typeof t>"u"||xy(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ue(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new Ue(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new Ue(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new Ue(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new Ue(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new Ue(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new Ue(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new Ue(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new Ue(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new Ue(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tu=/[\-:]([a-z])/g;function $u(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tu,$u);Ae[t]=new Ue(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tu,$u);Ae[t]=new Ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tu,$u);Ae[t]=new Ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new Ue(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new Ue(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mu(e,t,n,r){var o=Ae.hasOwnProperty(t)?Ae[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vy(t,n,o,r)&&(n=null),r||o===null?yy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var nn=my.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ns=Symbol.for("react.element"),wr=Symbol.for("react.portal"),Nr=Symbol.for("react.fragment"),Au=Symbol.for("react.strict_mode"),pa=Symbol.for("react.profiler"),yp=Symbol.for("react.provider"),xp=Symbol.for("react.context"),zu=Symbol.for("react.forward_ref"),ha=Symbol.for("react.suspense"),ma=Symbol.for("react.suspense_list"),Ru=Symbol.for("react.memo"),sn=Symbol.for("react.lazy"),vp=Symbol.for("react.offscreen"),Kc=Symbol.iterator;function lo(e){return e===null||typeof e!="object"?null:(e=Kc&&e[Kc]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,kl;function So(e){if(kl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kl=t&&t[1]||""}return`
`+kl+e}var _l=!1;function bl(e,t){if(!e||_l)return"";_l=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,l=s.length-1;1<=i&&0<=l&&o[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==s[l]){var a=`
`+o[i].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=i&&0<=l);break}}}finally{_l=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?So(e):""}function wy(e){switch(e.tag){case 5:return So(e.type);case 16:return So("Lazy");case 13:return So("Suspense");case 19:return So("SuspenseList");case 0:case 2:case 15:return e=bl(e.type,!1),e;case 11:return e=bl(e.type.render,!1),e;case 1:return e=bl(e.type,!0),e;default:return""}}function ga(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nr:return"Fragment";case wr:return"Portal";case pa:return"Profiler";case Au:return"StrictMode";case ha:return"Suspense";case ma:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xp:return(e.displayName||"Context")+".Consumer";case yp:return(e._context.displayName||"Context")+".Provider";case zu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ru:return t=e.displayName||null,t!==null?t:ga(e.type)||"Memo";case sn:t=e._payload,e=e._init;try{return ga(e(t))}catch{}}return null}function Ny(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ga(t);case 8:return t===Au?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sy(e){var t=wp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ss(e){e._valueTracker||(e._valueTracker=Sy(e))}function Np(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ya(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Xc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Cn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Sp(e,t){t=t.checked,t!=null&&Mu(e,"checked",t,!1)}function xa(e,t){Sp(e,t);var n=Cn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?va(e,t.type,n):t.hasOwnProperty("defaultValue")&&va(e,t.type,Cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function va(e,t,n){(t!=="number"||ai(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Eo=Array.isArray;function Mr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Cn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function wa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(Eo(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Cn(n)}}function Ep(e,t){var n=Cn(t.value),r=Cn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Jc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Na(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Es,_p=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Es=Es||document.createElement("div"),Es.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Es.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ey=["Webkit","ms","Moz","O"];Object.keys(Io).forEach(function(e){Ey.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Io[t]=Io[e]})});function bp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Io.hasOwnProperty(e)&&Io[e]?(""+t).trim():t+"px"}function Cp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=bp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var ky=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sa(e,t){if(t){if(ky[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Ea(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ka=null;function Du(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _a=null,Ar=null,zr=null;function ed(e){if(e=hs(e)){if(typeof _a!="function")throw Error(q(280));var t=e.stateNode;t&&(t=Ki(t),_a(e.stateNode,e.type,t))}}function jp(e){Ar?zr?zr.push(e):zr=[e]:Ar=e}function Ip(){if(Ar){var e=Ar,t=zr;if(zr=Ar=null,ed(e),t)for(e=0;e<t.length;e++)ed(t[e])}}function Pp(e,t){return e(t)}function Tp(){}var Cl=!1;function $p(e,t,n){if(Cl)return e(t,n);Cl=!0;try{return Pp(e,t,n)}finally{Cl=!1,(Ar!==null||zr!==null)&&(Tp(),Ip())}}function Fo(e,t){var n=e.stateNode;if(n===null)return null;var r=Ki(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var ba=!1;if(Xt)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){ba=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{ba=!1}function _y(e,t,n,r,o,s,i,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Po=!1,ui=null,ci=!1,Ca=null,by={onError:function(e){Po=!0,ui=e}};function Cy(e,t,n,r,o,s,i,l,a){Po=!1,ui=null,_y.apply(by,arguments)}function jy(e,t,n,r,o,s,i,l,a){if(Cy.apply(this,arguments),Po){if(Po){var u=ui;Po=!1,ui=null}else throw Error(q(198));ci||(ci=!0,Ca=u)}}function cr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Mp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function td(e){if(cr(e)!==e)throw Error(q(188))}function Iy(e){var t=e.alternate;if(!t){if(t=cr(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return td(o),e;if(s===r)return td(o),t;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function Ap(e){return e=Iy(e),e!==null?zp(e):null}function zp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zp(e);if(t!==null)return t;e=e.sibling}return null}var Rp=tt.unstable_scheduleCallback,nd=tt.unstable_cancelCallback,Py=tt.unstable_shouldYield,Ty=tt.unstable_requestPaint,Ee=tt.unstable_now,$y=tt.unstable_getCurrentPriorityLevel,Ou=tt.unstable_ImmediatePriority,Dp=tt.unstable_UserBlockingPriority,di=tt.unstable_NormalPriority,My=tt.unstable_LowPriority,Op=tt.unstable_IdlePriority,Wi=null,zt=null;function Ay(e){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Wi,e,void 0,(e.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:Dy,zy=Math.log,Ry=Math.LN2;function Dy(e){return e>>>=0,e===0?32:31-(zy(e)/Ry|0)|0}var ks=64,_s=4194304;function ko(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~o;l!==0?r=ko(l):(s&=i,s!==0&&(r=ko(s)))}else i=n&~o,i!==0?r=ko(i):s!==0&&(r=ko(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-bt(t),o=1<<n,r|=e[n],t&=~o;return r}function Oy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ly(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-bt(s),l=1<<i,a=o[i];a===-1?(!(l&n)||l&r)&&(o[i]=Oy(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function ja(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lp(){var e=ks;return ks<<=1,!(ks&4194240)&&(ks=64),e}function jl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bt(t),e[t]=n}function Fy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-bt(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Lu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ue=0;function Fp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hp,Fu,Vp,Bp,Up,Ia=!1,bs=[],yn=null,xn=null,vn=null,Ho=new Map,Vo=new Map,cn=[],Hy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rd(e,t){switch(e){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":Ho.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(t.pointerId)}}function uo(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=hs(t),t!==null&&Fu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Vy(e,t,n,r,o){switch(t){case"focusin":return yn=uo(yn,e,t,n,r,o),!0;case"dragenter":return xn=uo(xn,e,t,n,r,o),!0;case"mouseover":return vn=uo(vn,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Ho.set(s,uo(Ho.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Vo.set(s,uo(Vo.get(s)||null,e,t,n,r,o)),!0}return!1}function Wp(e){var t=Qn(e.target);if(t!==null){var n=cr(t);if(n!==null){if(t=n.tag,t===13){if(t=Mp(n),t!==null){e.blockedOn=t,Up(e.priority,function(){Vp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ka=r,n.target.dispatchEvent(r),ka=null}else return t=hs(n),t!==null&&Fu(t),e.blockedOn=n,!1;t.shift()}return!0}function od(e,t,n){Ys(e)&&n.delete(t)}function By(){Ia=!1,yn!==null&&Ys(yn)&&(yn=null),xn!==null&&Ys(xn)&&(xn=null),vn!==null&&Ys(vn)&&(vn=null),Ho.forEach(od),Vo.forEach(od)}function co(e,t){e.blockedOn===t&&(e.blockedOn=null,Ia||(Ia=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,By)))}function Bo(e){function t(o){return co(o,e)}if(0<bs.length){co(bs[0],e);for(var n=1;n<bs.length;n++){var r=bs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yn!==null&&co(yn,e),xn!==null&&co(xn,e),vn!==null&&co(vn,e),Ho.forEach(t),Vo.forEach(t),n=0;n<cn.length;n++)r=cn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cn.length&&(n=cn[0],n.blockedOn===null);)Wp(n),n.blockedOn===null&&cn.shift()}var Rr=nn.ReactCurrentBatchConfig,pi=!0;function Uy(e,t,n,r){var o=ue,s=Rr.transition;Rr.transition=null;try{ue=1,Hu(e,t,n,r)}finally{ue=o,Rr.transition=s}}function Wy(e,t,n,r){var o=ue,s=Rr.transition;Rr.transition=null;try{ue=4,Hu(e,t,n,r)}finally{ue=o,Rr.transition=s}}function Hu(e,t,n,r){if(pi){var o=Pa(e,t,n,r);if(o===null)Ol(e,t,r,hi,n),rd(e,r);else if(Vy(o,e,t,n,r))r.stopPropagation();else if(rd(e,r),t&4&&-1<Hy.indexOf(e)){for(;o!==null;){var s=hs(o);if(s!==null&&Hp(s),s=Pa(e,t,n,r),s===null&&Ol(e,t,r,hi,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Ol(e,t,r,null,n)}}var hi=null;function Pa(e,t,n,r){if(hi=null,e=Du(r),e=Qn(e),e!==null)if(t=cr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Mp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hi=e,null}function Qp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($y()){case Ou:return 1;case Dp:return 4;case di:case My:return 16;case Op:return 536870912;default:return 16}default:return 16}}var pn=null,Vu=null,Ks=null;function qp(){if(Ks)return Ks;var e,t=Vu,n=t.length,r,o="value"in pn?pn.value:pn.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return Ks=o.slice(e,1<r?1-r:void 0)}function Xs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cs(){return!0}function sd(){return!1}function it(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cs:sd,this.isPropagationStopped=sd,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),t}var no={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bu=it(no),ps=ve({},no,{view:0,detail:0}),Qy=it(ps),Il,Pl,fo,Qi=ve({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fo&&(fo&&e.type==="mousemove"?(Il=e.screenX-fo.screenX,Pl=e.screenY-fo.screenY):Pl=Il=0,fo=e),Il)},movementY:function(e){return"movementY"in e?e.movementY:Pl}}),id=it(Qi),qy=ve({},Qi,{dataTransfer:0}),Yy=it(qy),Ky=ve({},ps,{relatedTarget:0}),Tl=it(Ky),Xy=ve({},no,{animationName:0,elapsedTime:0,pseudoElement:0}),Gy=it(Xy),Zy=ve({},no,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jy=it(Zy),ex=ve({},no,{data:0}),ld=it(ex),tx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ox(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rx[e])?!!t[e]:!1}function Uu(){return ox}var sx=ve({},ps,{key:function(e){if(e.key){var t=tx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uu,charCode:function(e){return e.type==="keypress"?Xs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ix=it(sx),lx=ve({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ad=it(lx),ax=ve({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uu}),ux=it(ax),cx=ve({},no,{propertyName:0,elapsedTime:0,pseudoElement:0}),dx=it(cx),fx=ve({},Qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),px=it(fx),hx=[9,13,27,32],Wu=Xt&&"CompositionEvent"in window,To=null;Xt&&"documentMode"in document&&(To=document.documentMode);var mx=Xt&&"TextEvent"in window&&!To,Yp=Xt&&(!Wu||To&&8<To&&11>=To),ud=" ",cd=!1;function Kp(e,t){switch(e){case"keyup":return hx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sr=!1;function gx(e,t){switch(e){case"compositionend":return Xp(t);case"keypress":return t.which!==32?null:(cd=!0,ud);case"textInput":return e=t.data,e===ud&&cd?null:e;default:return null}}function yx(e,t){if(Sr)return e==="compositionend"||!Wu&&Kp(e,t)?(e=qp(),Ks=Vu=pn=null,Sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yp&&t.locale!=="ko"?null:t.data;default:return null}}var xx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xx[e.type]:t==="textarea"}function Gp(e,t,n,r){jp(r),t=mi(t,"onChange"),0<t.length&&(n=new Bu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $o=null,Uo=null;function vx(e){ah(e,0)}function qi(e){var t=_r(e);if(Np(t))return e}function wx(e,t){if(e==="change")return t}var Zp=!1;if(Xt){var $l;if(Xt){var Ml="oninput"in document;if(!Ml){var fd=document.createElement("div");fd.setAttribute("oninput","return;"),Ml=typeof fd.oninput=="function"}$l=Ml}else $l=!1;Zp=$l&&(!document.documentMode||9<document.documentMode)}function pd(){$o&&($o.detachEvent("onpropertychange",Jp),Uo=$o=null)}function Jp(e){if(e.propertyName==="value"&&qi(Uo)){var t=[];Gp(t,Uo,e,Du(e)),$p(vx,t)}}function Nx(e,t,n){e==="focusin"?(pd(),$o=t,Uo=n,$o.attachEvent("onpropertychange",Jp)):e==="focusout"&&pd()}function Sx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qi(Uo)}function Ex(e,t){if(e==="click")return qi(t)}function kx(e,t){if(e==="input"||e==="change")return qi(t)}function _x(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:_x;function Wo(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!fa.call(t,o)||!jt(e[o],t[o]))return!1}return!0}function hd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function md(e,t){var n=hd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hd(n)}}function eh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function th(){for(var e=window,t=ai();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ai(e.document)}return t}function Qu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bx(e){var t=th(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&eh(n.ownerDocument.documentElement,n)){if(r!==null&&Qu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=md(n,s);var i=md(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cx=Xt&&"documentMode"in document&&11>=document.documentMode,Er=null,Ta=null,Mo=null,$a=!1;function gd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$a||Er==null||Er!==ai(r)||(r=Er,"selectionStart"in r&&Qu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mo&&Wo(Mo,r)||(Mo=r,r=mi(Ta,"onSelect"),0<r.length&&(t=new Bu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Er)))}function js(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionend:js("Transition","TransitionEnd")},Al={},nh={};Xt&&(nh=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function Yi(e){if(Al[e])return Al[e];if(!kr[e])return e;var t=kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in nh)return Al[e]=t[n];return e}var rh=Yi("animationend"),oh=Yi("animationiteration"),sh=Yi("animationstart"),ih=Yi("transitionend"),lh=new Map,yd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){lh.set(e,t),ur(t,[e])}for(var zl=0;zl<yd.length;zl++){var Rl=yd[zl],jx=Rl.toLowerCase(),Ix=Rl[0].toUpperCase()+Rl.slice(1);Pn(jx,"on"+Ix)}Pn(rh,"onAnimationEnd");Pn(oh,"onAnimationIteration");Pn(sh,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(ih,"onTransitionEnd");Vr("onMouseEnter",["mouseout","mouseover"]);Vr("onMouseLeave",["mouseout","mouseover"]);Vr("onPointerEnter",["pointerout","pointerover"]);Vr("onPointerLeave",["pointerout","pointerover"]);ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Px=new Set("cancel close invalid load scroll toggle".split(" ").concat(_o));function xd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,jy(r,t,void 0,e),e.currentTarget=null}function ah(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&o.isPropagationStopped())break e;xd(o,l,u),s=a}else for(i=0;i<r.length;i++){if(l=r[i],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&o.isPropagationStopped())break e;xd(o,l,u),s=a}}}if(ci)throw e=Ca,ci=!1,Ca=null,e}function he(e,t){var n=t[Da];n===void 0&&(n=t[Da]=new Set);var r=e+"__bubble";n.has(r)||(uh(t,e,2,!1),n.add(r))}function Dl(e,t,n){var r=0;t&&(r|=4),uh(n,e,r,t)}var Is="_reactListening"+Math.random().toString(36).slice(2);function Qo(e){if(!e[Is]){e[Is]=!0,gp.forEach(function(n){n!=="selectionchange"&&(Px.has(n)||Dl(n,!1,e),Dl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Is]||(t[Is]=!0,Dl("selectionchange",!1,t))}}function uh(e,t,n,r){switch(Qp(t)){case 1:var o=Uy;break;case 4:o=Wy;break;default:o=Hu}n=o.bind(null,t,n,e),o=void 0,!ba||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ol(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var a=i.tag;if((a===3||a===4)&&(a=i.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;i=i.return}for(;l!==null;){if(i=Qn(l),i===null)return;if(a=i.tag,a===5||a===6){r=s=i;continue e}l=l.parentNode}}r=r.return}$p(function(){var u=s,f=Du(n),d=[];e:{var p=lh.get(e);if(p!==void 0){var h=Bu,N=e;switch(e){case"keypress":if(Xs(n)===0)break e;case"keydown":case"keyup":h=ix;break;case"focusin":N="focus",h=Tl;break;case"focusout":N="blur",h=Tl;break;case"beforeblur":case"afterblur":h=Tl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Yy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=ux;break;case rh:case oh:case sh:h=Gy;break;case ih:h=dx;break;case"scroll":h=Qy;break;case"wheel":h=px;break;case"copy":case"cut":case"paste":h=Jy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=ad}var v=(t&4)!==0,_=!v&&e==="scroll",m=v?p!==null?p+"Capture":null:p;v=[];for(var g=u,y;g!==null;){y=g;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,m!==null&&(x=Fo(g,m),x!=null&&v.push(qo(g,x,y)))),_)break;g=g.return}0<v.length&&(p=new h(p,N,null,n,f),d.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==ka&&(N=n.relatedTarget||n.fromElement)&&(Qn(N)||N[Gt]))break e;if((h||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,h?(N=n.relatedTarget||n.toElement,h=u,N=N?Qn(N):null,N!==null&&(_=cr(N),N!==_||N.tag!==5&&N.tag!==6)&&(N=null)):(h=null,N=u),h!==N)){if(v=id,x="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=ad,x="onPointerLeave",m="onPointerEnter",g="pointer"),_=h==null?p:_r(h),y=N==null?p:_r(N),p=new v(x,g+"leave",h,n,f),p.target=_,p.relatedTarget=y,x=null,Qn(f)===u&&(v=new v(m,g+"enter",N,n,f),v.target=y,v.relatedTarget=_,x=v),_=x,h&&N)t:{for(v=h,m=N,g=0,y=v;y;y=hr(y))g++;for(y=0,x=m;x;x=hr(x))y++;for(;0<g-y;)v=hr(v),g--;for(;0<y-g;)m=hr(m),y--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=hr(v),m=hr(m)}v=null}else v=null;h!==null&&vd(d,p,h,v,!1),N!==null&&_!==null&&vd(d,_,N,v,!0)}}e:{if(p=u?_r(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var S=wx;else if(dd(p))if(Zp)S=kx;else{S=Sx;var P=Nx}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=Ex);if(S&&(S=S(e,u))){Gp(d,S,n,f);break e}P&&P(e,p,u),e==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&va(p,"number",p.value)}switch(P=u?_r(u):window,e){case"focusin":(dd(P)||P.contentEditable==="true")&&(Er=P,Ta=u,Mo=null);break;case"focusout":Mo=Ta=Er=null;break;case"mousedown":$a=!0;break;case"contextmenu":case"mouseup":case"dragend":$a=!1,gd(d,n,f);break;case"selectionchange":if(Cx)break;case"keydown":case"keyup":gd(d,n,f)}var $;if(Wu)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Sr?Kp(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Yp&&n.locale!=="ko"&&(Sr||I!=="onCompositionStart"?I==="onCompositionEnd"&&Sr&&($=qp()):(pn=f,Vu="value"in pn?pn.value:pn.textContent,Sr=!0)),P=mi(u,I),0<P.length&&(I=new ld(I,e,null,n,f),d.push({event:I,listeners:P}),$?I.data=$:($=Xp(n),$!==null&&(I.data=$)))),($=mx?gx(e,n):yx(e,n))&&(u=mi(u,"onBeforeInput"),0<u.length&&(f=new ld("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=$))}ah(d,t)})}function qo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function mi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Fo(e,n),s!=null&&r.unshift(qo(e,s,o)),s=Fo(e,t),s!=null&&r.push(qo(e,s,o))),e=e.return}return r}function hr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vd(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=Fo(n,s),a!=null&&i.unshift(qo(n,a,l))):o||(a=Fo(n,s),a!=null&&i.push(qo(n,a,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Tx=/\r\n?/g,$x=/\u0000|\uFFFD/g;function wd(e){return(typeof e=="string"?e:""+e).replace(Tx,`
`).replace($x,"")}function Ps(e,t,n){if(t=wd(t),wd(e)!==t&&n)throw Error(q(425))}function gi(){}var Ma=null,Aa=null;function za(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ra=typeof setTimeout=="function"?setTimeout:void 0,Mx=typeof clearTimeout=="function"?clearTimeout:void 0,Nd=typeof Promise=="function"?Promise:void 0,Ax=typeof queueMicrotask=="function"?queueMicrotask:typeof Nd<"u"?function(e){return Nd.resolve(null).then(e).catch(zx)}:Ra;function zx(e){setTimeout(function(){throw e})}function Ll(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Bo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Bo(t)}function wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ro=Math.random().toString(36).slice(2),At="__reactFiber$"+ro,Yo="__reactProps$"+ro,Gt="__reactContainer$"+ro,Da="__reactEvents$"+ro,Rx="__reactListeners$"+ro,Dx="__reactHandles$"+ro;function Qn(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gt]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Sd(e);e!==null;){if(n=e[At])return n;e=Sd(e)}return t}e=n,n=e.parentNode}return null}function hs(e){return e=e[At]||e[Gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function Ki(e){return e[Yo]||null}var Oa=[],br=-1;function Tn(e){return{current:e}}function me(e){0>br||(e.current=Oa[br],Oa[br]=null,br--)}function fe(e,t){br++,Oa[br]=e.current,e.current=t}var jn={},Fe=Tn(jn),Ye=Tn(!1),tr=jn;function Br(e,t){var n=e.type.contextTypes;if(!n)return jn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ke(e){return e=e.childContextTypes,e!=null}function yi(){me(Ye),me(Fe)}function Ed(e,t,n){if(Fe.current!==jn)throw Error(q(168));fe(Fe,t),fe(Ye,n)}function ch(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(q(108,Ny(e)||"Unknown",o));return ve({},n,r)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,tr=Fe.current,fe(Fe,e),fe(Ye,Ye.current),!0}function kd(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=ch(e,t,tr),r.__reactInternalMemoizedMergedChildContext=e,me(Ye),me(Fe),fe(Fe,e)):me(Ye),fe(Ye,n)}var Bt=null,Xi=!1,Fl=!1;function dh(e){Bt===null?Bt=[e]:Bt.push(e)}function Ox(e){Xi=!0,dh(e)}function $n(){if(!Fl&&Bt!==null){Fl=!0;var e=0,t=ue;try{var n=Bt;for(ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bt=null,Xi=!1}catch(o){throw Bt!==null&&(Bt=Bt.slice(e+1)),Rp(Ou,$n),o}finally{ue=t,Fl=!1}}return null}var Cr=[],jr=0,vi=null,wi=0,lt=[],at=0,nr=null,Ut=1,Wt="";function Hn(e,t){Cr[jr++]=wi,Cr[jr++]=vi,vi=e,wi=t}function fh(e,t,n){lt[at++]=Ut,lt[at++]=Wt,lt[at++]=nr,nr=e;var r=Ut;e=Wt;var o=32-bt(r)-1;r&=~(1<<o),n+=1;var s=32-bt(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Ut=1<<32-bt(t)+o|n<<o|r,Wt=s+e}else Ut=1<<s|n<<o|r,Wt=e}function qu(e){e.return!==null&&(Hn(e,1),fh(e,1,0))}function Yu(e){for(;e===vi;)vi=Cr[--jr],Cr[jr]=null,wi=Cr[--jr],Cr[jr]=null;for(;e===nr;)nr=lt[--at],lt[at]=null,Wt=lt[--at],lt[at]=null,Ut=lt[--at],lt[at]=null}var et=null,Je=null,ge=!1,St=null;function ph(e,t){var n=dt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _d(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,et=e,Je=wn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,et=e,Je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=nr!==null?{id:Ut,overflow:Wt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,et=e,Je=null,!0):!1;default:return!1}}function La(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fa(e){if(ge){var t=Je;if(t){var n=t;if(!_d(e,t)){if(La(e))throw Error(q(418));t=wn(n.nextSibling);var r=et;t&&_d(e,t)?ph(r,n):(e.flags=e.flags&-4097|2,ge=!1,et=e)}}else{if(La(e))throw Error(q(418));e.flags=e.flags&-4097|2,ge=!1,et=e}}}function bd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;et=e}function Ts(e){if(e!==et)return!1;if(!ge)return bd(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!za(e.type,e.memoizedProps)),t&&(t=Je)){if(La(e))throw hh(),Error(q(418));for(;t;)ph(e,t),t=wn(t.nextSibling)}if(bd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Je=wn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Je=null}}else Je=et?wn(e.stateNode.nextSibling):null;return!0}function hh(){for(var e=Je;e;)e=wn(e.nextSibling)}function Ur(){Je=et=null,ge=!1}function Ku(e){St===null?St=[e]:St.push(e)}var Lx=nn.ReactCurrentBatchConfig;function po(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=o.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function $s(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cd(e){var t=e._init;return t(e._payload)}function mh(e){function t(m,g){if(e){var y=m.deletions;y===null?(m.deletions=[g],m.flags|=16):y.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function o(m,g){return m=kn(m,g),m.index=0,m.sibling=null,m}function s(m,g,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<g?(m.flags|=2,g):y):(m.flags|=2,g)):(m.flags|=1048576,g)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,g,y,x){return g===null||g.tag!==6?(g=ql(y,m.mode,x),g.return=m,g):(g=o(g,y),g.return=m,g)}function a(m,g,y,x){var S=y.type;return S===Nr?f(m,g,y.props.children,x,y.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===sn&&Cd(S)===g.type)?(x=o(g,y.props),x.ref=po(m,g,y),x.return=m,x):(x=ri(y.type,y.key,y.props,null,m.mode,x),x.ref=po(m,g,y),x.return=m,x)}function u(m,g,y,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Yl(y,m.mode,x),g.return=m,g):(g=o(g,y.children||[]),g.return=m,g)}function f(m,g,y,x,S){return g===null||g.tag!==7?(g=Zn(y,m.mode,x,S),g.return=m,g):(g=o(g,y),g.return=m,g)}function d(m,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ql(""+g,m.mode,y),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ns:return y=ri(g.type,g.key,g.props,null,m.mode,y),y.ref=po(m,null,g),y.return=m,y;case wr:return g=Yl(g,m.mode,y),g.return=m,g;case sn:var x=g._init;return d(m,x(g._payload),y)}if(Eo(g)||lo(g))return g=Zn(g,m.mode,y,null),g.return=m,g;$s(m,g)}return null}function p(m,g,y,x){var S=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(m,g,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ns:return y.key===S?a(m,g,y,x):null;case wr:return y.key===S?u(m,g,y,x):null;case sn:return S=y._init,p(m,g,S(y._payload),x)}if(Eo(y)||lo(y))return S!==null?null:f(m,g,y,x,null);$s(m,y)}return null}function h(m,g,y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(y)||null,l(g,m,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ns:return m=m.get(x.key===null?y:x.key)||null,a(g,m,x,S);case wr:return m=m.get(x.key===null?y:x.key)||null,u(g,m,x,S);case sn:var P=x._init;return h(m,g,y,P(x._payload),S)}if(Eo(x)||lo(x))return m=m.get(y)||null,f(g,m,x,S,null);$s(g,x)}return null}function N(m,g,y,x){for(var S=null,P=null,$=g,I=g=0,b=null;$!==null&&I<y.length;I++){$.index>I?(b=$,$=null):b=$.sibling;var F=p(m,$,y[I],x);if(F===null){$===null&&($=b);break}e&&$&&F.alternate===null&&t(m,$),g=s(F,g,I),P===null?S=F:P.sibling=F,P=F,$=b}if(I===y.length)return n(m,$),ge&&Hn(m,I),S;if($===null){for(;I<y.length;I++)$=d(m,y[I],x),$!==null&&(g=s($,g,I),P===null?S=$:P.sibling=$,P=$);return ge&&Hn(m,I),S}for($=r(m,$);I<y.length;I++)b=h($,m,I,y[I],x),b!==null&&(e&&b.alternate!==null&&$.delete(b.key===null?I:b.key),g=s(b,g,I),P===null?S=b:P.sibling=b,P=b);return e&&$.forEach(function(B){return t(m,B)}),ge&&Hn(m,I),S}function v(m,g,y,x){var S=lo(y);if(typeof S!="function")throw Error(q(150));if(y=S.call(y),y==null)throw Error(q(151));for(var P=S=null,$=g,I=g=0,b=null,F=y.next();$!==null&&!F.done;I++,F=y.next()){$.index>I?(b=$,$=null):b=$.sibling;var B=p(m,$,F.value,x);if(B===null){$===null&&($=b);break}e&&$&&B.alternate===null&&t(m,$),g=s(B,g,I),P===null?S=B:P.sibling=B,P=B,$=b}if(F.done)return n(m,$),ge&&Hn(m,I),S;if($===null){for(;!F.done;I++,F=y.next())F=d(m,F.value,x),F!==null&&(g=s(F,g,I),P===null?S=F:P.sibling=F,P=F);return ge&&Hn(m,I),S}for($=r(m,$);!F.done;I++,F=y.next())F=h($,m,I,F.value,x),F!==null&&(e&&F.alternate!==null&&$.delete(F.key===null?I:F.key),g=s(F,g,I),P===null?S=F:P.sibling=F,P=F);return e&&$.forEach(function(U){return t(m,U)}),ge&&Hn(m,I),S}function _(m,g,y,x){if(typeof y=="object"&&y!==null&&y.type===Nr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ns:e:{for(var S=y.key,P=g;P!==null;){if(P.key===S){if(S=y.type,S===Nr){if(P.tag===7){n(m,P.sibling),g=o(P,y.props.children),g.return=m,m=g;break e}}else if(P.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===sn&&Cd(S)===P.type){n(m,P.sibling),g=o(P,y.props),g.ref=po(m,P,y),g.return=m,m=g;break e}n(m,P);break}else t(m,P);P=P.sibling}y.type===Nr?(g=Zn(y.props.children,m.mode,x,y.key),g.return=m,m=g):(x=ri(y.type,y.key,y.props,null,m.mode,x),x.ref=po(m,g,y),x.return=m,m=x)}return i(m);case wr:e:{for(P=y.key;g!==null;){if(g.key===P)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(m,g.sibling),g=o(g,y.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=Yl(y,m.mode,x),g.return=m,m=g}return i(m);case sn:return P=y._init,_(m,g,P(y._payload),x)}if(Eo(y))return N(m,g,y,x);if(lo(y))return v(m,g,y,x);$s(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(m,g.sibling),g=o(g,y),g.return=m,m=g):(n(m,g),g=ql(y,m.mode,x),g.return=m,m=g),i(m)):n(m,g)}return _}var Wr=mh(!0),gh=mh(!1),Ni=Tn(null),Si=null,Ir=null,Xu=null;function Gu(){Xu=Ir=Si=null}function Zu(e){var t=Ni.current;me(Ni),e._currentValue=t}function Ha(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Dr(e,t){Si=e,Xu=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qe=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(Xu!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(Si===null)throw Error(q(308));Ir=e,Si.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var qn=null;function Ju(e){qn===null?qn=[e]:qn.push(e)}function yh(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Ju(t)):(n.next=o.next,o.next=n),t.interleaved=n,Zt(e,r)}function Zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ln=!1;function ec(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Zt(e,n)}return o=r.interleaved,o===null?(t.next=t,Ju(r)):(t.next=o.next,o.next=t),r.interleaved=t,Zt(e,n)}function Gs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lu(e,n)}}function jd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ei(e,t,n,r){var o=e.updateQueue;ln=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,i===null?s=u:i.next=u,i=a;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==i&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(s!==null){var d=o.baseState;i=0,f=u=a=null,l=s;do{var p=l.lane,h=l.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var N=e,v=l;switch(p=t,h=n,v.tag){case 1:if(N=v.payload,typeof N=="function"){d=N.call(h,d,p);break e}d=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=v.payload,p=typeof N=="function"?N.call(h,d,p):N,p==null)break e;d=ve({},d,p);break e;case 2:ln=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[l]:p.push(l))}else h={eventTime:h,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=h,a=d):f=f.next=h,i|=p;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;p=l,l=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(f===null&&(a=d),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);or|=i,e.lanes=i,e.memoizedState=d}}function Id(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(q(191,o));o.call(r)}}}var ms={},Rt=Tn(ms),Ko=Tn(ms),Xo=Tn(ms);function Yn(e){if(e===ms)throw Error(q(174));return e}function tc(e,t){switch(fe(Xo,t),fe(Ko,e),fe(Rt,ms),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Na(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Na(t,e)}me(Rt),fe(Rt,t)}function Qr(){me(Rt),me(Ko),me(Xo)}function vh(e){Yn(Xo.current);var t=Yn(Rt.current),n=Na(t,e.type);t!==n&&(fe(Ko,e),fe(Rt,n))}function nc(e){Ko.current===e&&(me(Rt),me(Ko))}var ye=Tn(0);function ki(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hl=[];function rc(){for(var e=0;e<Hl.length;e++)Hl[e]._workInProgressVersionPrimary=null;Hl.length=0}var Zs=nn.ReactCurrentDispatcher,Vl=nn.ReactCurrentBatchConfig,rr=0,xe=null,_e=null,Ie=null,_i=!1,Ao=!1,Go=0,Fx=0;function De(){throw Error(q(321))}function oc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function sc(e,t,n,r,o,s){if(rr=s,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zs.current=e===null||e.memoizedState===null?Ux:Wx,e=n(r,o),Ao){s=0;do{if(Ao=!1,Go=0,25<=s)throw Error(q(301));s+=1,Ie=_e=null,t.updateQueue=null,Zs.current=Qx,e=n(r,o)}while(Ao)}if(Zs.current=bi,t=_e!==null&&_e.next!==null,rr=0,Ie=_e=xe=null,_i=!1,t)throw Error(q(300));return e}function ic(){var e=Go!==0;return Go=0,e}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?xe.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function gt(){if(_e===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Ie===null?xe.memoizedState:Ie.next;if(t!==null)Ie=t,_e=e;else{if(e===null)throw Error(q(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Ie===null?xe.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function Zo(e,t){return typeof t=="function"?t(e):t}function Bl(e){var t=gt(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=_e,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var l=i=null,a=null,u=s;do{var f=u.lane;if((rr&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,i=r):a=a.next=d,xe.lanes|=f,or|=f}u=u.next}while(u!==null&&u!==s);a===null?i=r:a.next=l,jt(r,t.memoizedState)||(Qe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,xe.lanes|=s,or|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ul(e){var t=gt(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);jt(s,t.memoizedState)||(Qe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function wh(){}function Nh(e,t){var n=xe,r=gt(),o=t(),s=!jt(r.memoizedState,o);if(s&&(r.memoizedState=o,Qe=!0),r=r.queue,lc(kh.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ie!==null&&Ie.memoizedState.tag&1){if(n.flags|=2048,Jo(9,Eh.bind(null,n,r,o,t),void 0,null),Pe===null)throw Error(q(349));rr&30||Sh(n,t,o)}return o}function Sh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Eh(e,t,n,r){t.value=n,t.getSnapshot=r,_h(t)&&bh(e)}function kh(e,t,n){return n(function(){_h(t)&&bh(e)})}function _h(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function bh(e){var t=Zt(e,1);t!==null&&Ct(t,e,1,-1)}function Pd(e){var t=Mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e},t.queue=e,e=e.dispatch=Bx.bind(null,xe,e),[t.memoizedState,e]}function Jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ch(){return gt().memoizedState}function Js(e,t,n,r){var o=Mt();xe.flags|=e,o.memoizedState=Jo(1|t,n,void 0,r===void 0?null:r)}function Gi(e,t,n,r){var o=gt();r=r===void 0?null:r;var s=void 0;if(_e!==null){var i=_e.memoizedState;if(s=i.destroy,r!==null&&oc(r,i.deps)){o.memoizedState=Jo(t,n,s,r);return}}xe.flags|=e,o.memoizedState=Jo(1|t,n,s,r)}function Td(e,t){return Js(8390656,8,e,t)}function lc(e,t){return Gi(2048,8,e,t)}function jh(e,t){return Gi(4,2,e,t)}function Ih(e,t){return Gi(4,4,e,t)}function Ph(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Th(e,t,n){return n=n!=null?n.concat([e]):null,Gi(4,4,Ph.bind(null,t,e),n)}function ac(){}function $h(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Mh(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ah(e,t,n){return rr&21?(jt(n,t)||(n=Lp(),xe.lanes|=n,or|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=n)}function Hx(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var r=Vl.transition;Vl.transition={};try{e(!1),t()}finally{ue=n,Vl.transition=r}}function zh(){return gt().memoizedState}function Vx(e,t,n){var r=En(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rh(e))Dh(t,n);else if(n=yh(e,t,n,r),n!==null){var o=Ve();Ct(n,e,r,o),Oh(n,t,r)}}function Bx(e,t,n){var r=En(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rh(e))Dh(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,n);if(o.hasEagerState=!0,o.eagerState=l,jt(l,i)){var a=t.interleaved;a===null?(o.next=o,Ju(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=yh(e,t,o,r),n!==null&&(o=Ve(),Ct(n,e,r,o),Oh(n,t,r))}}function Rh(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function Dh(e,t){Ao=_i=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Oh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lu(e,n)}}var bi={readContext:mt,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},Ux={readContext:mt,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:Td,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Js(4194308,4,Ph.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Js(4194308,4,e,t)},useInsertionEffect:function(e,t){return Js(4,2,e,t)},useMemo:function(e,t){var n=Mt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Mt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vx.bind(null,xe,e),[r.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:Pd,useDebugValue:ac,useDeferredValue:function(e){return Mt().memoizedState=e},useTransition:function(){var e=Pd(!1),t=e[0];return e=Hx.bind(null,e[1]),Mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xe,o=Mt();if(ge){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),Pe===null)throw Error(q(349));rr&30||Sh(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Td(kh.bind(null,r,s,e),[e]),r.flags|=2048,Jo(9,Eh.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Mt(),t=Pe.identifierPrefix;if(ge){var n=Wt,r=Ut;n=(r&~(1<<32-bt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Go++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Fx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wx={readContext:mt,useCallback:$h,useContext:mt,useEffect:lc,useImperativeHandle:Th,useInsertionEffect:jh,useLayoutEffect:Ih,useMemo:Mh,useReducer:Bl,useRef:Ch,useState:function(){return Bl(Zo)},useDebugValue:ac,useDeferredValue:function(e){var t=gt();return Ah(t,_e.memoizedState,e)},useTransition:function(){var e=Bl(Zo)[0],t=gt().memoizedState;return[e,t]},useMutableSource:wh,useSyncExternalStore:Nh,useId:zh,unstable_isNewReconciler:!1},Qx={readContext:mt,useCallback:$h,useContext:mt,useEffect:lc,useImperativeHandle:Th,useInsertionEffect:jh,useLayoutEffect:Ih,useMemo:Mh,useReducer:Ul,useRef:Ch,useState:function(){return Ul(Zo)},useDebugValue:ac,useDeferredValue:function(e){var t=gt();return _e===null?t.memoizedState=e:Ah(t,_e.memoizedState,e)},useTransition:function(){var e=Ul(Zo)[0],t=gt().memoizedState;return[e,t]},useMutableSource:wh,useSyncExternalStore:Nh,useId:zh,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Va(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zi={isMounted:function(e){return(e=e._reactInternals)?cr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),o=En(e),s=Yt(r,o);s.payload=t,n!=null&&(s.callback=n),t=Nn(e,s,o),t!==null&&(Ct(t,e,o,r),Gs(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),o=En(e),s=Yt(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Nn(e,s,o),t!==null&&(Ct(t,e,o,r),Gs(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=En(e),o=Yt(n,r);o.tag=2,t!=null&&(o.callback=t),t=Nn(e,o,r),t!==null&&(Ct(t,e,r,n),Gs(t,e,r))}};function $d(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!Wo(n,r)||!Wo(o,s):!0}function Lh(e,t,n){var r=!1,o=jn,s=t.contextType;return typeof s=="object"&&s!==null?s=mt(s):(o=Ke(t)?tr:Fe.current,r=t.contextTypes,s=(r=r!=null)?Br(e,o):jn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Md(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Zi.enqueueReplaceState(t,t.state,null)}function Ba(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},ec(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=mt(s):(s=Ke(t)?tr:Fe.current,o.context=Br(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Va(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Zi.enqueueReplaceState(o,o.state,null),Ei(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function qr(e,t){try{var n="",r=t;do n+=wy(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Wl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ua(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qx=typeof WeakMap=="function"?WeakMap:Map;function Fh(e,t,n){n=Yt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ji||(ji=!0,eu=r),Ua(e,t)},n}function Hh(e,t,n){n=Yt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ua(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ua(e,t),typeof r!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Ad(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new qx;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=lv.bind(null,e,t,n),t.then(e,e))}function zd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yt(-1,1),t.tag=2,Nn(n,t,1))),n.lanes|=1),e)}var Yx=nn.ReactCurrentOwner,Qe=!1;function He(e,t,n,r){t.child=e===null?gh(t,null,n,r):Wr(t,e.child,n,r)}function Dd(e,t,n,r,o){n=n.render;var s=t.ref;return Dr(t,o),r=sc(e,t,n,r,s,o),n=ic(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Jt(e,t,o)):(ge&&n&&qu(t),t.flags|=1,He(e,t,r,o),t.child)}function Od(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!gc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Vh(e,t,s,r,o)):(e=ri(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wo,n(i,r)&&e.ref===t.ref)return Jt(e,t,o)}return t.flags|=1,e=kn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Vh(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Wo(s,r)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,Jt(e,t,o)}return Wa(e,t,n,r,o)}function Bh(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Tr,Ze),Ze|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fe(Tr,Ze),Ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,fe(Tr,Ze),Ze|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,fe(Tr,Ze),Ze|=r;return He(e,t,o,n),t.child}function Uh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wa(e,t,n,r,o){var s=Ke(n)?tr:Fe.current;return s=Br(t,s),Dr(t,o),n=sc(e,t,n,r,s,o),r=ic(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Jt(e,t,o)):(ge&&r&&qu(t),t.flags|=1,He(e,t,n,o),t.child)}function Ld(e,t,n,r,o){if(Ke(n)){var s=!0;xi(t)}else s=!1;if(Dr(t,o),t.stateNode===null)ei(e,t),Lh(t,n,r),Ba(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var a=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=mt(u):(u=Ke(n)?tr:Fe.current,u=Br(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Md(t,i,r,u),ln=!1;var p=t.memoizedState;i.state=p,Ei(t,r,i,o),a=t.memoizedState,l!==r||p!==a||Ye.current||ln?(typeof f=="function"&&(Va(t,n,f,r),a=t.memoizedState),(l=ln||$d(t,n,l,r,p,a,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),i.props=r,i.state=a,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,xh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:vt(t.type,l),i.props=u,d=t.pendingProps,p=i.context,a=n.contextType,typeof a=="object"&&a!==null?a=mt(a):(a=Ke(n)?tr:Fe.current,a=Br(t,a));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==d||p!==a)&&Md(t,i,r,a),ln=!1,p=t.memoizedState,i.state=p,Ei(t,r,i,o);var N=t.memoizedState;l!==d||p!==N||Ye.current||ln?(typeof h=="function"&&(Va(t,n,h,r),N=t.memoizedState),(u=ln||$d(t,n,u,r,p,N,a)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,N,a),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,N,a)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),i.props=r,i.state=N,i.context=a,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Qa(e,t,n,r,s,o)}function Qa(e,t,n,r,o,s){Uh(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&kd(t,n,!1),Jt(e,t,s);r=t.stateNode,Yx.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Wr(t,e.child,null,s),t.child=Wr(t,null,l,s)):He(e,t,l,s),t.memoizedState=r.state,o&&kd(t,n,!0),t.child}function Wh(e){var t=e.stateNode;t.pendingContext?Ed(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ed(e,t.context,!1),tc(e,t.containerInfo)}function Fd(e,t,n,r,o){return Ur(),Ku(o),t.flags|=256,He(e,t,n,r),t.child}var qa={dehydrated:null,treeContext:null,retryLane:0};function Ya(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qh(e,t,n){var r=t.pendingProps,o=ye.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),fe(ye,o&1),e===null)return Fa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=tl(i,r,0,null),e=Zn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ya(n),t.memoizedState=qa,e):uc(t,i));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Kx(e,t,i,r,l,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=kn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?s=kn(l,s):(s=Zn(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Ya(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=qa,r}return s=e.child,e=s.sibling,r=kn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function uc(e,t){return t=tl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ms(e,t,n,r){return r!==null&&Ku(r),Wr(t,e.child,null,n),e=uc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kx(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=Wl(Error(q(422))),Ms(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=tl({mode:"visible",children:r.children},o,0,null),s=Zn(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Wr(t,e.child,null,i),t.child.memoizedState=Ya(i),t.memoizedState=qa,s);if(!(t.mode&1))return Ms(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(q(419)),r=Wl(s,r,void 0),Ms(e,t,i,r)}if(l=(i&e.childLanes)!==0,Qe||l){if(r=Pe,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Zt(e,o),Ct(r,e,o,-1))}return mc(),r=Wl(Error(q(421))),Ms(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=av.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Je=wn(o.nextSibling),et=t,ge=!0,St=null,e!==null&&(lt[at++]=Ut,lt[at++]=Wt,lt[at++]=nr,Ut=e.id,Wt=e.overflow,nr=t),t=uc(t,r.children),t.flags|=4096,t)}function Hd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ha(e.return,t,n)}function Ql(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function qh(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(He(e,t,r.children,n),r=ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hd(e,n,t);else if(e.tag===19)Hd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fe(ye,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ki(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ql(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ki(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ql(t,!0,n,null,s);break;case"together":Ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ei(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),or|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=kn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=kn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xx(e,t,n){switch(t.tag){case 3:Wh(t),Ur();break;case 5:vh(t);break;case 1:Ke(t.type)&&xi(t);break;case 4:tc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;fe(Ni,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(fe(ye,ye.current&1),t.flags|=128,null):n&t.child.childLanes?Qh(e,t,n):(fe(ye,ye.current&1),e=Jt(e,t,n),e!==null?e.sibling:null);fe(ye,ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),fe(ye,ye.current),r)break;return null;case 22:case 23:return t.lanes=0,Bh(e,t,n)}return Jt(e,t,n)}var Yh,Ka,Kh,Xh;Yh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ka=function(){};Kh=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Yn(Rt.current);var s=null;switch(n){case"input":o=ya(e,o),r=ya(e,r),s=[];break;case"select":o=ve({},o,{value:void 0}),r=ve({},r,{value:void 0}),s=[];break;case"textarea":o=wa(e,o),r=wa(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gi)}Sa(n,r);var i;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Oo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||a&&a.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in a)a.hasOwnProperty(i)&&l[i]!==a[i]&&(n||(n={}),n[i]=a[i])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Oo.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&he("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Xh=function(e,t,n,r){n!==r&&(t.flags|=4)};function ho(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gx(e,t,n){var r=t.pendingProps;switch(Yu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Ke(t.type)&&yi(),Oe(t),null;case 3:return r=t.stateNode,Qr(),me(Ye),me(Fe),rc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ts(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(ru(St),St=null))),Ka(e,t),Oe(t),null;case 5:nc(t);var o=Yn(Xo.current);if(n=t.type,e!==null&&t.stateNode!=null)Kh(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return Oe(t),null}if(e=Yn(Rt.current),Ts(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[At]=t,r[Yo]=s,e=(t.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(o=0;o<_o.length;o++)he(_o[o],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":Xc(r,s),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},he("invalid",r);break;case"textarea":Zc(r,s),he("invalid",r)}Sa(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ps(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ps(r.textContent,l,e),o=["children",""+l]):Oo.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&he("scroll",r)}switch(n){case"input":Ss(r),Gc(r,s,!0);break;case"textarea":Ss(r),Jc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gi)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[At]=t,e[Yo]=r,Yh(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ea(n,r),n){case"dialog":he("cancel",e),he("close",e),o=r;break;case"iframe":case"object":case"embed":he("load",e),o=r;break;case"video":case"audio":for(o=0;o<_o.length;o++)he(_o[o],e);o=r;break;case"source":he("error",e),o=r;break;case"img":case"image":case"link":he("error",e),he("load",e),o=r;break;case"details":he("toggle",e),o=r;break;case"input":Xc(e,r),o=ya(e,r),he("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ve({},r,{value:void 0}),he("invalid",e);break;case"textarea":Zc(e,r),o=wa(e,r),he("invalid",e);break;default:o=r}Sa(n,o),l=o;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Cp(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&_p(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Lo(e,a):typeof a=="number"&&Lo(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Oo.hasOwnProperty(s)?a!=null&&s==="onScroll"&&he("scroll",e):a!=null&&Mu(e,s,a,i))}switch(n){case"input":Ss(e),Gc(e,r,!1);break;case"textarea":Ss(e),Jc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Cn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Mr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Mr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=gi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)Xh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=Yn(Xo.current),Yn(Rt.current),Ts(t)){if(r=t.stateNode,n=t.memoizedProps,r[At]=t,(s=r.nodeValue!==n)&&(e=et,e!==null))switch(e.tag){case 3:Ps(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ps(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[At]=t,t.stateNode=r}return Oe(t),null;case 13:if(me(ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&Je!==null&&t.mode&1&&!(t.flags&128))hh(),Ur(),t.flags|=98560,s=!1;else if(s=Ts(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(q(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[At]=t}else Ur(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),s=!1}else St!==null&&(ru(St),St=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?Ce===0&&(Ce=3):mc())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return Qr(),Ka(e,t),e===null&&Qo(t.stateNode.containerInfo),Oe(t),null;case 10:return Zu(t.type._context),Oe(t),null;case 17:return Ke(t.type)&&yi(),Oe(t),null;case 19:if(me(ye),s=t.memoizedState,s===null)return Oe(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)ho(s,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ki(e),i!==null){for(t.flags|=128,ho(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fe(ye,ye.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ee()>Yr&&(t.flags|=128,r=!0,ho(s,!1),t.lanes=4194304)}else{if(!r)if(e=ki(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ho(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!ge)return Oe(t),null}else 2*Ee()-s.renderingStartTime>Yr&&n!==1073741824&&(t.flags|=128,r=!0,ho(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ee(),t.sibling=null,n=ye.current,fe(ye,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return hc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ze&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function Zx(e,t){switch(Yu(t),t.tag){case 1:return Ke(t.type)&&yi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qr(),me(Ye),me(Fe),rc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nc(t),null;case 13:if(me(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));Ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ye),null;case 4:return Qr(),null;case 10:return Zu(t.type._context),null;case 22:case 23:return hc(),null;case 24:return null;default:return null}}var As=!1,Le=!1,Jx=typeof WeakSet=="function"?WeakSet:Set,G=null;function Pr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(e,t,r)}else n.current=null}function Xa(e,t,n){try{n()}catch(r){we(e,t,r)}}var Vd=!1;function ev(e,t){if(Ma=pi,e=th(),Qu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,l=-1,a=-1,u=0,f=0,d=e,p=null;t:for(;;){for(var h;d!==n||o!==0&&d.nodeType!==3||(l=i+o),d!==s||r!==0&&d.nodeType!==3||(a=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(h=d.firstChild)!==null;)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++u===o&&(l=i),p===s&&++f===r&&(a=i),(h=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Aa={focusedElem:e,selectionRange:n},pi=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var v=N.memoizedProps,_=N.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:vt(t.type,v),_);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(x){we(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return N=Vd,Vd=!1,N}function zo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Xa(t,n,s)}o=o.next}while(o!==r)}}function Ji(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ga(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Gh(e){var t=e.alternate;t!==null&&(e.alternate=null,Gh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[Yo],delete t[Da],delete t[Rx],delete t[Dx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zh(e){return e.tag===5||e.tag===3||e.tag===4}function Bd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Za(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gi));else if(r!==4&&(e=e.child,e!==null))for(Za(e,t,n),e=e.sibling;e!==null;)Za(e,t,n),e=e.sibling}function Ja(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ja(e,t,n),e=e.sibling;e!==null;)Ja(e,t,n),e=e.sibling}var $e=null,wt=!1;function rn(e,t,n){for(n=n.child;n!==null;)Jh(e,t,n),n=n.sibling}function Jh(e,t,n){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Wi,n)}catch{}switch(n.tag){case 5:Le||Pr(n,t);case 6:var r=$e,o=wt;$e=null,rn(e,t,n),$e=r,wt=o,$e!==null&&(wt?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(wt?(e=$e,n=n.stateNode,e.nodeType===8?Ll(e.parentNode,n):e.nodeType===1&&Ll(e,n),Bo(e)):Ll($e,n.stateNode));break;case 4:r=$e,o=wt,$e=n.stateNode.containerInfo,wt=!0,rn(e,t,n),$e=r,wt=o;break;case 0:case 11:case 14:case 15:if(!Le&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Xa(n,t,i),o=o.next}while(o!==r)}rn(e,t,n);break;case 1:if(!Le&&(Pr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){we(n,t,l)}rn(e,t,n);break;case 21:rn(e,t,n);break;case 22:n.mode&1?(Le=(r=Le)||n.memoizedState!==null,rn(e,t,n),Le=r):rn(e,t,n);break;default:rn(e,t,n)}}function Ud(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Jx),t.forEach(function(r){var o=uv.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function xt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:$e=l.stateNode,wt=!1;break e;case 3:$e=l.stateNode.containerInfo,wt=!0;break e;case 4:$e=l.stateNode.containerInfo,wt=!0;break e}l=l.return}if($e===null)throw Error(q(160));Jh(s,i,o),$e=null,wt=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){we(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)em(t,e),t=t.sibling}function em(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xt(t,e),$t(e),r&4){try{zo(3,e,e.return),Ji(3,e)}catch(v){we(e,e.return,v)}try{zo(5,e,e.return)}catch(v){we(e,e.return,v)}}break;case 1:xt(t,e),$t(e),r&512&&n!==null&&Pr(n,n.return);break;case 5:if(xt(t,e),$t(e),r&512&&n!==null&&Pr(n,n.return),e.flags&32){var o=e.stateNode;try{Lo(o,"")}catch(v){we(e,e.return,v)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Sp(o,s),Ea(l,i);var u=Ea(l,s);for(i=0;i<a.length;i+=2){var f=a[i],d=a[i+1];f==="style"?Cp(o,d):f==="dangerouslySetInnerHTML"?_p(o,d):f==="children"?Lo(o,d):Mu(o,f,d,u)}switch(l){case"input":xa(o,s);break;case"textarea":Ep(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Mr(o,!!s.multiple,h,!1):p!==!!s.multiple&&(s.defaultValue!=null?Mr(o,!!s.multiple,s.defaultValue,!0):Mr(o,!!s.multiple,s.multiple?[]:"",!1))}o[Yo]=s}catch(v){we(e,e.return,v)}}break;case 6:if(xt(t,e),$t(e),r&4){if(e.stateNode===null)throw Error(q(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(v){we(e,e.return,v)}}break;case 3:if(xt(t,e),$t(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bo(t.containerInfo)}catch(v){we(e,e.return,v)}break;case 4:xt(t,e),$t(e);break;case 13:xt(t,e),$t(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(fc=Ee())),r&4&&Ud(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Le=(u=Le)||f,xt(t,e),Le=u):xt(t,e),$t(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(G=e,f=e.child;f!==null;){for(d=G=f;G!==null;){switch(p=G,h=p.child,p.tag){case 0:case 11:case 14:case 15:zo(4,p,p.return);break;case 1:Pr(p,p.return);var N=p.stateNode;if(typeof N.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(v){we(r,n,v)}}break;case 5:Pr(p,p.return);break;case 22:if(p.memoizedState!==null){Qd(d);continue}}h!==null?(h.return=p,G=h):Qd(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{o=d.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,i=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=bp("display",i))}catch(v){we(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){we(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:xt(t,e),$t(e),r&4&&Ud(e);break;case 21:break;default:xt(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Zh(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Lo(o,""),r.flags&=-33);var s=Bd(e);Ja(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Bd(e);Za(e,l,i);break;default:throw Error(q(161))}}catch(a){we(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tv(e,t,n){G=e,tm(e)}function tm(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var o=G,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||As;if(!i){var l=o.alternate,a=l!==null&&l.memoizedState!==null||Le;l=As;var u=Le;if(As=i,(Le=a)&&!u)for(G=o;G!==null;)i=G,a=i.child,i.tag===22&&i.memoizedState!==null?qd(o):a!==null?(a.return=i,G=a):qd(o);for(;s!==null;)G=s,tm(s),s=s.sibling;G=o,As=l,Le=u}Wd(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,G=s):Wd(e)}}function Wd(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||Ji(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Le)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:vt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Id(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Id(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Bo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Le||t.flags&512&&Ga(t)}catch(p){we(t,t.return,p)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function Qd(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function qd(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ji(4,t)}catch(a){we(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){we(t,o,a)}}var s=t.return;try{Ga(t)}catch(a){we(t,s,a)}break;case 5:var i=t.return;try{Ga(t)}catch(a){we(t,i,a)}}}catch(a){we(t,t.return,a)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var nv=Math.ceil,Ci=nn.ReactCurrentDispatcher,cc=nn.ReactCurrentOwner,pt=nn.ReactCurrentBatchConfig,le=0,Pe=null,ke=null,Me=0,Ze=0,Tr=Tn(0),Ce=0,es=null,or=0,el=0,dc=0,Ro=null,We=null,fc=0,Yr=1/0,Vt=null,ji=!1,eu=null,Sn=null,zs=!1,hn=null,Ii=0,Do=0,tu=null,ti=-1,ni=0;function Ve(){return le&6?Ee():ti!==-1?ti:ti=Ee()}function En(e){return e.mode&1?le&2&&Me!==0?Me&-Me:Lx.transition!==null?(ni===0&&(ni=Lp()),ni):(e=ue,e!==0||(e=window.event,e=e===void 0?16:Qp(e.type)),e):1}function Ct(e,t,n,r){if(50<Do)throw Do=0,tu=null,Error(q(185));fs(e,n,r),(!(le&2)||e!==Pe)&&(e===Pe&&(!(le&2)&&(el|=n),Ce===4&&dn(e,Me)),Xe(e,r),n===1&&le===0&&!(t.mode&1)&&(Yr=Ee()+500,Xi&&$n()))}function Xe(e,t){var n=e.callbackNode;Ly(e,t);var r=fi(e,e===Pe?Me:0);if(r===0)n!==null&&nd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&nd(n),t===1)e.tag===0?Ox(Yd.bind(null,e)):dh(Yd.bind(null,e)),Ax(function(){!(le&6)&&$n()}),n=null;else{switch(Fp(r)){case 1:n=Ou;break;case 4:n=Dp;break;case 16:n=di;break;case 536870912:n=Op;break;default:n=di}n=um(n,nm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nm(e,t){if(ti=-1,ni=0,le&6)throw Error(q(327));var n=e.callbackNode;if(Or()&&e.callbackNode!==n)return null;var r=fi(e,e===Pe?Me:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Pi(e,r);else{t=r;var o=le;le|=2;var s=om();(Pe!==e||Me!==t)&&(Vt=null,Yr=Ee()+500,Gn(e,t));do try{sv();break}catch(l){rm(e,l)}while(!0);Gu(),Ci.current=s,le=o,ke!==null?t=0:(Pe=null,Me=0,t=Ce)}if(t!==0){if(t===2&&(o=ja(e),o!==0&&(r=o,t=nu(e,o))),t===1)throw n=es,Gn(e,0),dn(e,r),Xe(e,Ee()),n;if(t===6)dn(e,r);else{if(o=e.current.alternate,!(r&30)&&!rv(o)&&(t=Pi(e,r),t===2&&(s=ja(e),s!==0&&(r=s,t=nu(e,s))),t===1))throw n=es,Gn(e,0),dn(e,r),Xe(e,Ee()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:Vn(e,We,Vt);break;case 3:if(dn(e,r),(r&130023424)===r&&(t=fc+500-Ee(),10<t)){if(fi(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ra(Vn.bind(null,e,We,Vt),t);break}Vn(e,We,Vt);break;case 4:if(dn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-bt(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=Ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nv(r/1960))-r,10<r){e.timeoutHandle=Ra(Vn.bind(null,e,We,Vt),r);break}Vn(e,We,Vt);break;case 5:Vn(e,We,Vt);break;default:throw Error(q(329))}}}return Xe(e,Ee()),e.callbackNode===n?nm.bind(null,e):null}function nu(e,t){var n=Ro;return e.current.memoizedState.isDehydrated&&(Gn(e,t).flags|=256),e=Pi(e,t),e!==2&&(t=We,We=n,t!==null&&ru(t)),e}function ru(e){We===null?We=e:We.push.apply(We,e)}function rv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!jt(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dn(e,t){for(t&=~dc,t&=~el,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bt(t),r=1<<n;e[n]=-1,t&=~r}}function Yd(e){if(le&6)throw Error(q(327));Or();var t=fi(e,0);if(!(t&1))return Xe(e,Ee()),null;var n=Pi(e,t);if(e.tag!==0&&n===2){var r=ja(e);r!==0&&(t=r,n=nu(e,r))}if(n===1)throw n=es,Gn(e,0),dn(e,t),Xe(e,Ee()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vn(e,We,Vt),Xe(e,Ee()),null}function pc(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(Yr=Ee()+500,Xi&&$n())}}function sr(e){hn!==null&&hn.tag===0&&!(le&6)&&Or();var t=le;le|=1;var n=pt.transition,r=ue;try{if(pt.transition=null,ue=1,e)return e()}finally{ue=r,pt.transition=n,le=t,!(le&6)&&$n()}}function hc(){Ze=Tr.current,me(Tr)}function Gn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Mx(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(Yu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yi();break;case 3:Qr(),me(Ye),me(Fe),rc();break;case 5:nc(r);break;case 4:Qr();break;case 13:me(ye);break;case 19:me(ye);break;case 10:Zu(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Pe=e,ke=e=kn(e.current,null),Me=Ze=t,Ce=0,es=null,dc=el=or=0,We=Ro=null,qn!==null){for(t=0;t<qn.length;t++)if(n=qn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}qn=null}return e}function rm(e,t){do{var n=ke;try{if(Gu(),Zs.current=bi,_i){for(var r=xe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}_i=!1}if(rr=0,Ie=_e=xe=null,Ao=!1,Go=0,cc.current=null,n===null||n.return===null){Ce=1,es=t,ke=null;break}e:{var s=e,i=n.return,l=n,a=t;if(t=Me,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=zd(i);if(h!==null){h.flags&=-257,Rd(h,i,l,s,t),h.mode&1&&Ad(s,u,t),t=h,a=u;var N=t.updateQueue;if(N===null){var v=new Set;v.add(a),t.updateQueue=v}else N.add(a);break e}else{if(!(t&1)){Ad(s,u,t),mc();break e}a=Error(q(426))}}else if(ge&&l.mode&1){var _=zd(i);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Rd(_,i,l,s,t),Ku(qr(a,l));break e}}s=a=qr(a,l),Ce!==4&&(Ce=2),Ro===null?Ro=[s]:Ro.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=Fh(s,a,t);jd(s,m);break e;case 1:l=a;var g=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Sn===null||!Sn.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=Hh(s,l,t);jd(s,x);break e}}s=s.return}while(s!==null)}im(n)}catch(S){t=S,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(!0)}function om(){var e=Ci.current;return Ci.current=bi,e===null?bi:e}function mc(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Pe===null||!(or&268435455)&&!(el&268435455)||dn(Pe,Me)}function Pi(e,t){var n=le;le|=2;var r=om();(Pe!==e||Me!==t)&&(Vt=null,Gn(e,t));do try{ov();break}catch(o){rm(e,o)}while(!0);if(Gu(),le=n,Ci.current=r,ke!==null)throw Error(q(261));return Pe=null,Me=0,Ce}function ov(){for(;ke!==null;)sm(ke)}function sv(){for(;ke!==null&&!Py();)sm(ke)}function sm(e){var t=am(e.alternate,e,Ze);e.memoizedProps=e.pendingProps,t===null?im(e):ke=t,cc.current=null}function im(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Zx(n,t),n!==null){n.flags&=32767,ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ce=6,ke=null;return}}else if(n=Gx(n,t,Ze),n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);Ce===0&&(Ce=5)}function Vn(e,t,n){var r=ue,o=pt.transition;try{pt.transition=null,ue=1,iv(e,t,n,r)}finally{pt.transition=o,ue=r}return null}function iv(e,t,n,r){do Or();while(hn!==null);if(le&6)throw Error(q(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Fy(e,s),e===Pe&&(ke=Pe=null,Me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zs||(zs=!0,um(di,function(){return Or(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pt.transition,pt.transition=null;var i=ue;ue=1;var l=le;le|=4,cc.current=null,ev(e,n),em(n,e),bx(Aa),pi=!!Ma,Aa=Ma=null,e.current=n,tv(n),Ty(),le=l,ue=i,pt.transition=s}else e.current=n;if(zs&&(zs=!1,hn=e,Ii=o),s=e.pendingLanes,s===0&&(Sn=null),Ay(n.stateNode),Xe(e,Ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ji)throw ji=!1,e=eu,eu=null,e;return Ii&1&&e.tag!==0&&Or(),s=e.pendingLanes,s&1?e===tu?Do++:(Do=0,tu=e):Do=0,$n(),null}function Or(){if(hn!==null){var e=Fp(Ii),t=pt.transition,n=ue;try{if(pt.transition=null,ue=16>e?16:e,hn===null)var r=!1;else{if(e=hn,hn=null,Ii=0,le&6)throw Error(q(331));var o=le;for(le|=4,G=e.current;G!==null;){var s=G,i=s.child;if(G.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(G=u;G!==null;){var f=G;switch(f.tag){case 0:case 11:case 15:zo(8,f,s)}var d=f.child;if(d!==null)d.return=f,G=d;else for(;G!==null;){f=G;var p=f.sibling,h=f.return;if(Gh(f),f===u){G=null;break}if(p!==null){p.return=h,G=p;break}G=h}}}var N=s.alternate;if(N!==null){var v=N.child;if(v!==null){N.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}G=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,G=i;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zo(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,G=m;break e}G=s.return}}var g=e.current;for(G=g;G!==null;){i=G;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,G=y;else e:for(i=g;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ji(9,l)}}catch(S){we(l,l.return,S)}if(l===i){G=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,G=x;break e}G=l.return}}if(le=o,$n(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Wi,e)}catch{}r=!0}return r}finally{ue=n,pt.transition=t}}return!1}function Kd(e,t,n){t=qr(n,t),t=Fh(e,t,1),e=Nn(e,t,1),t=Ve(),e!==null&&(fs(e,1,t),Xe(e,t))}function we(e,t,n){if(e.tag===3)Kd(e,e,n);else for(;t!==null;){if(t.tag===3){Kd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sn===null||!Sn.has(r))){e=qr(n,e),e=Hh(t,e,1),t=Nn(t,e,1),e=Ve(),t!==null&&(fs(t,1,e),Xe(t,e));break}}t=t.return}}function lv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Me&n)===n&&(Ce===4||Ce===3&&(Me&130023424)===Me&&500>Ee()-fc?Gn(e,0):dc|=n),Xe(e,t)}function lm(e,t){t===0&&(e.mode&1?(t=_s,_s<<=1,!(_s&130023424)&&(_s=4194304)):t=1);var n=Ve();e=Zt(e,t),e!==null&&(fs(e,t,n),Xe(e,n))}function av(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),lm(e,n)}function uv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),lm(e,n)}var am;am=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qe=!1,Xx(e,t,n);Qe=!!(e.flags&131072)}else Qe=!1,ge&&t.flags&1048576&&fh(t,wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ei(e,t),e=t.pendingProps;var o=Br(t,Fe.current);Dr(t,n),o=sc(null,t,r,e,o,n);var s=ic();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(r)?(s=!0,xi(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ec(t),o.updater=Zi,t.stateNode=o,o._reactInternals=t,Ba(t,r,e,n),t=Qa(null,t,r,!0,s,n)):(t.tag=0,ge&&s&&qu(t),He(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ei(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=dv(r),e=vt(r,e),o){case 0:t=Wa(null,t,r,e,n);break e;case 1:t=Ld(null,t,r,e,n);break e;case 11:t=Dd(null,t,r,e,n);break e;case 14:t=Od(null,t,r,vt(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),Wa(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),Ld(e,t,r,o,n);case 3:e:{if(Wh(t),e===null)throw Error(q(387));r=t.pendingProps,s=t.memoizedState,o=s.element,xh(e,t),Ei(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=qr(Error(q(423)),t),t=Fd(e,t,r,n,o);break e}else if(r!==o){o=qr(Error(q(424)),t),t=Fd(e,t,r,n,o);break e}else for(Je=wn(t.stateNode.containerInfo.firstChild),et=t,ge=!0,St=null,n=gh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ur(),r===o){t=Jt(e,t,n);break e}He(e,t,r,n)}t=t.child}return t;case 5:return vh(t),e===null&&Fa(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,za(r,o)?i=null:s!==null&&za(r,s)&&(t.flags|=32),Uh(e,t),He(e,t,i,n),t.child;case 6:return e===null&&Fa(t),null;case 13:return Qh(e,t,n);case 4:return tc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Wr(t,null,r,n):He(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),Dd(e,t,r,o,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,fe(Ni,r._currentValue),r._currentValue=i,s!==null)if(jt(s.value,i)){if(s.children===o.children&&!Ye.current){t=Jt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Yt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ha(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(q(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ha(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}He(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Dr(t,n),o=mt(o),r=r(o),t.flags|=1,He(e,t,r,n),t.child;case 14:return r=t.type,o=vt(r,t.pendingProps),o=vt(r.type,o),Od(e,t,r,o,n);case 15:return Vh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),ei(e,t),t.tag=1,Ke(r)?(e=!0,xi(t)):e=!1,Dr(t,n),Lh(t,r,o),Ba(t,r,o,n),Qa(null,t,r,!0,e,n);case 19:return qh(e,t,n);case 22:return Bh(e,t,n)}throw Error(q(156,t.tag))};function um(e,t){return Rp(e,t)}function cv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(e,t,n,r){return new cv(e,t,n,r)}function gc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dv(e){if(typeof e=="function")return gc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zu)return 11;if(e===Ru)return 14}return 2}function kn(e,t){var n=e.alternate;return n===null?(n=dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ri(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")gc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Nr:return Zn(n.children,o,s,t);case Au:i=8,o|=8;break;case pa:return e=dt(12,n,t,o|2),e.elementType=pa,e.lanes=s,e;case ha:return e=dt(13,n,t,o),e.elementType=ha,e.lanes=s,e;case ma:return e=dt(19,n,t,o),e.elementType=ma,e.lanes=s,e;case vp:return tl(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yp:i=10;break e;case xp:i=9;break e;case zu:i=11;break e;case Ru:i=14;break e;case sn:i=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=dt(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Zn(e,t,n,r){return e=dt(7,e,r,t),e.lanes=n,e}function tl(e,t,n,r){return e=dt(22,e,r,t),e.elementType=vp,e.lanes=n,e.stateNode={isHidden:!1},e}function ql(e,t,n){return e=dt(6,e,null,t),e.lanes=n,e}function Yl(e,t,n){return t=dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fv(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jl(0),this.expirationTimes=jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function yc(e,t,n,r,o,s,i,l,a){return e=new fv(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=dt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ec(s),e}function pv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cm(e){if(!e)return jn;e=e._reactInternals;e:{if(cr(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(Ke(n))return ch(e,n,t)}return t}function dm(e,t,n,r,o,s,i,l,a){return e=yc(n,r,!0,e,o,s,i,l,a),e.context=cm(null),n=e.current,r=Ve(),o=En(n),s=Yt(r,o),s.callback=t??null,Nn(n,s,o),e.current.lanes=o,fs(e,o,r),Xe(e,r),e}function nl(e,t,n,r){var o=t.current,s=Ve(),i=En(o);return n=cm(n),t.context===null?t.context=n:t.pendingContext=n,t=Yt(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Nn(o,t,i),e!==null&&(Ct(e,o,i,s),Gs(e,o,i)),i}function Ti(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xc(e,t){Xd(e,t),(e=e.alternate)&&Xd(e,t)}function hv(){return null}var fm=typeof reportError=="function"?reportError:function(e){console.error(e)};function vc(e){this._internalRoot=e}rl.prototype.render=vc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));nl(e,t,null,null)};rl.prototype.unmount=vc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sr(function(){nl(null,e,null,null)}),t[Gt]=null}};function rl(e){this._internalRoot=e}rl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cn.length&&t!==0&&t<cn[n].priority;n++);cn.splice(n,0,e),n===0&&Wp(e)}};function wc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gd(){}function mv(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var u=Ti(i);s.call(u)}}var i=dm(t,r,e,0,null,!1,!1,"",Gd);return e._reactRootContainer=i,e[Gt]=i.current,Qo(e.nodeType===8?e.parentNode:e),sr(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=Ti(a);l.call(u)}}var a=yc(e,0,!1,null,null,!1,!1,"",Gd);return e._reactRootContainer=a,e[Gt]=a.current,Qo(e.nodeType===8?e.parentNode:e),sr(function(){nl(t,a,n,r)}),a}function sl(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var l=o;o=function(){var a=Ti(i);l.call(a)}}nl(t,i,e,o)}else i=mv(n,t,e,o,r);return Ti(i)}Hp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ko(t.pendingLanes);n!==0&&(Lu(t,n|1),Xe(t,Ee()),!(le&6)&&(Yr=Ee()+500,$n()))}break;case 13:sr(function(){var r=Zt(e,1);if(r!==null){var o=Ve();Ct(r,e,1,o)}}),xc(e,1)}};Fu=function(e){if(e.tag===13){var t=Zt(e,134217728);if(t!==null){var n=Ve();Ct(t,e,134217728,n)}xc(e,134217728)}};Vp=function(e){if(e.tag===13){var t=En(e),n=Zt(e,t);if(n!==null){var r=Ve();Ct(n,e,t,r)}xc(e,t)}};Bp=function(){return ue};Up=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};_a=function(e,t,n){switch(t){case"input":if(xa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Ki(r);if(!o)throw Error(q(90));Np(r),xa(r,o)}}}break;case"textarea":Ep(e,n);break;case"select":t=n.value,t!=null&&Mr(e,!!n.multiple,t,!1)}};Pp=pc;Tp=sr;var gv={usingClientEntryPoint:!1,Events:[hs,_r,Ki,jp,Ip,pc]},mo={findFiberByHostInstance:Qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yv={bundleType:mo.bundleType,version:mo.version,rendererPackageName:mo.rendererPackageName,rendererConfig:mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ap(e),e===null?null:e.stateNode},findFiberByHostInstance:mo.findFiberByHostInstance||hv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rs.isDisabled&&Rs.supportsFiber)try{Wi=Rs.inject(yv),zt=Rs}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gv;st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wc(t))throw Error(q(200));return pv(e,t,null,n)};st.createRoot=function(e,t){if(!wc(e))throw Error(q(299));var n=!1,r="",o=fm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=yc(e,1,!1,null,null,n,!1,r,o),e[Gt]=t.current,Qo(e.nodeType===8?e.parentNode:e),new vc(t)};st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=Ap(t),e=e===null?null:e.stateNode,e};st.flushSync=function(e){return sr(e)};st.hydrate=function(e,t,n){if(!ol(t))throw Error(q(200));return sl(null,e,t,!0,n)};st.hydrateRoot=function(e,t,n){if(!wc(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=fm;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=dm(t,null,e,1,n??null,o,!1,s,i),e[Gt]=t.current,Qo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new rl(t)};st.render=function(e,t,n){if(!ol(t))throw Error(q(200));return sl(null,e,t,!1,n)};st.unmountComponentAtNode=function(e){if(!ol(e))throw Error(q(40));return e._reactRootContainer?(sr(function(){sl(null,null,e,!1,function(){e._reactRootContainer=null,e[Gt]=null})}),!0):!1};st.unstable_batchedUpdates=pc;st.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ol(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return sl(e,t,n,!1,r)};st.version="18.3.1-next-f1338f8080-20240426";function pm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pm)}catch(e){console.error(e)}}pm(),pp.exports=st;var xv=pp.exports,Zd=xv;da.createRoot=Zd.createRoot,da.hydrateRoot=Zd.hydrateRoot;function ze(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=ze(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var hm={exports:{}},mm={},gm={exports:{}},ym={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kr=M;function vv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wv=typeof Object.is=="function"?Object.is:vv,Nv=Kr.useState,Sv=Kr.useEffect,Ev=Kr.useLayoutEffect,kv=Kr.useDebugValue;function _v(e,t){var n=t(),r=Nv({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return Ev(function(){o.value=n,o.getSnapshot=t,Kl(o)&&s({inst:o})},[e,n,t]),Sv(function(){return Kl(o)&&s({inst:o}),e(function(){Kl(o)&&s({inst:o})})},[e]),kv(n),n}function Kl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wv(e,n)}catch{return!0}}function bv(e,t){return t()}var Cv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?bv:_v;ym.useSyncExternalStore=Kr.useSyncExternalStore!==void 0?Kr.useSyncExternalStore:Cv;gm.exports=ym;var jv=gm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=M,Iv=jv;function Pv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tv=typeof Object.is=="function"?Object.is:Pv,$v=Iv.useSyncExternalStore,Mv=il.useRef,Av=il.useEffect,zv=il.useMemo,Rv=il.useDebugValue;mm.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var s=Mv(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=zv(function(){function a(h){if(!u){if(u=!0,f=h,h=r(h),o!==void 0&&i.hasValue){var N=i.value;if(o(N,h))return d=N}return d=h}if(N=d,Tv(f,h))return N;var v=r(h);return o!==void 0&&o(N,v)?(f=h,N):(f=h,d=v)}var u=!1,f,d,p=n===void 0?null:n;return[function(){return a(t())},p===null?void 0:function(){return a(p())}]},[t,n,r,o]);var l=$v(e,s[0],s[1]);return Av(function(){i.hasValue=!0,i.value=l},[l]),Rv(l),l};hm.exports=mm;var Dv=hm.exports;const xm=tp(Dv),Ov={},Jd=e=>{let t;const n=new Set,r=(f,d)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const h=t;t=d??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(N=>N(t,h))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(Ov?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,a);return a},vm=e=>e?Jd(e):Jd,{useDebugValue:Lv}=V,{useSyncExternalStoreWithSelector:Fv}=xm,Hv=e=>e;function wm(e,t=Hv,n){const r=Fv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Lv(r),r}const ef=(e,t)=>{const n=vm(e),r=(o,s=t)=>wm(n,o,s);return Object.assign(r,n),r},Vv=(e,t)=>e?ef(e,t):ef;function Te(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Bv={value:()=>{}};function ll(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new oi(n)}function oi(e){this._=e}function Uv(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}oi.prototype=ll.prototype={constructor:oi,on:function(e,t){var n=this._,r=Uv(e+"",n),o,s=-1,i=r.length;if(arguments.length<2){for(;++s<i;)if((o=(e=r[s]).type)&&(o=Wv(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(o=(e=r[s]).type)n[o]=tf(n[o],e.name,t);else if(t==null)for(o in n)n[o]=tf(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new oi(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,s;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,o=s.length;r<o;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,s=r.length;o<s;++o)r[o].value.apply(t,n)}};function Wv(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function tf(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Bv,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ou="http://www.w3.org/1999/xhtml";const nf={svg:"http://www.w3.org/2000/svg",xhtml:ou,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function al(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),nf.hasOwnProperty(t)?{space:nf[t],local:e}:e}function Qv(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ou&&t.documentElement.namespaceURI===ou?t.createElement(e):t.createElementNS(n,e)}}function qv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Nm(e){var t=al(e);return(t.local?qv:Qv)(t)}function Yv(){}function Nc(e){return e==null?Yv:function(){return this.querySelector(e)}}function Kv(e){typeof e!="function"&&(e=Nc(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,l=r[o]=new Array(i),a,u,f=0;f<i;++f)(a=s[f])&&(u=e.call(a,a.__data__,f,s))&&("__data__"in a&&(u.__data__=a.__data__),l[f]=u);return new nt(r,this._parents)}function Xv(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Gv(){return[]}function Sm(e){return e==null?Gv:function(){return this.querySelectorAll(e)}}function Zv(e){return function(){return Xv(e.apply(this,arguments))}}function Jv(e){typeof e=="function"?e=Zv(e):e=Sm(e);for(var t=this._groups,n=t.length,r=[],o=[],s=0;s<n;++s)for(var i=t[s],l=i.length,a,u=0;u<l;++u)(a=i[u])&&(r.push(e.call(a,a.__data__,u,i)),o.push(a));return new nt(r,o)}function Em(e){return function(){return this.matches(e)}}function km(e){return function(t){return t.matches(e)}}var e1=Array.prototype.find;function t1(e){return function(){return e1.call(this.children,e)}}function n1(){return this.firstElementChild}function r1(e){return this.select(e==null?n1:t1(typeof e=="function"?e:km(e)))}var o1=Array.prototype.filter;function s1(){return Array.from(this.children)}function i1(e){return function(){return o1.call(this.children,e)}}function l1(e){return this.selectAll(e==null?s1:i1(typeof e=="function"?e:km(e)))}function a1(e){typeof e!="function"&&(e=Em(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,l=r[o]=[],a,u=0;u<i;++u)(a=s[u])&&e.call(a,a.__data__,u,s)&&l.push(a);return new nt(r,this._parents)}function _m(e){return new Array(e.length)}function u1(){return new nt(this._enter||this._groups.map(_m),this._parents)}function $i(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}$i.prototype={constructor:$i,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function c1(e){return function(){return e}}function d1(e,t,n,r,o,s){for(var i=0,l,a=t.length,u=s.length;i<u;++i)(l=t[i])?(l.__data__=s[i],r[i]=l):n[i]=new $i(e,s[i]);for(;i<a;++i)(l=t[i])&&(o[i]=l)}function f1(e,t,n,r,o,s,i){var l,a,u=new Map,f=t.length,d=s.length,p=new Array(f),h;for(l=0;l<f;++l)(a=t[l])&&(p[l]=h=i.call(a,a.__data__,l,t)+"",u.has(h)?o[l]=a:u.set(h,a));for(l=0;l<d;++l)h=i.call(e,s[l],l,s)+"",(a=u.get(h))?(r[l]=a,a.__data__=s[l],u.delete(h)):n[l]=new $i(e,s[l]);for(l=0;l<f;++l)(a=t[l])&&u.get(p[l])===a&&(o[l]=a)}function p1(e){return e.__data__}function h1(e,t){if(!arguments.length)return Array.from(this,p1);var n=t?f1:d1,r=this._parents,o=this._groups;typeof e!="function"&&(e=c1(e));for(var s=o.length,i=new Array(s),l=new Array(s),a=new Array(s),u=0;u<s;++u){var f=r[u],d=o[u],p=d.length,h=m1(e.call(f,f&&f.__data__,u,r)),N=h.length,v=l[u]=new Array(N),_=i[u]=new Array(N),m=a[u]=new Array(p);n(f,d,v,_,m,h,t);for(var g=0,y=0,x,S;g<N;++g)if(x=v[g]){for(g>=y&&(y=g+1);!(S=_[y])&&++y<N;);x._next=S||null}}return i=new nt(i,r),i._enter=l,i._exit=a,i}function m1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function g1(){return new nt(this._exit||this._groups.map(_m),this._parents)}function y1(e,t,n){var r=this.enter(),o=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?s.remove():n(s),r&&o?r.merge(o).order():o}function x1(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,s=r.length,i=Math.min(o,s),l=new Array(o),a=0;a<i;++a)for(var u=n[a],f=r[a],d=u.length,p=l[a]=new Array(d),h,N=0;N<d;++N)(h=u[N]||f[N])&&(p[N]=h);for(;a<o;++a)l[a]=n[a];return new nt(l,this._parents)}function v1(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,s=r[o],i;--o>=0;)(i=r[o])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function w1(e){e||(e=N1);function t(d,p){return d&&p?e(d.__data__,p.__data__):!d-!p}for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s){for(var i=n[s],l=i.length,a=o[s]=new Array(l),u,f=0;f<l;++f)(u=i[f])&&(a[f]=u);a.sort(t)}return new nt(o,this._parents).order()}function N1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function S1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function E1(){return Array.from(this)}function k1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length;o<s;++o){var i=r[o];if(i)return i}return null}function _1(){let e=0;for(const t of this)++e;return e}function b1(){return!this.node()}function C1(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],s=0,i=o.length,l;s<i;++s)(l=o[s])&&e.call(l,l.__data__,s,o);return this}function j1(e){return function(){this.removeAttribute(e)}}function I1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function P1(e,t){return function(){this.setAttribute(e,t)}}function T1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function $1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function M1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function A1(e,t){var n=al(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?I1:j1:typeof t=="function"?n.local?M1:$1:n.local?T1:P1)(n,t))}function bm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function z1(e){return function(){this.style.removeProperty(e)}}function R1(e,t,n){return function(){this.style.setProperty(e,t,n)}}function D1(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function O1(e,t,n){return arguments.length>1?this.each((t==null?z1:typeof t=="function"?D1:R1)(e,t,n??"")):Xr(this.node(),e)}function Xr(e,t){return e.style.getPropertyValue(t)||bm(e).getComputedStyle(e,null).getPropertyValue(t)}function L1(e){return function(){delete this[e]}}function F1(e,t){return function(){this[e]=t}}function H1(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function V1(e,t){return arguments.length>1?this.each((t==null?L1:typeof t=="function"?H1:F1)(e,t)):this.node()[e]}function Cm(e){return e.trim().split(/^|\s+/)}function Sc(e){return e.classList||new jm(e)}function jm(e){this._node=e,this._names=Cm(e.getAttribute("class")||"")}jm.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Im(e,t){for(var n=Sc(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Pm(e,t){for(var n=Sc(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function B1(e){return function(){Im(this,e)}}function U1(e){return function(){Pm(this,e)}}function W1(e,t){return function(){(t.apply(this,arguments)?Im:Pm)(this,e)}}function Q1(e,t){var n=Cm(e+"");if(arguments.length<2){for(var r=Sc(this.node()),o=-1,s=n.length;++o<s;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?W1:t?B1:U1)(n,t))}function q1(){this.textContent=""}function Y1(e){return function(){this.textContent=e}}function K1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function X1(e){return arguments.length?this.each(e==null?q1:(typeof e=="function"?K1:Y1)(e)):this.node().textContent}function G1(){this.innerHTML=""}function Z1(e){return function(){this.innerHTML=e}}function J1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function ew(e){return arguments.length?this.each(e==null?G1:(typeof e=="function"?J1:Z1)(e)):this.node().innerHTML}function tw(){this.nextSibling&&this.parentNode.appendChild(this)}function nw(){return this.each(tw)}function rw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ow(){return this.each(rw)}function sw(e){var t=typeof e=="function"?e:Nm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function iw(){return null}function lw(e,t){var n=typeof e=="function"?e:Nm(e),r=t==null?iw:typeof t=="function"?t:Nc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function aw(){var e=this.parentNode;e&&e.removeChild(this)}function uw(){return this.each(aw)}function cw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function dw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fw(e){return this.select(e?dw:cw)}function pw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function hw(e){return function(t){e.call(this,t,this.__data__)}}function mw(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function gw(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,s;n<o;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function yw(e,t,n){return function(){var r=this.__on,o,s=hw(t);if(r){for(var i=0,l=r.length;i<l;++i)if((o=r[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=t;return}}this.addEventListener(e.type,s,n),o={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(o):this.__on=[o]}}function xw(e,t,n){var r=mw(e+""),o,s=r.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,f;a<u;++a)for(o=0,f=l[a];o<s;++o)if((i=r[o]).type===f.type&&i.name===f.name)return f.value}return}for(l=t?yw:gw,o=0;o<s;++o)this.each(l(r[o],t,n));return this}function Tm(e,t,n){var r=bm(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function vw(e,t){return function(){return Tm(this,e,t)}}function ww(e,t){return function(){return Tm(this,e,t.apply(this,arguments))}}function Nw(e,t){return this.each((typeof t=="function"?ww:vw)(e,t))}function*Sw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length,i;o<s;++o)(i=r[o])&&(yield i)}var $m=[null];function nt(e,t){this._groups=e,this._parents=t}function gs(){return new nt([[document.documentElement]],$m)}function Ew(){return this}nt.prototype=gs.prototype={constructor:nt,select:Kv,selectAll:Jv,selectChild:r1,selectChildren:l1,filter:a1,data:h1,enter:u1,exit:g1,join:y1,merge:x1,selection:Ew,order:v1,sort:w1,call:S1,nodes:E1,node:k1,size:_1,empty:b1,each:C1,attr:A1,style:O1,property:V1,classed:Q1,text:X1,html:ew,raise:nw,lower:ow,append:sw,insert:lw,remove:uw,clone:fw,datum:pw,on:xw,dispatch:Nw,[Symbol.iterator]:Sw};function ct(e){return typeof e=="string"?new nt([[document.querySelector(e)]],[document.documentElement]):new nt([[e]],$m)}function kw(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Nt(e,t){if(e=kw(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const _w={passive:!1},ts={capture:!0,passive:!1};function Xl(e){e.stopImmediatePropagation()}function Lr(e){e.preventDefault(),e.stopImmediatePropagation()}function Mm(e){var t=e.document.documentElement,n=ct(e).on("dragstart.drag",Lr,ts);"onselectstart"in t?n.on("selectstart.drag",Lr,ts):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Am(e,t){var n=e.document.documentElement,r=ct(e).on("dragstart.drag",null);t&&(r.on("click.drag",Lr,ts),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ds=e=>()=>e;function su(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:s,x:i,y:l,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}su.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function bw(e){return!e.ctrlKey&&!e.button}function Cw(){return this.parentNode}function jw(e,t){return t??{x:e.x,y:e.y}}function Iw(){return navigator.maxTouchPoints||"ontouchstart"in this}function Pw(){var e=bw,t=Cw,n=jw,r=Iw,o={},s=ll("start","drag","end"),i=0,l,a,u,f,d=0;function p(x){x.on("mousedown.drag",h).filter(r).on("touchstart.drag",_).on("touchmove.drag",m,_w).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(x,S){if(!(f||!e.call(this,x,S))){var P=y(this,t.call(this,x,S),x,S,"mouse");P&&(ct(x.view).on("mousemove.drag",N,ts).on("mouseup.drag",v,ts),Mm(x.view),Xl(x),u=!1,l=x.clientX,a=x.clientY,P("start",x))}}function N(x){if(Lr(x),!u){var S=x.clientX-l,P=x.clientY-a;u=S*S+P*P>d}o.mouse("drag",x)}function v(x){ct(x.view).on("mousemove.drag mouseup.drag",null),Am(x.view,u),Lr(x),o.mouse("end",x)}function _(x,S){if(e.call(this,x,S)){var P=x.changedTouches,$=t.call(this,x,S),I=P.length,b,F;for(b=0;b<I;++b)(F=y(this,$,x,S,P[b].identifier,P[b]))&&(Xl(x),F("start",x,P[b]))}}function m(x){var S=x.changedTouches,P=S.length,$,I;for($=0;$<P;++$)(I=o[S[$].identifier])&&(Lr(x),I("drag",x,S[$]))}function g(x){var S=x.changedTouches,P=S.length,$,I;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),$=0;$<P;++$)(I=o[S[$].identifier])&&(Xl(x),I("end",x,S[$]))}function y(x,S,P,$,I,b){var F=s.copy(),B=Nt(b||P,S),U,A,w;if((w=n.call(x,new su("beforestart",{sourceEvent:P,target:p,identifier:I,active:i,x:B[0],y:B[1],dx:0,dy:0,dispatch:F}),$))!=null)return U=w.x-B[0]||0,A=w.y-B[1]||0,function z(j,O,C){var E=B,T;switch(j){case"start":o[I]=z,T=i++;break;case"end":delete o[I],--i;case"drag":B=Nt(C||O,S),T=i;break}F.call(j,x,new su(j,{sourceEvent:O,subject:w,target:p,identifier:I,active:T,x:B[0]+U,y:B[1]+A,dx:B[0]-E[0],dy:B[1]-E[1],dispatch:F}),$)}}return p.filter=function(x){return arguments.length?(e=typeof x=="function"?x:Ds(!!x),p):e},p.container=function(x){return arguments.length?(t=typeof x=="function"?x:Ds(x),p):t},p.subject=function(x){return arguments.length?(n=typeof x=="function"?x:Ds(x),p):n},p.touchable=function(x){return arguments.length?(r=typeof x=="function"?x:Ds(!!x),p):r},p.on=function(){var x=s.on.apply(s,arguments);return x===s?p:x},p.clickDistance=function(x){return arguments.length?(d=(x=+x)*x,p):Math.sqrt(d)},p}function Ec(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function zm(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ys(){}var ns=.7,Mi=1/ns,Fr="\\s*([+-]?\\d+)\\s*",rs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tw=/^#([0-9a-f]{3,8})$/,$w=new RegExp(`^rgb\\(${Fr},${Fr},${Fr}\\)$`),Mw=new RegExp(`^rgb\\(${Dt},${Dt},${Dt}\\)$`),Aw=new RegExp(`^rgba\\(${Fr},${Fr},${Fr},${rs}\\)$`),zw=new RegExp(`^rgba\\(${Dt},${Dt},${Dt},${rs}\\)$`),Rw=new RegExp(`^hsl\\(${rs},${Dt},${Dt}\\)$`),Dw=new RegExp(`^hsla\\(${rs},${Dt},${Dt},${rs}\\)$`),rf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ec(ys,os,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:of,formatHex:of,formatHex8:Ow,formatHsl:Lw,formatRgb:sf,toString:sf});function of(){return this.rgb().formatHex()}function Ow(){return this.rgb().formatHex8()}function Lw(){return Rm(this).formatHsl()}function sf(){return this.rgb().formatRgb()}function os(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Tw.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?lf(t):n===3?new qe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Os(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Os(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$w.exec(e))?new qe(t[1],t[2],t[3],1):(t=Mw.exec(e))?new qe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Aw.exec(e))?Os(t[1],t[2],t[3],t[4]):(t=zw.exec(e))?Os(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Rw.exec(e))?cf(t[1],t[2]/100,t[3]/100,1):(t=Dw.exec(e))?cf(t[1],t[2]/100,t[3]/100,t[4]):rf.hasOwnProperty(e)?lf(rf[e]):e==="transparent"?new qe(NaN,NaN,NaN,0):null}function lf(e){return new qe(e>>16&255,e>>8&255,e&255,1)}function Os(e,t,n,r){return r<=0&&(e=t=n=NaN),new qe(e,t,n,r)}function Fw(e){return e instanceof ys||(e=os(e)),e?(e=e.rgb(),new qe(e.r,e.g,e.b,e.opacity)):new qe}function iu(e,t,n,r){return arguments.length===1?Fw(e):new qe(e,t,n,r??1)}function qe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ec(qe,iu,zm(ys,{brighter(e){return e=e==null?Mi:Math.pow(Mi,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ns:Math.pow(ns,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qe(Jn(this.r),Jn(this.g),Jn(this.b),Ai(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:af,formatHex:af,formatHex8:Hw,formatRgb:uf,toString:uf}));function af(){return`#${Kn(this.r)}${Kn(this.g)}${Kn(this.b)}`}function Hw(){return`#${Kn(this.r)}${Kn(this.g)}${Kn(this.b)}${Kn((isNaN(this.opacity)?1:this.opacity)*255)}`}function uf(){const e=Ai(this.opacity);return`${e===1?"rgb(":"rgba("}${Jn(this.r)}, ${Jn(this.g)}, ${Jn(this.b)}${e===1?")":`, ${e})`}`}function Ai(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Kn(e){return e=Jn(e),(e<16?"0":"")+e.toString(16)}function cf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Et(e,t,n,r)}function Rm(e){if(e instanceof Et)return new Et(e.h,e.s,e.l,e.opacity);if(e instanceof ys||(e=os(e)),!e)return new Et;if(e instanceof Et)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),s=Math.max(t,n,r),i=NaN,l=s-o,a=(s+o)/2;return l?(t===s?i=(n-r)/l+(n<r)*6:n===s?i=(r-t)/l+2:i=(t-n)/l+4,l/=a<.5?s+o:2-s-o,i*=60):l=a>0&&a<1?0:i,new Et(i,l,a,e.opacity)}function Vw(e,t,n,r){return arguments.length===1?Rm(e):new Et(e,t,n,r??1)}function Et(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ec(Et,Vw,zm(ys,{brighter(e){return e=e==null?Mi:Math.pow(Mi,e),new Et(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ns:Math.pow(ns,e),new Et(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new qe(Gl(e>=240?e-240:e+120,o,r),Gl(e,o,r),Gl(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Et(df(this.h),Ls(this.s),Ls(this.l),Ai(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ai(this.opacity);return`${e===1?"hsl(":"hsla("}${df(this.h)}, ${Ls(this.s)*100}%, ${Ls(this.l)*100}%${e===1?")":`, ${e})`}`}}));function df(e){return e=(e||0)%360,e<0?e+360:e}function Ls(e){return Math.max(0,Math.min(1,e||0))}function Gl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Dm=e=>()=>e;function Bw(e,t){return function(n){return e+n*t}}function Uw(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ww(e){return(e=+e)==1?Om:function(t,n){return n-t?Uw(t,n,e):Dm(isNaN(t)?n:t)}}function Om(e,t){var n=t-e;return n?Bw(e,n):Dm(isNaN(e)?t:e)}const ff=function e(t){var n=Ww(t);function r(o,s){var i=n((o=iu(o)).r,(s=iu(s)).r),l=n(o.g,s.g),a=n(o.b,s.b),u=Om(o.opacity,s.opacity);return function(f){return o.r=i(f),o.g=l(f),o.b=a(f),o.opacity=u(f),o+""}}return r.gamma=e,r}(1);function an(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var lu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zl=new RegExp(lu.source,"g");function Qw(e){return function(){return e}}function qw(e){return function(t){return e(t)+""}}function Yw(e,t){var n=lu.lastIndex=Zl.lastIndex=0,r,o,s,i=-1,l=[],a=[];for(e=e+"",t=t+"";(r=lu.exec(e))&&(o=Zl.exec(t));)(s=o.index)>n&&(s=t.slice(n,s),l[i]?l[i]+=s:l[++i]=s),(r=r[0])===(o=o[0])?l[i]?l[i]+=o:l[++i]=o:(l[++i]=null,a.push({i,x:an(r,o)})),n=Zl.lastIndex;return n<t.length&&(s=t.slice(n),l[i]?l[i]+=s:l[++i]=s),l.length<2?a[0]?qw(a[0].x):Qw(t):(t=a.length,function(u){for(var f=0,d;f<t;++f)l[(d=a[f]).i]=d.x(u);return l.join("")})}var pf=180/Math.PI,au={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Lm(e,t,n,r,o,s){var i,l,a;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,i=-i),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*pf,skewX:Math.atan(a)*pf,scaleX:i,scaleY:l}}var Fs;function Kw(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?au:Lm(t.a,t.b,t.c,t.d,t.e,t.f)}function Xw(e){return e==null||(Fs||(Fs=document.createElementNS("http://www.w3.org/2000/svg","g")),Fs.setAttribute("transform",e),!(e=Fs.transform.baseVal.consolidate()))?au:(e=e.matrix,Lm(e.a,e.b,e.c,e.d,e.e,e.f))}function Fm(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function s(u,f,d,p,h,N){if(u!==d||f!==p){var v=h.push("translate(",null,t,null,n);N.push({i:v-4,x:an(u,d)},{i:v-2,x:an(f,p)})}else(d||p)&&h.push("translate("+d+t+p+n)}function i(u,f,d,p){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),p.push({i:d.push(o(d)+"rotate(",null,r)-2,x:an(u,f)})):f&&d.push(o(d)+"rotate("+f+r)}function l(u,f,d,p){u!==f?p.push({i:d.push(o(d)+"skewX(",null,r)-2,x:an(u,f)}):f&&d.push(o(d)+"skewX("+f+r)}function a(u,f,d,p,h,N){if(u!==d||f!==p){var v=h.push(o(h)+"scale(",null,",",null,")");N.push({i:v-4,x:an(u,d)},{i:v-2,x:an(f,p)})}else(d!==1||p!==1)&&h.push(o(h)+"scale("+d+","+p+")")}return function(u,f){var d=[],p=[];return u=e(u),f=e(f),s(u.translateX,u.translateY,f.translateX,f.translateY,d,p),i(u.rotate,f.rotate,d,p),l(u.skewX,f.skewX,d,p),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,p),u=f=null,function(h){for(var N=-1,v=p.length,_;++N<v;)d[(_=p[N]).i]=_.x(h);return d.join("")}}}var Gw=Fm(Kw,"px, ","px)","deg)"),Zw=Fm(Xw,", ",")",")"),Jw=1e-12;function hf(e){return((e=Math.exp(e))+1/e)/2}function e2(e){return((e=Math.exp(e))-1/e)/2}function t2(e){return((e=Math.exp(2*e))-1)/(e+1)}const n2=function e(t,n,r){function o(s,i){var l=s[0],a=s[1],u=s[2],f=i[0],d=i[1],p=i[2],h=f-l,N=d-a,v=h*h+N*N,_,m;if(v<Jw)m=Math.log(p/u)/t,_=function($){return[l+$*h,a+$*N,u*Math.exp(t*$*m)]};else{var g=Math.sqrt(v),y=(p*p-u*u+r*v)/(2*u*n*g),x=(p*p-u*u-r*v)/(2*p*n*g),S=Math.log(Math.sqrt(y*y+1)-y),P=Math.log(Math.sqrt(x*x+1)-x);m=(P-S)/t,_=function($){var I=$*m,b=hf(S),F=u/(n*g)*(b*t2(t*I+S)-e2(S));return[l+F*h,a+F*N,u*b/hf(t*I+S)]}}return _.duration=m*1e3*t/Math.SQRT2,_}return o.rho=function(s){var i=Math.max(.001,+s),l=i*i,a=l*l;return e(i,l,a)},o}(Math.SQRT2,2,4);var Gr=0,bo=0,go=0,Hm=1e3,zi,Co,Ri=0,ir=0,ul=0,ss=typeof performance=="object"&&performance.now?performance:Date,Vm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function kc(){return ir||(Vm(r2),ir=ss.now()+ul)}function r2(){ir=0}function Di(){this._call=this._time=this._next=null}Di.prototype=Bm.prototype={constructor:Di,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?kc():+n)+(t==null?0:+t),!this._next&&Co!==this&&(Co?Co._next=this:zi=this,Co=this),this._call=e,this._time=n,uu()},stop:function(){this._call&&(this._call=null,this._time=1/0,uu())}};function Bm(e,t,n){var r=new Di;return r.restart(e,t,n),r}function o2(){kc(),++Gr;for(var e=zi,t;e;)(t=ir-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Gr}function mf(){ir=(Ri=ss.now())+ul,Gr=bo=0;try{o2()}finally{Gr=0,i2(),ir=0}}function s2(){var e=ss.now(),t=e-Ri;t>Hm&&(ul-=t,Ri=e)}function i2(){for(var e,t=zi,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:zi=n);Co=e,uu(r)}function uu(e){if(!Gr){bo&&(bo=clearTimeout(bo));var t=e-ir;t>24?(e<1/0&&(bo=setTimeout(mf,e-ss.now()-ul)),go&&(go=clearInterval(go))):(go||(Ri=ss.now(),go=setInterval(s2,Hm)),Gr=1,Vm(mf))}}function gf(e,t,n){var r=new Di;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var l2=ll("start","end","cancel","interrupt"),a2=[],Um=0,yf=1,cu=2,si=3,xf=4,du=5,ii=6;function cl(e,t,n,r,o,s){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;u2(e,n,{name:t,index:r,group:o,on:l2,tween:a2,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Um})}function _c(e,t){var n=It(e,t);if(n.state>Um)throw new Error("too late; already scheduled");return n}function Ot(e,t){var n=It(e,t);if(n.state>si)throw new Error("too late; already running");return n}function It(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function u2(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Bm(s,0,n.time);function s(u){n.state=yf,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var f,d,p,h;if(n.state!==yf)return a();for(f in r)if(h=r[f],h.name===n.name){if(h.state===si)return gf(i);h.state===xf?(h.state=ii,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[f]):+f<t&&(h.state=ii,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[f])}if(gf(function(){n.state===si&&(n.state=xf,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=cu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===cu){for(n.state=si,o=new Array(p=n.tween.length),f=0,d=-1;f<p;++f)(h=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=h);o.length=d+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=du,1),d=-1,p=o.length;++d<p;)o[d].call(e,f);n.state===du&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=ii,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function li(e,t){var n=e.__transition,r,o,s=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){s=!1;continue}o=r.state>cu&&r.state<du,r.state=ii,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}s&&delete e.__transition}}function c2(e){return this.each(function(){li(this,e)})}function d2(e,t){var n,r;return function(){var o=Ot(this,e),s=o.tween;if(s!==n){r=n=s;for(var i=0,l=r.length;i<l;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}o.tween=r}}function f2(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var s=Ot(this,e),i=s.tween;if(i!==r){o=(r=i).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}s.tween=o}}function p2(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=It(this.node(),n).tween,o=0,s=r.length,i;o<s;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((t==null?d2:f2)(n,e,t))}function bc(e,t,n){var r=e._id;return e.each(function(){var o=Ot(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return It(o,r).value[t]}}function Wm(e,t){var n;return(typeof t=="number"?an:t instanceof os?ff:(n=os(t))?(t=n,ff):Yw)(e,t)}function h2(e){return function(){this.removeAttribute(e)}}function m2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function g2(e,t,n){var r,o=n+"",s;return function(){var i=this.getAttribute(e);return i===o?null:i===r?s:s=t(r=i,n)}}function y2(e,t,n){var r,o=n+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===r?s:s=t(r=i,n)}}function x2(e,t,n){var r,o,s;return function(){var i,l=n(this),a;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),a=l+"",i===a?null:i===r&&a===o?s:(o=a,s=t(r=i,l)))}}function v2(e,t,n){var r,o,s;return function(){var i,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),a=l+"",i===a?null:i===r&&a===o?s:(o=a,s=t(r=i,l)))}}function w2(e,t){var n=al(e),r=n==="transform"?Zw:Wm;return this.attrTween(e,typeof t=="function"?(n.local?v2:x2)(n,r,bc(this,"attr."+e,t)):t==null?(n.local?m2:h2)(n):(n.local?y2:g2)(n,r,t))}function N2(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function S2(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function E2(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&S2(e,s)),n}return o._value=t,o}function k2(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&N2(e,s)),n}return o._value=t,o}function _2(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=al(e);return this.tween(n,(r.local?E2:k2)(r,t))}function b2(e,t){return function(){_c(this,e).delay=+t.apply(this,arguments)}}function C2(e,t){return t=+t,function(){_c(this,e).delay=t}}function j2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?b2:C2)(t,e)):It(this.node(),t).delay}function I2(e,t){return function(){Ot(this,e).duration=+t.apply(this,arguments)}}function P2(e,t){return t=+t,function(){Ot(this,e).duration=t}}function T2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?I2:P2)(t,e)):It(this.node(),t).duration}function $2(e,t){if(typeof t!="function")throw new Error;return function(){Ot(this,e).ease=t}}function M2(e){var t=this._id;return arguments.length?this.each($2(t,e)):It(this.node(),t).ease}function A2(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ot(this,e).ease=n}}function z2(e){if(typeof e!="function")throw new Error;return this.each(A2(this._id,e))}function R2(e){typeof e!="function"&&(e=Em(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,l=r[o]=[],a,u=0;u<i;++u)(a=s[u])&&e.call(a,a.__data__,u,s)&&l.push(a);return new en(r,this._parents,this._name,this._id)}function D2(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,s=Math.min(r,o),i=new Array(r),l=0;l<s;++l)for(var a=t[l],u=n[l],f=a.length,d=i[l]=new Array(f),p,h=0;h<f;++h)(p=a[h]||u[h])&&(d[h]=p);for(;l<r;++l)i[l]=t[l];return new en(i,this._parents,this._name,this._id)}function O2(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function L2(e,t,n){var r,o,s=O2(t)?_c:Ot;return function(){var i=s(this,e),l=i.on;l!==r&&(o=(r=l).copy()).on(t,n),i.on=o}}function F2(e,t){var n=this._id;return arguments.length<2?It(this.node(),n).on.on(e):this.each(L2(n,e,t))}function H2(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function V2(){return this.on("end.remove",H2(this._id))}function B2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Nc(e));for(var r=this._groups,o=r.length,s=new Array(o),i=0;i<o;++i)for(var l=r[i],a=l.length,u=s[i]=new Array(a),f,d,p=0;p<a;++p)(f=l[p])&&(d=e.call(f,f.__data__,p,l))&&("__data__"in f&&(d.__data__=f.__data__),u[p]=d,cl(u[p],t,n,p,u,It(f,n)));return new en(s,this._parents,t,n)}function U2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Sm(e));for(var r=this._groups,o=r.length,s=[],i=[],l=0;l<o;++l)for(var a=r[l],u=a.length,f,d=0;d<u;++d)if(f=a[d]){for(var p=e.call(f,f.__data__,d,a),h,N=It(f,n),v=0,_=p.length;v<_;++v)(h=p[v])&&cl(h,t,n,v,p,N);s.push(p),i.push(f)}return new en(s,i,t,n)}var W2=gs.prototype.constructor;function Q2(){return new W2(this._groups,this._parents)}function q2(e,t){var n,r,o;return function(){var s=Xr(this,e),i=(this.style.removeProperty(e),Xr(this,e));return s===i?null:s===n&&i===r?o:o=t(n=s,r=i)}}function Qm(e){return function(){this.style.removeProperty(e)}}function Y2(e,t,n){var r,o=n+"",s;return function(){var i=Xr(this,e);return i===o?null:i===r?s:s=t(r=i,n)}}function K2(e,t,n){var r,o,s;return function(){var i=Xr(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Xr(this,e))),i===a?null:i===r&&a===o?s:(o=a,s=t(r=i,l))}}function X2(e,t){var n,r,o,s="style."+t,i="end."+s,l;return function(){var a=Ot(this,e),u=a.on,f=a.value[s]==null?l||(l=Qm(t)):void 0;(u!==n||o!==f)&&(r=(n=u).copy()).on(i,o=f),a.on=r}}function G2(e,t,n){var r=(e+="")=="transform"?Gw:Wm;return t==null?this.styleTween(e,q2(e,r)).on("end.style."+e,Qm(e)):typeof t=="function"?this.styleTween(e,K2(e,r,bc(this,"style."+e,t))).each(X2(this._id,e)):this.styleTween(e,Y2(e,r,t),n).on("end.style."+e,null)}function Z2(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function J2(e,t,n){var r,o;function s(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&Z2(e,i,n)),r}return s._value=t,s}function eN(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,J2(e,t,n??""))}function tN(e){return function(){this.textContent=e}}function nN(e){return function(){var t=e(this);this.textContent=t??""}}function rN(e){return this.tween("text",typeof e=="function"?nN(bc(this,"text",e)):tN(e==null?"":e+""))}function oN(e){return function(t){this.textContent=e.call(this,t)}}function sN(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&oN(o)),t}return r._value=e,r}function iN(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,sN(e))}function lN(){for(var e=this._name,t=this._id,n=qm(),r=this._groups,o=r.length,s=0;s<o;++s)for(var i=r[s],l=i.length,a,u=0;u<l;++u)if(a=i[u]){var f=It(a,t);cl(a,e,n,u,i,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new en(r,this._parents,e,n)}function aN(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(s,i){var l={value:i},a={value:function(){--o===0&&s()}};n.each(function(){var u=Ot(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&s()})}var uN=0;function en(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function qm(){return++uN}var Ht=gs.prototype;en.prototype={constructor:en,select:B2,selectAll:U2,selectChild:Ht.selectChild,selectChildren:Ht.selectChildren,filter:R2,merge:D2,selection:Q2,transition:lN,call:Ht.call,nodes:Ht.nodes,node:Ht.node,size:Ht.size,empty:Ht.empty,each:Ht.each,on:F2,attr:w2,attrTween:_2,style:G2,styleTween:eN,text:rN,textTween:iN,remove:V2,tween:p2,delay:j2,duration:T2,ease:M2,easeVarying:z2,end:aN,[Symbol.iterator]:Ht[Symbol.iterator]};function cN(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var dN={time:null,delay:0,duration:250,ease:cN};function fN(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function pN(e){var t,n;e instanceof en?(t=e._id,e=e._name):(t=qm(),(n=dN).time=kc(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var i=r[s],l=i.length,a,u=0;u<l;++u)(a=i[u])&&cl(a,e,t,u,i,n||fN(a,t));return new en(r,this._parents,e,t)}gs.prototype.interrupt=c2;gs.prototype.transition=pN;const Hs=e=>()=>e;function hN(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Qt(e,t,n){this.k=e,this.x=t,this.y=n}Qt.prototype={constructor:Qt,scale:function(e){return e===1?this:new Qt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Qt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Kt=new Qt(1,0,0);Qt.prototype;function Jl(e){e.stopImmediatePropagation()}function yo(e){e.preventDefault(),e.stopImmediatePropagation()}function mN(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function gN(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function vf(){return this.__zoom||Kt}function yN(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function xN(){return navigator.maxTouchPoints||"ontouchstart"in this}function vN(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function Ym(){var e=mN,t=gN,n=vN,r=yN,o=xN,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,a=n2,u=ll("start","zoom","end"),f,d,p,h=500,N=150,v=0,_=10;function m(w){w.property("__zoom",vf).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",b).on("dblclick.zoom",F).filter(o).on("touchstart.zoom",B).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(w,z,j,O){var C=w.selection?w.selection():w;C.property("__zoom",vf),w!==C?S(w,z,j,O):C.interrupt().each(function(){P(this,arguments).event(O).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},m.scaleBy=function(w,z,j,O){m.scaleTo(w,function(){var C=this.__zoom.k,E=typeof z=="function"?z.apply(this,arguments):z;return C*E},j,O)},m.scaleTo=function(w,z,j,O){m.transform(w,function(){var C=t.apply(this,arguments),E=this.__zoom,T=j==null?x(C):typeof j=="function"?j.apply(this,arguments):j,R=E.invert(T),k=typeof z=="function"?z.apply(this,arguments):z;return n(y(g(E,k),T,R),C,i)},j,O)},m.translateBy=function(w,z,j,O){m.transform(w,function(){return n(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof j=="function"?j.apply(this,arguments):j),t.apply(this,arguments),i)},null,O)},m.translateTo=function(w,z,j,O,C){m.transform(w,function(){var E=t.apply(this,arguments),T=this.__zoom,R=O==null?x(E):typeof O=="function"?O.apply(this,arguments):O;return n(Kt.translate(R[0],R[1]).scale(T.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof j=="function"?-j.apply(this,arguments):-j),E,i)},O,C)};function g(w,z){return z=Math.max(s[0],Math.min(s[1],z)),z===w.k?w:new Qt(z,w.x,w.y)}function y(w,z,j){var O=z[0]-j[0]*w.k,C=z[1]-j[1]*w.k;return O===w.x&&C===w.y?w:new Qt(w.k,O,C)}function x(w){return[(+w[0][0]+ +w[1][0])/2,(+w[0][1]+ +w[1][1])/2]}function S(w,z,j,O){w.on("start.zoom",function(){P(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(O).end()}).tween("zoom",function(){var C=this,E=arguments,T=P(C,E).event(O),R=t.apply(C,E),k=j==null?x(R):typeof j=="function"?j.apply(C,E):j,L=Math.max(R[1][0]-R[0][0],R[1][1]-R[0][1]),D=C.__zoom,H=typeof z=="function"?z.apply(C,E):z,W=a(D.invert(k).concat(L/D.k),H.invert(k).concat(L/H.k));return function(Q){if(Q===1)Q=H;else{var ee=W(Q),X=L/ee[2];Q=new Qt(X,k[0]-ee[0]*X,k[1]-ee[1]*X)}T.zoom(null,Q)}})}function P(w,z,j){return!j&&w.__zooming||new $(w,z)}function $(w,z){this.that=w,this.args=z,this.active=0,this.sourceEvent=null,this.extent=t.apply(w,z),this.taps=0}$.prototype={event:function(w){return w&&(this.sourceEvent=w),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(w,z){return this.mouse&&w!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&w!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&w!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(w){var z=ct(this.that).datum();u.call(w,this.that,new hN(w,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),z)}};function I(w,...z){if(!e.apply(this,arguments))return;var j=P(this,z).event(w),O=this.__zoom,C=Math.max(s[0],Math.min(s[1],O.k*Math.pow(2,r.apply(this,arguments)))),E=Nt(w);if(j.wheel)(j.mouse[0][0]!==E[0]||j.mouse[0][1]!==E[1])&&(j.mouse[1]=O.invert(j.mouse[0]=E)),clearTimeout(j.wheel);else{if(O.k===C)return;j.mouse=[E,O.invert(E)],li(this),j.start()}yo(w),j.wheel=setTimeout(T,N),j.zoom("mouse",n(y(g(O,C),j.mouse[0],j.mouse[1]),j.extent,i));function T(){j.wheel=null,j.end()}}function b(w,...z){if(p||!e.apply(this,arguments))return;var j=w.currentTarget,O=P(this,z,!0).event(w),C=ct(w.view).on("mousemove.zoom",k,!0).on("mouseup.zoom",L,!0),E=Nt(w,j),T=w.clientX,R=w.clientY;Mm(w.view),Jl(w),O.mouse=[E,this.__zoom.invert(E)],li(this),O.start();function k(D){if(yo(D),!O.moved){var H=D.clientX-T,W=D.clientY-R;O.moved=H*H+W*W>v}O.event(D).zoom("mouse",n(y(O.that.__zoom,O.mouse[0]=Nt(D,j),O.mouse[1]),O.extent,i))}function L(D){C.on("mousemove.zoom mouseup.zoom",null),Am(D.view,O.moved),yo(D),O.event(D).end()}}function F(w,...z){if(e.apply(this,arguments)){var j=this.__zoom,O=Nt(w.changedTouches?w.changedTouches[0]:w,this),C=j.invert(O),E=j.k*(w.shiftKey?.5:2),T=n(y(g(j,E),O,C),t.apply(this,z),i);yo(w),l>0?ct(this).transition().duration(l).call(S,T,O,w):ct(this).call(m.transform,T,O,w)}}function B(w,...z){if(e.apply(this,arguments)){var j=w.touches,O=j.length,C=P(this,z,w.changedTouches.length===O).event(w),E,T,R,k;for(Jl(w),T=0;T<O;++T)R=j[T],k=Nt(R,this),k=[k,this.__zoom.invert(k),R.identifier],C.touch0?!C.touch1&&C.touch0[2]!==k[2]&&(C.touch1=k,C.taps=0):(C.touch0=k,E=!0,C.taps=1+!!f);f&&(f=clearTimeout(f)),E&&(C.taps<2&&(d=k[0],f=setTimeout(function(){f=null},h)),li(this),C.start())}}function U(w,...z){if(this.__zooming){var j=P(this,z).event(w),O=w.changedTouches,C=O.length,E,T,R,k;for(yo(w),E=0;E<C;++E)T=O[E],R=Nt(T,this),j.touch0&&j.touch0[2]===T.identifier?j.touch0[0]=R:j.touch1&&j.touch1[2]===T.identifier&&(j.touch1[0]=R);if(T=j.that.__zoom,j.touch1){var L=j.touch0[0],D=j.touch0[1],H=j.touch1[0],W=j.touch1[1],Q=(Q=H[0]-L[0])*Q+(Q=H[1]-L[1])*Q,ee=(ee=W[0]-D[0])*ee+(ee=W[1]-D[1])*ee;T=g(T,Math.sqrt(Q/ee)),R=[(L[0]+H[0])/2,(L[1]+H[1])/2],k=[(D[0]+W[0])/2,(D[1]+W[1])/2]}else if(j.touch0)R=j.touch0[0],k=j.touch0[1];else return;j.zoom("touch",n(y(T,R,k),j.extent,i))}}function A(w,...z){if(this.__zooming){var j=P(this,z).event(w),O=w.changedTouches,C=O.length,E,T;for(Jl(w),p&&clearTimeout(p),p=setTimeout(function(){p=null},h),E=0;E<C;++E)T=O[E],j.touch0&&j.touch0[2]===T.identifier?delete j.touch0:j.touch1&&j.touch1[2]===T.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(T=Nt(T,this),Math.hypot(d[0]-T[0],d[1]-T[1])<_)){var R=ct(this).on("dblclick.zoom");R&&R.apply(this,arguments)}}}return m.wheelDelta=function(w){return arguments.length?(r=typeof w=="function"?w:Hs(+w),m):r},m.filter=function(w){return arguments.length?(e=typeof w=="function"?w:Hs(!!w),m):e},m.touchable=function(w){return arguments.length?(o=typeof w=="function"?w:Hs(!!w),m):o},m.extent=function(w){return arguments.length?(t=typeof w=="function"?w:Hs([[+w[0][0],+w[0][1]],[+w[1][0],+w[1][1]]]),m):t},m.scaleExtent=function(w){return arguments.length?(s[0]=+w[0],s[1]=+w[1],m):[s[0],s[1]]},m.translateExtent=function(w){return arguments.length?(i[0][0]=+w[0][0],i[1][0]=+w[1][0],i[0][1]=+w[0][1],i[1][1]=+w[1][1],m):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},m.constrain=function(w){return arguments.length?(n=w,m):n},m.duration=function(w){return arguments.length?(l=+w,m):l},m.interpolate=function(w){return arguments.length?(a=w,m):a},m.on=function(){var w=u.on.apply(u,arguments);return w===u?m:w},m.clickDistance=function(w){return arguments.length?(v=(w=+w)*w,m):Math.sqrt(v)},m.tapDistance=function(w){return arguments.length?(_=+w,m):_},m}const dl=M.createContext(null),wN=dl.Provider,tn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Km=tn.error001();function pe(e,t){const n=M.useContext(dl);if(n===null)throw new Error(Km);return wm(n,e,t)}const je=()=>{const e=M.useContext(dl);if(e===null)throw new Error(Km);return M.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},NN=e=>e.userSelectionActive?"none":"all";function fl({position:e,children:t,className:n,style:r,...o}){const s=pe(NN),i=`${e}`.split("-");return V.createElement("div",{className:ze(["react-flow__panel",n,...i]),style:{...r,pointerEvents:s},...o},t)}function SN({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:V.createElement(fl,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},V.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const EN=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:s={},labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...f})=>{const d=M.useRef(null),[p,h]=M.useState({x:0,y:0,width:0,height:0}),N=ze(["react-flow__edge-textwrapper",u]);return M.useEffect(()=>{if(d.current){const v=d.current.getBBox();h({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:V.createElement("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:N,visibility:p.width?"visible":"hidden",...f},o&&V.createElement("rect",{width:p.width+2*i[0],x:-i[0],y:-i[1],height:p.height+2*i[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),V.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:d,style:r},n),a)};var kN=M.memo(EN);const Cc=e=>({width:e.offsetWidth,height:e.offsetHeight}),Zr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),jc=(e={x:0,y:0},t)=>({x:Zr(e.x,t[0][0],t[1][0]),y:Zr(e.y,t[0][1],t[1][1])}),wf=(e,t,n)=>e<t?Zr(Math.abs(e-t),1,50)/50:e>n?-Zr(Math.abs(e-n),1,50)/50:0,Xm=(e,t)=>{const n=wf(e.x,35,t.width-35)*20,r=wf(e.y,35,t.height-35)*20;return[n,r]},Gm=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Zm=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),is=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Jm=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Nf=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),_N=(e,t)=>Jm(Zm(is(e),is(t))),fu=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},bN=e=>ft(e.width)&&ft(e.height)&&ft(e.x)&&ft(e.y),ft=e=>!isNaN(e)&&isFinite(e),Ne=Symbol.for("internals"),eg=["Enter"," ","Escape"],CN=(e,t)=>{},jN=e=>"nativeEvent"in e;function pu(e){var o,s;const t=jN(e)?e.nativeEvent:e,n=((s=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const tg=e=>"clientX"in e,_n=(e,t)=>{var s,i;const n=tg(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,o=n?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Oi=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},xs=({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:f,markerEnd:d,markerStart:p,interactionWidth:h=20})=>V.createElement(V.Fragment,null,V.createElement("path",{id:e,style:f,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:p}),h&&V.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),o&&ft(n)&&ft(r)?V.createElement(kN,{x:n,y:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u}):null);xs.displayName="BaseEdge";function xo(e,t,n){return n===void 0?n:r=>{const o=t().edges.find(s=>s.id===e);o&&n(r,{...o})}}function ng({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,s=n<e?n+o:n-o,i=Math.abs(r-t)/2,l=r<t?r+i:r-i;return[s,l,o,i]}function rg({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:s,targetControlX:i,targetControlY:l}){const a=e*.125+o*.375+i*.375+n*.125,u=t*.125+s*.375+l*.375+r*.125,f=Math.abs(a-e),d=Math.abs(u-t);return[a,u,f,d]}var In;(function(e){e.Strict="strict",e.Loose="loose"})(In||(In={}));var Xn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Xn||(Xn={}));var ls;(function(e){e.Partial="partial",e.Full="full"})(ls||(ls={}));var fn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(fn||(fn={}));var Li;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Li||(Li={}));var J;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(J||(J={}));function Sf({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===J.Left||e===J.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function og({sourceX:e,sourceY:t,sourcePosition:n=J.Bottom,targetX:r,targetY:o,targetPosition:s=J.Top}){const[i,l]=Sf({pos:n,x1:e,y1:t,x2:r,y2:o}),[a,u]=Sf({pos:s,x1:r,y1:o,x2:e,y2:t}),[f,d,p,h]=rg({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:i,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${i},${l} ${a},${u} ${r},${o}`,f,d,p,h]}const Ic=M.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=J.Bottom,targetPosition:s=J.Top,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:p,markerEnd:h,markerStart:N,interactionWidth:v})=>{const[_,m,g]=og({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:s});return V.createElement(xs,{path:_,labelX:m,labelY:g,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:p,markerEnd:h,markerStart:N,interactionWidth:v})});Ic.displayName="SimpleBezierEdge";const Ef={[J.Left]:{x:-1,y:0},[J.Right]:{x:1,y:0},[J.Top]:{x:0,y:-1},[J.Bottom]:{x:0,y:1}},IN=({source:e,sourcePosition:t=J.Bottom,target:n})=>t===J.Left||t===J.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},kf=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function PN({source:e,sourcePosition:t=J.Bottom,target:n,targetPosition:r=J.Top,center:o,offset:s}){const i=Ef[t],l=Ef[r],a={x:e.x+i.x*s,y:e.y+i.y*s},u={x:n.x+l.x*s,y:n.y+l.y*s},f=IN({source:a,sourcePosition:t,target:u}),d=f.x!==0?"x":"y",p=f[d];let h=[],N,v;const _={x:0,y:0},m={x:0,y:0},[g,y,x,S]=ng({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[d]*l[d]===-1){N=o.x??g,v=o.y??y;const $=[{x:N,y:a.y},{x:N,y:u.y}],I=[{x:a.x,y:v},{x:u.x,y:v}];i[d]===p?h=d==="x"?$:I:h=d==="x"?I:$}else{const $=[{x:a.x,y:u.y}],I=[{x:u.x,y:a.y}];if(d==="x"?h=i.x===p?I:$:h=i.y===p?$:I,t===r){const A=Math.abs(e[d]-n[d]);if(A<=s){const w=Math.min(s-1,s-A);i[d]===p?_[d]=(a[d]>e[d]?-1:1)*w:m[d]=(u[d]>n[d]?-1:1)*w}}if(t!==r){const A=d==="x"?"y":"x",w=i[d]===l[A],z=a[A]>u[A],j=a[A]<u[A];(i[d]===1&&(!w&&z||w&&j)||i[d]!==1&&(!w&&j||w&&z))&&(h=d==="x"?$:I)}const b={x:a.x+_.x,y:a.y+_.y},F={x:u.x+m.x,y:u.y+m.y},B=Math.max(Math.abs(b.x-h[0].x),Math.abs(F.x-h[0].x)),U=Math.max(Math.abs(b.y-h[0].y),Math.abs(F.y-h[0].y));B>=U?(N=(b.x+F.x)/2,v=h[0].y):(N=h[0].x,v=(b.y+F.y)/2)}return[[e,{x:a.x+_.x,y:a.y+_.y},...h,{x:u.x+m.x,y:u.y+m.y},n],N,v,x,S]}function TN(e,t,n,r){const o=Math.min(kf(e,t)/2,kf(t,n)/2,r),{x:s,y:i}=t;if(e.x===s&&s===n.x||e.y===i&&i===n.y)return`L${s} ${i}`;if(e.y===i){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${s+o*u},${i}Q ${s},${i} ${s},${i+o*f}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${s},${i+o*a}Q ${s},${i} ${s+o*l},${i}`}function hu({sourceX:e,sourceY:t,sourcePosition:n=J.Bottom,targetX:r,targetY:o,targetPosition:s=J.Top,borderRadius:i=5,centerX:l,centerY:a,offset:u=20}){const[f,d,p,h,N]=PN({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:s,center:{x:l,y:a},offset:u});return[f.reduce((_,m,g)=>{let y="";return g>0&&g<f.length-1?y=TN(f[g-1],m,f[g+1],i):y=`${g===0?"M":"L"}${m.x} ${m.y}`,_+=y,_},""),d,p,h,N]}const pl=M.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:f,sourcePosition:d=J.Bottom,targetPosition:p=J.Top,markerEnd:h,markerStart:N,pathOptions:v,interactionWidth:_})=>{const[m,g,y]=hu({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:p,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return V.createElement(xs,{path:m,labelX:g,labelY:y,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:f,markerEnd:h,markerStart:N,interactionWidth:_})});pl.displayName="SmoothStepEdge";const Pc=M.memo(e=>{var t;return V.createElement(pl,{...e,pathOptions:M.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Pc.displayName="StepEdge";function $N({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,s,i,l]=ng({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,s,i,l]}const Tc=M.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:f,markerEnd:d,markerStart:p,interactionWidth:h})=>{const[N,v,_]=$N({sourceX:e,sourceY:t,targetX:n,targetY:r});return V.createElement(xs,{path:N,labelX:v,labelY:_,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:f,markerEnd:d,markerStart:p,interactionWidth:h})});Tc.displayName="StraightEdge";function Vs(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function _f({pos:e,x1:t,y1:n,x2:r,y2:o,c:s}){switch(e){case J.Left:return[t-Vs(t-r,s),n];case J.Right:return[t+Vs(r-t,s),n];case J.Top:return[t,n-Vs(n-o,s)];case J.Bottom:return[t,n+Vs(o-n,s)]}}function sg({sourceX:e,sourceY:t,sourcePosition:n=J.Bottom,targetX:r,targetY:o,targetPosition:s=J.Top,curvature:i=.25}){const[l,a]=_f({pos:n,x1:e,y1:t,x2:r,y2:o,c:i}),[u,f]=_f({pos:s,x1:r,y1:o,x2:e,y2:t,c:i}),[d,p,h,N]=rg({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${e},${t} C${l},${a} ${u},${f} ${r},${o}`,d,p,h,N]}const Fi=M.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=J.Bottom,targetPosition:s=J.Top,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:p,markerEnd:h,markerStart:N,pathOptions:v,interactionWidth:_})=>{const[m,g,y]=sg({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:s,curvature:v==null?void 0:v.curvature});return V.createElement(xs,{path:m,labelX:g,labelY:y,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:p,markerEnd:h,markerStart:N,interactionWidth:_})});Fi.displayName="BezierEdge";const $c=M.createContext(null),MN=$c.Provider;$c.Consumer;const AN=()=>M.useContext($c),zN=e=>"id"in e&&"source"in e&&"target"in e,RN=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,mu=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,DN=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),ON=(e,t)=>{if(!e.source||!e.target)return t;let n;return zN(e)?n={...e}:n={...e,id:RN(e)},DN(n,t)?t:t.concat(n)},gu=({x:e,y:t},[n,r,o],s,[i,l])=>{const a={x:(e-n)/o,y:(t-r)/o};return s?{x:i*Math.round(a.x/i),y:l*Math.round(a.y/l)}:a},ig=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),er=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},hl=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const{x:s,y:i}=er(o,t).positionAbsolute;return Zm(r,is({x:s,y:i,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Jm(n)},lg=(e,t,[n,r,o]=[0,0,1],s=!1,i=!1,l=[0,0])=>{const a={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},u=[];return e.forEach(f=>{const{width:d,height:p,selectable:h=!0,hidden:N=!1}=f;if(i&&!h||N)return!1;const{positionAbsolute:v}=er(f,l),_={x:v.x,y:v.y,width:d||0,height:p||0},m=fu(a,_),g=typeof d>"u"||typeof p>"u"||d===null||p===null,y=s&&m>0,x=(d||0)*(p||0);(g||y||m>=x||f.dragging)&&u.push(f)}),u},ag=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},ug=(e,t,n,r,o,s=.1)=>{const i=t/(e.width*(1+s)),l=n/(e.height*(1+s)),a=Math.min(i,l),u=Zr(a,r,o),f=e.x+e.width/2,d=e.y+e.height/2,p=t/2-f*u,h=n/2-d*u;return{x:p,y:h,zoom:u}},Bn=(e,t=0)=>e.transition().duration(t);function bf(e,t,n,r){return(t[n]||[]).reduce((o,s)=>{var i,l;return`${e.id}-${s.id}-${n}`!==r&&o.push({id:s.id||null,type:n,nodeId:e.id,x:(((i=e.positionAbsolute)==null?void 0:i.x)??0)+s.x+s.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+s.y+s.height/2}),o},[])}function LN(e,t,n,r,o,s){const{x:i,y:l}=_n(e),u=t.elementsFromPoint(i,l).find(N=>N.classList.contains("react-flow__handle"));if(u){const N=u.getAttribute("data-nodeid");if(N){const v=Mc(void 0,u),_=u.getAttribute("data-handleid"),m=s({nodeId:N,id:_,type:v});if(m){const g=o.find(y=>y.nodeId===N&&y.type===v&&y.id===_);return{handle:{id:_,type:v,nodeId:N,x:(g==null?void 0:g.x)||n.x,y:(g==null?void 0:g.y)||n.y},validHandleResult:m}}}}let f=[],d=1/0;if(o.forEach(N=>{const v=Math.sqrt((N.x-n.x)**2+(N.y-n.y)**2);if(v<=r){const _=s(N);v<=d&&(v<d?f=[{handle:N,validHandleResult:_}]:v===d&&f.push({handle:N,validHandleResult:_}),d=v)}}),!f.length)return{handle:null,validHandleResult:cg()};if(f.length===1)return f[0];const p=f.some(({validHandleResult:N})=>N.isValid),h=f.some(({handle:N})=>N.type==="target");return f.find(({handle:N,validHandleResult:v})=>h?N.type==="target":p?v.isValid:!0)||f[0]}const FN={source:null,target:null,sourceHandle:null,targetHandle:null},cg=()=>({handleDomNode:null,isValid:!1,connection:FN,endHandle:null});function dg(e,t,n,r,o,s,i){const l=o==="target",a=i.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...cg(),handleDomNode:a};if(a){const f=Mc(void 0,a),d=a.getAttribute("data-nodeid"),p=a.getAttribute("data-handleid"),h=a.classList.contains("connectable"),N=a.classList.contains("connectableend"),v={source:l?d:n,sourceHandle:l?p:r,target:l?n:d,targetHandle:l?r:p};u.connection=v,h&&N&&(t===In.Strict?l&&f==="source"||!l&&f==="target":d!==n||p!==r)&&(u.endHandle={nodeId:d,handleId:p,type:f},u.isValid=s(v))}return u}function HN({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((o,s)=>{if(s[Ne]){const{handleBounds:i}=s[Ne];let l=[],a=[];i&&(l=bf(s,i,"source",`${t}-${n}-${r}`),a=bf(s,i,"target",`${t}-${n}-${r}`)),o.push(...l,...a)}return o},[])}function Mc(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function ea(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function VN(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function fg({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:s,setState:i,isValidConnection:l,edgeUpdaterType:a,onReconnectEnd:u}){const f=Gm(e.target),{connectionMode:d,domNode:p,autoPanOnConnect:h,connectionRadius:N,onConnectStart:v,panBy:_,getNodes:m,cancelConnection:g}=s();let y=0,x;const{x:S,y:P}=_n(e),$=f==null?void 0:f.elementFromPoint(S,P),I=Mc(a,$),b=p==null?void 0:p.getBoundingClientRect();if(!b||!I)return;let F,B=_n(e,b),U=!1,A=null,w=!1,z=null;const j=HN({nodes:m(),nodeId:n,handleId:t,handleType:I}),O=()=>{if(!h)return;const[T,R]=Xm(B,b);_({x:T,y:R}),y=requestAnimationFrame(O)};i({connectionPosition:B,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:I,connectionStartHandle:{nodeId:n,handleId:t,type:I},connectionEndHandle:null}),v==null||v(e,{nodeId:n,handleId:t,handleType:I});function C(T){const{transform:R}=s();B=_n(T,b);const{handle:k,validHandleResult:L}=LN(T,f,gu(B,R,!1,[1,1]),N,j,D=>dg(D,d,n,t,o?"target":"source",l,f));if(x=k,U||(O(),U=!0),z=L.handleDomNode,A=L.connection,w=L.isValid,i({connectionPosition:x&&w?ig({x:x.x,y:x.y},R):B,connectionStatus:VN(!!x,w),connectionEndHandle:L.endHandle}),!x&&!w&&!z)return ea(F);A.source!==A.target&&z&&(ea(F),F=z,z.classList.add("connecting","react-flow__handle-connecting"),z.classList.toggle("valid",w),z.classList.toggle("react-flow__handle-valid",w))}function E(T){var R,k;(x||z)&&A&&w&&(r==null||r(A)),(k=(R=s()).onConnectEnd)==null||k.call(R,T),a&&(u==null||u(T)),ea(F),g(),cancelAnimationFrame(y),U=!1,w=!1,A=null,z=null,f.removeEventListener("mousemove",C),f.removeEventListener("mouseup",E),f.removeEventListener("touchmove",C),f.removeEventListener("touchend",E)}f.addEventListener("mousemove",C),f.addEventListener("mouseup",E),f.addEventListener("touchmove",C),f.addEventListener("touchend",E)}const Cf=()=>!0,BN=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),UN=(e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:s,connectionClickStartHandle:i}=r;return{connecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n}},pg=M.forwardRef(({type:e="source",position:t=J.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:s=!0,id:i,onConnect:l,children:a,className:u,onMouseDown:f,onTouchStart:d,...p},h)=>{var b,F;const N=i||null,v=e==="target",_=je(),m=AN(),{connectOnClick:g,noPanClassName:y}=pe(BN,Te),{connecting:x,clickConnecting:S}=pe(UN(m,N,e),Te);m||(F=(b=_.getState()).onError)==null||F.call(b,"010",tn.error010());const P=B=>{const{defaultEdgeOptions:U,onConnect:A,hasDefaultEdges:w}=_.getState(),z={...U,...B};if(w){const{edges:j,setEdges:O}=_.getState();O(ON(z,j))}A==null||A(z),l==null||l(z)},$=B=>{if(!m)return;const U=tg(B);o&&(U&&B.button===0||!U)&&fg({event:B,handleId:N,nodeId:m,onConnect:P,isTarget:v,getState:_.getState,setState:_.setState,isValidConnection:n||_.getState().isValidConnection||Cf}),U?f==null||f(B):d==null||d(B)},I=B=>{const{onClickConnectStart:U,onClickConnectEnd:A,connectionClickStartHandle:w,connectionMode:z,isValidConnection:j}=_.getState();if(!m||!w&&!o)return;if(!w){U==null||U(B,{nodeId:m,handleId:N,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:m,type:e,handleId:N}});return}const O=Gm(B.target),C=n||j||Cf,{connection:E,isValid:T}=dg({nodeId:m,id:N,type:e},z,w.nodeId,w.handleId||null,w.type,C,O);T&&P(E),A==null||A(B),_.setState({connectionClickStartHandle:null})};return V.createElement("div",{"data-handleid":N,"data-nodeid":m,"data-handlepos":t,"data-id":`${m}-${N}-${e}`,className:ze(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,u,{source:!v,target:v,connectable:r,connectablestart:o,connectableend:s,connecting:S,connectionindicator:r&&(o&&!x||s&&x)}]),onMouseDown:$,onTouchStart:$,onClick:g?I:void 0,ref:h,...p},a)});pg.displayName="Handle";var _t=M.memo(pg);const hg=({data:e,isConnectable:t,targetPosition:n=J.Top,sourcePosition:r=J.Bottom})=>V.createElement(V.Fragment,null,V.createElement(_t,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,V.createElement(_t,{type:"source",position:r,isConnectable:t}));hg.displayName="DefaultNode";var yu=M.memo(hg);const mg=({data:e,isConnectable:t,sourcePosition:n=J.Bottom})=>V.createElement(V.Fragment,null,e==null?void 0:e.label,V.createElement(_t,{type:"source",position:n,isConnectable:t}));mg.displayName="InputNode";var gg=M.memo(mg);const yg=({data:e,isConnectable:t,targetPosition:n=J.Top})=>V.createElement(V.Fragment,null,V.createElement(_t,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);yg.displayName="OutputNode";var xg=M.memo(yg);const Ac=()=>null;Ac.displayName="GroupNode";const WN=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Bs=e=>e.id;function QN(e,t){return Te(e.selectedNodes.map(Bs),t.selectedNodes.map(Bs))&&Te(e.selectedEdges.map(Bs),t.selectedEdges.map(Bs))}const vg=M.memo(({onSelectionChange:e})=>{const t=je(),{selectedNodes:n,selectedEdges:r}=pe(WN,QN);return M.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChange.forEach(s=>s(o))},[n,r,e]),null});vg.displayName="SelectionListener";const qN=e=>!!e.onSelectionChange;function YN({onSelectionChange:e}){const t=pe(qN);return e||t?V.createElement(vg,{onSelectionChange:e}):null}const KN=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function mr(e,t){M.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function oe(e,t,n){M.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const XN=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:s,onConnectEnd:i,onClickConnectStart:l,onClickConnectEnd:a,nodesDraggable:u,nodesConnectable:f,nodesFocusable:d,edgesFocusable:p,edgesUpdatable:h,elevateNodesOnSelect:N,minZoom:v,maxZoom:_,nodeExtent:m,onNodesChange:g,onEdgesChange:y,elementsSelectable:x,connectionMode:S,snapGrid:P,snapToGrid:$,translateExtent:I,connectOnClick:b,defaultEdgeOptions:F,fitView:B,fitViewOptions:U,onNodesDelete:A,onEdgesDelete:w,onNodeDrag:z,onNodeDragStart:j,onNodeDragStop:O,onSelectionDrag:C,onSelectionDragStart:E,onSelectionDragStop:T,noPanClassName:R,nodeOrigin:k,rfId:L,autoPanOnConnect:D,autoPanOnNodeDrag:H,onError:W,connectionRadius:Q,isValidConnection:ee,nodeDragThreshold:X})=>{const{setNodes:Y,setEdges:te,setDefaultNodesAndEdges:re,setMinZoom:ae,setMaxZoom:K,setTranslateExtent:ne,setNodeExtent:de,reset:ie}=pe(KN,Te),Z=je();return M.useEffect(()=>{const Se=r==null?void 0:r.map(Ge=>({...Ge,...F}));return re(n,Se),()=>{ie()}},[]),oe("defaultEdgeOptions",F,Z.setState),oe("connectionMode",S,Z.setState),oe("onConnect",o,Z.setState),oe("onConnectStart",s,Z.setState),oe("onConnectEnd",i,Z.setState),oe("onClickConnectStart",l,Z.setState),oe("onClickConnectEnd",a,Z.setState),oe("nodesDraggable",u,Z.setState),oe("nodesConnectable",f,Z.setState),oe("nodesFocusable",d,Z.setState),oe("edgesFocusable",p,Z.setState),oe("edgesUpdatable",h,Z.setState),oe("elementsSelectable",x,Z.setState),oe("elevateNodesOnSelect",N,Z.setState),oe("snapToGrid",$,Z.setState),oe("snapGrid",P,Z.setState),oe("onNodesChange",g,Z.setState),oe("onEdgesChange",y,Z.setState),oe("connectOnClick",b,Z.setState),oe("fitViewOnInit",B,Z.setState),oe("fitViewOnInitOptions",U,Z.setState),oe("onNodesDelete",A,Z.setState),oe("onEdgesDelete",w,Z.setState),oe("onNodeDrag",z,Z.setState),oe("onNodeDragStart",j,Z.setState),oe("onNodeDragStop",O,Z.setState),oe("onSelectionDrag",C,Z.setState),oe("onSelectionDragStart",E,Z.setState),oe("onSelectionDragStop",T,Z.setState),oe("noPanClassName",R,Z.setState),oe("nodeOrigin",k,Z.setState),oe("rfId",L,Z.setState),oe("autoPanOnConnect",D,Z.setState),oe("autoPanOnNodeDrag",H,Z.setState),oe("onError",W,Z.setState),oe("connectionRadius",Q,Z.setState),oe("isValidConnection",ee,Z.setState),oe("nodeDragThreshold",X,Z.setState),mr(e,Y),mr(t,te),mr(v,ae),mr(_,K),mr(I,ne),mr(m,de),null},jf={display:"none"},GN={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},wg="react-flow__node-desc",Ng="react-flow__edge-desc",ZN="react-flow__aria-live",JN=e=>e.ariaLiveMessage;function eS({rfId:e}){const t=pe(JN);return V.createElement("div",{id:`${ZN}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:GN},t)}function tS({rfId:e,disableKeyboardA11y:t}){return V.createElement(V.Fragment,null,V.createElement("div",{id:`${wg}-${e}`,style:jf},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),V.createElement("div",{id:`${Ng}-${e}`,style:jf},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&V.createElement(eS,{rfId:e}))}var as=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=M.useState(!1),o=M.useRef(!1),s=M.useRef(new Set([])),[i,l]=M.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),f=u.reduce((d,p)=>d.concat(...p),[]);return[u,f]}return[[],[]]},[e]);return M.useEffect(()=>{const a=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||a;if(e!==null){const f=h=>{if(o.current=h.ctrlKey||h.metaKey||h.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&pu(h))return!1;const v=Pf(h.code,l);s.current.add(h[v]),If(i,s.current,!1)&&(h.preventDefault(),r(!0))},d=h=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&pu(h))return!1;const v=Pf(h.code,l);If(i,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(h[v]),h.key==="Meta"&&s.current.clear(),o.current=!1},p=()=>{s.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",f),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",p),()=>{u==null||u.removeEventListener("keydown",f),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",p)}}},[e,r]),n};function If(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function Pf(e,t){return t.includes(e)?"code":"key"}function Sg(e,t,n,r){var l,a;const o=e.parentNode||e.parentId;if(!o)return n;const s=t.get(o),i=er(s,r);return Sg(s,t,{x:(n.x??0)+i.x,y:(n.y??0)+i.y,z:(((l=s[Ne])==null?void 0:l.z)??0)>(n.z??0)?((a=s[Ne])==null?void 0:a.z)??0:n.z??0},r)}function Eg(e,t,n){e.forEach(r=>{var s;const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n!=null&&n[r.id]){const{x:i,y:l,z:a}=Sg(r,e,{...r.position,z:((s=r[Ne])==null?void 0:s.z)??0},t);r.positionAbsolute={x:i,y:l},r[Ne].z=a,n!=null&&n[r.id]&&(r[Ne].isParent=!0)}})}function ta(e,t,n,r){const o=new Map,s={},i=r?1e3:0;return e.forEach(l=>{var h;const a=(ft(l.zIndex)?l.zIndex:0)+(l.selected?i:0),u=t.get(l.id),f={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},d=l.parentNode||l.parentId;d&&(s[d]=!0);const p=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(f,Ne,{enumerable:!1,value:{handleBounds:p||(h=u==null?void 0:u[Ne])==null?void 0:h.handleBounds,z:a}}),o.set(l.id,f)}),Eg(o,n,s),o}function kg(e,t={}){const{getNodes:n,width:r,height:o,minZoom:s,maxZoom:i,d3Zoom:l,d3Selection:a,fitViewOnInitDone:u,fitViewOnInit:f,nodeOrigin:d}=e(),p=t.initial&&!u&&f;if(l&&a&&(p||!t.initial)){const N=n().filter(_=>{var g;const m=t.includeHiddenNodes?_.width&&_.height:!_.hidden;return(g=t.nodes)!=null&&g.length?m&&t.nodes.some(y=>y.id===_.id):m}),v=N.every(_=>_.width&&_.height);if(N.length>0&&v){const _=hl(N,d),{x:m,y:g,zoom:y}=ug(_,r,o,t.minZoom??s,t.maxZoom??i,t.padding??.1),x=Kt.translate(m,g).scale(y);return typeof t.duration=="number"&&t.duration>0?l.transform(Bn(a,t.duration),x):l.transform(a,x),!0}}return!1}function nS(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Ne]:r[Ne],selected:n.selected})}),new Map(t)}function rS(e,t){return t.map(n=>{const r=e.find(o=>o.id===n.id);return r&&(n.selected=r.selected),n})}function Us({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:s,onNodesChange:i,onEdgesChange:l,hasDefaultNodes:a,hasDefaultEdges:u}=n();e!=null&&e.length&&(a&&r({nodeInternals:nS(e,o)}),i==null||i(e)),t!=null&&t.length&&(u&&r({edges:rS(t,s)}),l==null||l(t))}const gr=()=>{},oS={zoomIn:gr,zoomOut:gr,zoomTo:gr,getZoom:()=>1,setViewport:gr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:gr,fitBounds:gr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},sS=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),iS=()=>{const e=je(),{d3Zoom:t,d3Selection:n}=pe(sS,Te);return M.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(Bn(n,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(Bn(n,o==null?void 0:o.duration),1/1.2),zoomTo:(o,s)=>t.scaleTo(Bn(n,s==null?void 0:s.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,s)=>{const[i,l,a]=e.getState().transform,u=Kt.translate(o.x??i,o.y??l).scale(o.zoom??a);t.transform(Bn(n,s==null?void 0:s.duration),u)},getViewport:()=>{const[o,s,i]=e.getState().transform;return{x:o,y:s,zoom:i}},fitView:o=>kg(e.getState,o),setCenter:(o,s,i)=>{const{width:l,height:a,maxZoom:u}=e.getState(),f=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:u,d=l/2-o*f,p=a/2-s*f,h=Kt.translate(d,p).scale(f);t.transform(Bn(n,i==null?void 0:i.duration),h)},fitBounds:(o,s)=>{const{width:i,height:l,minZoom:a,maxZoom:u}=e.getState(),{x:f,y:d,zoom:p}=ug(o,i,l,a,u,(s==null?void 0:s.padding)??.1),h=Kt.translate(f,d).scale(p);t.transform(Bn(n,s==null?void 0:s.duration),h)},project:o=>{const{transform:s,snapToGrid:i,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),gu(o,s,i,l)},screenToFlowPosition:o=>{const{transform:s,snapToGrid:i,snapGrid:l,domNode:a}=e.getState();if(!a)return o;const{x:u,y:f}=a.getBoundingClientRect(),d={x:o.x-u,y:o.y-f};return gu(d,s,i,l)},flowToScreenPosition:o=>{const{transform:s,domNode:i}=e.getState();if(!i)return o;const{x:l,y:a}=i.getBoundingClientRect(),u=ig(o,s);return{x:u.x+l,y:u.y+a}},viewportInitialized:!0}:oS,[t,n])};function ml(){const e=iS(),t=je(),n=M.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),r=M.useCallback(v=>t.getState().nodeInternals.get(v),[]),o=M.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(_=>({..._}))},[]),s=M.useCallback(v=>{const{edges:_=[]}=t.getState();return _.find(m=>m.id===v)},[]),i=M.useCallback(v=>{const{getNodes:_,setNodes:m,hasDefaultNodes:g,onNodesChange:y}=t.getState(),x=_(),S=typeof v=="function"?v(x):v;if(g)m(S);else if(y){const P=S.length===0?x.map($=>({type:"remove",id:$.id})):S.map($=>({item:$,type:"reset"}));y(P)}},[]),l=M.useCallback(v=>{const{edges:_=[],setEdges:m,hasDefaultEdges:g,onEdgesChange:y}=t.getState(),x=typeof v=="function"?v(_):v;if(g)m(x);else if(y){const S=x.length===0?_.map(P=>({type:"remove",id:P.id})):x.map(P=>({item:P,type:"reset"}));y(S)}},[]),a=M.useCallback(v=>{const _=Array.isArray(v)?v:[v],{getNodes:m,setNodes:g,hasDefaultNodes:y,onNodesChange:x}=t.getState();if(y){const P=[...m(),..._];g(P)}else if(x){const S=_.map(P=>({item:P,type:"add"}));x(S)}},[]),u=M.useCallback(v=>{const _=Array.isArray(v)?v:[v],{edges:m=[],setEdges:g,hasDefaultEdges:y,onEdgesChange:x}=t.getState();if(y)g([...m,..._]);else if(x){const S=_.map(P=>({item:P,type:"add"}));x(S)}},[]),f=M.useCallback(()=>{const{getNodes:v,edges:_=[],transform:m}=t.getState(),[g,y,x]=m;return{nodes:v().map(S=>({...S})),edges:_.map(S=>({...S})),viewport:{x:g,y,zoom:x}}},[]),d=M.useCallback(({nodes:v,edges:_})=>{const{nodeInternals:m,getNodes:g,edges:y,hasDefaultNodes:x,hasDefaultEdges:S,onNodesDelete:P,onEdgesDelete:$,onNodesChange:I,onEdgesChange:b}=t.getState(),F=(v||[]).map(z=>z.id),B=(_||[]).map(z=>z.id),U=g().reduce((z,j)=>{const O=j.parentNode||j.parentId,C=!F.includes(j.id)&&O&&z.find(T=>T.id===O);return(typeof j.deletable=="boolean"?j.deletable:!0)&&(F.includes(j.id)||C)&&z.push(j),z},[]),A=y.filter(z=>typeof z.deletable=="boolean"?z.deletable:!0),w=A.filter(z=>B.includes(z.id));if(U||w){const z=ag(U,A),j=[...w,...z],O=j.reduce((C,E)=>(C.includes(E.id)||C.push(E.id),C),[]);if((S||x)&&(S&&t.setState({edges:y.filter(C=>!O.includes(C.id))}),x&&(U.forEach(C=>{m.delete(C.id)}),t.setState({nodeInternals:new Map(m)}))),O.length>0&&($==null||$(j),b&&b(O.map(C=>({id:C,type:"remove"})))),U.length>0&&(P==null||P(U),I)){const C=U.map(E=>({id:E.id,type:"remove"}));I(C)}}},[]),p=M.useCallback(v=>{const _=bN(v),m=_?null:t.getState().nodeInternals.get(v.id);return!_&&!m?[null,null,_]:[_?v:Nf(m),m,_]},[]),h=M.useCallback((v,_=!0,m)=>{const[g,y,x]=p(v);return g?(m||t.getState().getNodes()).filter(S=>{if(!x&&(S.id===y.id||!S.positionAbsolute))return!1;const P=Nf(S),$=fu(P,g);return _&&$>0||$>=g.width*g.height}):[]},[]),N=M.useCallback((v,_,m=!0)=>{const[g]=p(v);if(!g)return!1;const y=fu(g,_);return m&&y>0||y>=g.width*g.height},[]);return M.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:o,getEdge:s,setNodes:i,setEdges:l,addNodes:a,addEdges:u,toObject:f,deleteElements:d,getIntersectingNodes:h,isNodeIntersecting:N}),[e,n,r,o,s,i,l,a,u,f,d,h,N])}const lS={actInsideInputWithModifier:!1};var aS=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=je(),{deleteElements:r}=ml(),o=as(e,lS),s=as(t);M.useEffect(()=>{if(o){const{edges:i,getNodes:l}=n.getState(),a=l().filter(f=>f.selected),u=i.filter(f=>f.selected);r({nodes:a,edges:u}),n.setState({nodesSelectionActive:!1})}},[o]),M.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function uS(e){const t=je();M.useEffect(()=>{let n;const r=()=>{var s,i;if(!e.current)return;const o=Cc(e.current);(o.height===0||o.width===0)&&((i=(s=t.getState()).onError)==null||i.call(s,"004",tn.error004())),t.setState({width:o.width||500,height:o.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const zc={position:"absolute",width:"100%",height:"100%",top:0,left:0},cS=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ws=e=>({x:e.x,y:e.y,zoom:e.k}),yr=(e,t)=>e.target.closest(`.${t}`),Tf=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),$f=e=>{const t=e.ctrlKey&&Oi()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},dS=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),fS=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:o=!0,zoomOnPinch:s=!0,panOnScroll:i=!1,panOnScrollSpeed:l=.5,panOnScrollMode:a=Xn.Free,zoomOnDoubleClick:u=!0,elementsSelectable:f,panOnDrag:d=!0,defaultViewport:p,translateExtent:h,minZoom:N,maxZoom:v,zoomActivationKeyCode:_,preventScrolling:m=!0,children:g,noWheelClassName:y,noPanClassName:x})=>{const S=M.useRef(),P=je(),$=M.useRef(!1),I=M.useRef(!1),b=M.useRef(null),F=M.useRef({x:0,y:0,zoom:0}),{d3Zoom:B,d3Selection:U,d3ZoomHandler:A,userSelectionActive:w}=pe(dS,Te),z=as(_),j=M.useRef(0),O=M.useRef(!1),C=M.useRef();return uS(b),M.useEffect(()=>{if(b.current){const E=b.current.getBoundingClientRect(),T=Ym().scaleExtent([N,v]).translateExtent(h),R=ct(b.current).call(T),k=Kt.translate(p.x,p.y).scale(Zr(p.zoom,N,v)),L=[[0,0],[E.width,E.height]],D=T.constrain()(k,L,h);T.transform(R,D),T.wheelDelta($f),P.setState({d3Zoom:T,d3Selection:R,d3ZoomHandler:R.on("wheel.zoom"),transform:[D.x,D.y,D.k],domNode:b.current.closest(".react-flow")})}},[]),M.useEffect(()=>{U&&B&&(i&&!z&&!w?U.on("wheel.zoom",E=>{if(yr(E,y))return!1;E.preventDefault(),E.stopImmediatePropagation();const T=U.property("__zoom").k||1;if(E.ctrlKey&&s){const ee=Nt(E),X=$f(E),Y=T*Math.pow(2,X);B.scaleTo(U,Y,ee,E);return}const R=E.deltaMode===1?20:1;let k=a===Xn.Vertical?0:E.deltaX*R,L=a===Xn.Horizontal?0:E.deltaY*R;!Oi()&&E.shiftKey&&a!==Xn.Vertical&&(k=E.deltaY*R,L=0),B.translateBy(U,-(k/T)*l,-(L/T)*l,{internal:!0});const D=Ws(U.property("__zoom")),{onViewportChangeStart:H,onViewportChange:W,onViewportChangeEnd:Q}=P.getState();clearTimeout(C.current),O.current||(O.current=!0,t==null||t(E,D),H==null||H(D)),O.current&&(e==null||e(E,D),W==null||W(D),C.current=setTimeout(()=>{n==null||n(E,D),Q==null||Q(D),O.current=!1},150))},{passive:!1}):typeof A<"u"&&U.on("wheel.zoom",function(E,T){if(!m&&E.type==="wheel"&&!E.ctrlKey||yr(E,y))return null;E.preventDefault(),A.call(this,E,T)},{passive:!1}))},[w,i,a,U,B,A,z,s,m,y,t,e,n]),M.useEffect(()=>{B&&B.on("start",E=>{var k,L;if(!E.sourceEvent||E.sourceEvent.internal)return null;j.current=(k=E.sourceEvent)==null?void 0:k.button;const{onViewportChangeStart:T}=P.getState(),R=Ws(E.transform);$.current=!0,F.current=R,((L=E.sourceEvent)==null?void 0:L.type)==="mousedown"&&P.setState({paneDragging:!0}),T==null||T(R),t==null||t(E.sourceEvent,R)})},[B,t]),M.useEffect(()=>{B&&(w&&!$.current?B.on("zoom",null):w||B.on("zoom",E=>{var R;const{onViewportChange:T}=P.getState();if(P.setState({transform:[E.transform.x,E.transform.y,E.transform.k]}),I.current=!!(r&&Tf(d,j.current??0)),(e||T)&&!((R=E.sourceEvent)!=null&&R.internal)){const k=Ws(E.transform);T==null||T(k),e==null||e(E.sourceEvent,k)}}))},[w,B,e,d,r]),M.useEffect(()=>{B&&B.on("end",E=>{if(!E.sourceEvent||E.sourceEvent.internal)return null;const{onViewportChangeEnd:T}=P.getState();if($.current=!1,P.setState({paneDragging:!1}),r&&Tf(d,j.current??0)&&!I.current&&r(E.sourceEvent),I.current=!1,(n||T)&&cS(F.current,E.transform)){const R=Ws(E.transform);F.current=R,clearTimeout(S.current),S.current=setTimeout(()=>{T==null||T(R),n==null||n(E.sourceEvent,R)},i?150:0)}})},[B,i,d,n,r]),M.useEffect(()=>{B&&B.filter(E=>{const T=z||o,R=s&&E.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&E.button===1&&E.type==="mousedown"&&(yr(E,"react-flow__node")||yr(E,"react-flow__edge")))return!0;if(!d&&!T&&!i&&!u&&!s||w||!u&&E.type==="dblclick"||yr(E,y)&&E.type==="wheel"||yr(E,x)&&(E.type!=="wheel"||i&&E.type==="wheel"&&!z)||!s&&E.ctrlKey&&E.type==="wheel"||!T&&!i&&!R&&E.type==="wheel"||!d&&(E.type==="mousedown"||E.type==="touchstart")||Array.isArray(d)&&!d.includes(E.button)&&E.type==="mousedown")return!1;const k=Array.isArray(d)&&d.includes(E.button)||!E.button||E.button<=1;return(!E.ctrlKey||E.type==="wheel")&&k})},[w,B,o,s,i,u,d,f,z]),V.createElement("div",{className:"react-flow__renderer",ref:b,style:zc},g)},pS=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function hS(){const{userSelectionActive:e,userSelectionRect:t}=pe(pS,Te);return e&&t?V.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Mf(e,t){const n=t.parentNode||t.parentId,r=e.find(o=>o.id===n);if(r){const o=t.position.x+t.width-r.width,s=t.position.y+t.height-r.height;if(o>0||s>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,o>0&&(r.style.width+=o),s>0&&(r.style.height+=s),t.position.x<0){const i=Math.abs(t.position.x);r.position.x=r.position.x-i,r.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);r.position.y=r.position.y-i,r.style.height+=i,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function _g(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,o)=>{const s=e.filter(l=>l.id===o.id);if(s.length===0)return r.push(o),r;const i={...o};for(const l of s)if(l)switch(l.type){case"select":{i.selected=l.selected;break}case"position":{typeof l.position<"u"&&(i.position=l.position),typeof l.positionAbsolute<"u"&&(i.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(i.dragging=l.dragging),i.expandParent&&Mf(r,i);break}case"dimensions":{typeof l.dimensions<"u"&&(i.width=l.dimensions.width,i.height=l.dimensions.height),typeof l.updateStyle<"u"&&(i.style={...i.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(i.resizing=l.resizing),i.expandParent&&Mf(r,i);break}case"remove":return r}return r.push(i),r},n)}function bg(e,t){return _g(e,t)}function mS(e,t){return _g(e,t)}const un=(e,t)=>({id:e,type:"select",selected:t});function $r(e,t){return e.reduce((n,r)=>{const o=t.includes(r.id);return!r.selected&&o?(r.selected=!0,n.push(un(r.id,!0))):r.selected&&!o&&(r.selected=!1,n.push(un(r.id,!1))),n},[])}const na=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},gS=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Cg=M.memo(({isSelecting:e,selectionMode:t=ls.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:o,onPaneClick:s,onPaneContextMenu:i,onPaneScroll:l,onPaneMouseEnter:a,onPaneMouseMove:u,onPaneMouseLeave:f,children:d})=>{const p=M.useRef(null),h=je(),N=M.useRef(0),v=M.useRef(0),_=M.useRef(),{userSelectionActive:m,elementsSelectable:g,dragging:y}=pe(gS,Te),x=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),N.current=0,v.current=0},S=A=>{s==null||s(A),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},P=A=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){A.preventDefault();return}i==null||i(A)},$=l?A=>l(A):void 0,I=A=>{const{resetSelectedElements:w,domNode:z}=h.getState();if(_.current=z==null?void 0:z.getBoundingClientRect(),!g||!e||A.button!==0||A.target!==p.current||!_.current)return;const{x:j,y:O}=_n(A,_.current);w(),h.setState({userSelectionRect:{width:0,height:0,startX:j,startY:O,x:j,y:O}}),r==null||r(A)},b=A=>{const{userSelectionRect:w,nodeInternals:z,edges:j,transform:O,onNodesChange:C,onEdgesChange:E,nodeOrigin:T,getNodes:R}=h.getState();if(!e||!_.current||!w)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const k=_n(A,_.current),L=w.startX??0,D=w.startY??0,H={...w,x:k.x<L?k.x:L,y:k.y<D?k.y:D,width:Math.abs(k.x-L),height:Math.abs(k.y-D)},W=R(),Q=lg(z,H,O,t===ls.Partial,!0,T),ee=ag(Q,j).map(Y=>Y.id),X=Q.map(Y=>Y.id);if(N.current!==X.length){N.current=X.length;const Y=$r(W,X);Y.length&&(C==null||C(Y))}if(v.current!==ee.length){v.current=ee.length;const Y=$r(j,ee);Y.length&&(E==null||E(Y))}h.setState({userSelectionRect:H})},F=A=>{if(A.button!==0)return;const{userSelectionRect:w}=h.getState();!m&&w&&A.target===p.current&&(S==null||S(A)),h.setState({nodesSelectionActive:N.current>0}),x(),o==null||o(A)},B=A=>{m&&(h.setState({nodesSelectionActive:N.current>0}),o==null||o(A)),x()},U=g&&(e||m);return V.createElement("div",{className:ze(["react-flow__pane",{dragging:y,selection:e}]),onClick:U?void 0:na(S,p),onContextMenu:na(P,p),onWheel:na($,p),onMouseEnter:U?void 0:a,onMouseDown:U?I:void 0,onMouseMove:U?b:u,onMouseUp:U?F:void 0,onMouseLeave:U?B:f,ref:p,style:zc},d,V.createElement(hS,null))});Cg.displayName="Pane";function jg(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:jg(r,t):!1}function Af(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function yS(e,t,n,r){return Array.from(e.values()).filter(o=>(o.selected||o.id===r)&&(!o.parentNode||o.parentId||!jg(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var s,i;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=o.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((i=o.positionAbsolute)==null?void 0:i.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}})}function xS(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Ig(e,t,n,r,o=[0,0],s){const i=xS(e,e.extent||r);let l=i;const a=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(a&&e.width&&e.height){const d=n.get(a),{x:p,y:h}=er(d,o).positionAbsolute;l=d&&ft(p)&&ft(h)&&ft(d.width)&&ft(d.height)?[[p+e.width*o[0],h+e.height*o[1]],[p+d.width-e.width+e.width*o[0],h+d.height-e.height+e.height*o[1]]]:l}else s==null||s("005",tn.error005()),l=i;else if(e.extent&&a&&e.extent!=="parent"){const d=n.get(a),{x:p,y:h}=er(d,o).positionAbsolute;l=[[e.extent[0][0]+p,e.extent[0][1]+h],[e.extent[1][0]+p,e.extent[1][1]+h]]}let u={x:0,y:0};if(a){const d=n.get(a);u=er(d,o).positionAbsolute}const f=l&&l!=="parent"?jc(t,l):t;return{position:{x:f.x-u.x,y:f.y-u.y},positionAbsolute:f}}function ra({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?r.find(o=>o.id===e):r[0],r]}const zf=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const s=Array.from(o),i=t.getBoundingClientRect(),l={x:i.width*r[0],y:i.height*r[1]};return s.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-i.left-l.x)/n,y:(u.top-i.top-l.y)/n,...Cc(a)}})};function vo(e,t,n){return n===void 0?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function xu({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:s,multiSelectionActive:i,nodeInternals:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",tn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&i)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):o([e])}function vS(){const e=je();return M.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:o,snapToGrid:s}=e.getState(),i=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,a={x:(i-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:s?o[0]*Math.round(a.x/o[0]):a.x,ySnapped:s?o[1]*Math.round(a.y/o[1]):a.y,...a}},[])}function oa(e){return(t,n,r)=>e==null?void 0:e(t,r)}function Pg({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:s,selectNodesOnDrag:i}){const l=je(),[a,u]=M.useState(!1),f=M.useRef([]),d=M.useRef({x:null,y:null}),p=M.useRef(0),h=M.useRef(null),N=M.useRef({x:0,y:0}),v=M.useRef(null),_=M.useRef(!1),m=M.useRef(!1),g=M.useRef(!1),y=vS();return M.useEffect(()=>{if(e!=null&&e.current){const x=ct(e.current),S=({x:I,y:b})=>{const{nodeInternals:F,onNodeDrag:B,onSelectionDrag:U,updateNodePositions:A,nodeExtent:w,snapGrid:z,snapToGrid:j,nodeOrigin:O,onError:C}=l.getState();d.current={x:I,y:b};let E=!1,T={x:0,y:0,x2:0,y2:0};if(f.current.length>1&&w){const k=hl(f.current,O);T=is(k)}if(f.current=f.current.map(k=>{const L={x:I-k.distance.x,y:b-k.distance.y};j&&(L.x=z[0]*Math.round(L.x/z[0]),L.y=z[1]*Math.round(L.y/z[1]));const D=[[w[0][0],w[0][1]],[w[1][0],w[1][1]]];f.current.length>1&&w&&!k.extent&&(D[0][0]=k.positionAbsolute.x-T.x+w[0][0],D[1][0]=k.positionAbsolute.x+(k.width??0)-T.x2+w[1][0],D[0][1]=k.positionAbsolute.y-T.y+w[0][1],D[1][1]=k.positionAbsolute.y+(k.height??0)-T.y2+w[1][1]);const H=Ig(k,L,F,D,O,C);return E=E||k.position.x!==H.position.x||k.position.y!==H.position.y,k.position=H.position,k.positionAbsolute=H.positionAbsolute,k}),!E)return;A(f.current,!0,!0),u(!0);const R=o?B:oa(U);if(R&&v.current){const[k,L]=ra({nodeId:o,dragItems:f.current,nodeInternals:F});R(v.current,k,L)}},P=()=>{if(!h.current)return;const[I,b]=Xm(N.current,h.current);if(I!==0||b!==0){const{transform:F,panBy:B}=l.getState();d.current.x=(d.current.x??0)-I/F[2],d.current.y=(d.current.y??0)-b/F[2],B({x:I,y:b})&&S(d.current)}p.current=requestAnimationFrame(P)},$=I=>{var O;const{nodeInternals:b,multiSelectionActive:F,nodesDraggable:B,unselectNodesAndEdges:U,onNodeDragStart:A,onSelectionDragStart:w}=l.getState();m.current=!0;const z=o?A:oa(w);(!i||!s)&&!F&&o&&((O=b.get(o))!=null&&O.selected||U()),o&&s&&i&&xu({id:o,store:l,nodeRef:e});const j=y(I);if(d.current=j,f.current=yS(b,B,j,o),z&&f.current){const[C,E]=ra({nodeId:o,dragItems:f.current,nodeInternals:b});z(I.sourceEvent,C,E)}};if(t)x.on(".drag",null);else{const I=Pw().on("start",b=>{const{domNode:F,nodeDragThreshold:B}=l.getState();B===0&&$(b),g.current=!1;const U=y(b);d.current=U,h.current=(F==null?void 0:F.getBoundingClientRect())||null,N.current=_n(b.sourceEvent,h.current)}).on("drag",b=>{var A,w;const F=y(b),{autoPanOnNodeDrag:B,nodeDragThreshold:U}=l.getState();if(b.sourceEvent.type==="touchmove"&&b.sourceEvent.touches.length>1&&(g.current=!0),!g.current){if(!_.current&&m.current&&B&&(_.current=!0,P()),!m.current){const z=F.xSnapped-(((A=d==null?void 0:d.current)==null?void 0:A.x)??0),j=F.ySnapped-(((w=d==null?void 0:d.current)==null?void 0:w.y)??0);Math.sqrt(z*z+j*j)>U&&$(b)}(d.current.x!==F.xSnapped||d.current.y!==F.ySnapped)&&f.current&&m.current&&(v.current=b.sourceEvent,N.current=_n(b.sourceEvent,h.current),S(F))}}).on("end",b=>{if(!(!m.current||g.current)&&(u(!1),_.current=!1,m.current=!1,cancelAnimationFrame(p.current),f.current)){const{updateNodePositions:F,nodeInternals:B,onNodeDragStop:U,onSelectionDragStop:A}=l.getState(),w=o?U:oa(A);if(F(f.current,!1,!1),w){const[z,j]=ra({nodeId:o,dragItems:f.current,nodeInternals:B});w(b.sourceEvent,z,j)}}}).filter(b=>{const F=b.target;return!b.button&&(!n||!Af(F,`.${n}`,e))&&(!r||Af(F,r,e))});return x.call(I),()=>{x.on(".drag",null)}}}},[e,t,n,r,s,l,o,i,y]),a}function Tg(){const e=je();return M.useCallback(n=>{const{nodeInternals:r,nodeExtent:o,updateNodePositions:s,getNodes:i,snapToGrid:l,snapGrid:a,onError:u,nodesDraggable:f}=e.getState(),d=i().filter(g=>g.selected&&(g.draggable||f&&typeof g.draggable>"u")),p=l?a[0]:5,h=l?a[1]:5,N=n.isShiftPressed?4:1,v=n.x*p*N,_=n.y*h*N,m=d.map(g=>{if(g.positionAbsolute){const y={x:g.positionAbsolute.x+v,y:g.positionAbsolute.y+_};l&&(y.x=a[0]*Math.round(y.x/a[0]),y.y=a[1]*Math.round(y.y/a[1]));const{positionAbsolute:x,position:S}=Ig(g,y,r,o,void 0,u);g.position=S,g.positionAbsolute=x}return g});s(m,!0,!1)},[])}const Hr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var wo=e=>{const t=({id:n,type:r,data:o,xPos:s,yPos:i,xPosOrigin:l,yPosOrigin:a,selected:u,onClick:f,onMouseEnter:d,onMouseMove:p,onMouseLeave:h,onContextMenu:N,onDoubleClick:v,style:_,className:m,isDraggable:g,isSelectable:y,isConnectable:x,isFocusable:S,selectNodesOnDrag:P,sourcePosition:$,targetPosition:I,hidden:b,resizeObserver:F,dragHandle:B,zIndex:U,isParent:A,noDragClassName:w,noPanClassName:z,initialized:j,disableKeyboardA11y:O,ariaLabel:C,rfId:E,hasHandleBounds:T})=>{const R=je(),k=M.useRef(null),L=M.useRef(null),D=M.useRef($),H=M.useRef(I),W=M.useRef(r),Q=y||g||f||d||p||h,ee=Tg(),X=vo(n,R.getState,d),Y=vo(n,R.getState,p),te=vo(n,R.getState,h),re=vo(n,R.getState,N),ae=vo(n,R.getState,v),K=ie=>{const{nodeDragThreshold:Z}=R.getState();if(y&&(!P||!g||Z>0)&&xu({id:n,store:R,nodeRef:k}),f){const Se=R.getState().nodeInternals.get(n);Se&&f(ie,{...Se})}},ne=ie=>{if(!pu(ie)&&!O)if(eg.includes(ie.key)&&y){const Z=ie.key==="Escape";xu({id:n,store:R,unselect:Z,nodeRef:k})}else g&&u&&Object.prototype.hasOwnProperty.call(Hr,ie.key)&&(R.setState({ariaLiveMessage:`Moved selected node ${ie.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~i}`}),ee({x:Hr[ie.key].x,y:Hr[ie.key].y,isShiftPressed:ie.shiftKey}))};M.useEffect(()=>()=>{L.current&&(F==null||F.unobserve(L.current),L.current=null)},[]),M.useEffect(()=>{if(k.current&&!b){const ie=k.current;(!j||!T||L.current!==ie)&&(L.current&&(F==null||F.unobserve(L.current)),F==null||F.observe(ie),L.current=ie)}},[b,j,T]),M.useEffect(()=>{const ie=W.current!==r,Z=D.current!==$,Se=H.current!==I;k.current&&(ie||Z||Se)&&(ie&&(W.current=r),Z&&(D.current=$),Se&&(H.current=I),R.getState().updateNodeDimensions([{id:n,nodeElement:k.current,forceUpdate:!0}]))},[n,r,$,I]);const de=Pg({nodeRef:k,disabled:b||!g,noDragClassName:w,handleSelector:B,nodeId:n,isSelectable:y,selectNodesOnDrag:P});return b?null:V.createElement("div",{className:ze(["react-flow__node",`react-flow__node-${r}`,{[z]:g},m,{selected:u,selectable:y,parent:A,dragging:de}]),ref:k,style:{zIndex:U,transform:`translate(${l}px,${a}px)`,pointerEvents:Q?"all":"none",visibility:j?"visible":"hidden",..._},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:X,onMouseMove:Y,onMouseLeave:te,onContextMenu:re,onClick:K,onDoubleClick:ae,onKeyDown:S?ne:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":O?void 0:`${wg}-${E}`,"aria-label":C},V.createElement(MN,{value:n},V.createElement(e,{id:n,data:o,type:r,xPos:s,yPos:i,selected:u,isConnectable:x,sourcePosition:$,targetPosition:I,dragging:de,dragHandle:B,zIndex:U})))};return t.displayName="NodeWrapper",M.memo(t)};const wS=e=>{const t=e.getNodes().filter(n=>n.selected);return{...hl(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function NS({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=je(),{width:o,height:s,x:i,y:l,transformString:a,userSelectionActive:u}=pe(wS,Te),f=Tg(),d=M.useRef(null);if(M.useEffect(()=>{var N;n||(N=d.current)==null||N.focus({preventScroll:!0})},[n]),Pg({nodeRef:d}),u||!o||!s)return null;const p=e?N=>{const v=r.getState().getNodes().filter(_=>_.selected);e(N,v)}:void 0,h=N=>{Object.prototype.hasOwnProperty.call(Hr,N.key)&&f({x:Hr[N.key].x,y:Hr[N.key].y,isShiftPressed:N.shiftKey})};return V.createElement("div",{className:ze(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a}},V.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:o,height:s,top:l,left:i}}))}var SS=M.memo(NS);const ES=e=>e.nodesSelectionActive,$g=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:i,deleteKeyCode:l,onMove:a,onMoveStart:u,onMoveEnd:f,selectionKeyCode:d,selectionOnDrag:p,selectionMode:h,onSelectionStart:N,onSelectionEnd:v,multiSelectionKeyCode:_,panActivationKeyCode:m,zoomActivationKeyCode:g,elementsSelectable:y,zoomOnScroll:x,zoomOnPinch:S,panOnScroll:P,panOnScrollSpeed:$,panOnScrollMode:I,zoomOnDoubleClick:b,panOnDrag:F,defaultViewport:B,translateExtent:U,minZoom:A,maxZoom:w,preventScrolling:z,onSelectionContextMenu:j,noWheelClassName:O,noPanClassName:C,disableKeyboardA11y:E})=>{const T=pe(ES),R=as(d),k=as(m),L=k||F,D=k||P,H=R||p&&L!==!0;return aS({deleteKeyCode:l,multiSelectionKeyCode:_}),V.createElement(fS,{onMove:a,onMoveStart:u,onMoveEnd:f,onPaneContextMenu:s,elementsSelectable:y,zoomOnScroll:x,zoomOnPinch:S,panOnScroll:D,panOnScrollSpeed:$,panOnScrollMode:I,zoomOnDoubleClick:b,panOnDrag:!R&&L,defaultViewport:B,translateExtent:U,minZoom:A,maxZoom:w,zoomActivationKeyCode:g,preventScrolling:z,noWheelClassName:O,noPanClassName:C},V.createElement(Cg,{onSelectionStart:N,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:i,panOnDrag:L,isSelecting:!!H,selectionMode:h},e,T&&V.createElement(SS,{onSelectionContextMenu:j,noPanClassName:C,disableKeyboardA11y:E})))};$g.displayName="FlowRenderer";var kS=M.memo($g);function _S(e){return pe(M.useCallback(n=>e?lg(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function bS(e){const t={input:wo(e.input||gg),default:wo(e.default||yu),output:wo(e.output||xg),group:wo(e.group||Ac)},n={},r=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,s)=>(o[s]=wo(e[s]||yu),o),n);return{...t,...r}}const CS=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},jS=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Mg=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:s,onError:i}=pe(jS,Te),l=_S(e.onlyRenderVisibleElements),a=M.useRef(),u=M.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const f=new ResizeObserver(d=>{const p=d.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));s(p)});return a.current=f,f},[]);return M.useEffect(()=>()=>{var f;(f=a==null?void 0:a.current)==null||f.disconnect()},[]),V.createElement("div",{className:"react-flow__nodes",style:zc},l.map(f=>{var S,P,$;let d=f.type||"default";e.nodeTypes[d]||(i==null||i("003",tn.error003(d)),d="default");const p=e.nodeTypes[d]||e.nodeTypes.default,h=!!(f.draggable||t&&typeof f.draggable>"u"),N=!!(f.selectable||o&&typeof f.selectable>"u"),v=!!(f.connectable||n&&typeof f.connectable>"u"),_=!!(f.focusable||r&&typeof f.focusable>"u"),m=e.nodeExtent?jc(f.positionAbsolute,e.nodeExtent):f.positionAbsolute,g=(m==null?void 0:m.x)??0,y=(m==null?void 0:m.y)??0,x=CS({x:g,y,width:f.width??0,height:f.height??0,origin:e.nodeOrigin});return V.createElement(p,{key:f.id,id:f.id,className:f.className,style:f.style,type:d,data:f.data,sourcePosition:f.sourcePosition||J.Bottom,targetPosition:f.targetPosition||J.Top,hidden:f.hidden,xPos:g,yPos:y,xPosOrigin:x.x,yPosOrigin:x.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!f.selected,isDraggable:h,isSelectable:N,isConnectable:v,isFocusable:_,resizeObserver:u,dragHandle:f.dragHandle,zIndex:((S=f[Ne])==null?void 0:S.z)??0,isParent:!!((P=f[Ne])!=null&&P.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!f.width&&!!f.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:f.ariaLabel,hasHandleBounds:!!(($=f[Ne])!=null&&$.handleBounds)})}))};Mg.displayName="NodeRenderer";var IS=M.memo(Mg);const PS=(e,t,n)=>n===J.Left?e-t:n===J.Right?e+t:e,TS=(e,t,n)=>n===J.Top?e-t:n===J.Bottom?e+t:e,Rf="react-flow__edgeupdater",Df=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:s,onMouseOut:i,type:l})=>V.createElement("circle",{onMouseDown:o,onMouseEnter:s,onMouseOut:i,className:ze([Rf,`${Rf}-${l}`]),cx:PS(t,r,e),cy:TS(n,r,e),r,stroke:"transparent",fill:"transparent"}),$S=()=>!0;var xr=e=>{const t=({id:n,className:r,type:o,data:s,onClick:i,onEdgeDoubleClick:l,selected:a,animated:u,label:f,labelStyle:d,labelShowBg:p,labelBgStyle:h,labelBgPadding:N,labelBgBorderRadius:v,style:_,source:m,target:g,sourceX:y,sourceY:x,targetX:S,targetY:P,sourcePosition:$,targetPosition:I,elementsSelectable:b,hidden:F,sourceHandleId:B,targetHandleId:U,onContextMenu:A,onMouseEnter:w,onMouseMove:z,onMouseLeave:j,reconnectRadius:O,onReconnect:C,onReconnectStart:E,onReconnectEnd:T,markerEnd:R,markerStart:k,rfId:L,ariaLabel:D,isFocusable:H,isReconnectable:W,pathOptions:Q,interactionWidth:ee,disableKeyboardA11y:X})=>{const Y=M.useRef(null),[te,re]=M.useState(!1),[ae,K]=M.useState(!1),ne=je(),de=M.useMemo(()=>`url('#${mu(k,L)}')`,[k,L]),ie=M.useMemo(()=>`url('#${mu(R,L)}')`,[R,L]);if(F)return null;const Z=Re=>{var Tt;const{edges:yt,addSelectedEdges:Dn,unselectNodesAndEdges:On,multiSelectionActive:Ln}=ne.getState(),Ft=yt.find(so=>so.id===n);Ft&&(b&&(ne.setState({nodesSelectionActive:!1}),Ft.selected&&Ln?(On({nodes:[],edges:[Ft]}),(Tt=Y.current)==null||Tt.blur()):Dn([n])),i&&i(Re,Ft))},Se=xo(n,ne.getState,l),Ge=xo(n,ne.getState,A),Mn=xo(n,ne.getState,w),An=xo(n,ne.getState,z),Pt=xo(n,ne.getState,j),Lt=(Re,yt)=>{if(Re.button!==0)return;const{edges:Dn,isValidConnection:On}=ne.getState(),Ln=yt?g:m,Ft=(yt?U:B)||null,Tt=yt?"target":"source",so=On||$S,wl=yt,io=Dn.find(Fn=>Fn.id===n);K(!0),E==null||E(Re,io,Tt);const Nl=Fn=>{K(!1),T==null||T(Fn,io,Tt)};fg({event:Re,handleId:Ft,nodeId:Ln,onConnect:Fn=>C==null?void 0:C(io,Fn),isTarget:wl,getState:ne.getState,setState:ne.setState,isValidConnection:so,edgeUpdaterType:Tt,onReconnectEnd:Nl})},dr=Re=>Lt(Re,!0),zn=Re=>Lt(Re,!1),Rn=()=>re(!0),fr=()=>re(!1),pr=!b&&!i,oo=Re=>{var yt;if(!X&&eg.includes(Re.key)&&b){const{unselectNodesAndEdges:Dn,addSelectedEdges:On,edges:Ln}=ne.getState();Re.key==="Escape"?((yt=Y.current)==null||yt.blur(),Dn({edges:[Ln.find(Tt=>Tt.id===n)]})):On([n])}};return V.createElement("g",{className:ze(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:a,animated:u,inactive:pr,updating:te}]),onClick:Z,onDoubleClick:Se,onContextMenu:Ge,onMouseEnter:Mn,onMouseMove:An,onMouseLeave:Pt,onKeyDown:H?oo:void 0,tabIndex:H?0:void 0,role:H?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":D===null?void 0:D||`Edge from ${m} to ${g}`,"aria-describedby":H?`${Ng}-${L}`:void 0,ref:Y},!ae&&V.createElement(e,{id:n,source:m,target:g,selected:a,animated:u,label:f,labelStyle:d,labelShowBg:p,labelBgStyle:h,labelBgPadding:N,labelBgBorderRadius:v,data:s,style:_,sourceX:y,sourceY:x,targetX:S,targetY:P,sourcePosition:$,targetPosition:I,sourceHandleId:B,targetHandleId:U,markerStart:de,markerEnd:ie,pathOptions:Q,interactionWidth:ee}),W&&V.createElement(V.Fragment,null,(W==="source"||W===!0)&&V.createElement(Df,{position:$,centerX:y,centerY:x,radius:O,onMouseDown:dr,onMouseEnter:Rn,onMouseOut:fr,type:"source"}),(W==="target"||W===!0)&&V.createElement(Df,{position:I,centerX:S,centerY:P,radius:O,onMouseDown:zn,onMouseEnter:Rn,onMouseOut:fr,type:"target"})))};return t.displayName="EdgeWrapper",M.memo(t)};function MS(e){const t={default:xr(e.default||Fi),straight:xr(e.bezier||Tc),step:xr(e.step||Pc),smoothstep:xr(e.step||pl),simplebezier:xr(e.simplebezier||Ic)},n={},r=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,s)=>(o[s]=xr(e[s]||Fi),o),n);return{...t,...r}}function Of(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,i=(n==null?void 0:n.height)||t.height;switch(e){case J.Top:return{x:r+s/2,y:o};case J.Right:return{x:r+s,y:o+i/2};case J.Bottom:return{x:r+s/2,y:o+i};case J.Left:return{x:r,y:o+i/2}}}function Lf(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const AS=(e,t,n,r,o,s)=>{const i=Of(n,e,t),l=Of(s,r,o);return{sourceX:i.x,sourceY:i.y,targetX:l.x,targetY:l.y}};function zS({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:s,width:i,height:l,transform:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const f=is({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:i/a[2],height:l/a[2]}),d=Math.max(0,Math.min(f.x2,u.x2)-Math.max(f.x,u.x)),p=Math.max(0,Math.min(f.y2,u.y2)-Math.max(f.y,u.y));return Math.ceil(d*p)>0}function Ff(e){var r,o,s,i,l;const t=((r=e==null?void 0:e[Ne])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const RS=[{level:0,isMaxLevel:!0,edges:[]}];function DS(e,t,n=!1){let r=-1;const o=e.reduce((i,l)=>{var f,d;const a=ft(l.zIndex);let u=a?l.zIndex:0;if(n){const p=t.get(l.target),h=t.get(l.source),N=l.selected||(p==null?void 0:p.selected)||(h==null?void 0:h.selected),v=Math.max(((f=h==null?void 0:h[Ne])==null?void 0:f.z)||0,((d=p==null?void 0:p[Ne])==null?void 0:d.z)||0,1e3);u=(a?l.zIndex:0)+(N?v:0)}return i[u]?i[u].push(l):i[u]=[l],r=u>r?u:r,i},{}),s=Object.entries(o).map(([i,l])=>{const a=+i;return{edges:l,level:a,isMaxLevel:a===r}});return s.length===0?RS:s}function OS(e,t,n){const r=pe(M.useCallback(o=>e?o.edges.filter(s=>{const i=t.get(s.source),l=t.get(s.target);return(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&zS({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:l.width,targetHeight:l.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return DS(r,t,n)}const LS=({color:e="none",strokeWidth:t=1})=>V.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),FS=({color:e="none",strokeWidth:t=1})=>V.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Hf={[Li.Arrow]:LS,[Li.ArrowClosed]:FS};function HS(e){const t=je();return M.useMemo(()=>{var o,s;return Object.prototype.hasOwnProperty.call(Hf,e)?Hf[e]:((s=(o=t.getState()).onError)==null||s.call(o,"009",tn.error009(e)),null)},[e])}const VS=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:s="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{const a=HS(t);return a?V.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0"},V.createElement(a,{color:n,strokeWidth:i})):null},BS=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((o,s)=>([s.markerStart,s.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const l=mu(i,t);r.includes(l)||(o.push({id:l,color:i.color||e,...i}),r.push(l))}}),o),[]).sort((o,s)=>o.id.localeCompare(s.id))},Ag=({defaultColor:e,rfId:t})=>{const n=pe(M.useCallback(BS({defaultColor:e,rfId:t}),[e,t]),(r,o)=>!(r.length!==o.length||r.some((s,i)=>s.id!==o[i].id)));return V.createElement("defs",null,n.map(r=>V.createElement(VS,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Ag.displayName="MarkerDefinitions";var US=M.memo(Ag);const WS=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),zg=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:o,noPanClassName:s,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:f,onEdgeDoubleClick:d,onReconnect:p,onReconnectStart:h,onReconnectEnd:N,reconnectRadius:v,children:_,disableKeyboardA11y:m})=>{const{edgesFocusable:g,edgesUpdatable:y,elementsSelectable:x,width:S,height:P,connectionMode:$,nodeInternals:I,onError:b}=pe(WS,Te),F=OS(t,I,n);return S?V.createElement(V.Fragment,null,F.map(({level:B,edges:U,isMaxLevel:A})=>V.createElement("svg",{key:B,style:{zIndex:B},width:S,height:P,className:"react-flow__edges react-flow__container"},A&&V.createElement(US,{defaultColor:e,rfId:r}),V.createElement("g",null,U.map(w=>{const[z,j,O]=Ff(I.get(w.source)),[C,E,T]=Ff(I.get(w.target));if(!O||!T)return null;let R=w.type||"default";o[R]||(b==null||b("011",tn.error011(R)),R="default");const k=o[R]||o.default,L=$===In.Strict?E.target:(E.target??[]).concat(E.source??[]),D=Lf(j.source,w.sourceHandle),H=Lf(L,w.targetHandle),W=(D==null?void 0:D.position)||J.Bottom,Q=(H==null?void 0:H.position)||J.Top,ee=!!(w.focusable||g&&typeof w.focusable>"u"),X=w.reconnectable||w.updatable,Y=typeof p<"u"&&(X||y&&typeof X>"u");if(!D||!H)return b==null||b("008",tn.error008(D,w)),null;const{sourceX:te,sourceY:re,targetX:ae,targetY:K}=AS(z,D,W,C,H,Q);return V.createElement(k,{key:w.id,id:w.id,className:ze([w.className,s]),type:R,data:w.data,selected:!!w.selected,animated:!!w.animated,hidden:!!w.hidden,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,style:w.style,source:w.source,target:w.target,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerEnd:w.markerEnd,markerStart:w.markerStart,sourceX:te,sourceY:re,targetX:ae,targetY:K,sourcePosition:W,targetPosition:Q,elementsSelectable:x,onContextMenu:i,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:f,onEdgeDoubleClick:d,onReconnect:p,onReconnectStart:h,onReconnectEnd:N,reconnectRadius:v,rfId:r,ariaLabel:w.ariaLabel,isFocusable:ee,isReconnectable:Y,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth,disableKeyboardA11y:m})})))),_):null};zg.displayName="EdgeRenderer";var QS=M.memo(zg);const qS=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function YS({children:e}){const t=pe(qS);return V.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function KS(e){const t=ml(),n=M.useRef(!1);M.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const XS={[J.Left]:J.Right,[J.Right]:J.Left,[J.Top]:J.Bottom,[J.Bottom]:J.Top},Rg=({nodeId:e,handleType:t,style:n,type:r=fn.Bezier,CustomComponent:o,connectionStatus:s})=>{var P,$,I;const{fromNode:i,handleId:l,toX:a,toY:u,connectionMode:f}=pe(M.useCallback(b=>({fromNode:b.nodeInternals.get(e),handleId:b.connectionHandleId,toX:(b.connectionPosition.x-b.transform[0])/b.transform[2],toY:(b.connectionPosition.y-b.transform[1])/b.transform[2],connectionMode:b.connectionMode}),[e]),Te),d=(P=i==null?void 0:i[Ne])==null?void 0:P.handleBounds;let p=d==null?void 0:d[t];if(f===In.Loose&&(p=p||(d==null?void 0:d[t==="source"?"target":"source"])),!i||!p)return null;const h=l?p.find(b=>b.id===l):p[0],N=h?h.x+h.width/2:(i.width??0)/2,v=h?h.y+h.height/2:i.height??0,_=((($=i.positionAbsolute)==null?void 0:$.x)??0)+N,m=(((I=i.positionAbsolute)==null?void 0:I.y)??0)+v,g=h==null?void 0:h.position,y=g?XS[g]:null;if(!g||!y)return null;if(o)return V.createElement(o,{connectionLineType:r,connectionLineStyle:n,fromNode:i,fromHandle:h,fromX:_,fromY:m,toX:a,toY:u,fromPosition:g,toPosition:y,connectionStatus:s});let x="";const S={sourceX:_,sourceY:m,sourcePosition:g,targetX:a,targetY:u,targetPosition:y};return r===fn.Bezier?[x]=sg(S):r===fn.Step?[x]=hu({...S,borderRadius:0}):r===fn.SmoothStep?[x]=hu(S):r===fn.SimpleBezier?[x]=og(S):x=`M${_},${m} ${a},${u}`,V.createElement("path",{d:x,fill:"none",className:"react-flow__connection-path",style:n})};Rg.displayName="ConnectionLine";const GS=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function ZS({containerStyle:e,style:t,type:n,component:r}){const{nodeId:o,handleType:s,nodesConnectable:i,width:l,height:a,connectionStatus:u}=pe(GS,Te);return!(o&&s&&l&&i)?null:V.createElement("svg",{style:e,width:l,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},V.createElement("g",{className:ze(["react-flow__connection",u])},V.createElement(Rg,{nodeId:o,handleType:s,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Vf(e,t){return M.useRef(null),je(),M.useMemo(()=>t(e),[e])}const Dg=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:s,onNodeClick:i,onEdgeClick:l,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:f,onNodeMouseMove:d,onNodeMouseLeave:p,onNodeContextMenu:h,onSelectionContextMenu:N,onSelectionStart:v,onSelectionEnd:_,connectionLineType:m,connectionLineStyle:g,connectionLineComponent:y,connectionLineContainerStyle:x,selectionKeyCode:S,selectionOnDrag:P,selectionMode:$,multiSelectionKeyCode:I,panActivationKeyCode:b,zoomActivationKeyCode:F,deleteKeyCode:B,onlyRenderVisibleElements:U,elementsSelectable:A,selectNodesOnDrag:w,defaultViewport:z,translateExtent:j,minZoom:O,maxZoom:C,preventScrolling:E,defaultMarkerColor:T,zoomOnScroll:R,zoomOnPinch:k,panOnScroll:L,panOnScrollSpeed:D,panOnScrollMode:H,zoomOnDoubleClick:W,panOnDrag:Q,onPaneClick:ee,onPaneMouseEnter:X,onPaneMouseMove:Y,onPaneMouseLeave:te,onPaneScroll:re,onPaneContextMenu:ae,onEdgeContextMenu:K,onEdgeMouseEnter:ne,onEdgeMouseMove:de,onEdgeMouseLeave:ie,onReconnect:Z,onReconnectStart:Se,onReconnectEnd:Ge,reconnectRadius:Mn,noDragClassName:An,noWheelClassName:Pt,noPanClassName:Lt,elevateEdgesOnSelect:dr,disableKeyboardA11y:zn,nodeOrigin:Rn,nodeExtent:fr,rfId:pr})=>{const oo=Vf(e,bS),Re=Vf(t,MS);return KS(s),V.createElement(kS,{onPaneClick:ee,onPaneMouseEnter:X,onPaneMouseMove:Y,onPaneMouseLeave:te,onPaneContextMenu:ae,onPaneScroll:re,deleteKeyCode:B,selectionKeyCode:S,selectionOnDrag:P,selectionMode:$,onSelectionStart:v,onSelectionEnd:_,multiSelectionKeyCode:I,panActivationKeyCode:b,zoomActivationKeyCode:F,elementsSelectable:A,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:R,zoomOnPinch:k,zoomOnDoubleClick:W,panOnScroll:L,panOnScrollSpeed:D,panOnScrollMode:H,panOnDrag:Q,defaultViewport:z,translateExtent:j,minZoom:O,maxZoom:C,onSelectionContextMenu:N,preventScrolling:E,noDragClassName:An,noWheelClassName:Pt,noPanClassName:Lt,disableKeyboardA11y:zn},V.createElement(YS,null,V.createElement(QS,{edgeTypes:Re,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:U,onEdgeContextMenu:K,onEdgeMouseEnter:ne,onEdgeMouseMove:de,onEdgeMouseLeave:ie,onReconnect:Z,onReconnectStart:Se,onReconnectEnd:Ge,reconnectRadius:Mn,defaultMarkerColor:T,noPanClassName:Lt,elevateEdgesOnSelect:!!dr,disableKeyboardA11y:zn,rfId:pr},V.createElement(ZS,{style:g,type:m,component:y,containerStyle:x})),V.createElement("div",{className:"react-flow__edgelabel-renderer"}),V.createElement(IS,{nodeTypes:oo,onNodeClick:i,onNodeDoubleClick:a,onNodeMouseEnter:f,onNodeMouseMove:d,onNodeMouseLeave:p,onNodeContextMenu:h,selectNodesOnDrag:w,onlyRenderVisibleElements:U,noPanClassName:Lt,noDragClassName:An,disableKeyboardA11y:zn,nodeOrigin:Rn,nodeExtent:fr,rfId:pr})))};Dg.displayName="GraphView";var JS=M.memo(Dg);const vu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],on={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:vu,nodeExtent:vu,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:In.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:CN,isValidConnection:void 0},eE=()=>Vv((e,t)=>({...on,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:s}=t();e({nodeInternals:ta(n,r,o,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(o=>({...r,...o}))})},setDefaultNodesAndEdges:(n,r)=>{const o=typeof n<"u",s=typeof r<"u",i=o?ta(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:s?r:[],hasDefaultNodes:o,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:s,fitViewOnInitDone:i,fitViewOnInitOptions:l,domNode:a,nodeOrigin:u}=t(),f=a==null?void 0:a.querySelector(".react-flow__viewport");if(!f)return;const d=window.getComputedStyle(f),{m22:p}=new window.DOMMatrixReadOnly(d.transform),h=n.reduce((v,_)=>{const m=o.get(_.id);if(m!=null&&m.hidden)o.set(m.id,{...m,[Ne]:{...m[Ne],handleBounds:void 0}});else if(m){const g=Cc(_.nodeElement);!!(g.width&&g.height&&(m.width!==g.width||m.height!==g.height||_.forceUpdate))&&(o.set(m.id,{...m,[Ne]:{...m[Ne],handleBounds:{source:zf(".source",_.nodeElement,p,u),target:zf(".target",_.nodeElement,p,u)}},...g}),v.push({id:m.id,type:"dimensions",dimensions:g}))}return v},[]);Eg(o,u);const N=i||s&&!i&&kg(t,{initial:!0,...l});e({nodeInternals:new Map(o),fitViewOnInitDone:N}),(h==null?void 0:h.length)>0&&(r==null||r(h))},updateNodePositions:(n,r=!0,o=!1)=>{const{triggerNodeChanges:s}=t(),i=n.map(l=>{const a={id:l.id,type:"position",dragging:o};return r&&(a.positionAbsolute=l.positionAbsolute,a.position=l.position),a});s(i)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:s,nodeOrigin:i,getNodes:l,elevateNodesOnSelect:a}=t();if(n!=null&&n.length){if(s){const u=bg(n,l()),f=ta(u,o,i,a);e({nodeInternals:f})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:s}=t();let i,l=null;r?i=n.map(a=>un(a,!0)):(i=$r(s(),n),l=$r(o,[])),Us({changedNodes:i,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:s}=t();let i,l=null;r?i=n.map(a=>un(a,!0)):(i=$r(o,n),l=$r(s(),[])),Us({changedNodes:l,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:o,getNodes:s}=t(),i=n||s(),l=r||o,a=i.map(f=>(f.selected=!1,un(f.id,!1))),u=l.map(f=>un(f.id,!1));Us({changedNodes:a,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r==null||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r==null||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),s=r().filter(l=>l.selected).map(l=>un(l.id,!1)),i=n.filter(l=>l.selected).map(l=>un(l.id,!1));Us({changedNodes:s,changedEdges:i,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(o=>{o.positionAbsolute=jc(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:o,height:s,d3Zoom:i,d3Selection:l,translateExtent:a}=t();if(!i||!l||!n.x&&!n.y)return!1;const u=Kt.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),f=[[0,0],[o,s]],d=i==null?void 0:i.constrain()(u,f,a);return i.transform(l,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:on.connectionNodeId,connectionHandleId:on.connectionHandleId,connectionHandleType:on.connectionHandleType,connectionStatus:on.connectionStatus,connectionStartHandle:on.connectionStartHandle,connectionEndHandle:on.connectionEndHandle}),reset:()=>e({...on})}),Object.is),Rc=({children:e})=>{const t=M.useRef(null);return t.current||(t.current=eE()),V.createElement(wN,{value:t.current},e)};Rc.displayName="ReactFlowProvider";const Og=({children:e})=>M.useContext(dl)?V.createElement(V.Fragment,null,e):V.createElement(Rc,null,e);Og.displayName="ReactFlowWrapper";const tE={input:gg,default:yu,output:xg,group:Ac},nE={default:Fi,straight:Tc,step:Pc,smoothstep:pl,simplebezier:Ic},rE=[0,0],oE=[15,15],sE={x:0,y:0,zoom:1},iE={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Lg=M.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:s=tE,edgeTypes:i=nE,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:f,onMoveStart:d,onMoveEnd:p,onConnect:h,onConnectStart:N,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:m,onNodeMouseEnter:g,onNodeMouseMove:y,onNodeMouseLeave:x,onNodeContextMenu:S,onNodeDoubleClick:P,onNodeDragStart:$,onNodeDrag:I,onNodeDragStop:b,onNodesDelete:F,onEdgesDelete:B,onSelectionChange:U,onSelectionDragStart:A,onSelectionDrag:w,onSelectionDragStop:z,onSelectionContextMenu:j,onSelectionStart:O,onSelectionEnd:C,connectionMode:E=In.Strict,connectionLineType:T=fn.Bezier,connectionLineStyle:R,connectionLineComponent:k,connectionLineContainerStyle:L,deleteKeyCode:D="Backspace",selectionKeyCode:H="Shift",selectionOnDrag:W=!1,selectionMode:Q=ls.Full,panActivationKeyCode:ee="Space",multiSelectionKeyCode:X=Oi()?"Meta":"Control",zoomActivationKeyCode:Y=Oi()?"Meta":"Control",snapToGrid:te=!1,snapGrid:re=oE,onlyRenderVisibleElements:ae=!1,selectNodesOnDrag:K=!0,nodesDraggable:ne,nodesConnectable:de,nodesFocusable:ie,nodeOrigin:Z=rE,edgesFocusable:Se,edgesUpdatable:Ge,elementsSelectable:Mn,defaultViewport:An=sE,minZoom:Pt=.5,maxZoom:Lt=2,translateExtent:dr=vu,preventScrolling:zn=!0,nodeExtent:Rn,defaultMarkerColor:fr="#b1b1b7",zoomOnScroll:pr=!0,zoomOnPinch:oo=!0,panOnScroll:Re=!1,panOnScrollSpeed:yt=.5,panOnScrollMode:Dn=Xn.Free,zoomOnDoubleClick:On=!0,panOnDrag:Ln=!0,onPaneClick:Ft,onPaneMouseEnter:Tt,onPaneMouseMove:so,onPaneMouseLeave:wl,onPaneScroll:io,onPaneContextMenu:Nl,children:Fc,onEdgeContextMenu:Fn,onEdgeDoubleClick:f0,onEdgeMouseEnter:p0,onEdgeMouseMove:h0,onEdgeMouseLeave:m0,onEdgeUpdate:g0,onEdgeUpdateStart:y0,onEdgeUpdateEnd:x0,onReconnect:v0,onReconnectStart:w0,onReconnectEnd:N0,reconnectRadius:S0=10,edgeUpdaterRadius:E0=10,onNodesChange:k0,onEdgesChange:_0,noDragClassName:b0="nodrag",noWheelClassName:C0="nowheel",noPanClassName:Hc="nopan",fitView:j0=!1,fitViewOptions:I0,connectOnClick:P0=!0,attributionPosition:T0,proOptions:$0,defaultEdgeOptions:M0,elevateNodesOnSelect:A0=!0,elevateEdgesOnSelect:z0=!1,disableKeyboardA11y:Vc=!1,autoPanOnConnect:R0=!0,autoPanOnNodeDrag:D0=!0,connectionRadius:O0=20,isValidConnection:L0,onError:F0,style:H0,id:Bc,nodeDragThreshold:V0,...B0},U0)=>{const Sl=Bc||"1";return V.createElement("div",{...B0,style:{...H0,...iE},ref:U0,className:ze(["react-flow",o]),"data-testid":"rf__wrapper",id:Bc},V.createElement(Og,null,V.createElement(JS,{onInit:u,onMove:f,onMoveStart:d,onMoveEnd:p,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:g,onNodeMouseMove:y,onNodeMouseLeave:x,onNodeContextMenu:S,onNodeDoubleClick:P,nodeTypes:s,edgeTypes:i,connectionLineType:T,connectionLineStyle:R,connectionLineComponent:k,connectionLineContainerStyle:L,selectionKeyCode:H,selectionOnDrag:W,selectionMode:Q,deleteKeyCode:D,multiSelectionKeyCode:X,panActivationKeyCode:ee,zoomActivationKeyCode:Y,onlyRenderVisibleElements:ae,selectNodesOnDrag:K,defaultViewport:An,translateExtent:dr,minZoom:Pt,maxZoom:Lt,preventScrolling:zn,zoomOnScroll:pr,zoomOnPinch:oo,zoomOnDoubleClick:On,panOnScroll:Re,panOnScrollSpeed:yt,panOnScrollMode:Dn,panOnDrag:Ln,onPaneClick:Ft,onPaneMouseEnter:Tt,onPaneMouseMove:so,onPaneMouseLeave:wl,onPaneScroll:io,onPaneContextMenu:Nl,onSelectionContextMenu:j,onSelectionStart:O,onSelectionEnd:C,onEdgeContextMenu:Fn,onEdgeDoubleClick:f0,onEdgeMouseEnter:p0,onEdgeMouseMove:h0,onEdgeMouseLeave:m0,onReconnect:v0??g0,onReconnectStart:w0??y0,onReconnectEnd:N0??x0,reconnectRadius:S0??E0,defaultMarkerColor:fr,noDragClassName:b0,noWheelClassName:C0,noPanClassName:Hc,elevateEdgesOnSelect:z0,rfId:Sl,disableKeyboardA11y:Vc,nodeOrigin:Z,nodeExtent:Rn}),V.createElement(XN,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:N,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:m,nodesDraggable:ne,nodesConnectable:de,nodesFocusable:ie,edgesFocusable:Se,edgesUpdatable:Ge,elementsSelectable:Mn,elevateNodesOnSelect:A0,minZoom:Pt,maxZoom:Lt,nodeExtent:Rn,onNodesChange:k0,onEdgesChange:_0,snapToGrid:te,snapGrid:re,connectionMode:E,translateExtent:dr,connectOnClick:P0,defaultEdgeOptions:M0,fitView:j0,fitViewOptions:I0,onNodesDelete:F,onEdgesDelete:B,onNodeDragStart:$,onNodeDrag:I,onNodeDragStop:b,onSelectionDrag:w,onSelectionDragStart:A,onSelectionDragStop:z,noPanClassName:Hc,nodeOrigin:Z,rfId:Sl,autoPanOnConnect:R0,autoPanOnNodeDrag:D0,onError:F0,connectionRadius:O0,isValidConnection:L0,nodeDragThreshold:V0}),V.createElement(YN,{onSelectionChange:U}),Fc,V.createElement(SN,{proOptions:$0,position:T0}),V.createElement(tS,{rfId:Sl,disableKeyboardA11y:Vc})))});Lg.displayName="ReactFlow";function Fg(e){return t=>{const[n,r]=M.useState(t),o=M.useCallback(s=>r(i=>e(s,i)),[]);return[n,r,o]}}const lE=Fg(bg),aE=Fg(mS),Hg=({id:e,x:t,y:n,width:r,height:o,style:s,color:i,strokeColor:l,strokeWidth:a,className:u,borderRadius:f,shapeRendering:d,onClick:p,selected:h})=>{const{background:N,backgroundColor:v}=s||{},_=i||N||v;return V.createElement("rect",{className:ze(["react-flow__minimap-node",{selected:h},u]),x:t,y:n,rx:f,ry:f,width:r,height:o,fill:_,stroke:l,strokeWidth:a,shapeRendering:d,onClick:p?m=>p(m,e):void 0})};Hg.displayName="MiniMapNode";var uE=M.memo(Hg);const cE=e=>e.nodeOrigin,dE=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),sa=e=>e instanceof Function?e:()=>e;function fE({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:s=uE,onClick:i}){const l=pe(dE,Te),a=pe(cE),u=sa(t),f=sa(e),d=sa(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return V.createElement(V.Fragment,null,l.map(h=>{const{x:N,y:v}=er(h,a).positionAbsolute;return V.createElement(s,{key:h.id,x:N,y:v,width:h.width,height:h.height,style:h.style,selected:h.selected,className:d(h),color:u(h),borderRadius:r,strokeColor:f(h),strokeWidth:o,shapeRendering:p,onClick:i,id:h.id})}))}var pE=M.memo(fE);const hE=200,mE=150,gE=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?_N(hl(t,e.nodeOrigin),n):n,rfId:e.rfId}},yE="react-flow__minimap-desc";function Vg({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:i=2,nodeComponent:l,maskColor:a="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:f=1,position:d="bottom-right",onClick:p,onNodeClick:h,pannable:N=!1,zoomable:v=!1,ariaLabel:_="React Flow mini map",inversePan:m=!1,zoomStep:g=10,offsetScale:y=5}){const x=je(),S=M.useRef(null),{boundingRect:P,viewBB:$,rfId:I}=pe(gE,Te),b=(e==null?void 0:e.width)??hE,F=(e==null?void 0:e.height)??mE,B=P.width/b,U=P.height/F,A=Math.max(B,U),w=A*b,z=A*F,j=y*A,O=P.x-(w-P.width)/2-j,C=P.y-(z-P.height)/2-j,E=w+j*2,T=z+j*2,R=`${yE}-${I}`,k=M.useRef(0);k.current=A,M.useEffect(()=>{if(S.current){const H=ct(S.current),W=X=>{const{transform:Y,d3Selection:te,d3Zoom:re}=x.getState();if(X.sourceEvent.type!=="wheel"||!te||!re)return;const ae=-X.sourceEvent.deltaY*(X.sourceEvent.deltaMode===1?.05:X.sourceEvent.deltaMode?1:.002)*g,K=Y[2]*Math.pow(2,ae);re.scaleTo(te,K)},Q=X=>{const{transform:Y,d3Selection:te,d3Zoom:re,translateExtent:ae,width:K,height:ne}=x.getState();if(X.sourceEvent.type!=="mousemove"||!te||!re)return;const de=k.current*Math.max(1,Y[2])*(m?-1:1),ie={x:Y[0]-X.sourceEvent.movementX*de,y:Y[1]-X.sourceEvent.movementY*de},Z=[[0,0],[K,ne]],Se=Kt.translate(ie.x,ie.y).scale(Y[2]),Ge=re.constrain()(Se,Z,ae);re.transform(te,Ge)},ee=Ym().on("zoom",N?Q:null).on("zoom.wheel",v?W:null);return H.call(ee),()=>{H.on("zoom",null)}}},[N,v,m,g]);const L=p?H=>{const W=Nt(H);p(H,{x:W[0],y:W[1]})}:void 0,D=h?(H,W)=>{const Q=x.getState().nodeInternals.get(W);h(H,Q)}:void 0;return V.createElement(fl,{position:d,style:e,className:ze(["react-flow__minimap",t]),"data-testid":"rf__minimap"},V.createElement("svg",{width:b,height:F,viewBox:`${O} ${C} ${E} ${T}`,role:"img","aria-labelledby":R,ref:S,onClick:L},_&&V.createElement("title",{id:R},_),V.createElement(pE,{onClick:D,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:o,nodeStrokeWidth:i,nodeComponent:l}),V.createElement("path",{className:"react-flow__minimap-mask",d:`M${O-j},${C-j}h${E+j*2}v${T+j*2}h${-E-j*2}z
        M${$.x},${$.y}h${$.width}v${$.height}h${-$.width}z`,fill:a,fillRule:"evenodd",stroke:u,strokeWidth:f,pointerEvents:"none"})))}Vg.displayName="MiniMap";var xE=M.memo(Vg);function vE(){return V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},V.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function wE(){return V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},V.createElement("path",{d:"M0 0h32v4.2H0z"}))}function NE(){return V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},V.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function SE(){return V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},V.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function EE(){return V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},V.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const jo=({children:e,className:t,...n})=>V.createElement("button",{type:"button",className:ze(["react-flow__controls-button",t]),...n},e);jo.displayName="ControlButton";const kE=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Bg=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:s,onZoomOut:i,onFitView:l,onInteractiveChange:a,className:u,children:f,position:d="bottom-left"})=>{const p=je(),[h,N]=M.useState(!1),{isInteractive:v,minZoomReached:_,maxZoomReached:m}=pe(kE,Te),{zoomIn:g,zoomOut:y,fitView:x}=ml();if(M.useEffect(()=>{N(!0)},[]),!h)return null;const S=()=>{g(),s==null||s()},P=()=>{y(),i==null||i()},$=()=>{x(o),l==null||l()},I=()=>{p.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),a==null||a(!v)};return V.createElement(fl,{className:ze(["react-flow__controls",u]),position:d,style:e,"data-testid":"rf__controls"},t&&V.createElement(V.Fragment,null,V.createElement(jo,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:m},V.createElement(vE,null)),V.createElement(jo,{onClick:P,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:_},V.createElement(wE,null))),n&&V.createElement(jo,{className:"react-flow__controls-fitview",onClick:$,title:"fit view","aria-label":"fit view"},V.createElement(NE,null)),r&&V.createElement(jo,{className:"react-flow__controls-interactive",onClick:I,title:"toggle interactivity","aria-label":"toggle interactivity"},v?V.createElement(EE,null):V.createElement(SE,null)),f)};Bg.displayName="Controls";var _E=M.memo(Bg),ht;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ht||(ht={}));function bE({color:e,dimensions:t,lineWidth:n}){return V.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function CE({color:e,radius:t}){return V.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const jE={[ht.Dots]:"#91919a",[ht.Lines]:"#eee",[ht.Cross]:"#e2e2e2"},IE={[ht.Dots]:1,[ht.Lines]:1,[ht.Cross]:6},PE=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Ug({id:e,variant:t=ht.Dots,gap:n=20,size:r,lineWidth:o=1,offset:s=2,color:i,style:l,className:a}){const u=M.useRef(null),{transform:f,patternId:d}=pe(PE,Te),p=i||jE[t],h=r||IE[t],N=t===ht.Dots,v=t===ht.Cross,_=Array.isArray(n)?n:[n,n],m=[_[0]*f[2]||1,_[1]*f[2]||1],g=h*f[2],y=v?[g,g]:m,x=N?[g/s,g/s]:[y[0]/s,y[1]/s];return V.createElement("svg",{className:ze(["react-flow__background",a]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},V.createElement("pattern",{id:d+e,x:f[0]%m[0],y:f[1]%m[1],width:m[0],height:m[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${x[0]},-${x[1]})`},N?V.createElement(CE,{color:p,radius:g/s}):V.createElement(bE,{dimensions:y,color:p,lineWidth:o})),V.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}Ug.displayName="Background";var TE=M.memo(Ug);const Wg={},{useDebugValue:$E}=V,{useSyncExternalStoreWithSelector:ME}=xm;let Bf=!1;const AE=e=>e;function zE(e,t=AE,n){(Wg?"production":void 0)!=="production"&&n&&!Bf&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Bf=!0);const r=ME(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return $E(r),r}const RE=e=>{(Wg?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?vm(e):e,n=(r,o)=>zE(t,r,o);return Object.assign(n,t),n},DE=e=>RE;var Qg=Symbol.for("immer-nothing"),Uf=Symbol.for("immer-draftable"),rt=Symbol.for("immer-state");function kt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Jr=Object.getPrototypeOf;function eo(e){return!!e&&!!e[rt]}function lr(e){var t;return e?qg(e)||Array.isArray(e)||!!e[Uf]||!!((t=e.constructor)!=null&&t[Uf])||yl(e)||xl(e):!1}var OE=Object.prototype.constructor.toString();function qg(e){if(!e||typeof e!="object")return!1;const t=Jr(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===OE}function Hi(e,t){gl(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function gl(e){const t=e[rt];return t?t.type_:Array.isArray(e)?1:yl(e)?2:xl(e)?3:0}function wu(e,t){return gl(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Yg(e,t,n){const r=gl(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function LE(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function yl(e){return e instanceof Map}function xl(e){return e instanceof Set}function Un(e){return e.copy_||e.base_}function Nu(e,t){if(yl(e))return new Map(e);if(xl(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=qg(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[rt];let o=Reflect.ownKeys(r);for(let s=0;s<o.length;s++){const i=o[s],l=r[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[i]})}return Object.create(Jr(e),r)}else{const r=Jr(e);if(r!==null&&n)return{...e};const o=Object.create(r);return Object.assign(o,e)}}function Dc(e,t=!1){return vl(e)||eo(e)||!lr(e)||(gl(e)>1&&(e.set=e.add=e.clear=e.delete=FE),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Dc(r,!0))),e}function FE(){kt(2)}function vl(e){return Object.isFrozen(e)}var HE={};function ar(e){const t=HE[e];return t||kt(0,e),t}var us;function Kg(){return us}function VE(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Wf(e,t){t&&(ar("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Su(e){Eu(e),e.drafts_.forEach(BE),e.drafts_=null}function Eu(e){e===us&&(us=e.parent_)}function Qf(e){return us=VE(us,e)}function BE(e){const t=e[rt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function qf(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[rt].modified_&&(Su(t),kt(4)),lr(e)&&(e=Vi(t,e),t.parent_||Bi(t,e)),t.patches_&&ar("Patches").generateReplacementPatches_(n[rt].base_,e,t.patches_,t.inversePatches_)):e=Vi(t,n,[]),Su(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Qg?e:void 0}function Vi(e,t,n){if(vl(t))return t;const r=t[rt];if(!r)return Hi(t,(o,s)=>Yf(e,r,t,o,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Bi(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let s=o,i=!1;r.type_===3&&(s=new Set(o),o.clear(),i=!0),Hi(s,(l,a)=>Yf(e,r,o,l,a,n,i)),Bi(e,o,!1),n&&e.patches_&&ar("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Yf(e,t,n,r,o,s,i){if(eo(o)){const l=s&&t&&t.type_!==3&&!wu(t.assigned_,r)?s.concat(r):void 0,a=Vi(e,o,l);if(Yg(n,r,a),eo(a))e.canAutoFreeze_=!1;else return}else i&&n.add(o);if(lr(o)&&!vl(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Vi(e,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Bi(e,o)}}function Bi(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Dc(t,n)}function UE(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Kg(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,s=Oc;n&&(o=[r],s=cs);const{revoke:i,proxy:l}=Proxy.revocable(o,s);return r.draft_=l,r.revoke_=i,l}var Oc={get(e,t){if(t===rt)return e;const n=Un(e);if(!wu(n,t))return WE(e,n,t);const r=n[t];return e.finalized_||!lr(r)?r:r===ia(e.base_,t)?(la(e),e.copy_[t]=_u(r,e)):r},has(e,t){return t in Un(e)},ownKeys(e){return Reflect.ownKeys(Un(e))},set(e,t,n){const r=Xg(Un(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=ia(Un(e),t),s=o==null?void 0:o[rt];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(LE(n,o)&&(n!==void 0||wu(e.base_,t)))return!0;la(e),ku(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ia(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,la(e),ku(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Un(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){kt(11)},getPrototypeOf(e){return Jr(e.base_)},setPrototypeOf(){kt(12)}},cs={};Hi(Oc,(e,t)=>{cs[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});cs.deleteProperty=function(e,t){return cs.set.call(this,e,t,void 0)};cs.set=function(e,t,n){return Oc.set.call(this,e[0],t,n,e[0])};function ia(e,t){const n=e[rt];return(n?Un(n):e)[t]}function WE(e,t,n){var o;const r=Xg(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function Xg(e,t){if(!(t in e))return;let n=Jr(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Jr(n)}}function ku(e){e.modified_||(e.modified_=!0,e.parent_&&ku(e.parent_))}function la(e){e.copy_||(e.copy_=Nu(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var QE=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const i=this;return function(a=s,...u){return i.produce(a,f=>n.call(this,f,...u))}}typeof n!="function"&&kt(6),r!==void 0&&typeof r!="function"&&kt(7);let o;if(lr(t)){const s=Qf(this),i=_u(t,void 0);let l=!0;try{o=n(i),l=!1}finally{l?Su(s):Eu(s)}return Wf(s,r),qf(o,s)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===Qg&&(o=void 0),this.autoFreeze_&&Dc(o,!0),r){const s=[],i=[];ar("Patches").generateReplacementPatches_(t,o,s,i),r(s,i)}return o}else kt(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...l)=>this.produceWithPatches(i,a=>t(a,...l));let r,o;return[this.produce(t,n,(i,l)=>{r=i,o=l}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){lr(e)||kt(8),eo(e)&&(e=qE(e));const t=Qf(this),n=_u(e,void 0);return n[rt].isManual_=!0,Eu(t),n}finishDraft(e,t){const n=e&&e[rt];(!n||!n.isManual_)&&kt(9);const{scope_:r}=n;return Wf(r,t),qf(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=ar("Patches").applyPatches_;return eo(e)?r(e,t):this.produce(e,o=>r(o,t))}};function _u(e,t){const n=yl(e)?ar("MapSet").proxyMap_(e,t):xl(e)?ar("MapSet").proxySet_(e,t):UE(e,t);return(t?t.scope_:Kg()).drafts_.push(n),n}function qE(e){return eo(e)||kt(10,e),Gg(e)}function Gg(e){if(!lr(e)||vl(e))return e;const t=e[rt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Nu(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Nu(e,!0);return Hi(n,(r,o)=>{Yg(n,r,Gg(o))}),t&&(t.finalized_=!1),n}var ot=new QE,YE=ot.produce;ot.produceWithPatches.bind(ot);ot.setAutoFreeze.bind(ot);ot.setUseStrictShallowCopy.bind(ot);ot.applyPatches.bind(ot);ot.createDraft.bind(ot);ot.finishDraft.bind(ot);const KE=e=>(t,n,r)=>(r.setState=(o,s,...i)=>{const l=typeof o=="function"?YE(o):o;return t(l,s,...i)},e(r.setState,n,r)),XE=KE,Wn=class Wn{constructor(){vs(this,"counters",new Map);vs(this,"pathRegistry",{nodeToPathsMap:new Map,pathToNodeMap:new Map})}static getInstance(){return Wn.instance||(Wn.instance=new Wn),Wn.instance}generateQuestionPathId(t,n,r){return t?`${t.pathId}-Q${n}`:`${r}-Q${n}`}generateAnswerPathId(t,n){return`${t.pathId}-A${n}`}generateOutcomePathId(t,n){return`${t.pathId}-E${n}`}generateVariantPathId(t,n){return`${t}-V${n+1}`}parseVariantFromPath(t){const n=t.match(/(.*-A\d+)-V(\d+)/);return n?{answerPath:n[1],variantNumber:parseInt(n[2])}:null}parsePathId(t){const n=t.split("-"),r=n[0],o=[];for(let s=1;s<n.length;s++){const i=n[s];i.startsWith("Q")?o.push({type:"Q",number:parseInt(i.substring(1))}):i.startsWith("A")&&o.push({type:"A",number:parseInt(i.substring(1))})}return{topic:r,segments:o}}parsePathIdWithVariants(t){const n=t.split("-"),r=n[0],o=[];for(let s=1;s<n.length;s++){const i=n[s];if(i.startsWith("Q"))o.push({type:"Q",number:parseInt(i.substring(1))});else if(i.startsWith("A"))o.push({type:"A",number:parseInt(i.substring(1))});else if(i.startsWith("V")&&i.includes("+V")){const l=i.substring(1).split("+V").map(a=>parseInt(a));o.push({type:"VC",numbers:l})}else i.startsWith("V")?o.push({type:"V",number:parseInt(i.substring(1))}):i.startsWith("E")&&o.push({type:"E",number:parseInt(i.substring(1))})}return{topic:r,segments:o}}getPathLevel(t){return this.parsePathId(t).segments.filter(r=>r.type==="Q").length}getParentPathId(t){const n=t.split("-");return n.length<=2?null:n.slice(0,-1).join("-")}generateEdgeId(t,n,r){const o=r?`-${r}`:"";return`edge-${t}-${n}${o}`}registerNode(t,n){this.pathRegistry.pathToNodeMap.set(n,t);const r=this.pathRegistry.nodeToPathsMap.get(t)||[];r.includes(n)||this.pathRegistry.nodeToPathsMap.set(t,[...r,n])}getNodePaths(t){return this.pathRegistry.nodeToPathsMap.get(t)||[]}getNodeForPath(t){return this.pathRegistry.pathToNodeMap.get(t)||null}recalculatePathIds(t,n,r){var h,N,v,_,m,g,y,x;const o={nodeToPathsMap:new Map,pathToNodeMap:new Map},s=new Map,i=new Map,l=new Map;t.forEach(S=>{s.set(S.id,S)}),n.forEach(S=>{const P=i.get(S.source)||[];P.push(S),i.set(S.source,P);const $=l.get(S.target)||[];$.push(S),l.set(S.target,$)});const a=t.filter(S=>S.type==="question"&&!n.some(P=>P.target===S.id));this.counters.clear();const u=new Map;t.forEach(S=>{u.set(S.id,{...S,data:{...S.data,pathIds:[],topic:r}})});const f=[];a.forEach(S=>{f.push({nodeId:S.id,parentPathId:null,level:1})});const d=new Set;for(;f.length>0;){const{nodeId:S,parentPathId:P,level:$}=f.shift(),I=u.get(S);if(!I)continue;let b;if(I.type==="question"){const w=this.getQuestionNumberForNode(I.id,P,t);P===null?b=`${r}-Q${w}`:b=`${P}-Q${w}`}else if(I.type==="answer"){const w=this.getAnswerNumberForNode(I.id,P||"STANDALONE",t);if(b=`${P||"STANDALONE"}-A${w}`,((h=I.data)==null?void 0:h.answerType)==="single"){const j=`${S}:${b}`;if(!d.has(j)){d.add(j);const O=u.get(S),C=O.data.pathIds||[];if(!C.includes(b)){u.set(S,{...O,data:{...O.data,pathId:b,primaryPathId:b,pathIds:[...C,b],isRoot:!1,questionLevel:$}}),o.pathToNodeMap.set(b,S);const E=o.nodeToPathsMap.get(S)||[];E.includes(b)||o.nodeToPathsMap.set(S,[...E,b])}}}else{const j=u.get(S),O=j.data.pathIds||[],C=[];if(((N=I.data)==null?void 0:N.answerType)==="multiple")(((v=I.data)==null?void 0:v.variants)||[]).forEach((R,k)=>{const L=`${b}-V${k+1}`;O.includes(L)||C.push(L)});else if(((_=I.data)==null?void 0:_.answerType)==="combinations"){const R=(((m=I.data)==null?void 0:m.variants)||[]).length;for(let k=1;k<Math.pow(2,R);k++){const L=[];for(let H=0;H<R;H++)k&1<<H&&L.push(H+1);const D=`${b}-V${L.join("+V")}`;O.includes(D)||C.push(D)}}const E=[...O,...C];u.set(S,{...j,data:{...j.data,pathId:b,pathIds:E,isRoot:!1,questionLevel:$}}),C.forEach(T=>{o.pathToNodeMap.set(T,S);const R=o.nodeToPathsMap.get(S)||[];R.includes(T)||o.nodeToPathsMap.set(S,[...R,T])})}const z=i.get(S)||[];((g=I.data)==null?void 0:g.answerType)==="single"?z.forEach(j=>{f.push({nodeId:j.target,parentPathId:b,level:$+1,sourceHandle:j.sourceHandle||void 0,sourceNodeId:S})}):((y=I.data)==null?void 0:y.answerType)==="multiple"?z.forEach(j=>{if(j.sourceHandle&&j.sourceHandle.startsWith("variant-")){const O=parseInt(j.sourceHandle.replace("variant-","")),C=`${b}-V${O+1}`;f.push({nodeId:j.target,parentPathId:C,level:$+1,sourceHandle:j.sourceHandle||void 0,sourceNodeId:S})}}):((x=I.data)==null?void 0:x.answerType)==="combinations"&&z.forEach(j=>{var O;if(j.sourceHandle&&j.sourceHandle.startsWith("combination-")){const C=j.sourceHandle.replace("combination-",""),E=((O=I.data)==null?void 0:O.variants)||[],T=[],R=E.length;for(let L=1;L<Math.pow(2,R);L++){const D=[];for(let W=0;W<R;W++)L&1<<W&&D.push(W+1);const H={id:`combo-${L}`,variantIndices:D};T.push(H)}const k=T.find(L=>L.id===C);if(k){const L=`${b}-V${k.variantIndices.join("+V")}`;f.push({nodeId:j.target,parentPathId:L,level:$+1,sourceHandle:j.sourceHandle||void 0,sourceNodeId:S})}}});continue}else if(I.type==="outcome"){const w=this.getOutcomeNumberForNode(I.id,P||"STANDALONE",t);b=`${P||"STANDALONE"}-E${w}`}else b=`${P||"STANDALONE"}-NODE`;const F=`${S}:${b}`;if(d.has(F))continue;d.add(F);const B=u.get(S),U=B.data.pathIds||[];if(!U.includes(b)){const w=[...U,b],z=B.data.primaryPathId,j=!z||b.length<(z||"").length;u.set(S,{...B,data:{...B.data,pathId:j?b:B.data.pathId||b,primaryPathId:j?b:z||b,pathIds:w,isRoot:P===null&&I.type==="question",questionLevel:$}})}o.pathToNodeMap.set(b,S);const A=o.nodeToPathsMap.get(S)||[];A.includes(b)||o.nodeToPathsMap.set(S,[...A,b]),I.type!=="answer"&&(i.get(S)||[]).forEach(z=>{if(u.get(z.target)){const O=I.type==="question"?$:$+1;f.push({nodeId:z.target,parentPathId:b,level:O,sourceHandle:z.sourceHandle||void 0,sourceNodeId:S})}})}return t.forEach(S=>{var $,I;const P=u.get(S.id);if(P&&(!P.data.pathIds||P.data.pathIds.length===0)){if(S.type==="answer"&&((($=S.data)==null?void 0:$.answerType)==="multiple"||((I=S.data)==null?void 0:I.answerType)==="combinations"))return;let b;S.type==="question"?b=`ORPHAN-Q${this.getQuestionNumberForNode(S.id,"ORPHAN",t)}`:S.type==="answer"?b=`ORPHAN-A${this.getAnswerNumberForNode(S.id,"ORPHAN",t)}`:S.type==="outcome"?b=`ORPHAN-E${this.getOutcomeNumberForNode(S.id,"ORPHAN",t)}`:b="ORPHAN-NODE";const F=`${S.id}:${b}`;if(!d.has(F)){d.add(F);const B=u.get(S.id);u.set(S.id,{...B,data:{...B.data,pathId:b,primaryPathId:b,pathIds:[b],isRoot:!1,questionLevel:1}}),o.pathToNodeMap.set(b,S.id),o.nodeToPathsMap.set(S.id,[b])}}}),this.pathRegistry=o,{nodes:Array.from(u.values()),registry:o}}getQuestionNumberForNode(t,n,r){return r.filter(l=>l.type==="question").sort((l,a)=>l.id.localeCompare(a.id)).findIndex(l=>l.id===t)+1}getAnswerNumberForNode(t,n,r){return r.filter(l=>l.type==="answer").sort((l,a)=>l.id.localeCompare(a.id)).findIndex(l=>l.id===t)+1}getOutcomeNumberForNode(t,n,r){return r.filter(l=>l.type==="outcome").sort((l,a)=>l.id.localeCompare(a.id)).findIndex(l=>l.id===t)+1}getNextQuestionNumber(t,n){if(t===null&&n){const s=`Q-${n}`,i=this.counters.get(s)||0;return this.counters.set(s,i+1),i+1}const r="Q-NEXT",o=this.counters.get(r)||0;return this.counters.set(r,o+1),o+1}getNextAnswerNumber(t){const n="A-NEXT",r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}getNextOutcomeNumber(t){const n="E-NEXT",r=this.counters.get(n)||0;return this.counters.set(n,r+1),r+1}reset(){this.counters.clear(),this.pathRegistry={nodeToPathsMap:new Map,pathToNodeMap:new Map}}getRegistry(){return this.pathRegistry}getDisplayLabel(t,n){const r=this.parsePathId(t),o=[];switch(r.segments.forEach(s=>{s.type==="Q"&&o.push(s.number)}),n){case"question":return`Q${o.join(".")}`;case"answer":const s=r.segments.filter(i=>i.type==="A").pop();return`A${(s==null?void 0:s.number)||"?"}`;case"outcome":return`Outcome ${this.getPathLevel(t)}`;default:return t}}calculatePathScore(t,n){const r=this.parsePathIdWithVariants(t);let o=0,s=r.topic;for(let i=0;i<r.segments.length;i++){const l=r.segments[i];if(l.type==="Q")s+=`-Q${l.number}`;else if(l.type==="A")s+=`-A${l.number}`;else if(l.type==="V"&&l.number!==void 0){s+=`-V${l.number}`;const a=s.substring(0,s.lastIndexOf("-V")),u=this.getNodeForPath(a);if(u){const f=n.find(d=>d.id===u);if(f&&f.data.variants){const d=l.number-1,p=f.data.variants[d];p&&(o+=p.score||0)}}}else if(l.type==="VC"&&l.numbers){const a=`V${l.numbers.join("+V")}`;s+=`-${a}`;const u=s.substring(0,s.lastIndexOf("-V")),f=this.getNodeForPath(u);if(f){const d=n.find(p=>p.id===f);d&&d.data.variants&&l.numbers.forEach(p=>{const h=d.data.variants[p];h&&(o+=h.score||0)})}}else l.type==="E"&&l.number!==void 0&&(s+=`-E${l.number}`)}return o}getHumanReadablePath(t,n){const r=this.parsePathIdWithVariants(t),o=[];let s="";return r.segments.forEach((i,l)=>{if(i.type==="Q"&&i.number!==void 0){s=l===0?`${r.topic}-Q${i.number}`:s+`-Q${i.number}`;const a=this.getNodeForPath(s),u=n.find(f=>f.id===a);u&&o.push(`Q${i.number}: ${u.data.questionText||"Question"}`)}else if(i.type==="A"&&i.number!==void 0)s+=`-A${i.number}`,o.push(`Answer ${i.number}`);else if(i.type==="V"&&i.number!==void 0){const a=s;s+=`-V${i.number}`;const u=this.getNodeForPath(a),f=n.find(d=>d.id===u);if(f&&f.data.variants){const d=f.data.variants[i.number-1];d&&o.push(`→ "${d.text}"`)}}else if(i.type==="VC"&&i.numbers){const a=s,u=`V${i.numbers.join("+V")}`;s+=`-${u}`;const f=this.getNodeForPath(a),d=n.find(p=>p.id===f);if(d&&d.data.variants){const p=i.numbers.map(h=>{var N;return(N=d.data.variants[h])==null?void 0:N.text}).filter(Boolean);p.length>0&&o.push(`→ [${p.join(" + ")}]`)}}else i.type==="E"&&i.number!==void 0&&(s+=`-E${i.number}`,o.push(`Outcome ${i.number}`))}),o.join(" ")}printPathStructure(t){console.log("=== Path Structure Debug ==="),t.forEach(n=>{n.data.pathIds?(console.log(`Node ${n.id} (${n.type}):`),console.log(`  Primary: ${n.data.pathId||n.data.primaryPathId}`),console.log(`  All paths: ${n.data.pathIds.join(", ")}`)):n.data.pathId&&console.log(`Node ${n.id} (${n.type}): ${n.data.pathId}`)}),console.log("=== Counters ==="),this.counters.forEach((n,r)=>{console.log(`${r}: ${n}`)})}};vs(Wn,"instance");let ut=Wn;const be=DE()(XE((e,t)=>({nodes:[],edges:[],selectedNodeId:null,focusNodeId:null,pathDisplaysFolded:!1,combinationSectionsFolded:!1,history:[{nodes:[],edges:[]}],historyIndex:0,addNode:n=>{t().saveToHistory(),e(r=>{r.nodes.push(n)})},updateNode:(n,r)=>e(o=>{const s=o.nodes.findIndex(i=>i.id===n);s!==-1&&(o.nodes[s].data={...o.nodes[s].data,...r})}),updateNodePosition:(n,r)=>e(o=>{const s=o.nodes.findIndex(i=>i.id===n);s!==-1&&(o.nodes[s].position=r)}),deleteNode:n=>{t().saveToHistory(),e(r=>{r.nodes=r.nodes.filter(s=>s.id!==n);const o=r.edges.filter(s=>s.source===n||s.target===n);r.edges=r.edges.filter(s=>s.source!==n&&s.target!==n),r.selectedNodeId===n&&(r.selectedNodeId=null),o.length>0&&console.log(`Cleaned up ${o.length} edges for deleted node ${n}`)})},addEdge:n=>{t().saveToHistory(),e(r=>{var s;if(!r.edges.some(i=>i.source===n.source&&i.target===n.target&&i.sourceHandle===n.sourceHandle&&i.targetHandle===n.targetHandle)){r.edges.push(n);const i=r.nodes.find(a=>a.id===n.target),l=r.nodes.find(a=>a.id===n.source);if(i&&i.type==="outcome"&&l){const a=r.nodes.findIndex(u=>u.id===n.target);if(a!==-1){const u=ut.getInstance(),f=((s=l.data)==null?void 0:s.pathId)||"PATH",d=u.getOutcomeNumberForNode(n.target,f,r.nodes),p=`${f}-E${d}`;r.nodes[a].data={...r.nodes[a].data,pathId:p},console.log(`Updated outcome node path ID to: ${p}`)}}}})},deleteEdge:n=>{t().saveToHistory(),e(r=>{r.edges=r.edges.filter(o=>o.id!==n)})},setNodes:n=>e(r=>{r.nodes=n}),setEdges:n=>e(r=>{r.edges=n}),setSelectedNodeId:n=>e(r=>{r.selectedNodeId=n}),focusOnNode:n=>{e({focusNodeId:n})},clearFocusNode:()=>{e({focusNodeId:null})},togglePathDisplays:()=>{e(n=>({pathDisplaysFolded:!n.pathDisplaysFolded}))},toggleCombinationSections:()=>{e(n=>({combinationSectionsFolded:!n.combinationSectionsFolded}))},toggleAllMeta:()=>{e(n=>{const r=!n.pathDisplaysFolded||!n.combinationSectionsFolded;return{pathDisplaysFolded:r,combinationSectionsFolded:r}})},canUndo:()=>t().historyIndex>0,canRedo:()=>{const n=t();return n.historyIndex<n.history.length-1},cleanupDuplicateEdges:()=>e(n=>{const r=[],o=new Set;n.edges.forEach(i=>{const l=`${i.source}-${i.target}-${i.sourceHandle||""}-${i.targetHandle||""}`;o.has(l)||(o.add(l),r.push(i))});const s=n.edges.length-r.length;n.edges=r,s>0&&console.log(`Removed ${s} duplicate edges`)}),recalculateFlowIds:(n,r)=>e(o=>{var p;const s=ut.getInstance(),i=o.nodes.find(h=>h.id===n);if(!i||!((p=i.data)!=null&&p.isRoot)){console.log(`Root node ${n} not found or is not a root node`);return}const l=new Set,a=[n];for(l.add(n);a.length>0;){const h=a.shift();o.edges.filter(v=>v.source===h).forEach(v=>{l.has(v.target)||(l.add(v.target),a.push(v.target))})}const u=o.nodes.filter(h=>l.has(h.id)),f=o.edges.filter(h=>l.has(h.source)&&l.has(h.target));console.log(`Recalculating ${u.length} nodes for root "${n}" with topic "${r}"`);const d=s.recalculatePathIds(u,f,r);d.nodes.forEach(h=>{const N=o.nodes.findIndex(v=>v.id===h.id);N!==-1&&(o.nodes[N]=h)}),console.log(`Recalculated path IDs for topic: ${r} (${d.nodes.length} nodes updated)`)}),propagateTopicOnConnection:(n,r)=>e(o=>{var f,d;const s=o.nodes.find(p=>p.id===n),i=o.nodes.find(p=>p.id===r);if(!s||!i)return;if((f=i.data)!=null&&f.isRoot){console.log(`Target node ${r} is a root node - preserving its dedicated topic "${i.data.topic}"`);return}const l=(p,h=new Set)=>{var _,m,g;if(h.has(p))return null;h.add(p);const N=o.nodes.find(y=>y.id===p);if(!N)return null;if((_=N.data)!=null&&_.topic&&((m=N.data)!=null&&m.isRoot)||(g=N.data)!=null&&g.topic)return N.data.topic;const v=o.edges.find(y=>y.target===p);return v?l(v.source,h):null},a=l(n),u=l(r);if(u&&a&&u!==a){console.log(`Cross-topic connection: ${a} -> ${u} (preserving target topic)`);return}if(a&&(!((d=i.data)!=null&&d.topic)||i.data.topic!==a)){const p=o.nodes.findIndex(h=>h.id===r);p!==-1&&(o.nodes[p].data={...o.nodes[p].data,topic:a},console.log(`Propagated topic "${a}" to node ${r}`))}}),propagatePathIdOnConnection:(n,r,o)=>e(s=>{var p,h,N,v,_,m,g,y,x,S,P,$;const i=s.nodes.find(I=>I.id===n),l=s.nodes.find(I=>I.id===r);if(!i||!l)return;const a=ut.getInstance();let u=[];if(((p=i.data)==null?void 0:p.answerType)==="multiple"&&(o!=null&&o.startsWith("variant-"))){const I=(h=i.data)==null?void 0:h.pathId;if(I&&!I.startsWith("ORPHAN-")){const F=`V${parseInt(o.replace("variant-",""))+1}`,B=`${I}-${F}`;u=[B],console.log(`Generated variant path for Multiple answer: ${B} from base ${I}`)}else{console.log(`Source node ${n} has invalid base path for Multiple variant connection`);return}}else if(((N=i.data)==null?void 0:N.answerType)==="combinations"&&(o!=null&&o.startsWith("combination-"))){const I=(v=i.data)==null?void 0:v.pathId;if(I&&!I.startsWith("ORPHAN-")){const b=o.replace("combination-",""),B=(((_=i.data)==null?void 0:_.combinations)||[]).find(U=>U.id===b);if(B&&B.variantIndices){const U=B.variantIndices.map(w=>`V${w}`).join("+"),A=`${I}-${U}`;u=[A],console.log(`Generated combination path for Combinations answer: ${A} from base ${I}`)}else{console.log(`Could not find combination data for ${b}`);return}}else{console.log(`Source node ${n} has invalid base path for Combinations connection`);return}}else u=((m=i.data)==null?void 0:m.pathIds)||[(g=i.data)==null?void 0:g.pathId].filter(Boolean);if(u.length===0){console.log(`Source node ${n} has no valid path IDs for propagation`);return}const f=[];u.forEach(I=>{let b;if(l.type==="question"){const F=a.getQuestionNumberForNode(r,I,s.nodes);b=`${I}-Q${F}`}else if(l.type==="answer"){const F=a.getAnswerNumberForNode(r,I,s.nodes);b=`${I}-A${F}`}else if(l.type==="outcome"){const F=a.getOutcomeNumberForNode(r,I,s.nodes);b=`${I}-E${F}`}else b=`${I}-NODE`;f.push(b)});const d=s.nodes.findIndex(I=>I.id===r);if(d!==-1){const b=[...((y=s.nodes[d].data)==null?void 0:y.pathIds)||[(x=s.nodes[d].data)==null?void 0:x.pathId].filter(Boolean)];f.forEach(U=>{b.includes(U)||b.push(U)}),s.nodes[d].data={...s.nodes[d].data,pathId:b[0]||((S=s.nodes[d].data)==null?void 0:S.pathId),pathIds:b},console.log(`Updated ${l.type} node ${r} with ${f.length} new path IDs via handle "${o}". Total paths: ${b.length}`),console.log(`All path IDs for node ${r}:`,b);const F=(P=i.data)==null?void 0:P.topic,B=($=l.data)==null?void 0:$.topic;F&&B&&F!==B&&console.log(`Cross-topic connection detected: ${F} -> ${B} for node ${r}`)}}),createLinkedQuestion:(n,r)=>e(o=>{var y,x,S,P,$,I,b;const s=o.nodes.find(F=>F.id===n);if(!s)return;const i=ut.getInstance(),l=i.getNextQuestionNumber(((y=s.data)==null?void 0:y.pathId)||null),a=((x=s.data)==null?void 0:x.topic)||"NEW-TOPIC",u=(S=s.data)!=null&&S.pathId?{nodeId:s.id,pathId:s.data.pathId,parentPathId:null,level:((P=s.data)==null?void 0:P.questionLevel)||1,topic:a}:null,f=i.generateQuestionPathId(u,l,a),d=`q-${Date.now()}`,p={id:d,type:"question",position:r,data:{pathId:f,topic:a,questionText:"New Question",questionLevel:((($=s.data)==null?void 0:$.questionLevel)||1)+1,elementId:"NEW",subElementId:"NEW"}},h=i.getNextAnswerNumber(f),N={nodeId:d,pathId:f,parentPathId:((I=s.data)==null?void 0:I.pathId)||null,level:(((b=s.data)==null?void 0:b.questionLevel)||1)+1,topic:a},v=i.generateAnswerPathId(N,h),_=`a-${Date.now()}`,m={id:_,type:"answer",position:{x:r.x,y:r.y+120},data:{pathId:v,answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}},g={id:i.generateEdgeId(d,_),source:d,target:_,animated:!0};o.nodes.push(p,m),o.edges.push(g)}),importFromExcel:n=>e(r=>{r.nodes=n.nodes,r.edges=n.edges}),additiveImport:(n,r)=>e(o=>{o.nodes.push(...n),o.edges.push(...r)}),exportToFormat:n=>{const{nodes:r,edges:o}=t();return n==="json"?{nodes:r,edges:o}:null},clearFlow:()=>e(n=>{n.nodes=[],n.edges=[],n.selectedNodeId=null,n.focusNodeId=null,n.history=[{nodes:[],edges:[]}],n.historyIndex=0,ut.getInstance().reset()}),saveToHistory:()=>e(n=>{const r={nodes:JSON.parse(JSON.stringify(n.nodes)),edges:JSON.parse(JSON.stringify(n.edges))};n.history=n.history.slice(0,n.historyIndex+1),n.history.push(r),n.historyIndex=n.history.length-1,n.history.length>50&&(n.history.shift(),n.historyIndex=n.history.length-1)}),undo:()=>e(n=>{if(n.historyIndex>0){n.historyIndex--;const r=n.history[n.historyIndex];n.nodes=JSON.parse(JSON.stringify(r.nodes)),n.edges=JSON.parse(JSON.stringify(r.edges)),console.log("Undo: Restored state from history index",n.historyIndex)}}),redo:()=>e(n=>{if(n.historyIndex<n.history.length-1){n.historyIndex++;const r=n.history[n.historyIndex];n.nodes=JSON.parse(JSON.stringify(r.nodes)),n.edges=JSON.parse(JSON.stringify(r.edges)),console.log("Redo: Restored state from history index",n.historyIndex)}}),propagatePathToAll:()=>{t().saveToHistory(),e(n=>{const r=n.nodes.filter(s=>{var i,l;return((i=s.data)==null?void 0:i.isRoot)&&((l=s.data)==null?void 0:l.topic)});if(r.length===0){console.log("No root nodes with topics found");return}console.log(`Found ${r.length} root nodes with topics`);const o=ut.getInstance();if(o.reset(),r.length===1){const s=r[0].data.topic;console.log(`Recalculating path IDs for single topic "${s}"`);const i=o.recalculatePathIds(n.nodes,n.edges,s);n.nodes=i.nodes,console.log(`Recalculated path IDs for topic "${s}"`)}else{console.log("Multiple root nodes detected - processing each root separately while preserving cross-connections");const s=new Map;n.nodes.forEach(i=>{s.set(i.id,new Set)}),r.forEach(i=>{const l=i.data.topic;console.log(`Processing root "${i.id}" with topic "${l}"`);const a=new Set,u=[i.id];for(a.add(i.id);u.length>0;){const h=u.shift();n.edges.filter(v=>v.source===h).forEach(v=>{a.has(v.target)||(a.add(v.target),u.push(v.target))})}const f=n.nodes.filter(h=>a.has(h.id)),d=n.edges.filter(h=>a.has(h.source)&&a.has(h.target));console.log(`Root "${i.id}" has ${f.length} connected nodes`),o.recalculatePathIds(f,d,l).nodes.forEach(h=>{var _,m;const N=s.get(h.id)||new Set;(((_=h.data)==null?void 0:_.pathIds)||[(m=h.data)==null?void 0:m.pathId].filter(Boolean)).forEach(g=>{g&&N.add(g)}),s.set(h.id,N)})}),n.nodes.forEach((i,l)=>{var u,f,d,p,h;const a=Array.from(s.get(i.id)||new Set);if(a.length>0)n.nodes[l]={...i,data:{...i.data,pathId:a[0],pathIds:a,topic:((u=i.data)==null?void 0:u.topic)||(a.length>1?"CROSS-CONNECTED":(d=(f=r[0])==null?void 0:f.data)==null?void 0:d.topic)}},console.log(`Node ${i.id} updated with ${a.length} path IDs:`,a);else{const N=((p=i.data)==null?void 0:p.topic)||"ORPHAN",v=`${N}-${(h=i.type)==null?void 0:h.toUpperCase()}-${i.id}`;n.nodes[l]={...i,data:{...i.data,pathId:v,pathIds:[v],topic:N}},console.log(`Orphaned node ${i.id} assigned path ID: ${v}`)}}),console.log(`Processed ${r.length} roots with cross-connection support`)}console.log("Path ID propagation completed - all nodes now have updated path IDs")})}}))),Zg=["shift","alt","meta","mod","ctrl","control"],GE={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function bn(e){return(GE[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function Jg(e){return Zg.includes(e)}function aa(e,t=","){return e.toLowerCase().split(t)}function ua(e,t="+",n=">",r=!1,o){let s=[],i=!1;e.includes(n)?(i=!0,s=e.toLocaleLowerCase().split(n).map(u=>bn(u))):s=e.toLocaleLowerCase().split(t).map(u=>bn(u));const l={alt:s.includes("alt"),ctrl:s.includes("ctrl")||s.includes("control"),shift:s.includes("shift"),meta:s.includes("meta"),mod:s.includes("mod"),useKey:r},a=s.filter(u=>!Zg.includes(u));return{...l,keys:a,description:o,isSequence:i}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&e0([bn(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&t0([bn(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{qt.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{qt.clear()},0)}));const qt=new Set;function Lc(e){return Array.isArray(e)}function ZE(e,t=","){return(Lc(e)?e:e.split(t)).every(n=>qt.has(n.trim().toLowerCase()))}function e0(e){const t=Array.isArray(e)?e:[e];qt.has("meta")&&qt.forEach(n=>!Jg(n)&&qt.delete(n.toLowerCase())),t.forEach(n=>qt.add(n.toLowerCase()))}function t0(e){const t=Array.isArray(e)?e:[e];e==="meta"?qt.clear():t.forEach(n=>qt.delete(n.toLowerCase()))}function JE(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function ek(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function tk(e){return n0(e,["input","textarea","select"])}function n0(e,t=!1){const{target:n,composed:r}=e;let o;return nk(n)&&r?o=e.composedPath()[0]&&e.composedPath()[0].tagName:o=n&&n.tagName,Lc(t)?!!(o&&t&&t.some(s=>s.toLowerCase()===o.toLowerCase())):!!(o&&t&&t)}function nk(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function rk(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(n=>t.includes(n))||e.includes("*"):!0}const ok=(e,t,n=!1)=>{const{alt:r,meta:o,mod:s,shift:i,ctrl:l,keys:a,useKey:u}=t,{code:f,key:d,ctrlKey:p,metaKey:h,shiftKey:N,altKey:v}=e,_=bn(f);if(u&&(a==null?void 0:a.length)===1&&a.includes(d))return!0;if(!(a!=null&&a.includes(_))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(_))return!1;if(!n){if(r!==v&&_!=="alt"||i!==N&&_!=="shift")return!1;if(s){if(!h&&!p)return!1}else if(o!==h&&_!=="meta"&&_!=="os"||l!==p&&_!=="ctrl"&&_!=="control")return!1}return a&&a.length===1&&a.includes(_)?!0:a?ZE(a):!a},sk=M.createContext(void 0),ik=()=>M.useContext(sk);function r0(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((n,r)=>n&&r0(e[r],t[r]),!0):e===t}const lk=M.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),ak=()=>M.useContext(lk);function uk(e){const t=M.useRef(void 0);return r0(t.current,e)||(t.current=e),t.current}const Kf=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},ck=typeof window<"u"?M.useLayoutEffect:M.useEffect;function No(e,t,n,r){const o=M.useRef(null),s=M.useRef(!1),i=n instanceof Array?r instanceof Array?void 0:r:n,l=Lc(e)?e.join(i==null?void 0:i.delimiter):e,a=n instanceof Array?n:r instanceof Array?r:void 0,u=M.useCallback(t,a??[]),f=M.useRef(u);a?f.current=u:f.current=t;const d=uk(i),{activeScopes:p}=ak(),h=ik();return ck(()=>{if((d==null?void 0:d.enabled)===!1||!rk(p,d==null?void 0:d.scopes))return;let N=[],v;const _=(x,S=!1)=>{var P;if(!(tk(x)&&!n0(x,d==null?void 0:d.enableOnFormTags))){if(o.current!==null){const $=o.current.getRootNode();if(($ instanceof Document||$ instanceof ShadowRoot)&&$.activeElement!==o.current&&!o.current.contains($.activeElement)){Kf(x);return}}(P=x.target)!=null&&P.isContentEditable&&!(d!=null&&d.enableOnContentEditable)||aa(l,d==null?void 0:d.delimiter).forEach($=>{var I,b,F,B;if($.includes((d==null?void 0:d.splitKey)??"+")&&$.includes((d==null?void 0:d.sequenceSplitKey)??">")){console.warn(`Hotkey ${$} contains both ${(d==null?void 0:d.splitKey)??"+"} and ${(d==null?void 0:d.sequenceSplitKey)??">"} which is not supported.`);return}const U=ua($,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description);if(U.isSequence){v=setTimeout(()=>{N=[]},(d==null?void 0:d.sequenceTimeoutMs)??1e3);const A=U.useKey?x.key:bn(x.code);if(Jg(A.toLowerCase()))return;N.push(A);const w=(I=U.keys)==null?void 0:I[N.length-1];if(A!==w){N=[],v&&clearTimeout(v);return}N.length===((b=U.keys)==null?void 0:b.length)&&(f.current(x,U),v&&clearTimeout(v),N=[])}else if(ok(x,U,d==null?void 0:d.ignoreModifiers)||(F=U.keys)!=null&&F.includes("*")){if((B=d==null?void 0:d.ignoreEventWhen)!=null&&B.call(d,x)||S&&s.current)return;if(JE(x,U,d==null?void 0:d.preventDefault),!ek(x,U,d==null?void 0:d.enabled)){Kf(x);return}f.current(x,U),S||(s.current=!0)}})}},m=x=>{x.code!==void 0&&(e0(bn(x.code)),((d==null?void 0:d.keydown)===void 0&&(d==null?void 0:d.keyup)!==!0||d!=null&&d.keydown)&&_(x))},g=x=>{x.code!==void 0&&(t0(bn(x.code)),s.current=!1,d!=null&&d.keyup&&_(x,!0))},y=o.current||(i==null?void 0:i.document)||document;return y.addEventListener("keyup",g,i==null?void 0:i.eventListenerOptions),y.addEventListener("keydown",m,i==null?void 0:i.eventListenerOptions),h&&aa(l,d==null?void 0:d.delimiter).forEach(x=>h.addHotkey(ua(x,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description))),()=>{y.removeEventListener("keyup",g,i==null?void 0:i.eventListenerOptions),y.removeEventListener("keydown",m,i==null?void 0:i.eventListenerOptions),h&&aa(l,d==null?void 0:d.delimiter).forEach(x=>h.removeHotkey(ua(x,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description))),N=[],v&&clearTimeout(v)}},[l,d,p]),o}function dk(){const{selectedNodeId:e,createLinkedQuestion:t,deleteNode:n,undo:r,redo:o}=be();No("tab",s=>{if(s.preventDefault(),e){const i=be.getState().nodes.find(l=>l.id===e);if(i){const l={x:i.position.x+300,y:i.position.y};t(e,l)}}}),No("delete, backspace",()=>{e&&n(e)}),No("ctrl+z, cmd+z",s=>{s.preventDefault(),r()}),No("ctrl+y, cmd+shift+z",s=>{s.preventDefault(),o()}),No("escape",()=>{be.getState().setSelectedNodeId(null)})}/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o0=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=M.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...l},a)=>M.createElement("svg",{ref:a,...pk,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:o0("lucide",o),...l},[...i.map(([u,f])=>M.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(e,t)=>{const n=M.forwardRef(({className:r,...o},s)=>M.createElement(hk,{ref:s,iconNode:t,className:o0(`lucide-${fk(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=ce("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=ce("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=ce("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=ce("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=ce("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=ce("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=ce("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=ce("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=ce("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=ce("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=ce("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=ce("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=ce("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function jk({id:e,data:t,selected:n}){const{setSelectedNodeId:r,updateNode:o,recalculateFlowIds:s,propagateTopicOnConnection:i,propagatePathIdOnConnection:l,focusOnNode:a,edges:u,pathDisplaysFolded:f}=be(),[d,p]=M.useState(null),h=d!==null?d:f,N=()=>{r(e)},v=x=>{const S=x.target;if(S.tagName==="INPUT"||S.tagName==="TEXTAREA"||S.closest("input")||S.closest("textarea"))return;const P=u.find($=>$.source===e);P&&a(P.target)},_=x=>{o(e,{questionText:x.target.value})},m=x=>{const S=x.target.value;o(e,{topic:S}),t.isRoot&&s(e,S)},g=x=>{x.stopPropagation()},y=()=>{const{nodes:x,addNode:S,addEdge:P,edges:$}=be.getState();if($.find(A=>A.source===e)){console.log("This question already has a connection. Only one outgoing connection is allowed.");return}const b=x.find(A=>A.id===e);if(!b)return;const F=`answer-${Date.now()}`,B={id:F,type:"answer",position:{x:b.position.x+150,y:b.position.y+150},data:{pathId:"path-id-will-be-generated",pathIds:[],answerType:"single",topic:t.topic,variants:[{id:`var-${Date.now()}`,text:"Answer option",score:0}]}};S(B);const U={id:`edge-${e}-${F}`,source:e,target:F,sourceHandle:null,targetHandle:null,animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};P(U),i(e,F),l(e,F)};return c.jsxs("div",{className:`
        bg-white rounded-lg shadow-lg border-2 p-4 min-w-[280px] max-w-[350px]
        ${n?"border-blue-500 shadow-xl ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer
      `,onClick:N,onDoubleClick:v,children:[c.jsx(_t,{type:"target",position:J.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),c.jsx("span",{className:"text-xs font-semibold text-blue-600",children:t.isRoot?"Root Question":"Question"})]}),c.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:["Level ",t.questionLevel]})]}),c.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathIds&&t.pathIds.length>1?c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-100 px-1 py-0.5 rounded",onClick:x=>{x.stopPropagation(),p(!h)},children:[c.jsxs("div",{className:"font-semibold text-gray-600",children:["Paths (",t.pathIds.length,"):"]}),h?c.jsx(gn,{size:12}):c.jsx(mn,{size:12})]}),!h&&c.jsx("div",{className:"space-y-1",children:t.pathIds.map((x,S)=>c.jsx("div",{className:"text-xs pl-2",children:x},S))})]}):c.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-100 px-1 py-0.5 rounded",onClick:x=>{x.stopPropagation(),p(!h)},children:[c.jsx("div",{className:"truncate",children:h?"Path: ...":t.pathId}),h?c.jsx(gn,{size:12}):c.jsx(mn,{size:12})]})}),t.isRoot&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Topic"}),c.jsx("div",{onClick:g,onMouseDown:g,children:c.jsx("input",{type:"text",value:t.topic||"",onChange:m,className:"w-full p-2 border border-gray-200 rounded text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter topic...",onFocus:g,onKeyDown:g})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Question"}),c.jsx("div",{onClick:g,onMouseDown:g,children:c.jsx("textarea",{value:t.questionText,onChange:_,className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm bg-gray-50 hover:bg-white transition-colors",rows:3,placeholder:"Enter your question here...",onFocus:g,onKeyDown:g})})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[c.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:t.elementId}),c.jsx("span",{className:"text-gray-400",children:"|"}),c.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:t.subElementId})]})]}),c.jsx(_t,{type:"source",position:J.Bottom,className:"w-3 h-3 bg-green-500 border-2 border-white cursor-pointer hover:bg-green-600 transition-colors",style:{background:"#22c55e"},onClick:x=>{x.stopPropagation(),y()}})]})}function Ik({id:e,data:t,selected:n}){var R;const{setSelectedNodeId:r,updateNode:o,nodes:s,edges:i,addNode:l,addEdge:a,propagateTopicOnConnection:u,focusOnNode:f,pathDisplaysFolded:d,combinationSectionsFolded:p}=be(),[h,N]=M.useState(t.answerType||"single"),[v,_]=M.useState(null),[m,g]=M.useState(null),y=v!==null?v:d,x=m!==null?m:p;M.useEffect(()=>{N(t.answerType||"single")},[t.answerType]);const S=()=>{r(e)},P=k=>{if(h!=="single")return;const L=k.target;if(L.tagName==="INPUT"||L.tagName==="TEXTAREA"||L.closest("input")||L.closest("textarea")||L.closest("button"))return;const D=i.find(H=>H.source===e&&H.sourceHandle==="default");D&&f(D.target)},$=(k,L)=>{if(h!=="multiple")return;const D=L.target;if(D.tagName==="INPUT"||D.tagName==="TEXTAREA"||D.closest("input")||D.closest("textarea")||D.closest("button"))return;const H=`variant-${k}`,W=i.find(Q=>Q.source===e&&Q.sourceHandle===H);W&&f(W.target)},I=(k,L)=>{if(h!=="combinations")return;const D=L.target;if(D.tagName==="INPUT"||D.tagName==="TEXTAREA"||D.closest("input")||D.closest("textarea")||D.closest("button"))return;const H=`combination-${k}`,W=i.find(Q=>Q.source===e&&Q.sourceHandle===H);W&&f(W.target)},b=k=>{const{edges:L}=be.getState();if(L.find(Y=>Y.source===e&&Y.sourceHandle===(k||"default"))){console.log("This answer variant already has a connection. Only one connection per variant is allowed.");return}const H=s.find(Y=>Y.id===e);if(!H)return;let W=t.topic;if(!W){const Y=te=>{var K;const re=s.find(ne=>ne.id===te);if(!re)return"Topic";if((K=re.data)!=null&&K.topic)return re.data.topic;const ae=be.getState().edges.find(ne=>ne.target===te);return ae?Y(ae.source):"Topic"};W=Y(e)}const Q=`question-${Date.now()}`,ee={id:Q,type:"question",position:{x:k==="default"?H.position.x:H.position.x+200,y:H.position.y+200},data:{pathId:"path-id-will-be-generated",topic:W,isRoot:!1,questionText:"",questionLevel:2,elementId:"E01",subElementId:"SE01"}};l(ee);const X={id:`edge-${e}-${Q}`,source:e,target:Q,sourceHandle:k||"default",targetHandle:null,animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};a(X),u(e,Q)},F=()=>{const k={id:`var-${Date.now()}`,text:"New Answer",score:0},L=t.variants||[];o(e,{variants:[...L,k]})},B=(k,L)=>{const H=(t.variants||[]).map(W=>W.id===k?{...W,...L}:W);o(e,{variants:H})},U=k=>{const L=t.variants||[];if(L.length>1){const D=L.filter(H=>H.id!==k);o(e,{variants:D})}},A=k=>{const L=[],D=k.length;for(let H=1;H<Math.pow(2,D);H++){const W=[],Q=[];for(let X=0;X<D;X++)H&1<<X&&(W.push(X+1),Q.push(k[X].text||`Answer ${X+1}`));const ee={id:`combo-${H}`,variantIndices:W,pathId:`combination-${W.join("-")}`,label:Q.join(" + ")};L.push(ee)}return L},w=()=>{if(h!=="combinations")return[];const k=t.variants||[];return k.length<2?[]:t.combinations||A(k)},z=()=>w().filter(L=>{const D=`combination-${L.id}`;return i.some(H=>H.source===e&&H.sourceHandle===D)}),j=()=>w().filter(L=>{const D=`combination-${L.id}`;return!i.some(H=>H.source===e&&H.sourceHandle===D)}),O=k=>{if(console.log("Creating linked question for combination:",k),i.find(X=>X.source===e&&X.sourceHandle===`combination-${k}`)){console.log("This combination already has a connection. Only one connection per combination is allowed.");return}const D=s.find(X=>X.id===e);if(!D)return;let H=t.topic;if(!H){const X=Y=>{var ae;const te=s.find(K=>K.id===Y);if(!te)return"Topic";if((ae=te.data)!=null&&ae.topic)return te.data.topic;const re=be.getState().edges.find(K=>K.target===Y);return re?X(re.source):"Topic"};H=X(e)}const W=`question-${Date.now()}`,Q={id:W,type:"question",position:{x:D.position.x+200,y:D.position.y+200},data:{pathId:"path-id-will-be-generated",topic:H,isRoot:!1,questionText:"",questionLevel:2,elementId:"E01",subElementId:"SE01"}};l(Q);const ee={id:`edge-${e}-${W}`,source:e,target:W,sourceHandle:`combination-${k}`,targetHandle:null,animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};a(ee),u(e,W)},C=k=>{N(k),o(e,{answerType:k});const{edges:L,deleteEdge:D,nodes:H,updateNode:W}=be.getState(),Q=L.filter(ee=>ee.source===e);console.log(`Switching to ${k} mode: removing ${Q.length} outgoing edges and cleaning up pathIDs`),Q.forEach(ee=>{var Y,te;const X=H.find(re=>re.id===ee.target);if(X){const re=((Y=X.data)==null?void 0:Y.pathIds)||[(te=X.data)==null?void 0:te.pathId].filter(Boolean),ae=t.pathId;if(ae){const K=re.filter(ne=>!ne.startsWith(ae));W(ee.target,{pathId:K.length>0?K[0]:void 0,pathIds:K.length>0?K:[]}),console.log(`Cleaned pathIDs for target node ${ee.target}: removed paths starting with ${ae}`)}}}),Q.forEach(ee=>D(ee.id))},E=k=>{k.stopPropagation()},T=t.variants||[];return c.jsxs("div",{className:`
        bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg shadow-lg border-2 p-4 w-[350px]
        ${n?"border-purple-500 shadow-xl ring-2 ring-purple-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer relative
      `,onClick:S,onDoubleClick:P,children:[c.jsx(_t,{type:"target",position:J.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),c.jsx("span",{className:"text-xs font-semibold text-purple-600",children:"Answer"})]}),t.answerLevel&&c.jsxs("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:["Level ",t.answerLevel]}),c.jsxs("div",{className:"flex items-center space-x-2 text-xs",onClick:E,onMouseDown:E,children:[c.jsxs("label",{className:"flex items-center cursor-pointer",children:[c.jsx("input",{type:"radio",value:"single",checked:h==="single",onChange:k=>C(k.target.value),className:"mr-1"}),"Single"]}),c.jsxs("label",{className:"flex items-center cursor-pointer",children:[c.jsx("input",{type:"radio",value:"multiple",checked:h==="multiple",onChange:k=>C(k.target.value),className:"mr-1"}),"Multiple"]}),c.jsxs("label",{className:"flex items-center cursor-pointer",children:[c.jsx("input",{type:"radio",value:"combinations",checked:h==="combinations",onChange:k=>C(k.target.value),className:"mr-1"}),"Combinations"]})]})]}),c.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathIds&&t.pathIds.length>0?t.pathIds.length>1?c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-100 px-1 py-0.5 rounded",onClick:k=>{k.stopPropagation(),_(!y)},children:[c.jsxs("div",{className:"font-semibold text-gray-600",children:["Paths (",t.pathIds.length,"):"]}),y?c.jsx(gn,{size:12}):c.jsx(mn,{size:12})]}),!y&&c.jsx("div",{className:"space-y-1",children:t.pathIds.map((k,L)=>c.jsx("div",{className:"text-xs pl-2",children:k},L))})]}):c.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-100 px-1 py-0.5 rounded",onClick:k=>{k.stopPropagation(),_(!y)},children:[c.jsx("div",{className:"truncate",children:y?"Path: ...":t.pathIds[0]}),y?c.jsx(gn,{size:12}):c.jsx(mn,{size:12})]}):c.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-100 px-1 py-0.5 rounded",onClick:k=>{k.stopPropagation(),_(!y)},children:[c.jsx("div",{className:"truncate",children:y?"Path: ...":t.pathId||"No path"}),y?c.jsx(gn,{size:12}):c.jsx(mn,{size:12})]})}),c.jsx("div",{className:`text-xs rounded px-2 py-1 text-center font-medium ${h==="single"?"bg-blue-50 text-blue-600":h==="multiple"?"bg-green-50 text-green-600":"bg-yellow-50 text-yellow-600"}`,children:h==="single"?"↓ Single path (bottom)":h==="multiple"?"→ Multiple paths (variants)":"→ Combinations (variants)"}),c.jsx("div",{className:"space-y-2",children:T.map((k,L)=>{var W;const D=`variant-${L}`,H=(W=t.orphanedVariants)==null?void 0:W.includes(D);return c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:`flex items-center space-x-2 bg-white rounded-lg p-3 shadow-sm border ${h==="multiple"?"border-green-200 hover:border-green-300":"border-gray-100"} ${H?"ring-1 ring-orange-400 border-orange-300":""} transition-colors`,onClick:E,onMouseDown:E,onDoubleClick:Q=>$(L,Q),children:[c.jsx("input",{type:"text",value:k.text,onChange:Q=>B(k.id,{text:Q.target.value}),className:"flex-1 text-sm bg-transparent focus:outline-none",placeholder:"Answer text...",onFocus:E,onKeyDown:E}),c.jsx("input",{type:"number",value:k.score,onChange:Q=>B(k.id,{score:Number(Q.target.value)}),className:"w-12 text-xs text-center bg-gray-50 rounded px-1 py-1 focus:outline-none focus:bg-white border border-gray-200 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [-moz-appearance:textfield]",placeholder:"0",title:"Score",min:"-999",max:"999",onFocus:E,onKeyDown:E,onWheel:Q=>{Q.currentTarget.blur(),Q.stopPropagation()},onClick:E,onMouseDown:E}),T.length>1&&c.jsx("button",{onClick:Q=>{Q.stopPropagation(),U(k.id)},className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:c.jsx(d0,{size:12})})]}),h==="multiple"&&c.jsx(_t,{type:"source",position:J.Right,id:`variant-${L}`,style:{top:"50%",right:"-5px",transform:"translateY(-50%)",background:H?"#fb923c":"#22c55e",width:"10px",height:"10px",zIndex:10,cursor:"pointer"},className:"border-2 border-white hover:scale-125 transition-transform",onClick:Q=>{Q.stopPropagation(),b(`variant-${L}`)}})]},k.id)})}),h==="combinations"&&T.length>1&&c.jsx("div",{className:"space-y-3 border-t pt-3",children:c.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-yellow-100 px-2 py-1 rounded",onClick:k=>{k.stopPropagation(),g(!x)},children:[c.jsx("div",{className:"text-xs text-yellow-700",children:"All combinations are active. Connect them to questions:"}),x?c.jsx(gn,{size:12}):c.jsx(mn,{size:12})]}),!x&&c.jsx("div",{className:"space-y-2",children:w().map(k=>{const L=j().some(H=>H.id===k.id),D=z().some(H=>H.id===k.id);return c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:`flex items-center space-x-2 bg-white rounded-lg p-2 shadow-sm border transition-colors ${D?"border-green-300 bg-green-50":L?"border-orange-300 bg-orange-50":"border-gray-200"}`,onClick:E,onMouseDown:E,onDoubleClick:H=>I(k.id,H),children:[c.jsx("div",{className:"flex-1",children:c.jsx("div",{className:"text-xs font-normal text-gray-700",children:k.label})}),c.jsxs("div",{className:"flex items-center space-x-1",children:[D&&c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:"Connected"}),L&&c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-orange-100 text-orange-800",children:"Orphaned"})]}),c.jsx("div",{className:"flex space-x-1",children:k.variantIndices.map(H=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:H},H))})]}),c.jsx(_t,{type:"source",position:J.Right,id:`combination-${k.id}`,style:{top:"50%",right:"-5px",transform:"translateY(-50%)",background:L?"#fb923c":"#f59e0b",width:"10px",height:"10px",zIndex:10,cursor:"pointer"},className:"border-2 border-white hover:scale-125 transition-transform",onClick:H=>{H.stopPropagation(),O(k.id)}})]},k.id)})})]})}),c.jsxs("button",{onClick:k=>{k.stopPropagation(),F()},className:"w-full flex items-center justify-center space-x-2 p-2 border-2 border-dashed border-purple-300 rounded-lg text-sm text-purple-600 hover:border-purple-500 hover:bg-purple-50 transition-colors font-medium",children:[c.jsx(Sk,{size:14}),c.jsx("span",{children:"Add Answer"})]})]}),h==="single"&&c.jsx(_t,{type:"source",position:J.Bottom,id:"default",className:"w-3 h-3 border-2 border-white cursor-pointer hover:scale-125 transition-transform",style:{background:(R=t.orphanedVariants)!=null&&R.includes("default")?"#fb923c":"#22c55e"},onClick:k=>{k.stopPropagation(),b("default")}})]})}function Pk({id:e,data:t,selected:n}){const{setSelectedNodeId:r,updateNode:o,pathDisplaysFolded:s}=be(),[i,l]=M.useState(null),a=i!==null?i:s,u=()=>{r(e)},f=p=>{o(e,{recommendation:p.target.value})},d=p=>{p.stopPropagation()};return c.jsxs("div",{className:`
        bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg shadow-lg border-2 p-4 min-w-[280px] max-w-[350px]
        ${n?"border-green-500 shadow-xl ring-2 ring-green-200":"border-gray-200 hover:border-gray-300"}
        ${t.isOrphaned?"ring-2 ring-orange-400 border-orange-300":""}
        ${t.isParent||t.isChild||t.isSelected?"ring-2 ring-green-400 border-green-300":""}
        transition-all duration-200 hover:shadow-xl cursor-pointer
      `,onClick:u,children:[c.jsx(_t,{type:"target",position:J.Top,className:"w-3 h-3 bg-gray-400 border-2 border-white",style:{background:"#9ca3af"}}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-xs font-semibold text-green-600",children:"Outcome"})]}),c.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Final"})]}),c.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded",children:t.pathIds&&t.pathIds.length>1?c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-100 px-1 py-0.5 rounded",onClick:p=>{p.stopPropagation(),l(!a)},children:[c.jsxs("div",{className:"font-semibold text-gray-600",children:["Paths (",t.pathIds.length,"):"]}),a?c.jsx(gn,{size:12}):c.jsx(mn,{size:12})]}),!a&&c.jsx("div",{className:"space-y-1",children:t.pathIds.map((p,h)=>c.jsx("div",{className:"text-xs pl-2",children:p},h))})]}):c.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-100 px-1 py-0.5 rounded",onClick:p=>{p.stopPropagation(),l(!a)},children:[c.jsx("div",{className:"truncate",children:a?"Path: ...":t.pathId}),a?c.jsx(gn,{size:12}):c.jsx(mn,{size:12})]})}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Recommendation"}),c.jsx("div",{onClick:d,onMouseDown:d,children:c.jsx("textarea",{value:t.recommendation||"",onChange:f,className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm bg-gray-50 hover:bg-white transition-colors",rows:4,placeholder:"Enter recommendation text...",onFocus:d,onKeyDown:d})})]}),c.jsx("div",{className:"text-xs rounded px-2 py-1 text-center font-medium bg-green-50 text-green-600 border border-green-200",children:"🎯 Final Outcome"})]})]})}const Tk={question:jk,answer:Ik,outcome:Pk},$k={animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};function Mk({shouldAutoOrganize:e=!1,onAutoOrganizeComplete:t}){const{nodes:n,edges:r,addEdge:o,updateNodePosition:s,deleteEdge:i,propagateTopicOnConnection:l,propagatePathIdOnConnection:a,selectedNodeId:u,setNodes:f,focusNodeId:d,clearFocusNode:p}=be(),[h,N,v]=lE(n),[_,m,g]=aE(r),y=ml(),x=V.useRef(!1),S=V.useRef(null);dk(),V.useEffect(()=>{if(d&&y){const A=h.find(w=>w.id===d);A&&(y.fitView({nodes:[A],padding:.3,maxZoom:1.2,minZoom:.5,duration:800}),setTimeout(()=>{p()},100))}},[d,h,y,p]),V.useEffect(()=>{const{cleanupDuplicateEdges:A}=be.getState();A()},[]),V.useEffect(()=>{N(A=>{if(x.current)return console.log("Bulk update detected - using store positions directly"),n;if(A.length===0)return n;const z=(()=>{const k=new Set,L=new Set;return r.forEach(D=>{k.add(D.target),L.add(D.source)}),n.filter(D=>{var Q;if(D.type==="question"&&((Q=D.data)!=null&&Q.isRoot))return!L.has(D.id);if(D.type==="outcome")return!k.has(D.id);const H=k.has(D.id),W=L.has(D.id);return!H||!W}).map(D=>D.id)})(),O=(()=>{const k=new Map;return n.forEach(L=>{var D;if(L.type==="answer"&&((D=L.data)!=null&&D.variants)){const H=L.data.variants,W=L.data.answerType||"single",Q=[];W==="multiple"&&H.forEach((ee,X)=>{const Y=`variant-${X}`;r.some(re=>re.source===L.id&&re.sourceHandle===Y)||Q.push(Y)}),W==="single"&&(r.some(X=>X.source===L.id&&X.sourceHandle==="default")||Q.push("default")),Q.length>0&&k.set(L.id,Q)}}),k})(),C=k=>{if(!k)return{parents:[],children:[]};const L=r.filter(H=>H.target===k).map(H=>H.source),D=r.filter(H=>H.source===k).map(H=>H.target);return{parents:L,children:D}},{parents:E,children:T}=C(u),R=new Map;return A.forEach(k=>{R.set(k.id,k.position)}),n.map(k=>{const L=R.get(k.id);return{...k,position:L||k.position,data:{...k.data,isOrphaned:z.includes(k.id),isParent:E.includes(k.id),isChild:T.includes(k.id),isSelected:u===k.id,orphanedVariants:O.get(k.id)||[]}}})})},[n,r,N,u]),V.useEffect(()=>{const A=r.map(w=>{let z="#9ca3af",j={stroke:z,strokeWidth:2};return u&&(w.source===u||w.target===u)&&(z="#2563eb",j={stroke:z,strokeWidth:2,filter:"drop-shadow(0 0 16px #2563ebcc)",opacity:1}),{...w,style:{...w.style,...j}}});m(A)},[r,m,u]);const P=M.useCallback(A=>{if(!A.source||!A.target)return;console.log("Creating edge:",A);const w=n.find(E=>E.id===A.source),z=n.find(E=>E.id===A.target);if(!w||!z){console.log("Source or target node not found");return}if(w.type==="answer"&&z.type!=="question"&&z.type!=="outcome"){console.log("Answer nodes can only connect to Question nodes or Outcome nodes");return}if(w.type==="question"&&z.type!=="answer"){console.log("Question nodes can only connect to Answer nodes");return}if(w.type==="answer"&&r.find(T=>T.source===A.source&&T.sourceHandle===A.sourceHandle)){console.log("Answer variant already has a connection. Only one connection per variant is allowed.");return}if(w.type==="question"&&r.find(T=>T.source===A.source)){console.log("Question node already has a connection. Only one outgoing connection is allowed.");return}if(((E,T)=>{if(E===T)return!0;const R=new Set,k=[T];for(;k.length>0;){const L=k.pop();if(R.has(L))continue;if(R.add(L),L===E)return!0;r.filter(H=>H.source===L).forEach(H=>{R.has(H.target)||k.push(H.target)})}return!1})(A.source,A.target)){console.log("Connection would create a loop, preventing connection");return}const O=ut.getInstance(),C={...A,source:A.source,target:A.target,id:O.generateEdgeId(A.source,A.target,A.sourceHandle||void 0),animated:!0,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:2}};console.log("Generated edge:",C),o(C),l(A.source,A.target),a(A.source,A.target,A.sourceHandle||void 0)},[o,r,l,a,n]),$=M.useCallback((A,w)=>{be.getState().setSelectedNodeId(w.id)},[]),I=M.useCallback(()=>{be.getState().setSelectedNodeId(null)},[]),b=M.useCallback(A=>{if(v(A),x.current){console.log("Skipping position sync during bulk update");return}A.forEach(w=>{w.type==="position"&&w.position&&s&&s(w.id,w.position)})},[v,s]),F=M.useCallback(A=>{g(A),A.forEach(w=>{w.type==="remove"&&w.id&&(console.log("Edge deleted:",w.id),i(w.id))})},[g,i]);V.useEffect(()=>(window.flowCanvasSetBulkUpdate=()=>{console.log("Setting bulk update flag"),x.current=!0,S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{console.log("Resetting bulk update flag"),x.current=!1,S.current=null},500)},()=>{S.current&&clearTimeout(S.current),delete window.flowCanvasSetBulkUpdate}),[]),M.useEffect(()=>{if(e&&y&&n.length>0){console.log("Auto-organizing nodes...");const A=setTimeout(()=>{B(),setTimeout(()=>{y.fitView({padding:.2,maxZoom:.8,minZoom:.1,duration:1e3}),t==null||t()},500)},1e3);return()=>clearTimeout(A)}},[e,y,n.length,t]);const B=()=>{if(console.log("Organizing nodes..."),n.length<2){console.log("Not enough nodes to organize");return}const A=400,w=420,z=150,j=150,O=4,C=new Map,E=new Map,T=new Map;n.forEach(Y=>{C.set(Y.id,[]),T.set(Y.id,0)}),r.forEach(Y=>{const te=C.get(Y.source)||[];te.push(Y.target),C.set(Y.source,te),E.set(Y.target,Y.source);const re=T.get(Y.target)||0;T.set(Y.target,re+1)});const R=n.filter(Y=>(T.get(Y.id)||0)===0);R.length===0&&n.length>0&&R.push(n[0]);const k=new Map,L=new Map,D=new Set;let H=0;const W=[];for(R.forEach(Y=>{W.push({node:Y,level:0}),k.set(Y.id,0)});W.length>0;){const{node:Y,level:te}=W.shift();if(D.has(Y.id))continue;D.add(Y.id),H=Math.max(H,te);const re=L.get(te)||[];re.push(Y),L.set(te,re),(C.get(Y.id)||[]).forEach(K=>{const ne=n.find(de=>de.id===K);ne&&!D.has(K)&&(W.push({node:ne,level:te+1}),k.set(K,te+1))})}const Q=[];for(let Y=0;Y<=H;Y++){const te=L.get(Y)||[];Q.push(...te)}const ee=n.filter(Y=>!D.has(Y.id));Q.push(...ee);const X=Q.map((Y,te)=>{const re=Math.floor(te/O),ae=te%O,K=Math.min(Q.length,O),de=(Math.min(Q.length-re*O,O)-1)*A,ie=(K-1)*A,Se={x:z+(ie-de)/2+ae*A,y:j+re*w};return{...Y,position:Se}});window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),setTimeout(()=>{f(X),console.log("Organization complete!")},50)},U=M.useCallback((A,w)=>{y&&y.setCenter(w.x,w.y,{zoom:y.getZoom()})},[y]);return c.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-50 to-gray-100",children:c.jsxs(Lg,{nodes:h,edges:_,onNodesChange:b,onEdgesChange:F,onConnect:P,onNodeClick:$,onPaneClick:I,nodeTypes:Tk,connectionMode:In.Loose,defaultEdgeOptions:$k,className:"bg-transparent",nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,selectNodesOnDrag:!1,panOnDrag:!0,panOnScroll:!0,panOnScrollSpeed:.5,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!1,preventScrolling:!1,panActivationKeyCode:null,children:[c.jsx(TE,{variant:ht.Dots,gap:16,size:1,color:"#e5e7eb"}),c.jsx(_E,{className:"bg-white shadow-lg rounded-lg border border-gray-200"}),c.jsx(xE,{className:"bg-white shadow-lg rounded-lg border border-gray-200",nodeColor:A=>{var w;if((w=A.data)!=null&&w.isOrphaned)return"#fb923c";switch(A.type){case"question":return"#2563eb";case"answer":return"#8b5cf6";case"outcome":return"#22c55e";default:return"#9ca3af"}},maskColor:"rgba(255, 255, 255, 0.8)",pannable:!0,zoomable:!0,onClick:U}),c.jsx(fl,{position:"top-right",className:"bg-white/95 backdrop-blur shadow-lg rounded-lg p-4 m-4 border border-gray-200",children:c.jsxs("div",{className:"text-sm space-y-1",children:[c.jsx("div",{className:"font-semibold text-gray-700 mb-2",children:"Flow Stats"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),c.jsxs("span",{children:["Questions: ",h.filter(A=>A.type==="question").length]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),c.jsxs("span",{children:["Answers: ",h.filter(A=>A.type==="answer").length]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsxs("span",{children:["Outcomes: ",h.filter(A=>A.type==="outcome").length]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),c.jsxs("span",{children:["Connections: ",_.length]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),c.jsxs("span",{children:["Orphaned: ",h.filter(A=>{var w;return(w=A.data)==null?void 0:w.isOrphaned}).length]})]})]})})]})})}class bu{generateCombinationsForNode(t){const n=[],r=t.length;for(let o=1;o<Math.pow(2,r);o++){const s=[],i=[];for(let a=0;a<r;a++)o&1<<a&&(s.push(a+1),i.push(t[a].text||`Variant ${a+1}`));const l={id:`combo-${o}`,variantIndices:s,pathId:`PATH-V${s.join("+V")}`,label:i.join(" + ")};n.push(l)}return n}exportToJson(t,n){const r=t.filter(p=>p.type==="question"),o=t.filter(p=>p.type==="answer"),s=t.filter(p=>p.type==="outcome"),i=r.find(p=>p.data.isRoot),a={topic:(i==null?void 0:i.data.topic)||"UNTITLED",version:"1.0.0",createdAt:new Date().toISOString(),totalQuestions:r.length},u={};r.forEach(p=>{u[p.id]={id:p.id,type:"question",pathId:p.data.pathId,pathIds:p.data.pathIds&&p.data.pathIds.length>1?p.data.pathIds:void 0,content:p.data.questionText,level:p.data.questionLevel,position:p.position,topic:p.data.topic}}),o.forEach(p=>{var h,N;u[p.id]={id:p.id,type:"answer",pathId:p.data.pathId,pathIds:p.data.pathIds&&p.data.pathIds.length>1?p.data.pathIds:void 0,content:`${((h=p.data.variants)==null?void 0:h.length)||0} variants`,level:0,position:p.position,topic:p.data.topic,answerType:p.data.answerType,variants:(N=p.data.variants)==null?void 0:N.map(v=>({id:v.id,text:v.text,score:v.score,allowsInput:v.allowsInput,inputValidation:v.inputValidation})),combinations:p.data.answerType==="combinations"?this.generateCombinationsForNode(p.data.variants||[]):void 0,combinationRules:p.data.combinationRules}}),s.forEach(p=>{u[p.id]={id:p.id,type:"outcome",pathId:p.data.pathId,pathIds:p.data.pathIds&&p.data.pathIds.length>1?p.data.pathIds:void 0,content:p.data.recommendation||"No recommendation provided",level:0,position:p.position,topic:p.data.topic,recommendation:p.data.recommendation}});const f={},d={};return n.forEach(p=>{const h=t.find(v=>v.id===p.source),N=t.find(v=>v.id===p.target);!h||!N||(f[p.source]||(f[p.source]={}),p.sourceHandle&&p.sourceHandle.startsWith("variant-")?(f[p.source].variants||(f[p.source].variants={}),f[p.source].variants[p.sourceHandle]=N.data.pathId):p.sourceHandle&&p.sourceHandle.startsWith("combination-")?(f[p.source].combinations||(f[p.source].combinations={}),f[p.source].combinations[p.sourceHandle]=N.data.pathId):f[p.source].default=N.data.pathId)}),o.forEach(p=>{(p.data.answerType==="multiple"||p.data.answerType==="combinations")&&p.data.combinationRules&&(d[p.id]=p.data.combinationRules.map((h,N)=>({condition:h.selectedVariants,nextNode:h.nextNode,priority:N+1})))}),{metadata:a,nodes:u,navigation:f,multipleChoiceRules:d}}exportToExcel(t){const n=this.convertToCSV(t);return new Blob([n],{type:"text/csv"})}convertToCSV(t){const r=[["Path ID","All Path IDs","Clean Path ID","Type","Content","Level","Variants","Scores","Next Path"]];return Object.values(t.nodes).forEach(o=>{var s,i;o.type==="question"?r.push([o.pathId,o.pathIds?o.pathIds.join(" | "):o.pathId,this.cleanPathId(o.pathId),"Question",o.content,o.level.toString(),"","",((s=t.navigation[o.id])==null?void 0:s.default)||""]):o.type==="answer"?((i=o.variants)==null||i.forEach((l,a)=>{var f,d;const u=((d=(f=t.navigation[o.id])==null?void 0:f.variants)==null?void 0:d[`variant-${a}`])||"";r.push([o.pathId,o.pathIds?o.pathIds.join(" | "):o.pathId,this.cleanPathId(o.pathId),"Answer",l.text,"0",l.text,l.score.toString(),u])}),o.answerType==="combinations"&&o.combinations&&o.combinations.forEach(l=>{var u,f;const a=((f=(u=t.navigation[o.id])==null?void 0:u.combinations)==null?void 0:f[`combination-${l.id}`])||"";r.push([o.pathId,o.pathIds?o.pathIds.join(" | "):o.pathId,this.cleanPathId(o.pathId),"Combination",l.label,"0",l.label,l.variantIndices.map(d=>{var p,h;return((h=(p=o.variants)==null?void 0:p[d])==null?void 0:h.score)||0}).reduce((d,p)=>d+p,0).toString(),a])})):o.type==="outcome"&&r.push([o.pathId,o.pathIds?o.pathIds.join(" | "):o.pathId,this.cleanPathId(o.pathId),"Outcome",o.recommendation||"No recommendation","0","","",""])}),r.map(o=>o.map(s=>`"${s.replace(/"/g,'""')}"`).join(",")).join(`
`)}cleanPathId(t){const n=t.split("-");return n.length<=2?t:n.slice(1).join("-")}importFromJson(t){const n=[],r=[];return Object.values(t.nodes).forEach((o,s)=>{const i=o.position||{x:200+s%3*400,y:200+Math.floor(s/3)*300};o.type==="question"?n.push({id:o.id,type:"question",position:i,data:{pathId:o.pathId,pathIds:o.pathIds||[o.pathId],topic:o.topic||"IMPORTED",isRoot:o.level===1,questionText:o.content,questionLevel:o.level,elementId:"IMPORTED",subElementId:"IMPORTED"}}):o.type==="answer"?n.push({id:o.id,type:"answer",position:i,data:{pathId:o.pathId,pathIds:o.pathIds||[o.pathId],answerType:o.answerType||"single",variants:o.variants||[],combinations:o.combinations,combinationRules:o.combinationRules,topic:o.topic||"IMPORTED"}}):o.type==="outcome"&&n.push({id:o.id,type:"outcome",position:i,data:{pathId:o.pathId,pathIds:o.pathIds||[o.pathId],recommendation:o.recommendation||"No recommendation provided",topic:o.topic||"IMPORTED"}})}),Object.entries(t.navigation).forEach(([o,s])=>{if(s.default){const i=n.find(l=>l.data.pathId===s.default);i&&r.push({id:`edge-${o}-${i.id}`,source:o,target:i.id,sourceHandle:"default",animated:!0})}s.variants&&Object.entries(s.variants).forEach(([i,l])=>{const a=n.find(u=>u.data.pathId===l);a&&r.push({id:`edge-${o}-${a.id}-${i}`,source:o,target:a.id,sourceHandle:i,animated:!0})}),s.combinations&&Object.entries(s.combinations).forEach(([i,l])=>{const a=n.find(u=>u.data.pathId===l);a&&r.push({id:`edge-${o}-${a.id}-${i}`,source:o,target:a.id,sourceHandle:i,animated:!0})})}),{nodes:n,edges:r}}testCombinationExportImport(){var r,o;console.log("Testing combination export/import functionality...");const t=[{id:"test-answer-1",type:"answer",position:{x:100,y:100},data:{pathId:"Test-A1",pathIds:["Test-A1"],answerType:"combinations",variants:[{id:"var1",text:"Option A",score:1},{id:"var2",text:"Option B",score:2}],topic:"Test"}},{id:"test-question-1",type:"question",position:{x:300,y:100},data:{pathId:"Test-A1-V0+V1-Q1",pathIds:["Test-A1-V0+V1-Q1"],questionText:"Test Question",questionLevel:2,topic:"Test",isRoot:!1,elementId:"E1",subElementId:"SE1"}}],n=[{id:"test-edge-1",source:"test-answer-1",target:"test-question-1",sourceHandle:"combination-combo-3",animated:!0}];try{const s=this.exportToJson(t,n);console.log("Export successful:",{hasNavigationCombinations:!!((r=s.navigation["test-answer-1"])!=null&&r.combinations),hasCombinationData:!!((o=s.nodes["test-answer-1"])!=null&&o.combinations)});const{nodes:i,edges:l}=this.importFromJson(s);return console.log("Import successful:",{nodeCount:i.length,edgeCount:l.length,hasCombinationHandle:l.some(a=>{var u;return(u=a.sourceHandle)==null?void 0:u.startsWith("combination-")})}),!0}catch(s){return console.error("Test failed:",s),!1}}}class Ak{static findAvailableSpace(t,n=400){if(t.length===0)return{x:200,y:200};const r=Math.max(...t.map(s=>s.position.x+300)),o=Math.min(...t.map(s=>s.position.y));return{x:r+n,y:o}}static generateUniqueId(t,n){let r=1,o=`${t}-imported`;for(;n.has(o);)o=`${t}-imported-${r}`,r++;return o}static adjustImportedPositions(t,n){if(t.length===0)return[];const r=Math.min(...t.map(l=>l.position.x)),o=Math.min(...t.map(l=>l.position.y)),s=n.x-r,i=n.y-o;return t.map(l=>({...l,position:{x:l.position.x+s,y:l.position.y+i}}))}static resolveConflicts(t,n,r,o){const s=[],i=new Set(t.map(d=>d.id)),l=new Set(n.map(d=>d.id)),a=new Map,u=r.map(d=>{if(i.has(d.id)){const p=this.generateUniqueId(d.id,i);return a.set(d.id,p),i.add(p),s.push({originalId:d.id,newId:p,type:"node",reason:`Node ID "${d.id}" already exists`}),{...d,id:p}}return i.add(d.id),d}),f=o.map(d=>{let p={...d};if(a.has(d.source)&&(p.source=a.get(d.source)),a.has(d.target)&&(p.target=a.get(d.target)),l.has(d.id)){const h=this.generateUniqueId(d.id,l);l.add(h),s.push({originalId:d.id,newId:h,type:"edge",reason:`Edge ID "${d.id}" already exists`}),p.id=h}else l.add(d.id);return p});return{resolvedNodes:u,resolvedEdges:f,conflicts:s}}static getTopicsFromNodes(t){const n=new Set;return t.forEach(r=>{var o;(o=r.data)!=null&&o.topic&&n.add(r.data.topic)}),Array.from(n).sort()}static performAdditiveImport(t,n,r,o){const s=this.findAvailableSpace(t),i=this.adjustImportedPositions(r,s),{resolvedNodes:l,resolvedEdges:a,conflicts:u}=this.resolveConflicts(t,n,i,o),f=[...t,...l],d=[...n,...a],p=this.getTopicsFromNodes(l),h=this.getTopicsFromNodes(f);return{nodes:f,edges:d,conflicts:u,statistics:{imported:{nodes:l.length,edges:a.length,topics:p},total:{nodes:f.length,edges:d.length,topics:h}}}}}function zk({isOpen:e,importResult:t,onAccept:n,onRevert:r,onClose:o}){if(!e||!t)return null;const{statistics:s,conflicts:i}=t;return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Xf,{className:"w-6 h-6 text-green-500"}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Import Successful"})]}),c.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(d0,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[c.jsxs("h3",{className:"text-lg font-medium text-blue-900 mb-3 flex items-center",children:[c.jsx(xk,{className:"w-5 h-5 mr-2"}),"Imported Content"]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-blue-700",children:"Nodes:"}),c.jsx("span",{className:"font-medium text-blue-900",children:s.imported.nodes})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-blue-700",children:"Connections:"}),c.jsx("span",{className:"font-medium text-blue-900",children:s.imported.edges})]}),c.jsxs("div",{className:"mt-3",children:[c.jsx("span",{className:"text-blue-700",children:"Topics:"}),c.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:s.imported.topics.map(l=>c.jsx("span",{className:"px-2 py-1 bg-blue-200 text-blue-800 text-xs rounded",children:l},l))})]})]})]}),c.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[c.jsxs("h3",{className:"text-lg font-medium text-green-900 mb-3 flex items-center",children:[c.jsx(Xf,{className:"w-5 h-5 mr-2"}),"Total Canvas"]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-green-700",children:"Nodes:"}),c.jsx("span",{className:"font-medium text-green-900",children:s.total.nodes})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-green-700",children:"Connections:"}),c.jsx("span",{className:"font-medium text-green-900",children:s.total.edges})]}),c.jsxs("div",{className:"mt-3",children:[c.jsx("span",{className:"text-green-700",children:"Topics:"}),c.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:s.total.topics.map(l=>c.jsx("span",{className:"px-2 py-1 bg-green-200 text-green-800 text-xs rounded",children:l},l))})]})]})]})]}),i.length>0&&c.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[c.jsxs("h3",{className:"text-lg font-medium text-yellow-900 mb-3 flex items-center",children:[c.jsx(bk,{className:"w-5 h-5 mr-2"}),"Conflicts Resolved (",i.length,")"]}),c.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:i.map((l,a)=>c.jsx("div",{className:"bg-yellow-100 rounded p-3 text-sm",children:c.jsx("div",{className:"flex items-start justify-between",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"font-medium text-yellow-900",children:[l.type==="node"?"Node":"Edge"," ID Conflict"]}),c.jsx("div",{className:"text-yellow-700 mt-1",children:l.reason}),c.jsxs("div",{className:"text-yellow-600 mt-1",children:[c.jsx("span",{className:"font-mono",children:l.originalId}),c.jsx("span",{className:"mx-2",children:"→"}),c.jsx("span",{className:"font-mono",children:l.newId})]})]})})},a))})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Summary"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Successfully imported ",s.imported.nodes," nodes and ",s.imported.edges," connections",i.length>0&&` with ${i.length} conflicts resolved`,". The imported content has been positioned to avoid overlap with existing nodes and is ready for use."]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t bg-gray-50",children:[c.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Revert Import"}),c.jsx("button",{onClick:n,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Accept Import"})]})]})})}function Rk({onAddNode:e,onLoadDemo:t,onClearAll:n,onSetNodes:r,nodes:o=[]}){const{setEdges:s,edges:i,nodes:l,setNodes:a,propagatePathToAll:u,toggleAllMeta:f,pathDisplaysFolded:d,combinationSectionsFolded:p}=be(),h=o.length>0?o:l,[N,v]=M.useState(!1),[_,m]=M.useState(null),[g,y]=M.useState(null),x=()=>{const O=h.map(k=>k.position);let C=200,E=200;const T=350,R=4;for(let k=0;k<h.length+1;k++){const L=k%R,D=Math.floor(k/R);if(C=200+L*T,E=200+D*T,!O.some(W=>Math.abs(W.x-C)<250&&Math.abs(W.y-E)<200))break}return{x:C,y:E}},S=()=>{const O=ut.getInstance(),C=x(),R=`TOPIC-${h.filter(H=>{var W;return(W=H.data)==null?void 0:W.isRoot}).length+1}`,k=O.getNextQuestionNumber(null,R),L=O.generateQuestionPathId(null,k,R),D={id:`q-${Date.now()}`,type:"question",position:C,data:{pathId:L,topic:R,isRoot:!0,questionText:"New Question",questionLevel:1,elementId:"NEW",subElementId:"NEW"}};O.registerNode(D.id,L),e==null||e(D)},P=()=>{const O=ut.getInstance(),C=x(),T=`STANDALONE-A${O.getNextAnswerNumber("STANDALONE")}`,R={id:`a-${Date.now()}`,type:"answer",position:C,data:{pathId:T,answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}};e==null||e(R)},$=()=>{const O=ut.getInstance(),C=x(),T=`STANDALONE-E${O.getNextOutcomeNumber("STANDALONE")}`,R={id:`o-${Date.now()}`,type:"outcome",position:C,data:{pathId:T,recommendation:"Enter your recommendation here...",topic:"General"}};e==null||e(R)},I=()=>{const O=be.getState(),E=new bu().exportToJson(h,O.edges),T=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),R=URL.createObjectURL(T),k=document.createElement("a");k.href=R,k.download=`flow-${E.metadata.topic}-${Date.now()}.json`,k.click(),URL.revokeObjectURL(R)},b=()=>{const O=document.createElement("input");O.type="file",O.accept=".json",O.onchange=C=>{var T;const E=(T=C.target.files)==null?void 0:T[0];if(E){const R=new FileReader;R.onload=k=>{var L;try{const D=JSON.parse((L=k.target)==null?void 0:L.result);let H=[],W=[];if(D.metadata&&D.nodes&&D.navigation){const X=new bu().importFromJson(D);H=X.nodes,W=X.edges}else if(D.nodes&&D.edges)H=D.nodes,W=D.edges;else{console.error("Invalid file format");return}y({nodes:[...h],edges:[...i]});const Q=Ak.performAdditiveImport(h,i,H,W);window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),r==null||r(Q.nodes),s(Q.edges),m(Q),v(!0)}catch(D){console.error("Error importing flow:",D)}},R.readAsText(E)}},O.click()},F=()=>{t==null||t()},B=()=>{n==null||n()},U=()=>{u()},A=()=>{if(console.log("Organize button clicked!"),console.log("actualNodes:",h),console.log("actualNodes.length:",h.length),h.length<2){console.log("Not enough nodes to organize");return}console.log("Organizing",h.length,"nodes");const O=400,C=420,E=150,T=150,R=4,k=new Map,L=new Map,D=new Map;h.forEach(K=>{k.set(K.id,[]),D.set(K.id,0)}),i.forEach(K=>{const ne=k.get(K.source)||[];ne.push(K.target),k.set(K.source,ne),L.set(K.target,K.source);const de=D.get(K.target)||0;D.set(K.target,de+1)}),console.log("Parent-child relationships:",{children:k,parents:L});const H=h.filter(K=>(D.get(K.id)||0)===0);H.length===0&&h.length>0&&H.push(h[0]),console.log("Root nodes:",H.map(K=>K.id));const W=new Map,Q=new Map,ee=new Set;let X=0;const Y=[];for(H.forEach(K=>{Y.push({node:K,level:0}),W.set(K.id,0)});Y.length>0;){const{node:K,level:ne}=Y.shift();if(ee.has(K.id))continue;ee.add(K.id),X=Math.max(X,ne);const de=Q.get(ne)||[];de.push(K),Q.set(ne,de),(k.get(K.id)||[]).forEach(Z=>{const Se=h.find(Ge=>Ge.id===Z);Se&&!ee.has(Z)&&(Y.push({node:Se,level:ne+1}),W.set(Z,ne+1))})}console.log("Nodes by level:",Q);const te=[];for(let K=0;K<=X;K++){const ne=Q.get(K)||[];te.push(...ne)}const re=h.filter(K=>!ee.has(K.id));te.push(...re),console.log("Ordered nodes:",te.map(K=>K.id));const ae=te.map((K,ne)=>{const de=Math.floor(ne/R),ie=ne%R,Z=Math.min(te.length,R),Ge=(Math.min(te.length-de*R,R)-1)*O,Mn=(Z-1)*O,Pt={x:E+(Mn-Ge)/2+ie*O,y:T+de*C};return console.log(`Node ${K.id} (index ${ne}): row ${de}, col ${ie} -> position ${Pt.x},${Pt.y}`),{...K,position:Pt}});console.log("Updated nodes:",ae),window.flowCanvasSetBulkUpdate?(window.flowCanvasSetBulkUpdate(),console.log("Bulk update flag set")):console.log("flowCanvasSetBulkUpdate not found on window"),setTimeout(()=>{console.log("About to call setNodes..."),a(ae),console.log("setNodes called"),r&&(console.log("Also calling onSetNodes callback..."),r(ae)),console.log("Organization complete!")},50)},w=()=>{v(!1),m(null),y(null)},z=()=>{g&&(r==null||r(g.nodes),s(g.edges),window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate()),v(!1),m(null),y(null)},j=()=>{w()};return c.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 bg-white border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsxs("button",{onClick:A,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors text-sm font-medium w-[140px] h-10",title:"Organize nodes in a hierarchical layout",children:[c.jsx(Nk,{size:16}),c.jsx("span",{children:"Organize"})]}),c.jsxs("button",{onClick:f,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors text-sm font-medium w-[140px] h-10",title:"Toggle visibility of path displays and combination sections",children:[d||p?c.jsx(l0,{size:16}):c.jsx(gk,{size:16}),c.jsx("span",{children:d||p?"Unfold Meta":"Fold Meta"})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsxs("button",{onClick:S,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[c.jsx(s0,{size:16}),c.jsx("span",{children:"Add Question"})]}),c.jsxs("button",{onClick:P,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[c.jsx(a0,{size:16}),c.jsx("span",{children:"Add Answer"})]}),c.jsxs("button",{onClick:$,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-400 text-white rounded-lg hover:bg-emerald-500 transition-colors text-sm font-medium w-[140px] h-10",children:[c.jsx(u0,{size:16}),c.jsx("span",{children:"Add Outcome"})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsxs("button",{onClick:I,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",children:[c.jsx(i0,{size:16}),c.jsx("span",{children:"Export JSON"})]}),c.jsxs("button",{onClick:b,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",children:[c.jsx(c0,{size:16}),c.jsx("span",{children:"Import JSON"})]}),c.jsxs("button",{onClick:U,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors text-sm font-medium w-[140px] h-10",title:"Propagate path IDs from root nodes to all connected nodes",children:[c.jsx(Ek,{size:16}),c.jsx("span",{children:"Propagate Path"})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsxs("button",{onClick:F,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-slate-500 text-white rounded-lg hover:bg-slate-600 transition-colors text-sm font-medium w-[140px] h-10",children:[c.jsx(mk,{size:16}),c.jsx("span",{children:"Load Demo"})]}),c.jsxs("button",{onClick:B,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm font-medium w-[140px] h-10",children:[c.jsx(_k,{size:16}),c.jsx("span",{children:"Clear All"})]})]}),c.jsx(zk,{isOpen:N,importResult:_,onAccept:w,onRevert:z,onClose:j})]})}function Dk({onEnterApp:e}){return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[c.jsxs("div",{className:"relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10"}),c.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"flex items-center justify-center mb-6",children:c.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl shadow-lg",children:c.jsx(yk,{className:"w-8 h-8 text-white"})})}),c.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Question Flow Builder"}),c.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Create interactive questionnaire flows with a powerful visual interface. Design complex decision trees, manage answer variants, and export your work seamlessly."}),c.jsxs("button",{onClick:e,className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[c.jsx(ep,{className:"w-5 h-5 mr-2"}),"Start Building",c.jsx(ca,{className:"w-5 h-5 ml-2"})]})]})})]}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Powerful Features"}),c.jsx("p",{className:"text-lg text-gray-600",children:"Everything you need to create professional questionnaire flows"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:c.jsx(wk,{className:"w-6 h-6 text-blue-600"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Visual Flow Builder"}),c.jsx("p",{className:"text-gray-600",children:"Drag and drop nodes to create complex questionnaire flows. Connect questions, answers, and outcomes with intuitive visual connections."})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-lg flex items-center justify-center mb-4",children:c.jsx(Jf,{className:"w-6 h-6 text-cyan-600"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Double-Click Navigation"}),c.jsx("p",{className:"text-gray-600",children:"Double-click any node, answer variant, or combination to instantly focus on the next connected element. Navigate your flow with ease."})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:c.jsx(vk,{className:"w-6 h-6 text-green-600"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Keyboard Shortcuts"}),c.jsx("p",{className:"text-gray-600",children:"Work efficiently with keyboard shortcuts: Tab to create nodes, Delete to remove, Cmd/Ctrl+Z for undo, and more."})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(c0,{className:"w-3 h-3 text-purple-600"}),c.jsx(i0,{className:"w-3 h-3 text-purple-600"})]})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Import & Export"}),c.jsx("p",{className:"text-gray-600",children:"Import Excel files or JSON flows. Export your work to share or backup. Seamless integration with existing workflows."})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-4",children:c.jsx(l0,{className:"w-6 h-6 text-orange-600"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Real-time Validation"}),c.jsx("p",{className:"text-gray-600",children:"Instant visual feedback for orphaned nodes, missing connections, and flow integrity issues. Orange highlights show problems."})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mb-4",children:c.jsx(Gf,{className:"w-6 h-6 text-indigo-600"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Smart Path IDs"}),c.jsx("p",{className:"text-gray-600",children:"Automatic generation of hierarchical path IDs (Q1, Q2, A1, A2, E1, E2) for questions, answers, and outcomes. All paths visible on nodes."})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mb-4",children:c.jsx(Zf,{className:"w-6 h-6 text-rose-600"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Answer Combinations"}),c.jsx("p",{className:"text-gray-600",children:"Create complex multi-select scenarios with combination logic. Generate paths like V1+V2, V1+V3 for sophisticated questionnaire flows."})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:c.jsx(Ck,{className:"w-6 h-6 text-teal-600"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Smart Path Propagation"}),c.jsx("p",{className:"text-gray-600",children:"Intelligent path propagation across all answer types. Single, Multiple, and Combinations modes all generate correct variant paths."})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center mb-4",children:c.jsx(kk,{className:"w-6 h-6 text-emerald-600"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Undo/Redo System"}),c.jsx("p",{className:"text-gray-600",children:"50-state history with standard keyboard shortcuts. Never lose your work with comprehensive undo/redo functionality."})]})]})]}),c.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-gray-50 py-16",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Demonstrations of Interactions"}),c.jsx("p",{className:"text-lg text-gray-600",children:"Here are a few things you can do"})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 group",children:[c.jsx("div",{className:"relative h-48 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg mb-4 overflow-hidden",children:c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"group-hover:animate-pulse bg-white border-2 border-blue-200 rounded-lg p-3 shadow-md mb-4 transform group-hover:scale-105 transition-transform duration-500",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),c.jsx("span",{className:"text-xs font-semibold text-blue-600",children:"Question"})]}),c.jsx("div",{className:"text-xs text-gray-700",children:"What's your level?"})]}),c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:"group-hover:animate-bounce",children:c.jsx(ca,{className:"w-4 h-4 text-blue-500 transform group-hover:translate-x-2 transition-transform duration-500"})})}),c.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 rounded-lg p-3 shadow-md transform group-hover:scale-105 group-hover:ring-2 group-hover:ring-purple-300 transition-all duration-500",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),c.jsx("span",{className:"text-xs font-semibold text-purple-600",children:"Answer"})]}),c.jsx("div",{className:"text-xs text-gray-700",children:"Beginner"})]})]})})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Double-Click Navigation"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Double-click any node to smoothly focus on the next connected element with zoom animation."})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 group",children:[c.jsx("div",{className:"relative h-48 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg mb-4 overflow-hidden",children:c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 rounded-lg p-2 shadow-md transform group-hover:scale-105 group-hover:ring-2 group-hover:ring-purple-300 transition-all duration-500",children:[c.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full"}),c.jsx("span",{className:"text-xs font-semibold text-purple-600",children:"Answer"})]}),c.jsx("div",{className:"text-xs text-gray-700",children:"Main"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 rounded-lg p-2 shadow-md transform group-hover:scale-105 group-hover:bg-green-100 group-hover:border-green-400 group-hover:ring-2 group-hover:ring-green-300 transition-all duration-700 delay-200",children:[c.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full group-hover:bg-green-500 transition-colors duration-700"}),c.jsx("span",{className:"text-xs font-semibold text-purple-600 group-hover:text-green-600 transition-colors duration-700",children:"Answer"})]}),c.jsx("div",{className:"text-xs text-gray-700",children:"Sibling 1"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 rounded-lg p-2 shadow-md transform group-hover:scale-105 group-hover:bg-green-100 group-hover:border-green-400 group-hover:ring-2 group-hover:ring-green-300 transition-all duration-700 delay-300",children:[c.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full group-hover:bg-green-500 transition-colors duration-700"}),c.jsx("span",{className:"text-xs font-semibold text-purple-600 group-hover:text-green-600 transition-colors duration-700",children:"Answer"})]}),c.jsx("div",{className:"text-xs text-gray-700",children:"Sibling 2"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 rounded-lg p-2 shadow-md transform group-hover:scale-105 group-hover:bg-green-100 group-hover:border-green-400 group-hover:ring-2 group-hover:ring-green-300 transition-all duration-700 delay-400",children:[c.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full group-hover:bg-green-500 transition-colors duration-700"}),c.jsx("span",{className:"text-xs font-semibold text-purple-600 group-hover:text-green-600 transition-colors duration-700",children:"Answer"})]}),c.jsx("div",{className:"text-xs text-gray-700",children:"Sibling 3"})]})]})})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Sibling Node Highlighting"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Single-click highlights all neighboring nodes in green for 3-5 seconds to show relationships."})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 group",children:[c.jsx("div",{className:"relative h-48 bg-gradient-to-br from-orange-50 to-red-50 rounded-lg mb-4 overflow-hidden",children:c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 rounded-lg p-3 shadow-md mb-4 transform group-hover:scale-105 transition-transform duration-500",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),c.jsx("span",{className:"text-xs font-semibold text-purple-600",children:"Answer"})]}),c.jsx("div",{className:"text-xs text-gray-700 mb-2",children:"Advanced"}),c.jsxs("div",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full group-hover:bg-green-100 group-hover:text-green-800 transition-colors duration-500",children:[c.jsx("span",{className:"group-hover:hidden",children:"Topic-Q1-A1"}),c.jsx("span",{className:"hidden group-hover:inline",children:"Topic-Q1-A1-E1"})]})]}),c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:"w-0.5 h-6 bg-gray-300 group-hover:bg-green-500 transition-colors duration-500"})}),c.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 border-2 border-orange-200 rounded-lg p-3 shadow-md transform group-hover:scale-105 group-hover:bg-gradient-to-br group-hover:from-green-50 group-hover:to-emerald-50 group-hover:border-green-400 group-hover:ring-2 group-hover:ring-green-300 transition-all duration-500",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full group-hover:bg-green-500 transition-colors duration-500"}),c.jsxs("span",{className:"text-xs font-semibold text-orange-600 group-hover:text-green-600 transition-colors duration-500",children:[c.jsx("span",{className:"group-hover:hidden",children:"Orphan"}),c.jsx("span",{className:"hidden group-hover:inline",children:"Outcome"})]})]}),c.jsx("div",{className:"text-xs text-gray-700",children:"Expert Path"})]})]})})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Orphan Node Connection"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Connecting orphan nodes turns them green and updates their path IDs automatically."})]})]})]})}),c.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 py-16",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Answer Types & Modes"}),c.jsx("p",{className:"text-lg text-gray-600",children:"Three powerful modes for different questionnaire scenarios"})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:c.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Single Mode"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Traditional single-choice questions where users select one answer from multiple options."}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[c.jsx("div",{className:"text-sm text-gray-700 mb-2",children:"Example Path IDs:"}),c.jsx("div",{className:"text-xs font-mono text-blue-600",children:"Topic-Q1-A1-E1"}),c.jsx("div",{className:"text-xs font-mono text-blue-600",children:"Topic-Q1-A2-E2"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:c.jsxs("div",{className:"flex space-x-1",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),c.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"})]})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Multiple Mode"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Multi-choice questions where each answer variant creates its own independent path."}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[c.jsx("div",{className:"text-sm text-gray-700 mb-2",children:"Example Path IDs:"}),c.jsx("div",{className:"text-xs font-mono text-purple-600",children:"Topic-Q1-A1-V1-E1"}),c.jsx("div",{className:"text-xs font-mono text-purple-600",children:"Topic-Q1-A1-V2-E2"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mb-4",children:c.jsx(Zf,{className:"w-6 h-6 text-rose-600"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Combinations Mode"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Advanced multi-select with combination logic. Each possible combination of answers creates unique paths."}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[c.jsx("div",{className:"text-sm text-gray-700 mb-2",children:"Example Path IDs:"}),c.jsx("div",{className:"text-xs font-mono text-rose-600",children:"Topic-Q1-A1-V1+V2-E1"}),c.jsx("div",{className:"text-xs font-mono text-rose-600",children:"Topic-Q1-A1-V1+V3-E2"})]})]})]})]})}),c.jsx("div",{className:"bg-white py-16",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Node Types & Visual Guide"}),c.jsx("p",{className:"text-lg text-gray-600",children:"Understanding the visual language of your flows"})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-lg p-6 shadow-lg mb-4 max-w-sm mx-auto",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[c.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),c.jsx("span",{className:"text-sm font-semibold text-blue-600",children:"Question"})]}),c.jsx("div",{className:"text-sm text-gray-700 mb-3",children:"What is your experience level?"}),c.jsxs("div",{className:"flex flex-wrap gap-1 justify-center",children:[c.jsx("div",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Topic-Q1"}),c.jsx("div",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Topic-Q2"})]})]}),c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[c.jsx(s0,{className:"w-5 h-5 inline mr-2 text-blue-500"}),"Question Nodes"]}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Blue theme • Single outgoing connection • Contains question text and level information • Shows all propagated path IDs"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 rounded-lg p-6 shadow-lg mb-4 max-w-sm mx-auto",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[c.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),c.jsx("span",{className:"text-sm font-semibold text-purple-600",children:"Answer"})]}),c.jsxs("div",{className:"space-y-2 mb-3",children:[c.jsx("div",{className:"text-xs bg-white rounded px-2 py-1 border",children:"Yes (Score: 1)"}),c.jsx("div",{className:"text-xs bg-white rounded px-2 py-1 border",children:"No (Score: 0)"})]}),c.jsxs("div",{className:"flex flex-wrap gap-1 justify-center",children:[c.jsx("div",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:"Topic-Q1-A1"}),c.jsx("div",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:"Topic-Q1-A1-V1"})]})]}),c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[c.jsx(a0,{className:"w-5 h-5 inline mr-2 text-purple-500"}),"Answer Nodes"]}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Purple theme • Three modes: Single, Multiple, Combinations • Scoring system • Shows all propagated path IDs"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-lg p-6 shadow-lg mb-4 max-w-sm mx-auto",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[c.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-sm font-semibold text-green-600",children:"Outcome"})]}),c.jsx("div",{className:"text-sm text-gray-700 mb-3",children:"You should explore visual tools..."}),c.jsxs("div",{className:"flex flex-wrap gap-1 justify-center",children:[c.jsx("div",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Topic-Q1-A1-E1"}),c.jsx("div",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Topic-Q1-A1-V1-E1"})]})]}),c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[c.jsx(u0,{className:"w-5 h-5 inline mr-2 text-green-500"}),"Outcome Nodes"]}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Green theme • End points • Contains recommendations • No outgoing connections • Shows all propagated path IDs"})]})]})]})}),c.jsx("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 py-16",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Navigation & Interaction"}),c.jsx("p",{className:"text-lg text-gray-600",children:"Intuitive ways to navigate and interact with your flows"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"w-16 h-16 bg-cyan-100 rounded-lg flex items-center justify-center mb-6 mx-auto",children:c.jsx(Jf,{className:"w-8 h-8 text-cyan-600"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4 text-center",children:"Double-Click Navigation"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Question Nodes"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Double-click to focus on the connected answer node"})]})]}),c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Answer Nodes (Single)"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Double-click to focus on the next connected node"})]})]}),c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Answer Variants (Multiple)"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Double-click individual variants to follow their path"})]})]}),c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-rose-500 rounded-full mt-2"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Combinations"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Double-click combination items to navigate their unique paths"})]})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-lg flex items-center justify-center mb-6 mx-auto",children:c.jsx(Gf,{className:"w-8 h-8 text-indigo-600"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4 text-center",children:"PathID Display System"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"All Nodes Show Multiple Paths"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Every node displays all propagated path IDs as badges, making it easy to track complex flows"})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Automatic Propagation"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Path IDs automatically propagate through the flow, updating connected nodes when changes occur"})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Smart Variant Generation"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Multiple and Combinations modes generate appropriate variant paths (V1, V2, V1+V2, etc.)"})]})]})]})]})]})}),c.jsx("div",{className:"bg-gray-50 py-16",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Visual Indicators & Alerts"}),c.jsx("p",{className:"text-lg text-gray-600",children:"Understand what the colors and effects mean"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[c.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-orange-100 rounded-lg border-2 border-orange-300 ring-2 ring-orange-400 flex items-center justify-center",children:c.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"})}),c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Orange Glow"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Orphaned nodes or variants missing connections"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[c.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-green-100 rounded-lg border-2 border-green-300 ring-2 ring-green-400 flex items-center justify-center",children:c.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})}),c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Green Glow"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Selected node and its connected parent/child nodes"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[c.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx("div",{className:"w-12 h-1 bg-blue-500 rounded shadow-lg",style:{boxShadow:"0 0 8px rgba(37, 99, 235, 0.6)"}})}),c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Blue Edges"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Connections from selected nodes with blue glow effect"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md text-center",children:[c.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gray-100 rounded-lg flex items-center justify-center",children:c.jsx("div",{className:"w-12 h-1 bg-gray-400 rounded"})}),c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Gray Edges"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Default connection lines between nodes"})]})]})]})}),c.jsx("div",{className:"bg-white py-16",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Keyboard Shortcuts"}),c.jsx("p",{className:"text-lg text-gray-600",children:"Work faster with these essential shortcuts"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Navigation & Selection"}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsx("span",{className:"text-gray-700",children:"Create linked question"}),c.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Tab"})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsx("span",{className:"text-gray-700",children:"Delete selected node"}),c.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Delete"})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsx("span",{className:"text-gray-700",children:"Deselect all"}),c.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Escape"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Undo & Redo"}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsx("span",{className:"text-gray-700",children:"Undo (Windows)"}),c.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Ctrl + Z"})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsx("span",{className:"text-gray-700",children:"Undo (Mac)"}),c.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"⌘ + Z"})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsx("span",{className:"text-gray-700",children:"Redo (Windows)"}),c.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"Ctrl + Y"})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsx("span",{className:"text-gray-700",children:"Redo (Mac)"}),c.jsx("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:"⌘ + ⇧ + Z"})]})]})]})]})}),c.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 py-16",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Build Your First Flow?"}),c.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Start with our pre-loaded example or create your own from scratch"}),c.jsxs("button",{onClick:e,className:"inline-flex items-center px-8 py-4 bg-white text-blue-600 font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[c.jsx(ep,{className:"w-5 h-5 mr-2"}),"Launch Flow Builder",c.jsx(ca,{className:"w-5 h-5 ml-2"})]})]})})]})}const Ok=[{id:"q1",type:"question",position:{x:100,y:100},data:{pathId:"TOPIC-1-Q1",topic:"TOPIC-1",isRoot:!0,questionText:"What is your experience level with React?",questionLevel:1,elementId:"TOPIC-1",subElementId:"REACT"}},{id:"a1",type:"answer",position:{x:100,y:250},data:{pathId:"TOPIC-1-Q1-A1",topic:"TOPIC-1",answerType:"single",variants:[{id:"var1",text:"Beginner",score:1},{id:"var2",text:"Intermediate",score:2},{id:"var3",text:"Advanced",score:3}]}},{id:"q2",type:"question",position:{x:450,y:100},data:{pathId:"TOPIC-1-Q1-A1-Q2",topic:"TOPIC-1",isRoot:!1,questionText:"Do you prefer TypeScript over JavaScript?",questionLevel:2,elementId:"TOPIC-1",subElementId:"TYPESCRIPT"}},{id:"a2",type:"answer",position:{x:450,y:250},data:{pathId:"TOPIC-1-Q1-A1-Q2-A1",topic:"TOPIC-1",answerType:"single",variants:[{id:"var1",text:"Yes",score:1},{id:"var2",text:"No",score:0}]}},{id:"q3",type:"question",position:{x:100,y:400},data:{pathId:"TOPIC-2-Q1",topic:"TOPIC-2",isRoot:!0,questionText:"What is your preferred development environment?",questionLevel:1,elementId:"TOPIC-2",subElementId:"DEVENV"}},{id:"a3",type:"answer",position:{x:100,y:550},data:{pathId:"TOPIC-2-Q1-A1",topic:"TOPIC-2",answerType:"multiple",variants:[{id:"var1",text:"VS Code",score:1},{id:"var2",text:"WebStorm",score:2},{id:"var3",text:"Vim/Neovim",score:3}]}},{id:"outcome1",type:"outcome",position:{x:800,y:300},data:{pathId:"CROSS-CONNECTED-E1",topic:"CROSS-CONNECTED",outcomeText:"Recommended Learning Path",outcomeType:"recommendation",score:0}}],Lk=[{id:"e1",source:"q1",target:"a1",animated:!0,type:"smoothstep"},{id:"e2",source:"a1",target:"q2",animated:!0,type:"smoothstep"},{id:"e3",source:"q2",target:"a2",animated:!0,type:"smoothstep"},{id:"e4",source:"q3",target:"a3",animated:!0,type:"smoothstep"},{id:"e5",source:"a2",target:"outcome1",animated:!0,type:"smoothstep"},{id:"e6",source:"a3",target:"outcome1",sourceHandle:"variant-0",animated:!0,type:"smoothstep"}],vr={nodes:Ok,edges:Lk};function Fk(){const[e,t]=M.useState(!0),[n,r]=M.useState(!1),o=M.useRef(!1),{nodes:s,addNode:i,setNodes:l,setEdges:a,clearFlow:u}=be(),f=M.useCallback(async()=>{try{const m=await fetch("/qnatool/flow-Topic-1752233651561.json");if(m.ok){const g=await m.json(),y=new bu,{nodes:x,edges:S}=y.importFromJson(g);window.flowCanvasSetBulkUpdate&&window.flowCanvasSetBulkUpdate(),l(x),a(S),console.log("Default flow loaded successfully")}else console.warn("Default flow not found, loading demo data instead"),l(vr.nodes),a(vr.edges)}catch(m){console.error("Error loading default flow:",m),l(vr.nodes),a(vr.edges)}t(!1),r(!0)},[l,a]),d=M.useCallback(m=>{i(m)},[i]),p=M.useCallback(()=>{r(!1),o.current=!0,console.log("Auto-organize completed")},[]),h=M.useCallback(()=>{l(vr.nodes),a(vr.edges),setTimeout(()=>{const{cleanupDuplicateEdges:m}=be.getState();m()},100)},[l,a]),N=M.useCallback(()=>{u()},[u]),v=M.useCallback(m=>{l(m)},[l]),_=M.useCallback(()=>{t(!0)},[]);return e?c.jsx(Dk,{onEnterApp:f}):c.jsxs("div",{className:"h-screen flex flex-col bg-gray-100",children:[c.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-2 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:_,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"← Back to Home"}),c.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Question Flow Builder"})]}),c.jsxs("div",{className:"text-sm text-gray-500",children:[s.length," nodes • Auto-loaded flow"]})]}),c.jsx(Rk,{onAddNode:d,onLoadDemo:h,onClearAll:N,onSetNodes:v,nodes:s}),c.jsx("div",{className:"flex-1",children:c.jsx(Rc,{children:c.jsx(Mk,{shouldAutoOrganize:n&&!o.current,onAutoOrganizeComplete:p})})})]})}da.createRoot(document.getElementById("root")).render(c.jsx(V.StrictMode,{children:c.jsx(Fk,{})}));
